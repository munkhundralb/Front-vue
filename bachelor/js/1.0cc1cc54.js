"use strict";(self["webpackChunkfront_vue"]=self["webpackChunkfront_vue"]||[]).push([[1],{1001:function(t,l,e){e.r(l),e.d(l,{default:function(){return Nt}});var a=e(3396),n=e(7139),s=e(9242),o=e(6800);const r={class:"fullheigth centered-content bg-white-section p-4"},i=(0,a._)("div",{class:"content-tittle mb-5"},[(0,a._)("h2",null,[(0,a._)("span",{class:"title"},"Элсэлтийн бүлэг")])],-1),d={class:"DatatableFilter row mb-4"},u={class:"col-md-4"},c=(0,a._)("label",{for:"inputCity",class:"form-label"},"Бүрэлдэхүүн/салбар сургууль",-1),h={class:"dropdown"},g={type:"button",class:"form-select","data-bs-toggle":"dropdown","aria-expanded":"false","data-bs-auto-close":"outside"},_={key:0},p={key:1},m={class:"dropdown-menu p-2 overflow-auto"},b={class:"form-check"},w=(0,a._)("label",{class:"form-check-label",for:"flexCheck0"}," -Бүгд- ",-1),f=(0,a._)("hr",{class:"dropdown-divider"},null,-1),k=["id","value"],y=["for"],v={key:0},D=(0,a._)("br",null,null,-1),x={class:"col-md-4"},M=(0,a._)("label",{for:"inputState",class:"form-label"},"Хайх",-1),S={class:"col-md-4"},z={class:"btn-group page-length pt-4 float-end"},P=(0,a._)("button",{type:"button",class:"btn btn-primary align-bottom","data-bs-toggle":"dropdown","aria-expanded":"false"},[(0,a._)("img",{src:o,alt:"",class:"icon"})],-1),C={class:"dropdown-menu dropdown-menu-end p-4"},N={class:"mb-3"},I=(0,a._)("label",{for:"inputState",class:"form-label"},"Харуулах мөрийн тоо",-1),U=(0,a._)("option",null,"5",-1),T=(0,a._)("option",null,"10",-1),V=(0,a._)("option",null,"25",-1),G=(0,a._)("option",null,"50",-1),H=(0,a._)("option",null,"100",-1),j=[U,T,V,G,H],q={class:"row overflow-auto"},A={id:"datatable",class:"table table-hover w-100",cellspacing:"0"},Z=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{width:"10px"},"№"),(0,a._)("th",{width:"40%"},"Элсэх хөтөлбөр"),(0,a._)("th",{width:"90px"},"Хяналтын тоо"),(0,a._)("th",{width:"40%"},"Үйлдэл")])],-1),K={key:0,class:"table-striped"},L={class:"text-center"},Y={style:{display:"none"}},E=(0,a._)("br",null,null,-1),O={class:"text-center"},W=["onClick"],$={class:"text-center"},B=["onClick"],F=["onClick"],R={class:"table table-bordeless"},J=(0,a._)("td",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Бүрэлдэхүүн/Салбар сургууль")])],-1),Q=(0,a._)("td",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Хөтөлбөр")])],-1),X={class:"table table-bordeless table-stripedmy"},tt=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"Бүсчлэл"),(0,a._)("th",null,"Хяналтын тоо")])],-1),lt={class:"text-center"},et={class:"table table-bordeless"},at=(0,a._)("td",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Бүрэлдэхүүн/Салбар сургууль: ")])],-1),nt=(0,a._)("td",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Хөтөлбөрийн нэр: ")])],-1),st=(0,a._)("td",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Хөтөлбөрийн индекс: ")])],-1),ot=(0,a._)("strong",null,"Хөтөлбөрийн тодорхойлолт: ",-1),rt=["innerHTML"],it={class:"table table-bordeless"},dt=(0,a._)("td",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Бүрэлдэхүүн/Салбар сургууль: ")])],-1),ut=(0,a._)("td",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Хөтөлбөрийн нэр: ")])],-1),ct={class:"table table-bordeless table-stripedmy"},ht=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"Суурь шалгалт"),(0,a._)("th",null,"Дагалдах шалгалт"),(0,a._)("th",null,"Онооны харьцаа (%)"),(0,a._)("th",null,"Босго оноо")])],-1),gt={key:0},_t={key:0},pt={class:"text-center"},mt={key:0},bt={key:1},wt={class:"text-center"},ft={key:0};function kt(t,l,e,o,U,T){const V=(0,a.up)("BModal");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",{class:(0,n.C_)(t.iscontainer?"container my-5":"")},[(0,a._)("div",r,[i,(0,a._)("div",d,[(0,a._)("div",u,[c,(0,a._)("div",h,[(0,a._)("button",g,[t.selectedunits.length>0&&t.selectedunits.length!=t.units.length?((0,a.wg)(),(0,a.iD)("span",_," Cонгосон ("+(0,n.zw)(t.selectedunits.length)+") ",1)):((0,a.wg)(),(0,a.iD)("span",p," -Бүгд- "))]),(0,a._)("div",m,[(0,a._)("div",b,[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"checkbox",id:"flexCheck0","onUpdate:modelValue":l[0]||(l[0]=t=>T.selectAllunits=t),value:999},null,512),[[s.e8,T.selectAllunits]]),w]),f,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.units,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e,class:"form-check"},[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"checkbox",id:"flexCheck"+e.unitName,onChange:l[1]||(l[1]=(...t)=>T.searchbyschool&&T.searchbyschool(...t)),"onUpdate:modelValue":l[2]||(l[2]=l=>t.selectedunits=l),value:e.unitId},null,40,k),[[s.e8,t.selectedunits]]),(0,a._)("label",{class:"form-check-label",for:"flexCheck"+e.unitName},[""!=e.parentUnitName?((0,a.wg)(),(0,a.iD)("small",v,[(0,a.Uk)((0,n.zw)(e.parentUnitName)+" ",1),D])):(0,a.kq)("",!0),(0,a.Uk)(" "+(0,n.zw)(e.unitName),1)],8,y)])))),128))])])]),(0,a._)("div",x,[M,(0,a.wy)((0,a._)("input",{type:"text",onKeyup:l[3]||(l[3]=(...t)=>T.searchtable&&T.searchtable(...t)),"onUpdate:modelValue":l[4]||(l[4]=l=>t.searchtxt=l),class:"form-control",placeholder:"Хөтөлбөр хайх"},null,544),[[s.nr,t.searchtxt]])]),(0,a._)("div",S,[(0,a._)("div",z,[P,(0,a._)("div",C,[(0,a._)("div",N,[I,(0,a.wy)((0,a._)("select",{id:"inputState",onChange:l[5]||(l[5]=(...t)=>T.changepagelength&&T.changepagelength(...t)),"onUpdate:modelValue":l[6]||(l[6]=l=>t.tblpage=l),class:"form-select form-select-sm"},j,544),[[s.bM,t.tblpage]])])])])])]),(0,a._)("div",q,[(0,a._)("table",A,[Z,t.tableData?((0,a.wg)(),(0,a.iD)("tbody",K,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.tableData,((t,l)=>((0,a.wg)(),(0,a.iD)("tr",{key:"row"+t.name+t.season},[(0,a._)("td",L,(0,n.zw)(Number(l)+1),1),(0,a._)("td",null,[(0,a._)("span",Y,"unitId_"+(0,n.zw)(t.unitId),1),(0,a.Uk)(" "+(0,n.zw)(t.programName)+" ",1),E,(0,a._)("small",null,(0,n.zw)(t.abbrevm),1)]),(0,a._)("td",O,[(0,a._)("span",null,(0,n.zw)(t.totalSeats),1),(0,a._)("button",{onClick:l=>T.showSeatsModal(t.programId),class:"btn-seats btn btn-light btn-sm float-end"},"?",8,W)]),(0,a._)("td",$,[(0,a._)("button",{onClick:l=>T.showProgramintroModal(t.sisiProgramId),class:"btn btn-light btn-sm"}," Дэлгэрэнгүй ",8,B),(0,a._)("button",{onClick:l=>T.showexamGroupsModal(t.programId),class:"btn btn-primary btn-sm"}," Шалгалтын бүлэг ",8,F)])])))),128))])):(0,a.kq)("",!0)])])])],2),(0,a.Wm)(V,{id:"SeatsModal",centered:"",title:"Хяналтын тоон задаргаа",onHidden:l[7]||(l[7]=l=>t.SeatsModal=!1),"ok-only":"true","ok-title":"Хаах","ok-variant":"light",modelValue:t.SeatsModal,"onUpdate:modelValue":l[8]||(l[8]=l=>t.SeatsModal=l)},{default:(0,a.w5)((()=>[(0,a._)("table",R,[(0,a._)("tr",null,[J,(0,a._)("td",null,(0,n.zw)(t.Selectedprogram.abbrevm),1)]),(0,a._)("tr",null,[Q,(0,a._)("td",null,(0,n.zw)(t.Selectedprogram.programName),1)])]),(0,a._)("table",X,[tt,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.Selectedprogram.seats,(t=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",null,(0,n.zw)(t.region),1),(0,a._)("td",lt,(0,n.zw)(t.cnt),1)])))),128))])])])),_:1},8,["modelValue"]),(0,a.Wm)(V,{id:"ProgramintroModal",size:"lg",title:"Хөтөлбөрийн дэлгэрэнгүй",onHidden:l[9]||(l[9]=l=>t.ProgramintroModal=!1),"ok-only":"true","ok-title":"Хаах","ok-variant":"light",modelValue:t.ProgramintroModal,"onUpdate:modelValue":l[10]||(l[10]=l=>t.ProgramintroModal=l)},{default:(0,a.w5)((()=>[(0,a._)("table",et,[(0,a._)("tr",null,[at,(0,a._)("td",null,[(0,a._)("p",null,(0,n.zw)(t.Selectedprogram.abbrevm),1)])]),(0,a._)("tr",null,[nt,(0,a._)("td",null,[(0,a._)("p",null,(0,n.zw)(t.Selectedprogram.programName),1)])]),(0,a._)("tr",null,[st,(0,a._)("td",null,[(0,a._)("p",null,(0,n.zw)(t.Programintro.mecsnr),1)])])]),ot,(0,a._)("div",{class:"rawhtml col-md-12",innerHTML:t.Programintro.introduction},null,8,rt)])),_:1},8,["modelValue"]),(0,a.Wm)(V,{id:"examGroupsModal",size:"lg",title:"Шалгалтын бүлэг",onHidden:l[11]||(l[11]=l=>t.examGroupsModal=!1),"ok-only":"true","ok-title":"Хаах","ok-variant":"light",modelValue:t.examGroupsModal,"onUpdate:modelValue":l[12]||(l[12]=l=>t.examGroupsModal=l)},{default:(0,a.w5)((()=>[(0,a._)("table",it,[(0,a._)("tr",null,[dt,(0,a._)("td",null,[(0,a._)("p",null,(0,n.zw)(t.Selectedprogram.abbrevm),1)])]),(0,a._)("tr",null,[ut,(0,a._)("td",null,[(0,a._)("p",null,(0,n.zw)(t.Selectedprogram.programName),1)])])]),(0,a._)("table",ct,[ht,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.Selectedprogram.examGroups,(t=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",null,[t.lessons.length>0?((0,a.wg)(),(0,a.iD)("span",gt,(0,n.zw)(t.lessons[0].lessonName),1)):(0,a.kq)("",!0)]),(0,a._)("td",null,[t.lessons.length>1?((0,a.wg)(),(0,a.iD)("span",_t,(0,n.zw)(t.lessons[1].lessonName),1)):(0,a.kq)("",!0)]),(0,a._)("td",pt,[t.lessons.length>0?((0,a.wg)(),(0,a.iD)("span",mt,(0,n.zw)(t.lessons[0].percentOfTotal),1)):(0,a.kq)("",!0),t.lessons.length>1?((0,a.wg)(),(0,a.iD)("span",bt,":"+(0,n.zw)(t.lessons[1].percentOfTotal),1)):(0,a.kq)("",!0)]),(0,a._)("td",wt,[t.lessons.length>0?((0,a.wg)(),(0,a.iD)("span",ft,(0,n.zw)(t.lessons[0].minScaledScore),1)):(0,a.kq)("",!0)])])))),128))])])])),_:1},8,["modelValue"])],64)}e(7658);var yt=e(7387),vt=e.n(yt),Dt=e(5929),xt=e(2377),Mt=e(4161),St=e(2026);Dt.Z.use(xt.Z);var zt={components:{BModal:St.Nk},data:function(){return{table:"#datatable",tableData:null,tableDataall:null,selectedunits:[],units:[],tblpage:10,datatableobj:null,searchtxt:"",categoryID:1,SeatsModal:!1,Selectedprogram:[],ProgramintroModal:!1,Programintro:[],examGroupsModal:!1,iscontainer:!0}},computed:{selectAllunits:{get:function(){return!!this.units&&this.selectedunits.length==this.units.length},set:function(t){var l=[];t&&this.units.forEach((function(t){l.push(t.unitId)})),this.selectedunits=l,this.searchbyschool()}}},mounted(){this.getcontaner(),this.getunits(),this.datatabledraw()},methods:{getcontaner(){let t=this.$route.name;this.iscontainer="elseltbuleg"==t},showSeatsModal(t){this.Selectedprogram=this.tableDataall.filter((l=>l.programId===t))[0],this.SeatsModal=!this.SeatsModal},showProgramintroModal(t){this.Selectedprogram=this.tableDataall.filter((l=>l.sisiProgramId===t))[0],Mt.Z.get("getProgramIntro?pid="+t).then((t=>{this.Programintro=t.data.result,this.ProgramintroModal=!this.ProgramintroModal})).catch((function(t){console.log("error"+t)}))},showexamGroupsModal(t){this.Selectedprogram=this.tableDataall.filter((l=>l.programId===t))[0],this.examGroupsModal=!this.examGroupsModal},searchtable(){this.datatableobj.search(this.searchtxt).draw()},searchbyschool(){let t=this.selectedunits.join("|");this.datatableobj.column(1).search(t,!0,!1).draw()},changepagelength(){this.datatableobj.page.len(this.tblpage).draw(),vt()(".dropdown-menu").removeClass("show")},datatabledraw(){let t=this;this.getData().then((function(l){t.loadData(l),t.makeTable()}))},getunits(){Mt.Z.get("getUnits").then((t=>{this.units=t.data.result})).catch((function(t){console.log("error"+t)}))},makeTable(){this.$nextTick((function(){this.datatableobj=vt()(this.table).DataTable({pageLength:this.tblpage,responsive:!0,authwidth:!0,aaSorting:[],language:{url:"//cdn.datatables.net/plug-ins/1.13.4/i18n/mn.json",search:"_INPUT_",searchPlaceholder:"Хөтөлбөр хайх",zeroRecords:"Хөтөлбөр байхгүй байна!",lengthMenu:"_MENU_",sInfo:"Нийт _TOTAL_ өгөгдлийн _START_ - _END_",paginate:{first:"First",last:"Last",next:"Дараах",previous:"Өмнөх"}},columnDefs:[{orderable:!1,targets:[0]}]})}))},async getData(){let t=this;return Mt.Z.get("getPrograms").then((function(t){return t.data})).catch((function(l){t.errors=`The API is having an issue: ${l}`}))},loadData(t){1==t.status&&(this.tableData=t.result,this.tableDataall=t.result)}}},Pt=e(89);const Ct=(0,Pt.Z)(zt,[["render",kt]]);var Nt=Ct},6800:function(t,l,e){t.exports=e.p+"img/page-settings.8acb6e1a.svg"}}]);