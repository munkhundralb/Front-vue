"use strict";(self["webpackChunkfront_vue"]=self["webpackChunkfront_vue"]||[]).push([[385],{9385:function(t,e,l){l.r(e),l.d(e,{default:function(){return Ct}});var a=l(3396),s=l(7139),n=l(9242),o=l(6800);const r={class:"centered-content bg-white-section p-4"},i=(0,a._)("div",{class:"content-tittle mb-5"},[(0,a._)("h2",null,[(0,a._)("span",{class:"title"},"Элсэлтийн бүлэг")])],-1),d={class:"DatatableFilter row mb-4"},u={class:"col-md-4"},c=(0,a._)("label",{for:"inputCity",class:"form-label"},"Бүрэлдэхүүн/салбар сургууль",-1),h={class:"dropdown"},m=(0,a._)("button",{type:"button",class:"form-select","data-bs-toggle":"dropdown","aria-expanded":"false","data-bs-auto-close":"outside"}," -Бүгд- ",-1),g={class:"dropdown-menu p-2 overflow-auto"},b={class:"form-check"},p=(0,a._)("label",{class:"form-check-label",for:"flexCheck0"}," -Бүгд- ",-1),_=["id","value"],w=["for"],f={key:0},k=(0,a._)("br",null,null,-1),y={class:"col-md-4"},v=(0,a._)("label",{for:"inputState",class:"form-label"},"Хайх",-1),x={class:"col-md-4"},D={class:"btn-group page-length pt-4 float-end"},M=(0,a._)("button",{type:"button",class:"btn btn-primary align-bottom","data-bs-toggle":"dropdown","aria-expanded":"false"},[(0,a._)("img",{src:o,alt:"",class:"icon"})],-1),S={class:"dropdown-menu dropdown-menu-end p-4"},z={class:"mb-3"},P=(0,a._)("label",{for:"inputState",class:"form-label"},"Харуулах мөрийн тоо",-1),C=(0,a._)("option",null,"5",-1),N=(0,a._)("option",null,"10",-1),U=(0,a._)("option",null,"25",-1),I=(0,a._)("option",null,"50",-1),T=(0,a._)("option",null,"100",-1),V=[C,N,U,I,T],G={class:"row overflow-auto"},H={id:"datatable",class:"table table-hover w-100",cellspacing:"0"},q=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{width:"10px"},"№"),(0,a._)("th",{width:"40%"},"Элсэх хөтөлбөр"),(0,a._)("th",{width:"90px"},"Хяналтын тоо"),(0,a._)("th",{width:"40%"},"Үйлдэл")])],-1),j={key:0,class:"table-striped"},A={class:"text-center"},Z={style:{display:"none"}},K=(0,a._)("br",null,null,-1),L={class:"text-center"},Y=["onClick"],E={class:"text-center"},O=["onClick"],W=["onClick"],$={class:"table table-bordeless"},B=(0,a._)("td",null,[(0,a._)("strong",null,"Бүрэлдэхүүн/Салбар сургууль")],-1),F=(0,a._)("td",null,[(0,a._)("strong",null,"Хөтөлбөр")],-1),R={class:"table table-bordeless table-stripedmy"},J=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"Бүсчлэл"),(0,a._)("th",null,"Хяналтын тоо")])],-1),Q={class:"text-center"},X={class:"modal-footer",style:{border:"0px"}},tt={class:"table table-bordeless"},et=(0,a._)("td",null,[(0,a._)("strong",null,"Бүрэлдэхүүн/Салбар сургууль: ")],-1),lt=(0,a._)("td",null,[(0,a._)("strong",null,"Хөтөлбөрийн нэр: ")],-1),at=(0,a._)("td",null,[(0,a._)("strong",null,"Хөтөлбөрийн индекс: ")],-1),st=(0,a._)("strong",null,"Хөтөлбөрийн тодорхойлолт: ",-1),nt=["innerHTML"],ot={class:"modal-footer",style:{border:"0px"}},rt={class:"table table-bordeless table-stripedmy"},it=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"№"),(0,a._)("th",null,"Элсэх хөтөлбөр"),(0,a._)("th",null,"Суурь шалгалт"),(0,a._)("th",null,"Дагалдах шалгалт"),(0,a._)("th",null,"Онооны харьцаа (%)"),(0,a._)("th",null,"Босго оноо")])],-1),dt=["rowspan"],ut=["rowspan"],ct=(0,a._)("br",null,null,-1),ht={key:0},mt={key:0},gt={class:"text-center"},bt={key:0},pt={key:1},_t={class:"text-center"},wt={key:0};function ft(t,e,l,o,C,N){const U=(0,a.up)("BModal");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",{class:(0,s.C_)(t.iscontainer?"container my-5":"")},[(0,a._)("div",r,[i,(0,a._)("div",d,[(0,a._)("div",u,[c,(0,a._)("div",h,[m,(0,a._)("div",g,[(0,a._)("div",b,[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"checkbox",id:"flexCheck0","onUpdate:modelValue":e[0]||(e[0]=t=>N.selectAllunits=t),value:999},null,512),[[n.e8,N.selectAllunits]]),p]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.units,(l=>((0,a.wg)(),(0,a.iD)("div",{key:l,class:"form-check"},[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"checkbox",id:"flexCheck"+l.unitName,onChange:e[1]||(e[1]=(...t)=>N.searchbyschool&&N.searchbyschool(...t)),"onUpdate:modelValue":e[2]||(e[2]=e=>t.selectedunits=e),value:l.unitId},null,40,_),[[n.e8,t.selectedunits]]),(0,a._)("label",{class:"form-check-label",for:"flexCheck"+l.unitName},[""!=l.parentUnitName?((0,a.wg)(),(0,a.iD)("small",f,[(0,a.Uk)((0,s.zw)(l.parentUnitName)+" ",1),k])):(0,a.kq)("",!0),(0,a.Uk)(" "+(0,s.zw)(l.unitName),1)],8,w)])))),128))])])]),(0,a._)("div",y,[v,(0,a.wy)((0,a._)("input",{type:"text",onKeyup:e[3]||(e[3]=(...t)=>N.searchtable&&N.searchtable(...t)),"onUpdate:modelValue":e[4]||(e[4]=e=>t.searchtxt=e),class:"form-control",placeholder:"Хөтөлбөр хайх"},null,544),[[n.nr,t.searchtxt]])]),(0,a._)("div",x,[(0,a._)("div",D,[M,(0,a._)("div",S,[(0,a._)("div",z,[P,(0,a.wy)((0,a._)("select",{id:"inputState",onChange:e[5]||(e[5]=(...t)=>N.changepagelength&&N.changepagelength(...t)),"onUpdate:modelValue":e[6]||(e[6]=e=>t.tblpage=e),class:"form-select form-select-sm"},V,544),[[n.bM,t.tblpage]])])])])])]),(0,a._)("div",G,[(0,a._)("table",H,[q,t.tableData?((0,a.wg)(),(0,a.iD)("tbody",j,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.tableData,((t,e)=>((0,a.wg)(),(0,a.iD)("tr",{key:"row"+t.name+t.season},[(0,a._)("td",A,(0,s.zw)(Number(e)+1),1),(0,a._)("td",null,[(0,a._)("span",Z,"unitId_"+(0,s.zw)(t.unitId),1),(0,a.Uk)(" "+(0,s.zw)(t.programName)+" ",1),K,(0,a._)("small",null,(0,s.zw)(t.abbrevm),1)]),(0,a._)("td",L,[(0,a._)("span",null,(0,s.zw)(t.totalSeats),1),(0,a._)("button",{onClick:e=>N.showSeatsModal(t.programId),class:"btn-seats btn btn-light btn-sm float-end"},"?",8,Y)]),(0,a._)("td",E,[(0,a._)("button",{onClick:e=>N.showProgramintroModal(t.sisiProgramId),class:"btn btn-light btn-sm"}," Дэлгэрэнгүй ",8,O),(0,a._)("button",{onClick:e=>N.showexamGroupsModal(t.programId),class:"btn btn-primary btn-sm"}," Шалгалтын бүлэг ",8,W)])])))),128))])):(0,a.kq)("",!0)])])])],2),(0,a.Wm)(U,{id:"SeatsModal",centered:"",title:"Хяналтын тоон задаргаа",onHidden:e[8]||(e[8]=e=>t.SeatsModal=!1),"hide-footer":"true",modelValue:t.SeatsModal,"onUpdate:modelValue":e[9]||(e[9]=e=>t.SeatsModal=e)},{default:(0,a.w5)((()=>[(0,a._)("table",$,[(0,a._)("tr",null,[B,(0,a._)("td",null,(0,s.zw)(t.Selectedprogram.abbrevm),1)]),(0,a._)("tr",null,[F,(0,a._)("td",null,(0,s.zw)(t.Selectedprogram.programName),1)])]),(0,a._)("table",R,[J,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.Selectedprogram.seats,(t=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",null,(0,s.zw)(t.region),1),(0,a._)("td",Q,(0,s.zw)(t.cnt),1)])))),128))])]),(0,a._)("div",X,[(0,a._)("button",{onClick:e[7]||(e[7]=e=>t.SeatsModal=!1),class:"btn btn-sm btn-light m-1"},"Хаах")])])),_:1},8,["modelValue"]),(0,a.Wm)(U,{id:"ProgramintroModal",size:"lg",title:"Хөтөлбөрийн дэлгэрэнгүй",onHidden:e[11]||(e[11]=e=>t.ProgramintroModal=!1),"hide-footer":"true",modelValue:t.ProgramintroModal,"onUpdate:modelValue":e[12]||(e[12]=e=>t.ProgramintroModal=e)},{default:(0,a.w5)((()=>[(0,a._)("table",tt,[(0,a._)("tr",null,[et,(0,a._)("td",null,(0,s.zw)(t.Selectedprogram.abbrevm),1)]),(0,a._)("tr",null,[lt,(0,a._)("td",null,(0,s.zw)(t.Selectedprogram.programName),1)]),(0,a._)("tr",null,[at,(0,a._)("td",null,(0,s.zw)(t.Programintro.mecsnr),1)])]),st,(0,a._)("div",{class:"rawhtml col-md-12",innerHTML:t.Programintro.introduction},null,8,nt),(0,a._)("div",ot,[(0,a._)("button",{onClick:e[10]||(e[10]=e=>t.ProgramintroModal=!1),class:"btn btn-sm btn-light m-1"},"Хаах")])])),_:1},8,["modelValue"]),(0,a.Wm)(U,{id:"examGroupsModal",size:"lg",title:"Шалгалтын бүлэг",onHidden:e[13]||(e[13]=e=>t.examGroupsModal=!1),"hide-footer":"true",modelValue:t.examGroupsModal,"onUpdate:modelValue":e[14]||(e[14]=e=>t.examGroupsModal=e)},{default:(0,a.w5)((()=>[(0,a._)("table",rt,[it,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.Selectedprogram.examGroups,((e,l)=>((0,a.wg)(),(0,a.iD)("tr",{key:e},[0==l?((0,a.wg)(),(0,a.iD)("td",{key:0,rowspan:t.Selectedprogram.examGroups.length},(0,s.zw)(Number(l)+1),9,dt)):(0,a.kq)("",!0),0==l?((0,a.wg)(),(0,a.iD)("td",{key:1,rowspan:t.Selectedprogram.examGroups.length},[(0,a.Uk)((0,s.zw)(t.Selectedprogram.programName)+" ",1),ct,(0,a._)("small",null,(0,s.zw)(t.Selectedprogram.abbrevm),1)],8,ut)):(0,a.kq)("",!0),(0,a._)("td",null,[e.lessons.length>0?((0,a.wg)(),(0,a.iD)("span",ht,(0,s.zw)(e.lessons[0].lessonName),1)):(0,a.kq)("",!0)]),(0,a._)("td",null,[e.lessons.length>1?((0,a.wg)(),(0,a.iD)("span",mt,(0,s.zw)(e.lessons[1].lessonName),1)):(0,a.kq)("",!0)]),(0,a._)("td",gt,[e.lessons.length>0?((0,a.wg)(),(0,a.iD)("span",bt,(0,s.zw)(e.lessons[0].percentOfTotal),1)):(0,a.kq)("",!0),e.lessons.length>1?((0,a.wg)(),(0,a.iD)("span",pt,":"+(0,s.zw)(e.lessons[1].percentOfTotal),1)):(0,a.kq)("",!0)]),(0,a._)("td",_t,[e.lessons.length>0?((0,a.wg)(),(0,a.iD)("span",wt,(0,s.zw)(e.lessons[0].minScaledScore),1)):(0,a.kq)("",!0)])])))),128))])])])),_:1},8,["modelValue"])],64)}l(7658);var kt=l(7387),yt=l.n(kt),vt=l(5929),xt=l(2377),Dt=l(4161),Mt=l(2026);vt.Z.use(xt.Z);var St={components:{BModal:Mt.Nk},data:function(){return{table:"#datatable",tableData:null,tableDataall:null,selectedunits:[],units:[],tblpage:10,datatableobj:null,searchtxt:"",categoryID:1,SeatsModal:!1,Selectedprogram:[],ProgramintroModal:!1,Programintro:[],examGroupsModal:!1,iscontainer:!0}},computed:{selectAllunits:{get:function(){return!!this.units&&this.selectedunits.length==this.units.length},set:function(t){var e=[];t&&this.units.forEach((function(t){e.push(t.unitId)})),this.selectedunits=e,this.searchbyschool()}}},mounted(){this.getcontaner(),this.getunits(),this.datatabledraw()},methods:{getcontaner(){let t=this.$route.name;this.iscontainer="elseltbuleg"==t},showSeatsModal(t){this.Selectedprogram=this.tableDataall.filter((e=>e.programId===t))[0],this.SeatsModal=!this.SeatsModal},showProgramintroModal(t){this.Selectedprogram=this.tableDataall.filter((e=>e.sisiProgramId===t))[0],Dt.Z.get("getProgramIntro?pid="+t).then((t=>{this.Programintro=t.data.result,this.ProgramintroModal=!this.ProgramintroModal})).catch((function(t){console.log("error"+t)}))},showexamGroupsModal(t){this.Selectedprogram=this.tableDataall.filter((e=>e.programId===t))[0],this.examGroupsModal=!this.examGroupsModal},searchtable(){this.datatableobj.search(this.searchtxt).draw()},searchbyschool(){let t=this.selectedunits.join("|");this.datatableobj.column(1).search(t,!0,!1).draw()},changepagelength(){this.datatableobj.page.len(this.tblpage).draw(),yt()(".dropdown-menu").removeClass("show")},datatabledraw(){let t=this;this.getData().then((function(e){t.loadData(e),t.makeTable()}))},getunits(){Dt.Z.get("getUnits").then((t=>{this.units=t.data.result})).catch((function(t){console.log("error"+t)}))},makeTable(){this.$nextTick((function(){this.datatableobj=yt()(this.table).DataTable({pageLength:this.tblpage,responsive:!0,authwidth:!0,language:{url:"//cdn.datatables.net/plug-ins/1.13.4/i18n/mn.json",search:"_INPUT_",searchPlaceholder:"Хөтөлбөр хайх",zeroRecords:"Хөтөлбөр байхгүй байна!",lengthMenu:"_MENU_",sInfo:"Нийт _TOTAL_ өгөгдлийн _START_ - _END_",paginate:{first:"First",last:"Last",next:"Дараах",previous:"Өмнөх"}},columnDefs:[{orderable:!1,targets:[0]}]})}))},async getData(){let t=this;return Dt.Z.get("getPrograms").then((function(t){return t.data})).catch((function(e){t.errors=`The API is having an issue: ${e}`}))},loadData(t){1==t.status&&(this.tableData=t.result,this.tableDataall=t.result)}}},zt=l(89);const Pt=(0,zt.Z)(St,[["render",ft]]);var Ct=Pt},6800:function(t,e,l){t.exports=l.p+"img/page-settings.8acb6e1a.svg"}}]);