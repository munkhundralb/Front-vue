"use strict";(self["webpackChunkfront_vue"]=self["webpackChunkfront_vue"]||[]).push([[773],{7773:function(e,t,s){s.r(t),s.d(t,{default:function(){return xe}});var l=s(3396),a=s(7139),n=s(9242),o=s(6096),c=s(6800);const r=e=>((0,l.dD)("data-v-e7602d08"),e=e(),(0,l.Cn)(),e),d={class:"fullheigth centered-content bg-white-section p-4"},i=(0,l.uE)('<div class="content-tittle mb-5" data-v-e7602d08><h2 data-v-e7602d08><span class="title" data-v-e7602d08>Онооны тооцоолуур</span></h2></div><div class="alert alert-primary mb-5" data-v-e7602d08><div class="alert-icon" data-v-e7602d08><img src="'+o+'" alt="" class="icon" data-v-e7602d08></div><div class="alert-content ms-5" data-v-e7602d08><p data-v-e7602d08><strong data-v-e7602d08> Санамж </strong></p><p data-v-e7602d08>Энэхүү тооцоолуур нь таамаглан оруулсан оноо бүхий хичээлүүдийн хослолоор журмын дагуу хөтөлбөрийн шаардлагыг хэрхэн хангаж буйг үзүүлэх зорилготой. </p><ol class="ms-0 m-0" data-v-e7602d08><li data-v-e7602d08> Хичээлд харгалзах ЭЕШ-ын оноог таамаглан оруулах. </li><li data-v-e7602d08> Журмын дагуу Бүртгүүлэх боломжтой хөтөлбөрийн суурь болон дагалдах шалгалтын харьцаагаар оноог хийсвэрлэн тооцоолно. </li></ol></div></div>',2),u={class:"row scorebtns"},p={class:"col-md-6 mx-auto d-grid gap-2"},b={class:"col-md-6 mx-auto d-grid gap-2"},h={key:0,class:"row justify-content-center py-5"},m={class:"col-md-6"},_={class:"table table-bordered table-stripedmy"},g=r((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"text-center",width:"40"},"№"),(0,l._)("th",{width:"50%"},"Шалгалтын нэр"),(0,l._)("th",null,"Оноо")])],-1))),w={class:"text-center"},v=["onKeyup","onUpdate:modelValue"],y={class:"pt-3 d-grid gap-2 d-md-flex justify-content-end"},f=r((()=>(0,l._)("br",null,null,-1))),x={class:"row"},k={key:1,class:"row justify-content-center py-5"},D={class:"col-md-12"},S={class:"DatatableFilter row mb-4"},C={class:"col-md-3"},z=r((()=>(0,l._)("label",{for:"inputState",class:"form-label"},"Суурь шалгалт",-1))),N=r((()=>(0,l._)("option",{selected:"",value:999},"-Бүгд-",-1))),j=["value"],I={class:"col-md-3"},U=r((()=>(0,l._)("label",{for:"inputState",class:"form-label"},"Дагалдах шалгалт",-1))),T=r((()=>(0,l._)("option",{selected:"",value:999},"-Бүгд-",-1))),G=["value"],K={class:"col-md-3"},L=r((()=>(0,l._)("label",{for:"inputState",class:"form-label"},"Хайх",-1))),M={class:"col-md-3"},V={class:"btn-group page-length pt-4 float-end"},E=r((()=>(0,l._)("button",{type:"button",class:"btn btn-primary align-bottom","data-bs-toggle":"dropdown","aria-expanded":"false"},[(0,l._)("img",{src:c,alt:"",class:"icon"})],-1))),H={class:"dropdown-menu dropdown-menu-end p-4"},Y={class:"mb-3"},Z=r((()=>(0,l._)("label",{for:"inputState",class:"form-label"},"Харуулах мөрийн тоо",-1))),$=r((()=>(0,l._)("option",null,"5",-1))),q=r((()=>(0,l._)("option",null,"10",-1))),A=r((()=>(0,l._)("option",null,"25",-1))),F=r((()=>(0,l._)("option",null,"50",-1))),O=r((()=>(0,l._)("option",null,"100",-1))),P=[$,q,A,F,O],R={class:"overflow-auto"},B={id:"datatable",class:"table table-bordered table-hover w-100",cellspacing:"0"},J=r((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"№"),(0,l._)("th",null,"Хөтөлбөр"),(0,l._)("th",null,"Суурь шалгалт (70%)"),(0,l._)("th",null,"Дагалдах шалгалт (30%)"),(0,l._)("th",{class:"primary-color"},"Хийсвэрээр тооцоолсон оноо")])],-1))),Q={key:0},W={class:"text-center"},X={key:0},ee=r((()=>(0,l._)("br",null,null,-1))),te={style:{display:"none"}},se={class:"text-center"},le={key:0},ae=r((()=>(0,l._)("br",null,null,-1))),ne={style:{display:"none"}},oe={key:1},ce={class:"text-center primary-color"},re={key:1},de={colspan:"3"},ie={class:"text-danger"},ue=r((()=>(0,l._)("td",{style:{display:"none"}},null,-1))),pe=r((()=>(0,l._)("td",{style:{display:"none"}},null,-1)));function be(e,t,s,o,c,r){return(0,l.wg)(),(0,l.iD)("div",{class:(0,a.C_)(e.iscontainer?"container my-5":"")},[(0,l._)("div",d,[i,(0,l._)("div",u,[(0,l._)("div",p,[(0,l._)("button",{onClick:t[0]||(t[0]=(...e)=>r.insertScore&&r.insertScore(...e)),class:(0,a.C_)(e.isCalc?"btn":"btn btn-primary"),type:"button"},"Шалгалтын оноо оруулах",2)]),(0,l._)("div",b,[(0,l._)("button",{class:(0,a.C_)(e.isCalc?"btn btn-primary":"btn"),type:"button"},"Тооцоолсон оноог бодох",2)])]),e.isCalc?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",h,[(0,l._)("div",m,[(0,l._)("table",_,[g,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.lessons,((e,s)=>((0,l.wg)(),(0,l.iD)("tr",{key:e},[(0,l._)("td",w,(0,a.zw)(Number(s)+1),1),(0,l._)("td",null,(0,a.zw)(e.lessonName),1),(0,l._)("td",null,[(0,l.wy)((0,l._)("input",{class:"form-control form-control-sm",onKeyup:t=>r.checkmax(e.scaledScore,s),type:"text","onUpdate:modelValue":t=>e.scaledScore=t,number:"",onKeypress:t[1]||(t[1]=e=>r.isNumber(e)),maxlength:3,placeholder:""},null,40,v),[[n.nr,e.scaledScore]])])])))),128))])])]),(0,l._)("div",y,[f,(0,l._)("div",x,[(0,l._)("button",{onClick:t[2]||(t[2]=(...e)=>r.submitscore&&r.submitscore(...e)),class:"btn btn-primary"},"Тооцоолсон оноог бодох")])])])),e.isCalc?((0,l.wg)(),(0,l.iD)("div",k,[(0,l._)("div",D,[(0,l._)("div",S,[(0,l._)("div",C,[z,(0,l.wy)((0,l._)("select",{id:"inputState",onChange:t[3]||(t[3]=(...e)=>r.searchbylesson1&&r.searchbylesson1(...e)),class:"form-select","onUpdate:modelValue":t[4]||(t[4]=t=>e.selectedlesson1=t)},[N,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.lessons,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e,value:e.lessonId},(0,a.zw)(e.lessonName),9,j)))),128))],544),[[n.bM,e.selectedlesson1]])]),(0,l._)("div",I,[U,(0,l.wy)((0,l._)("select",{id:"inputState",onChange:t[5]||(t[5]=(...e)=>r.searchbylesson2&&r.searchbylesson2(...e)),class:"form-select","onUpdate:modelValue":t[6]||(t[6]=t=>e.selectedlesson2=t)},[T,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.lessons,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e,value:e.lessonId},(0,a.zw)(e.lessonName),9,G)))),128))],544),[[n.bM,e.selectedlesson2]])]),(0,l._)("div",K,[L,(0,l.wy)((0,l._)("input",{type:"text",onKeyup:t[7]||(t[7]=(...e)=>r.searchtable&&r.searchtable(...e)),"onUpdate:modelValue":t[8]||(t[8]=t=>e.searchtxt=t),class:"form-control",placeholder:"Хөтөлбөр хайх"},null,544),[[n.nr,e.searchtxt]])]),(0,l._)("div",M,[(0,l._)("div",V,[E,(0,l._)("div",H,[(0,l._)("div",Y,[Z,(0,l.wy)((0,l._)("select",{id:"inputState",onChange:t[9]||(t[9]=(...e)=>r.changepagelength&&r.changepagelength(...e)),"onUpdate:modelValue":t[10]||(t[10]=t=>e.tblpage=t),class:"form-select form-select-sm"},P,544),[[n.bM,e.tblpage]])])])])])]),(0,l._)("div",R,[(0,l._)("table",B,[J,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.tableData,((e,t)=>((0,l.wg)(),(0,l.iD)(l.HY,{key:e},[1==e.status?((0,l.wg)(),(0,l.iD)("tr",Q,[(0,l._)("td",null,(0,a.zw)(Number(t)+1),1),(0,l._)("td",null,[(0,l._)("p",null,(0,a.zw)(e.programName),1),(0,l._)("small",null,(0,a.zw)(e.abbrevm),1)]),(0,l._)("td",W,[e.examGroup?.lessons.length>0?((0,l.wg)(),(0,l.iD)("span",X,[(0,l.Uk)((0,a.zw)(e.examGroup?.lessons[0]?.lessonName),1),ee,(0,l.Uk)(" "+(0,a.zw)(e.examGroup?.lessons[0]?.minScaledScore)+" ",1),(0,l._)("span",te," lessonID1_"+(0,a.zw)(e.examGroup?.lessons[0]?.lessonId),1)])):(0,l.kq)("",!0)]),(0,l._)("td",se,[e.examGroup?.lessons.length>1?((0,l.wg)(),(0,l.iD)("span",le,[(0,l.Uk)((0,a.zw)(e.examGroup?.lessons[1]?.lessonName),1),ae,(0,l.Uk)(" "+(0,a.zw)(e.examGroup?.lessons[1]?.minScaledScore)+" ",1),(0,l._)("span",ne," lessonID2_"+(0,a.zw)(e.examGroup?.lessons[1]?.lessonId),1)])):((0,l.wg)(),(0,l.iD)("span",oe," - "))]),(0,l._)("td",ce,[(0,l._)("strong",null,(0,a.zw)(e.scaledScore),1)])])):((0,l.wg)(),(0,l.iD)("tr",re,[(0,l._)("td",null,(0,a.zw)(Number(t)+1),1),(0,l._)("td",null,[(0,l._)("p",null,(0,a.zw)(e.programName),1),(0,l._)("small",null,(0,a.zw)(e.abbrevm),1)]),(0,l._)("td",de,[(0,l._)("span",ie,(0,a.zw)(e.statusDescription),1)]),ue,pe]))],64)))),128))])])])])])):(0,l.kq)("",!0)])],2)}s(7658);var he=s(4161),me=s(7387),_e=s.n(me),ge=s(5929),we=s(2377);ge.Z.use(we.Z);var ve={data:function(){return{table:"#datatable",tableData:Object,tblpage:10,datatableobj:null,lessons:[],selectedlesson1:999,selectedlesson2:999,isCalc:!1,BalanceModal:!0,iscontainer:!1,searchtxt:""}},mounted(){let e=this.$route.name;this.iscontainer="scorecalculator"==e,this.getLessons(),this.makeTable()},methods:{isNumber:function(e){e=e||window.event;var t=e.which?e.which:e.keyCode;if(!(t>31&&(t<48||t>57)&&46!==t))return!0;e.preventDefault()},checkmax(e,t){(e>800||e<0)&&(this.lessons[t].scaledScore=e.slice(0,-1))},searchtable(){this.datatableobj.search(this.searchtxt).draw()},searchbylesson1(){999!=this.selectedlesson1?this.datatableobj.column(2).search("lessonID1_"+this.selectedlesson1).draw():this.datatableobj.column(2).search("").draw()},searchbylesson2(){999!=this.selectedlesson2?this.datatableobj.column(3).search("lessonID2_"+this.selectedlesson2).draw():this.datatableobj.column(3).search("").draw()},changepagelength(){this.datatableobj.page.len(this.tblpage).draw(),_e()(".dropdown-menu").removeClass("show")},insertScore(){this.isCalc=!1},CalcScore(){this.isCalc=!0},submitscore(){this.lessons.filter((e=>""!=e.scaledScore)).length>1?he.Z.post("calculateScore",this.lessons.filter((e=>""!=e.scaledScore))).then((e=>{1==e.data.status?(this.isCalc=!0,this.datatableobj.clear(),this.tableData=e.data.result,this.datatableobj.destroy(),this.makeTable()):this.$notify({title:"Анхуулга, Онооны тооцоолуур",text:e.data.message,type:"warn"})})).catch((e=>{this.$notify({title:"Алдаа, Онооны тооцоолуур",text:e,type:"error"})})):this.$notify({title:"",text:"Хамгийн багадаа <strong> 2 </strong> хичээлийн оноо оруулна уу! ",type:"warn"})},makeTable(){this.$nextTick((function(){this.datatableobj=_e()(this.table).DataTable({pageLength:this.tblpage,responsive:!0,authwidth:!0,aaSorting:[],language:{url:"//cdn.datatables.net/plug-ins/1.13.4/i18n/mn.json",search:"_INPUT_",searchPlaceholder:"Хөтөлбөр хайх",zeroRecords:"Тохирох бичлэг олдсонгүй",infoEmpty:"",lengthMenu:"_MENU_",sInfo:"Нийт _TOTAL_ өгөгдлийн _START_ - _END_",paginate:{first:"First",last:"Last",next:"Дараах",previous:"Өмнөх"}},columnDefs:[{orderable:!1,targets:[0]}]})}))},getLessons(){he.Z.get("getLessons").then((e=>{1==e.data.status&&e.data.result.forEach((e=>{this.lessons.push({lessonName:e.lessonName,lessonId:e.lessonId,scaledScore:""})}))})).catch((function(e){console.log("error"+e)}))}}},ye=s(89);const fe=(0,ye.Z)(ve,[["render",be],["__scopeId","data-v-e7602d08"]]);var xe=fe},6800:function(e,t,s){e.exports=s.p+"img/page-settings.8acb6e1a.svg"}}]);