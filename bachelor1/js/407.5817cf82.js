"use strict";(self["webpackChunkfront_vue"]=self["webpackChunkfront_vue"]||[]).push([[407],{2439:function(t,e,i){i(7658);var s=i(2136);function n(t,e,i){var n,o,h,u;e=e||1;for(var p=0;p<t[0].length;p++){var c=t[0][p];(!p||c[0]<n)&&(n=c[0]),(!p||c[1]<o)&&(o=c[1]),(!p||c[0]>h)&&(h=c[0]),(!p||c[1]>u)&&(u=c[1])}var d=h-n,g=u-o,f=Math.min(d,g),m=f/2;if(0===f){var y=[n,o];return y.distance=0,y}for(var b=new s(void 0,r),v=n;v<h;v+=f)for(var _=o;_<u;_+=f)b.push(new a(v+m,_+m,m,t));var x=l(t),w=new a(n+d/2,o+g/2,0,t);w.d>x.d&&(x=w);var P=b.length;while(b.length){var O=b.pop();O.d>x.d&&(x=O,i&&console.log("found best %d after %d probes",Math.round(1e4*O.d)/1e4,P)),O.max-x.d<=e||(m=O.h/2,b.push(new a(O.x-m,O.y-m,m,t)),b.push(new a(O.x+m,O.y-m,m,t)),b.push(new a(O.x-m,O.y+m,m,t)),b.push(new a(O.x+m,O.y+m,m,t)),P+=4)}i&&(console.log("num probes: "+P),console.log("best distance: "+x.d));var k=[x.x,x.y];return k.distance=x.d,k}function r(t,e){return e.max-t.max}function a(t,e,i,s){this.x=t,this.y=e,this.h=i,this.d=o(t,e,s),this.max=this.d+this.h*Math.SQRT2}function o(t,e,i){for(var s=!1,n=1/0,r=0;r<i.length;r++)for(var a=i[r],o=0,l=a.length,u=l-1;o<l;u=o++){var p=a[o],c=a[u];p[1]>e!==c[1]>e&&t<(c[0]-p[0])*(e-p[1])/(c[1]-p[1])+p[0]&&(s=!s),n=Math.min(n,h(t,e,p,c))}return 0===n?0:(s?1:-1)*Math.sqrt(n)}function l(t){for(var e=0,i=0,s=0,n=t[0],r=0,o=n.length,l=o-1;r<o;l=r++){var h=n[r],u=n[l],p=h[0]*u[1]-u[0]*h[1];i+=(h[0]+u[0])*p,s+=(h[1]+u[1])*p,e+=3*p}return 0===e?new a(n[0][0],n[0][1],0,t):new a(i/e,s/e,0,t)}function h(t,e,i,s){var n=i[0],r=i[1],a=s[0]-n,o=s[1]-r;if(0!==a||0!==o){var l=((t-n)*a+(e-r)*o)/(a*a+o*o);l>1?(n=s[0],r=s[1]):l>0&&(n+=a*l,r+=o*l)}return a=t-n,o=e-r,a*a+o*o}s.default&&(s=s.default),t.exports=n,t.exports["default"]=n},2136:function(t,e,i){i.r(e),i.d(e,{default:function(){return s}});i(7658);class s{constructor(t=[],e=n){if(this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(let i=(this.length>>1)-1;i>=0;i--)this._down(i)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:e,compare:i}=this,s=e[t];while(t>0){const n=t-1>>1,r=e[n];if(i(s,r)>=0)break;e[t]=r,t=n}e[t]=s}_down(t){const{data:e,compare:i}=this,s=this.length>>1,n=e[t];while(t<s){let s=1+(t<<1),r=e[s];const a=s+1;if(a<this.length&&i(e[a],r)<0&&(s=a,r=e[a]),i(r,n)>=0)break;e[t]=r,t=s}e[t]=n}}function n(t,e){return t<e?-1:t>e?1:0}},6323:function(t,e,i){i.r(e),i.d(e,{default:function(){return _w}});var s=i(3396),n=i(7139);const r=t=>((0,s.dD)("data-v-67526792"),t=t(),(0,s.Cn)(),t),a={class:"fullheigth centered-content bg-white-section p-4"},o=r((()=>(0,s._)("div",{class:"content-tittle mb-5"},[(0,s._)("h2",null,[(0,s._)("span",{class:"title"},"Инфографик")])],-1))),l={ref:"chartdiv"},h={class:"border rounded mb-4 pb-5"},u=r((()=>(0,s._)("h5",{class:"pt-4 text-center px-2"}," 2022 онд элссэн элсэгчдийн тоо (Аймгаар) ",-1))),p=r((()=>(0,s._)("p",{style:{color:"#89939e"},class:"text-center pb-2"}," Тухайн аймаг дээр дарснаар элсэгчдийн тоог харах боломжтой ",-1))),c={class:"border rounded mb-4 py-4 container"},d=r((()=>(0,s._)("h5",{class:"text-center"}," Бүрэлдэхүүн/салбар сургуулиудын хөтөлбөр ",-1))),g={class:"row"},f={class:"col-md-6 mb-4"},m={class:"border rounded pt-4 px-2"},y=r((()=>(0,s._)("h5",{class:"text-center"}," Нийт шалгуулагчдаас МУИС-д бүртгүүлж, элссэн элсэгчдийн тоо ",-1))),b={class:"col-md-6"},v={class:"border rounded pt-4 mb-4"},_=r((()=>(0,s._)("h5",{class:"avg text-center px-2"}," Элсэгчдийн тооцоолсон онооны дундаж ",-1))),x={class:"row"},w={class:"col-md-6"},P={class:"border rounded pt-4 pb-5 mb-4 px-2"},O=r((()=>(0,s._)("h5",{class:"text-center"}," Элсэгчдийн ЭЕШ-ын дундаж оноо (Хичээлээр) ",-1))),k=r((()=>(0,s._)("div",{style:{color:"#89939e"},class:"text-center pb-6"},[(0,s._)("p",null,"Сүүлийн гурван жилээр харах боломжтой")],-1))),D={class:"col-md-6 mb-4"},T={class:"border rounded pt-4 pb-5"},S=r((()=>(0,s._)("h5",{class:"text-center mb-5 px-2"}," 2022 онд элссэн элсэгчдийн хувь (Сургуулиар) ",-1))),C=r((()=>(0,s._)("div",{class:"alert alert-primary mb-4"},[(0,s._)("b",null,"Шалгуулагч"),(0,s.Uk)(" гэдэг нь ЭЕШ өгөхөөр БҮТ-д бүртгүүлсэн сурагчид "),(0,s._)("br"),(0,s._)("b",null,"Элсэгч"),(0,s.Uk)(" гэдэг нь МУИС-д элсэх эрх авсан бүртгүүлэгч "),(0,s._)("br"),(0,s._)("b",null,"Бүртгүүлэгч"),(0,s.Uk)(" гэдэг нь МУИС-д элсэх хүсэлт гаргаж буй шалгуулагчид ")],-1)));function M(t,e,i,r,M,I){const j=(0,s.up)("CountryMap"),E=(0,s.up)("majorbubble"),L=(0,s.up)("examinee"),A=(0,s.up)("avarage"),F=(0,s.up)("eec"),R=(0,s.up)("schools");return(0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(M.iscontainer?"container my-5":"")},[(0,s._)("div",a,[o,(0,s._)("div",l,[(0,s._)("div",h,[u,p,(0,s.Wm)(j)]),(0,s._)("div",c,[d,(0,s.Wm)(E)]),(0,s._)("div",g,[(0,s._)("div",f,[(0,s._)("div",m,[y,(0,s.Wm)(L)])]),(0,s._)("div",b,[(0,s._)("div",v,[_,(0,s.Wm)(A)])])]),(0,s._)("div",x,[(0,s._)("div",w,[(0,s._)("div",P,[O,k,(0,s.Wm)(F)])]),(0,s._)("div",D,[(0,s._)("div",T,[S,(0,s.Wm)(R)])])]),C],512)])],2)}const I={class:"hello",ref:"chartdiv",id:"chartdiv"};function j(t,e,i,n,r,a){return(0,s.wg)(),(0,s.iD)("div",I,null,512)}i(7658),i(541);function E(t,e){const i=t.length;for(let s=0;s<i;++s)if(t[s]===e)return s;return-1}function L(t,e){const i=t.length;for(let s=0;s<i;++s)if(e(t[s]))return!0;return!1}function A(t,e){const i=t.length,s=new Array(i);for(let n=0;n<i;++n)s[n]=e(t[n],n);return s}function F(t,e){const i=t.length;for(let s=0;s<i;++s)e(t[s],s)}function R(t,e){let i=t.length;while(i>0)--i,e(t[i],i)}function V(t,e){const i=t.length;for(let s=0;s<i;++s)if(!e(t[s],s))break}function B(t,e){let i=!1,s=0;for(;;){if(s=t.indexOf(e,s),-1===s)return i;i=!0,t.splice(s,1)}}function N(t,e){let i=t.indexOf(e);return-1!==i&&(t.splice(i,1),!0)}function H(t,e,i){let s=E(t,e);-1!==s&&G(t,s),null==i?t.push(e):Y(t,i,e)}function z(t,e){-1===t.indexOf(e)&&t.push(e)}function W(t){const e=t.length,i=new Array(e);for(let s=0;s<e;++s)i[s]=t[s];return i}function Y(t,e,i){t.splice(e,0,i)}function G(t,e){t.splice(e,1)}function X(t,e){const i=t.length;for(let s=0;s<i;++s)if(e(t[s],s))return s;return-1}function U(t,e){let i=t.length;while(i>0)if(--i,e(t[i],i))return i;return-1}function K(t,e){const i=X(t,e);if(-1!==i)return t[i]}function Z(t,e){const i=U(t,e);if(-1!==i)return t[i]}function q(t,e){let i=0,s=t.length,n=!1;while(i<s){const r=i+s>>1,a=e(t[r]);a<0?i=r+1:0===a?(n=!0,i=r+1):s=r}return{found:n,index:n?i-1:i}}function $(t,e){let i=0,s=t.length,n=!1;while(i<s){const r=i+s>>1,a=e(t[r]);a<0?i=r+1:0===a?(n=!0,s=r):s=r}return{found:n,index:i}}function J(t,e){let i=t.length;while(i>0)--i,e(t[i])||t.splice(i,1)}class Q{constructor(){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class tt{constructor(t){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dispose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1,this._dispose=t}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class et extends Q{constructor(){super(...arguments),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_dispose(){F(this._disposers,(t=>{t.dispose()}))}}class it extends Q{constructor(t){super(),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposers=t}_dispose(){F(this._disposers,(t=>{t.dispose()}))}get disposers(){return this._disposers}}class st extends tt{constructor(){super(...arguments),Object.defineProperty(this,"_counter",{enumerable:!0,configurable:!0,writable:!0,value:0})}increment(){return++this._counter,new tt((()=>{--this._counter,0===this._counter&&this.dispose()}))}}function nt(t){return Number(t)!==t}function rt(t){return{}.toString.call(t)}function at(t){if(null!=t&&!ct(t)){let e=Number(t);return nt(e)&&pt(t)&&""!=t?at(t.replace(/[^0-9.\-]+/g,"")):e}return t}function ot(t){if(ut(t))return new Date(t);if(ct(t))return new Date(t);{let e=Number(t);return ct(e)?new Date(e):new Date(t)}}function lt(t){if(nt(t))return"NaN";if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(0===t&&1/t===-1/0)return"-0";let e=t<0;t=Math.abs(t);let i,s=/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+t),n=s[1],r=s[2]||"";if(void 0===s[3])i=""===r?n:n+"."+r;else{let e=+s[3];if(t<1){let t=e-1;i="0."+ht("0",t)+n+r}else{let t=e-r.length;i=0===t?n+r:t<0?n+r.slice(0,t)+"."+r.slice(t):n+r+ht("0",t)}}return e?"-"+i:i}function ht(t,e){return new Array(e+1).join(t)}function ut(t){return"[object Date]"===rt(t)}function pt(t){return"string"===typeof t}function ct(t){return"number"===typeof t&&Number(t)==t}function dt(t){return"object"===typeof t&&null!==t}const gt="__§§§__",ft="__§§§§__";class mt{constructor(){Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_killed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_iterating",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_enabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1}isDisposed(){return this._disposed}dispose(){if(!this._disposed){this._disposed=!0;const t=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{F(t,(t=>{t.disposer.dispose()}))}finally{this._killed=null,this._iterating=null}}}hasListeners(){return 0!==this._listeners.length}hasListenersByType(t){return L(this._listeners,(e=>(null===e.type||e.type===t)&&!e.killed))}enable(){this._enabled=!0}disable(){this._enabled=!1}enableType(t){delete this._disabled[t]}disableType(t,e=1/0){this._disabled[t]=e}_removeListener(t){if(0===this._iterating){const e=this._listeners.indexOf(t);if(-1===e)throw new Error("Invalid state: could not remove listener");this._listeners.splice(e,1)}else this._killed.push(t)}_removeExistingListener(t,e,i,s){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener((n=>{n.once!==t||n.type!==e||void 0!==i&&n.callback!==i||n.context!==s||n.disposer.dispose()}))}isEnabled(t){if(this._disposed)throw new Error("EventDispatcher is disposed");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(t)&&void 0===this._disabled[t]}removeType(t){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener((e=>{e.type===t&&e.disposer.dispose()}))}has(t,e,i){const s=X(this._listeners,(s=>!0!==s.once&&s.type===t&&(void 0===e||s.callback===e)&&s.context===i));return-1!==s}_shouldDispatch(t){if(this._disposed)throw new Error("EventDispatcher is disposed");const e=this._disabled[t];return ct(e)?(e<=1?delete this._disabled[t]:--this._disabled[t],!1):this._enabled}_eachListener(t){++this._iterating;try{F(this._listeners,t)}finally{--this._iterating,0===this._iterating&&0!==this._killed.length&&(F(this._killed,(t=>{this._removeListener(t)})),this._killed.length=0)}}dispatch(t,e){this._shouldDispatch(t)&&this._eachListener((i=>{i.killed||null!==i.type&&i.type!==t||i.dispatch(t,e)}))}_on(t,e,i,s,n,r){if(this._disposed)throw new Error("EventDispatcher is disposed");this._removeExistingListener(t,e,i,s);const a={type:e,callback:i,context:s,shouldClone:n,dispatch:r,killed:!1,once:t,disposer:new tt((()=>{a.killed=!0,this._removeListener(a)}))};return this._listeners.push(a),a}onAll(t,e,i=!0){return this._on(!1,null,t,e,i,((i,s)=>t.call(e,s))).disposer}on(t,e,i,s=!0){return this._on(!1,t,e,i,s,((t,s)=>e.call(i,s))).disposer}once(t,e,i,s=!0){const n=this._on(!0,t,e,i,s,((t,s)=>{n.disposer.dispose(),e.call(i,s)}));return n.disposer}off(t,e,i){this._removeExistingListener(!1,t,e,i)}copyFrom(t){if(this._disposed)throw new Error("EventDispatcher is disposed");if(t===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");const e=[];return F(t._listeners,(t=>{!t.killed&&t.shouldClone&&(null===t.type?e.push(this.onAll(t.callback,t.context)):t.once?e.push(this.once(t.type,t.callback,t.context)):e.push(this.on(t.type,t.callback,t.context)))})),new it(e)}}function yt(t,e){if(!(t>=0&&t<e))throw new Error("Index out of bounds: "+t)}class bt{constructor(t=[]){Object.defineProperty(this,"_values",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new mt}),this._values=t}get values(){return this._values}contains(t){return-1!==this._values.indexOf(t)}removeValue(t){let e=0,i=this._values.length;while(e<i)this._values[e]===t?(this.removeIndex(e),--i):++e}indexOf(t){return E(this._values,t)}get length(){return this._values.length}hasIndex(t){return t>=0&&t<this._values.length}getIndex(t){return this._values[t]}_onPush(t){this.events.isEnabled("push")&&this.events.dispatch("push",{type:"push",target:this,newValue:t})}_onInsertIndex(t,e){this.events.isEnabled("insertIndex")&&this.events.dispatch("insertIndex",{type:"insertIndex",target:this,index:t,newValue:e})}_onSetIndex(t,e,i){this.events.isEnabled("setIndex")&&this.events.dispatch("setIndex",{type:"setIndex",target:this,index:t,oldValue:e,newValue:i})}_onRemoveIndex(t,e){this.events.isEnabled("removeIndex")&&this.events.dispatch("removeIndex",{type:"removeIndex",target:this,index:t,oldValue:e})}_onMoveIndex(t,e,i){this.events.isEnabled("moveIndex")&&this.events.dispatch("moveIndex",{type:"moveIndex",target:this,oldIndex:t,newIndex:e,value:i})}_onClear(t){this.events.isEnabled("clear")&&this.events.dispatch("clear",{type:"clear",target:this,oldValues:t})}setIndex(t,e){yt(t,this._values.length);const i=this._values[t];return i!==e&&(this._values[t]=e,this._onSetIndex(t,i,e)),i}insertIndex(t,e){return yt(t,this._values.length+1),Y(this._values,t,e),this._onInsertIndex(t,e),e}swap(t,e){const i=this._values.length;if(yt(t,i),yt(e,i),t!==e){const i=this._values[t],s=this._values[e];this._values[t]=s,this._onSetIndex(t,i,s),this._values[e]=i,this._onSetIndex(e,s,i)}}removeIndex(t){yt(t,this._values.length);const e=this._values[t];return G(this._values,t),this._onRemoveIndex(t,e),e}moveValue(t,e){let i=this.indexOf(t);if(-1!==i)if(G(this._values,i),null==e){const e=this._values.length;this._values.push(t),this._onMoveIndex(i,e,t)}else Y(this._values,e,t),this._onMoveIndex(i,e,t);else null==e?(this._values.push(t),this._onPush(t)):(Y(this._values,e,t),this._onInsertIndex(e,t));return t}push(t){return this._values.push(t),this._onPush(t),t}unshift(t){return this.insertIndex(0,t),t}pushAll(t){F(t,(t=>{this.push(t)}))}copyFrom(t){this.pushAll(t._values)}pop(){let t=this._values.length-1;return t<0?void 0:this.removeIndex(this._values.length-1)}shift(){return this._values.length?this.removeIndex(0):void 0}setAll(t){const e=this._values;this._values=[],this._onClear(e),F(t,(t=>{this._values.push(t),this._onPush(t)}))}clear(){this.setAll([])}*[Symbol.iterator](){const t=this._values.length;for(let e=0;e<t;++e)yield this._values[e]}each(t){F(this._values,t)}eachReverse(t){R(this._values,t)}}class vt extends bt{constructor(){super(...arguments),Object.defineProperty(this,"autoDispose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_onSetIndex(t,e,i){this.autoDispose&&e.dispose(),super._onSetIndex(t,e,i)}_onRemoveIndex(t,e){this.autoDispose&&e.dispose(),super._onRemoveIndex(t,e)}_onClear(t){this.autoDispose&&F(t,(t=>{t.dispose()})),super._onClear(t)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this.autoDispose&&F(this._values,(t=>{t.dispose()})))}}class _t extends vt{constructor(t,e){super(),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"make",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.template=t,this.make=e}}class xt extends bt{constructor(t){super(),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._container=t,this._events=this.events.onAll((t=>{if("clear"===t.type)F(t.oldValues,(t=>{this._onRemoved(t)}));else if("push"===t.type)this._onInserted(t.newValue);else if("setIndex"===t.type)this._onRemoved(t.oldValue),this._onInserted(t.newValue,t.index);else if("insertIndex"===t.type)this._onInserted(t.newValue,t.index);else if("removeIndex"===t.type)this._onRemoved(t.oldValue);else{if("moveIndex"!==t.type)throw new Error("Unknown IListEvent type");this._onRemoved(t.value),this._onInserted(t.value,t.newIndex)}}))}_onInserted(t,e){t._setParent(this._container,!0);const i=this._container._childrenDisplay;void 0===e?i.addChild(t._display):i.addChildAt(t._display,e)}_onRemoved(t){this._container._childrenDisplay.removeChild(t._display),this._container.markDirtyBounds(),this._container.markDirty()}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._events.dispose(),F(this.values,(t=>{t.dispose()})))}}class wt{constructor(t){Object.defineProperty(this,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._value=t}get value(){return this._value/100}get percent(){return this._value}toString(){return this._value+"%"}interpolate(t,e){return t+this.value*(e-t)}static normalize(t,e,i){return t instanceof wt?t:new wt(e===i?0:100*Math.min(Math.max(1/(i-e)*(t-e),0),1))}}function Pt(t){return new wt(t)}Pt(0);const Ot=Pt(100),kt=Pt(50);var Dt=function(t,e){return Dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},Dt(t,e)};function Tt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}Dt(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}function St(t,e,i,s){function n(t){return t instanceof i?t:new i((function(e){e(t)}))}return new(i||(i=Promise))((function(i,r){function a(t){try{l(s.next(t))}catch(e){r(e)}}function o(t){try{l(s["throw"](t))}catch(e){r(e)}}function l(t){t.done?i(t.value):n(t.value).then(a,o)}l((s=s.apply(t,e||[])).next())}))}function Ct(t,e){var i,s,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(t){return function(e){return l([t,e])}}function l(o){if(i)throw new TypeError("Generator is already executing.");while(r&&(r=0,o[0]&&(a=0)),a)try{if(i=1,s&&(n=2&o[0]?s["return"]:o[0]?s["throw"]||((n=s["return"])&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;switch(s=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(n=a.trys,!(n=n.length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(l){o=[6,l],s=0}finally{i=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}Object.create;function Mt(t){var e="function"===typeof Symbol&&Symbol.iterator,i=e&&t[e],s=0;if(i)return i.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function It(t,e){var i="function"===typeof Symbol&&t[Symbol.iterator];if(!i)return t;var s,n,r=i.call(t),a=[];try{while((void 0===e||e-- >0)&&!(s=r.next()).done)a.push(s.value)}catch(o){n={error:o}}finally{try{s&&!s.done&&(i=r["return"])&&i.call(r)}finally{if(n)throw n.error}}return a}function jt(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(It(arguments[e]));return t}Object.create;function Et(t){t.parentNode&&t.parentNode.removeChild(t)}function Lt(t,e,i,s){return t.addEventListener(e,i,s||!1),new tt((()=>{t.removeEventListener(e,i,s||!1)}))}function At(t){return Lt(window,"resize",(e=>{t()}))}function Ft(t){switch(t){case"touchevents":return window.hasOwnProperty("TouchEvent");case"pointerevents":return window.hasOwnProperty("PointerEvent");case"mouseevents":return window.hasOwnProperty("MouseEvent");case"wheelevents":return window.hasOwnProperty("WheelEvent");case"keyboardevents":return window.hasOwnProperty("KeyboardEvent")}return!1}function Rt(t){let e=t.pointerId||0;return e}function Vt(){if(document.activeElement&&document.activeElement!=document.body)if(document.activeElement.blur)document.activeElement.blur();else{let t=document.createElement("button");t.style.position="fixed",t.style.top="0px",t.style.left="-10000px",document.body.appendChild(t),t.focus(),t.blur(),document.body.removeChild(t)}}function Bt(t){t&&t.focus()}function Nt(t){if(Ft("pointerevents"))return t;if(Ft("touchevents"))switch(t){case"pointerover":return"touchstart";case"pointerout":return"touchend";case"pointerleave":return"touchend";case"pointerdown":return"touchstart";case"pointermove":return"touchmove";case"pointerup":return"touchend";case"click":return"click";case"dblclick":return"dblclick"}else if(Ft("mouseevents"))switch(t){case"pointerover":return"mouseover";case"pointerout":return"mouseout";case"pointerleave":return"mouseleave";case"pointerdown":return"mousedown";case"pointermove":return"mousemove";case"pointerup":return"mouseup";case"click":return"click";case"dblclick":return"dblclick"}return t}function Ht(t){if("undefined"!==typeof Touch&&t instanceof Touch)return!0;if("undefined"!==typeof PointerEvent&&t instanceof PointerEvent&&null!=t.pointerType)switch(t.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(t instanceof MouseEvent)}else if(null!=t.type&&t.type.match(/^mouse/))return!1;return!0}function zt(t,e,i){t.style[e]=i}function Wt(t,e){return t.style[e]}function Yt(t){if(t.composedPath){const e=t.composedPath();return 0===e.length?null:e[0]}return t.target}function Gt(t,e){let i=e;while(1){if(t===i)return!0;if(null===i.parentNode){if(null==i.host)return!1;i=i.host}else i=i.parentNode}}function Xt(t,e){return t.target&&Gt(e.root.dom,t.target)}function Ut(t,e){t.style.pointerEvents=e?"auto":"none"}function Kt(){return/apple/i.test(navigator.vendor)&&"ontouchend"in document}function Zt(){return Kt()?1:void 0}function qt(t,e){return ct(t)?t:null!=t&&ct(t.value)&&ct(e)?e*t.value:0}function $t(t){let e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0}function Jt(t,e=0,i="0"){return"string"!==typeof t&&(t=t.toString()),e>t.length?Array(e-t.length+1).join(i)+t:t}function Qt(t){return t.replace(/^[\s]*/,"")}function te(t){return t.replace(/[\s]*$/,"")}function ee(t){return Qt(te(t))}function ie(t){if("undefined"===typeof t)return"string";t=t.toLowerCase().replace(/^\[[^\]]*\]/,""),t=t.replace(/\[[^\]]+\]/,""),t=t.trim();let e=t.match(/\/(date|number|duration)$/);return e?e[1]:"number"===t?"number":"date"===t?"date":"duration"===t?"duration":t.match(/[#0]/)?"number":t.match(/[ymwdhnsqaxkzgtei]/)?"date":"string"}function se(t){return t.replace(/\/(date|number|duration)$/i,"")}function ne(t){return t?t.replace(/<[^>]*>/g,""):t}function re(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function ae(t,e=!1){const i=new Date(t.getFullYear(),0,0),s=t.getTime()-i.getTime()+60*(i.getTimezoneOffset()-t.getTimezoneOffset())*1e3,n=864e5;return Math.floor(s/n)}function oe(t,e=!1){const i=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),s=i.getUTCDay()||7;i.setUTCDate(i.getUTCDate()+4-s);const n=new Date(Date.UTC(i.getUTCFullYear(),0,1));return Math.ceil(((i.getTime()-n.getTime())/864e5+1)/7)}function le(t,e=!1){const i=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),s=i.getUTCDay()||7;i.setUTCDate(i.getUTCDate()+4-s);const n=new Date(Date.UTC(i.getUTCFullYear(),0,1));return n.getFullYear()}function he(t,e=!1){const i=oe(new Date(t.getFullYear(),t.getMonth(),1),e);let s=oe(t,e);return 1==s&&(s=53),s-i+1}function ue(t,e,i=1,s=!1){let n=new Date(e,0,4,0,0,0,0);s&&n.setUTCFullYear(e);let r=7*t+i-((n.getDay()||7)+3);return r}function pe(t,e){return t>12?t-=12:0===t&&(t=12),null!=e?t+(e-1):t}function ce(t,e=!1,i=!1,s=!1){if(s)return e?"Coordinated Universal Time":"UTC";let n=t.toLocaleString("UTC"),r=t.toLocaleString("UTC",{timeZoneName:e?"long":"short"}).substr(n.length);return!1===i&&(r=r.replace(/ (standard|daylight|summer|winter) /i," ")),r}function de(t){const e=new Date(Date.UTC(2012,0,1,0,0,0,0)),i=new Date(e.toLocaleString("en-US",{timeZone:"UTC"})),s=new Date(e.toLocaleString("en-US",{timeZone:t}));return(s.getTime()-i.getTime())/6e4*-1}function ge(t){return t.charAt(0).toUpperCase()+t.slice(1)}function fe(t){let e,i,s,n=t.h,r=t.s,a=t.l;if(0==r)e=i=s=a;else{let t=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},o=a<.5?a*(1+r):a+r-a*r,l=2*a-o;e=t(l,o,n+1/3),i=t(l,o,n),s=t(l,o,n-1/3)}return{r:Math.round(255*e),g:Math.round(255*i),b:Math.round(255*s)}}function me(t){let e=t.r/255,i=t.g/255,s=t.b/255,n=Math.max(e,i,s),r=Math.min(e,i,s),a=0,o=0,l=(n+r)/2;if(n===r)a=o=0;else{let t=n-r;switch(o=l>.5?t/(2-n-r):t/(n+r),n){case e:a=(i-s)/t+(i<s?6:0);break;case i:a=(s-e)/t+2;break;case s:a=(e-i)/t+4;break}a/=6}return{h:a,s:o,l:l}}function ye(t,e){return t?{r:Math.max(0,Math.min(255,t.r+be(t.r,e))),g:Math.max(0,Math.min(255,t.g+be(t.g,e))),b:Math.max(0,Math.min(255,t.b+be(t.b,e))),a:t.a}:t}function be(t,e){let i=e>0?255-t:t;return Math.round(i*e)}function ve(t,e){if(t){let i=Math.min(Math.max(t.r,t.g,t.b),230),s=be(i,e);return{r:Math.max(0,Math.min(255,Math.round(t.r+s))),g:Math.max(0,Math.min(255,Math.round(t.g+s))),b:Math.max(0,Math.min(255,Math.round(t.b+s))),a:t.a}}return t}function _e(t){return(299*t.r+587*t.g+114*t.b)/1e3>=128}function xe(t,e){if(void 0===t||1==e)return t;let i=me(t);return i.s=e,fe(i)}function we(t,e={r:255,g:255,b:255},i={r:255,g:255,b:255}){let s=e,n=i;return _e(i)&&(s=i,n=e),_e(t)?n:s}function Pe(t,e){return t||(t=[]),[...t,...e].filter(((t,e,i)=>i.indexOf(t)===e))}function Oe(t,e){return!!e&&(t.left==e.left&&(t.right==e.right&&(t.top==e.top&&t.bottom==e.bottom)))}function ke(t){return"#"===t[0]&&(t=t.substr(1)),3==t.length&&(t=t[0].repeat(2)+t[1].repeat(2)+t[2].repeat(2)),parseInt(t,16)}function De(t){t=t.replace(/[ ]/g,"");let e=t.match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(e)e.push("1");else if(e=t.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i),!e)return 0;let i="";for(let s=1;s<=3;s++){let t=parseInt(e[s]).toString(16);1==t.length&&(t="0"+t),i+=t}return ke(i)}function Te(t){return Se.fromAny(t)}class Se{constructor(t){Object.defineProperty(this,"_hex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._hex=0|t}get hex(){return this._hex}get r(){return this._hex>>>16}get g(){return this._hex>>8&255}get b(){return 255&this._hex}toCSS(t=1){return"rgba("+this.r+", "+this.g+", "+this.b+", "+t+")"}toCSSHex(){return"#"+Jt(this.r.toString(16),2)+Jt(this.g.toString(16),2)+Jt(this.b.toString(16),2)}toHSL(t=1){return me({r:this.r,g:this.g,b:this.b,a:t})}static fromHSL(t,e,i){const s=fe({h:t,s:e,l:i});return this.fromRGB(s.r,s.g,s.b)}toString(){return this.toCSSHex()}static fromHex(t){return new Se(t)}static fromRGB(t,e,i){return new Se((0|i)+(e<<8)+(t<<16))}static fromString(t){return new Se(ke(t))}static fromCSS(t){return new Se(De(t))}static fromAny(t){if(pt(t)){if("#"==t[0])return Se.fromString(t);if("rgb"==t.substr(0,3))return Se.fromCSS(t)}else{if(ct(t))return Se.fromHex(t);if(t instanceof Se)return Se.fromHex(t.hex)}throw new Error("Unknown color syntax: "+t)}static alternative(t,e,i){const s=we({r:t.r,g:t.g,b:t.b},e?{r:e.r,g:e.g,b:e.b}:void 0,i?{r:i.r,g:i.g,b:i.b}:void 0);return this.fromRGB(s.r,s.g,s.b)}static interpolate(t,e,i,s="rgb"){if("hsl"==s){const s=e.toHSL(),n=i.toHSL();return Se.fromHSL(Fe(t,s.h,n.h),Fe(t,s.s,n.s),Fe(t,s.l,n.l))}return Se.fromRGB(Fe(t,e.r,i.r),Fe(t,e.g,i.g),Fe(t,e.b,i.b))}static lighten(t,e){const i=ye({r:t.r,g:t.g,b:t.b},e);return Se.fromRGB(i.r,i.g,i.b)}static brighten(t,e){const i=ve({r:t.r,g:t.g,b:t.b},e);return Se.fromRGB(i.r,i.g,i.b)}static saturate(t,e){const i=xe({r:t.r,g:t.g,b:t.b},e);return Se.fromRGB(i.r,i.g,i.b)}}function Ce(t){return Object.keys(t)}function Me(t,e){return Ce(t).sort(e)}function Ie(t){return Object.assign({},t)}function je(t,e){Ce(t).forEach((i=>{e(i,t[i])}))}function Ee(t,e){for(let i in t)if(Le(t,i)&&!e(i,t[i]))break}function Le(t,e){return{}.hasOwnProperty.call(t,e)}function Ae(t){return St(this,void 0,void 0,(function*(){if(void 0!==t){const e=[];je(t,((t,i)=>{e.push(i.waitForStop())})),yield Promise.all(e)}}))}function Fe(t,e,i){return e+t*(i-e)}function Re(t,e,i){return t>=1?i:e}function Ve(t,e,i){return new wt(Fe(t,e.percent,i.percent))}function Be(t,e,i){return Se.interpolate(t,e,i)}function Ne(t,e){return"number"===typeof t&&"number"===typeof e?Fe:t instanceof wt&&e instanceof wt?Ve:t instanceof Se&&e instanceof Se?Be:Re}function He(t){return t}function ze(t){return t*t*t}function We(t){return function(e){return 1-t(1-e)}}let Ye=2*Math.PI,Ge=1,Xe=.3/Ye;Math.asin(1/Ge);class Ue{constructor(t,e){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_userSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=t,this._settings=e,je(e,(t=>{this._userSettings[t]=!0}))}get(t,e){const i=this._settings[t];return void 0!==i?i:e}setRaw(t,e){this._settings[t]=e}set(t,e){this._userSettings[t]=!0,this.setRaw(t,e)}remove(t){delete this._userSettings[t],delete this._settings[t]}setAll(t){Ce(t).forEach((e=>{this.set(e,t[e])}))}_eachSetting(t){je(this._settings,t)}apply(){const t={stateAnimationEasing:!0,stateAnimationDuration:!0},e=this._entity.states.lookup("default");this._eachSetting(((i,s)=>{t[i]||(t[i]=!0,this!==e&&(i in e._settings||(e._settings[i]=this._entity.get(i))),this._entity.set(i,s))}))}applyAnimate(t){null==t&&(t=this._settings.stateAnimationDuration),null==t&&(t=this.get("stateAnimationDuration",this._entity.get("stateAnimationDuration",0)));let e=this._settings.stateAnimationEasing;null==e&&(e=this.get("stateAnimationEasing",this._entity.get("stateAnimationEasing",ze)));const i=this._entity.states.lookup("default"),s={stateAnimationEasing:!0,stateAnimationDuration:!0},n={};return this._eachSetting(((r,a)=>{if(!s[r]){s[r]=!0,this!=i&&(r in i._settings||(i._settings[r]=this._entity.get(r)));const o=this._entity.animate({key:r,to:a,duration:t,easing:e});o&&(n[r]=o)}})),n}}class Ke{constructor(t){Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._entity=t}lookup(t){return this._states[t]}create(t,e){const i=this._states[t];if(i)return i.setAll(e),i;{const i=new Ue(this._entity,e);return this._states[t]=i,i}}remove(t){delete this._states[t]}apply(t){const e=this._states[t];e&&e.apply(),this._entity._applyState(t)}applyAnimate(t,e){let i;const s=this._states[t];return s&&(i=s.applyAnimate(e)),this._entity._applyStateAnimated(t,e),i}}class Ze{constructor(){Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.3.16"}),Object.defineProperty(this,"licenses",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"entitiesById",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"rootElements",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}const qe=new Ze;function $e(t,e){return t===e?0:t<e?-1:1}function Je(t,e,i){const s=t.length,n=e.length,r=Math.min(s,n);for(let a=0;a<r;++a){const s=i(t[a],e[a]);if(0!==s)return s}return $e(s,n)}function Qe(t,e){return t===e?0:t<e?-1:1}class ti{constructor(t){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=t}add(t,e){let i=this._callbacks[t];return void 0===i&&(i=this._callbacks[t]=[]),i.push(e),this._entity._markDirtyKey(t),new tt((()=>{N(i,e)&&this._entity._markDirtyKey(t)}))}remove(t){const e=this._callbacks[t];void 0!==e&&(delete this._callbacks[t],0!==e.length&&this._entity._markDirtyKey(t))}enable(t){this._disabled[t]&&(delete this._disabled[t],this._entity._markDirtyKey(t))}disable(t){this._disabled[t]||(this._disabled[t]=!0,this._entity._markDirtyKey(t))}fold(t,e){if(!this._disabled[t]){const i=this._callbacks[t];if(void 0!==i)for(let s=0,n=i.length;s<n;++s)e=i[s](e,this._entity,t)}return e}}class ei{constructor(t,e,i,s,n,r,a){Object.defineProperty(this,"_animation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_from",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_to",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_duration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_easing",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_loops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_interpolate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_oldTime",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_time",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_stopped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_playing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new mt}),this._animation=t,this._from=e,this._to=i,this._duration=s,this._easing=n,this._loops=r,this._interpolate=Ne(e,i),this._oldTime=a}get to(){return this._to}get from(){return this._from}get playing(){return this._playing}get stopped(){return this._stopped}stop(){this._stopped||(this._stopped=!0,this._playing=!1,this.events.isEnabled("stopped")&&this.events.dispatch("stopped",{type:"stopped",target:this}))}pause(){this._playing=!1,this._oldTime=null}play(){this._stopped||this._playing||(this._playing=!0,this._animation._startAnimation())}get percentage(){return this._time/this._duration}waitForStop(){return new Promise(((t,e)=>{if(this._stopped)t();else{const e=()=>{i.dispose(),t()},i=this.events.on("stopped",e)}}))}_checkEnded(){return!(this._loops>1)||(--this._loops,!1)}_run(t){null!==this._oldTime&&(this._time+=t-this._oldTime,this._time>this._duration&&(this._time=this._duration)),this._oldTime=t}_reset(t){this._oldTime=t,this._time=0}_value(t){return this._interpolate(this._easing(t),this._from,this._to)}}let ii=0;class si{constructor(t){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:++ii}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_userProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._settings=t}_checkDirty(){Ce(this._settings).forEach((t=>{this._userProperties[t]=!0,this._markDirtyKey(t)}))}resetUserSettings(){this._userProperties={}}_runAnimation(t){if(this.isDisposed())return!1;{let e=!1;return je(this._animatingSettings,((i,s)=>{if(s._stopped)this._stopAnimation(i);else if(s._playing){s._run(t);const n=s.percentage;n>=1?s._checkEnded()?this.set(i,s._value(1)):(e=!0,s._reset(t),this._set(i,s._value(1))):(e=!0,this._set(i,s._value(n)))}})),je(this._animatingPrivateSettings,((i,s)=>{if(s._stopped)this._stopAnimationPrivate(i);else if(s._playing){s._run(t);const n=s.percentage;n>=1?s._checkEnded()?this.setPrivate(i,s._value(1)):(e=!0,s._reset(t),this._setPrivate(i,s._value(1))):(e=!0,this._setPrivate(i,s._value(n)))}})),e}}_markDirtyKey(t){this.markDirty()}_markDirtyPrivateKey(t){this.markDirty()}on(t,e){let i=this._settingEvents[t];return void 0===i&&(i=this._settingEvents[t]=[]),i.push(e),new tt((()=>{N(i,e),0===i.length&&delete this._settingEvents[t]}))}onPrivate(t,e){let i=this._privateSettingEvents[t];return void 0===i&&(i=this._privateSettingEvents[t]=[]),i.push(e),new tt((()=>{N(i,e),0===i.length&&delete this._privateSettingEvents[t]}))}getRaw(t,e){const i=this._settings[t];return void 0!==i?i:e}get(t,e){return this.getRaw(t,e)}_sendKeyEvent(t,e){const i=this._settingEvents[t];void 0!==i&&F(i,(i=>{i(e,this,t)}))}_sendPrivateKeyEvent(t,e){const i=this._privateSettingEvents[t];void 0!==i&&F(i,(i=>{i(e,this,t)}))}_setRaw(t,e,i){this._prevSettings[t]=e,this._sendKeyEvent(t,i)}setRaw(t,e){const i=this._settings[t];this._settings[t]=e,i!==e&&this._setRaw(t,i,e)}_set(t,e){const i=this._settings[t];this._settings[t]=e,i!==e&&(this._setRaw(t,i,e),this._markDirtyKey(t))}_stopAnimation(t){const e=this._animatingSettings[t];e&&(delete this._animatingSettings[t],e.stop())}set(t,e){return this._set(t,e),this._stopAnimation(t),e}remove(t){t in this._settings&&(this._prevSettings[t]=this._settings[t],delete this._settings[t],this._sendKeyEvent(t,void 0),this._markDirtyKey(t)),this._stopAnimation(t)}removeAll(){F(Ce(this._settings),(t=>{this.remove(t)}))}getPrivate(t,e){const i=this._privateSettings[t];return void 0!==i?i:e}_setPrivateRaw(t,e,i){this._prevPrivateSettings[t]=e,this._sendPrivateKeyEvent(t,i)}setPrivateRaw(t,e){const i=this._privateSettings[t];this._privateSettings[t]=e,i!==e&&this._setPrivateRaw(t,i,e)}_setPrivate(t,e){const i=this._privateSettings[t];this._privateSettings[t]=e,i!==e&&(this._setPrivateRaw(t,i,e),this._markDirtyPrivateKey(t))}_stopAnimationPrivate(t){const e=this._animatingPrivateSettings[t];e&&(e.stop(),delete this._animatingPrivateSettings[t])}setPrivate(t,e){return this._setPrivate(t,e),this._stopAnimationPrivate(t),e}removePrivate(t){t in this._privateSettings&&(this._prevPrivateSettings[t]=this._privateSettings[t],delete this._privateSettings[t],this._markDirtyPrivateKey(t)),this._stopAnimationPrivate(t)}setAll(t){je(t,((t,e)=>{this.set(t,e)}))}animate(t){const e=t.key,i=t.to,s=t.duration||0,n=t.loops||1,r=void 0===t.from?this.get(e):t.from,a=void 0===t.easing?He:t.easing;if(0===s)this.set(e,i);else{if(void 0!==r&&r!==i){this.set(e,r);const t=this._animatingSettings[e]=new ei(this,r,i,s,a,n,this._animationTime());return this._startAnimation(),t}this.set(e,i)}const o=new ei(this,r,i,s,a,n,null);return o.stop(),o}animatePrivate(t){const e=t.key,i=t.to,s=t.duration||0,n=t.loops||1,r=void 0===t.from?this.getPrivate(e):t.from,a=void 0===t.easing?He:t.easing;if(0===s)this.setPrivate(e,i);else{if(void 0!==r&&r!==i){this.setPrivate(e,r);const t=this._animatingPrivateSettings[e]=new ei(this,r,i,s,a,n,this._animationTime());return this._startAnimation(),t}this.setPrivate(e,i)}const o=new ei(this,r,i,s,a,n,null);return o.stop(),o}_dispose(){}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class ni extends si{constructor(t,e,i,s=[]){if(super(e),Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_user_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new Ke(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new ti(this)}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:this._createEvents()}),Object.defineProperty(this,"_userPrivateProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPrivate",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_templates",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_internalTemplates",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_defaultThemes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_templateDisposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_runSetup",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disposerProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),!i)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._root=t,this._internalTemplates=s,e.id&&this._registerId(e.id)}static new(t,e,i){const s=new this(t,e,!0);return s._template=i,s._afterNew(),s}static _new(t,e,i=[]){const s=new this(t,e,!0,i);return s._afterNew(),s}_afterNew(){this._checkDirty();let t=!1;const e=this._template;e&&(t=!0,e._setObjectTemplate(this)),F(this._internalTemplates,(e=>{t=!0,e._setObjectTemplate(this)})),t&&this._applyTemplates(!1),this.states.create("default",{}),this._setDefaults()}_afterNewApplyThemes(){this._checkDirty();const t=this._template;t&&t._setObjectTemplate(this),F(this._internalTemplates,(t=>{t._setObjectTemplate(this)})),this.states.create("default",{}),this._setDefaults(),this._applyThemes()}_createEvents(){return new mt}get classNames(){return this.constructor.classNames}get className(){return this.constructor.className}_setDefaults(){}_setDefault(t,e){t in this._settings||super.set(t,e)}_setRawDefault(t,e){t in this._settings||super.setRaw(t,e)}_clearDirty(){Ce(this._dirty).forEach((t=>{this._dirty[t]=!1})),Ce(this._dirtyPrivate).forEach((t=>{this._dirtyPrivate[t]=!1}))}isDirty(t){return!!this._dirty[t]}isPrivateDirty(t){return!!this._dirtyPrivate[t]}_markDirtyKey(t){this._dirty[t]=!0,super._markDirtyKey(t)}_markDirtyPrivateKey(t){this._dirtyPrivate[t]=!0,super._markDirtyKey(t)}isType(t){return-1!==this.classNames.indexOf(t)}_pushPropertyDisposer(t,e){let i=this._disposerProperties[t];return void 0===i&&(i=this._disposerProperties[t]=[]),i.push(e),e}_disposeProperty(t){const e=this._disposerProperties[t];void 0!==e&&(F(e,(t=>{t.dispose()})),delete this._disposerProperties[t])}set template(t){const e=this._template;e!==t&&(this._template=t,e&&e._removeObjectTemplate(this),t&&t._setObjectTemplate(this),this._applyTemplates())}get template(){return this._template}markDirty(){this._root._addDirtyEntity(this)}_startAnimation(){this._root._addAnimation(this)}_animationTime(){return this._root.animationTime}_applyState(t){}_applyStateAnimated(t,e){}get(t,e){const i=this.adapters.fold(t,this._settings[t]);return void 0!==i?i:e}isUserSetting(t){return this._userProperties[t]||!1}set(t,e){return this._userProperties[t]=!0,super.set(t,e)}setRaw(t,e){this._userProperties[t]=!0,super.setRaw(t,e)}_setSoft(t,e){return this._userProperties[t]?e:super.set(t,e)}remove(t){delete this._userProperties[t],this._removeTemplateProperty(t)}setPrivate(t,e){return this._userPrivateProperties[t]=!0,super.setPrivate(t,e)}setPrivateRaw(t,e){this._userPrivateProperties[t]=!0,super.setPrivateRaw(t,e)}removePrivate(t){delete this._userPrivateProperties[t],this._removeTemplatePrivateProperty(t)}_setTemplateProperty(t,e,i){if(!this._userProperties[e]){const s=this._findTemplateByKey(e);t===s&&super.set(e,i)}}_setTemplatePrivateProperty(t,e,i){if(!this._userPrivateProperties[e]){const s=this._findTemplateByPrivateKey(e);t===s&&super.setPrivate(e,i)}}_removeTemplateProperty(t){if(!this._userProperties[t]){const e=this._findTemplateByKey(t);e?super.set(t,e._settings[t]):super.remove(t)}}_removeTemplatePrivateProperty(t){if(!this._userPrivateProperties[t]){const e=this._findTemplateByPrivateKey(t);e?super.setPrivate(t,e._privateSettings[t]):super.removePrivate(t)}}_walkParents(t){t(this._root._rootContainer),t(this)}_applyStateByKey(t){const e=this.states.create(t,{}),i={};this._eachTemplate((s=>{const n=s.states.lookup(t);n&&n._apply(e,i)})),je(e._settings,(t=>{i[t]||e._userSettings[t]||e.remove(t)}))}_applyTemplate(t,e){this._templateDisposers.push(t._apply(this,e)),je(t._settings,((t,i)=>{e.settings[t]||this._userProperties[t]||(e.settings[t]=!0,super.set(t,i))})),je(t._privateSettings,((t,i)=>{e.privateSettings[t]||this._userPrivateProperties[t]||(e.privateSettings[t]=!0,super.setPrivate(t,i))})),this._runSetup&&t.setup&&(this._runSetup=!1,t.setup(this))}_findStaticTemplate(t){if(this._template&&t(this._template))return this._template}_eachTemplate(t){this._findStaticTemplate((e=>(t(e),!1))),R(this._internalTemplates,t),F(this._templates,t)}_applyTemplates(t=!0){t&&this._disposeTemplates();const e={settings:{},privateSettings:{},states:{}};this._eachTemplate((t=>{this._applyTemplate(t,e)})),t&&(je(this._settings,(t=>{this._userProperties[t]||e.settings[t]||super.remove(t)})),je(this._privateSettings,(t=>{this._userPrivateProperties[t]||e.privateSettings[t]||super.removePrivate(t)})))}_findTemplate(t){const e=this._findStaticTemplate(t);if(void 0===e){const e=Z(this._internalTemplates,t);return void 0===e?K(this._templates,t):e}return e}_findTemplateByKey(t){return this._findTemplate((e=>t in e._settings))}_findTemplateByPrivateKey(t){return this._findTemplate((e=>t in e._privateSettings))}_disposeTemplates(){F(this._templateDisposers,(t=>{t.dispose()})),this._templateDisposers.length=0}_removeTemplates(){F(this._templates,(t=>{t._removeObjectTemplate(this)})),this._templates.length=0}_applyThemes(){let t=!1;const e=[];let i=[];const s=new Set,n=this.get("themeTagsSelf");return n&&F(n,(t=>{s.add(t)})),this._walkParents((n=>{n===this._root._rootContainer&&(t=!0),n._defaultThemes.length>0&&e.push(n._defaultThemes);const r=n.get("themes");r&&i.push(r);const a=n.get("themeTags");a&&F(a,(t=>{s.add(t)}))})),i=e.concat(i),this._removeTemplates(),t&&R(this.classNames,(t=>{const e=[];F(i,(i=>{F(i,(i=>{const n=i._lookupRules(t);n&&R(n,(t=>{const i=t.tags.every((t=>s.has(t)));if(i){const i=$(e,(e=>{const i=$e(t.tags.length,e.tags.length);return 0===i?Je(t.tags,e.tags,$e):i}));e.splice(i.index,0,t)}}))}))})),F(e,(t=>{this._templates.push(t.template),t.template._setObjectTemplate(this)}))})),this._applyTemplates(),t&&(this._runSetup=!1),t}_changed(){}_beforeChanged(){if(this.isDirty("id")){const t=this.get("id");t&&this._registerId(t);const e=this._prevSettings.id;e&&delete qe.entitiesById[e]}}_registerId(t){if(qe.entitiesById[t]&&qe.entitiesById[t]!==this)throw new Error('An entity with id "'+t+'" already exists.');qe.entitiesById[t]=this}_afterChanged(){}addDisposer(t){return this._disposers.push(t),t}_dispose(){super._dispose();const t=this._template;t&&t._removeObjectTemplate(this),F(this._internalTemplates,(t=>{t._removeObjectTemplate(this)})),this._removeTemplates(),this._disposeTemplates(),this.events.dispose(),this._disposers.forEach((t=>{t.dispose()})),je(this._disposerProperties,((t,e)=>{F(e,(t=>{t.dispose()}))}));const e=this.get("id");e&&delete qe.entitiesById[e]}setTimeout(t,e){const i=setTimeout((()=>{this.removeDispose(s),t()}),e),s=new tt((()=>{clearTimeout(i)}));return this._disposers.push(s),s}removeDispose(t){if(!this.isDisposed()){let e=E(this._disposers,t);e>-1&&this._disposers.splice(e,1)}t.dispose()}hasTag(t){return-1!==E(this.get("themeTags",[]),t)}addTag(t){if(!this.hasTag(t)){const e=this.get("themeTags",[]);e.push(t),this.set("themeTags",e)}}removeTag(t){if(this.hasTag(t)){const e=this.get("themeTags",[]);B(e,t),this.set("themeTags",e)}}_t(t,e,...i){return this._root.language.translate(t,e,...i)}get root(){return this._root}}Object.defineProperty(ni,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Entity"}),Object.defineProperty(ni,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:["Entity"]});class ri{constructor(t,e,i){Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._name=t,this._template=e,this._settings=i}get(t,e){const i=this._settings[t];return void 0!==i?i:e}set(t,e){this._settings[t]=e,this._template._stateChanged(this._name)}remove(t){delete this._settings[t],this._template._stateChanged(this._name)}setAll(t){Ce(t).forEach((e=>{this._settings[e]=t[e]})),this._template._stateChanged(this._name)}_apply(t,e){je(this._settings,((i,s)=>{e[i]||t._userSettings[i]||(e[i]=!0,t.setRaw(i,s))}))}}class ai{constructor(t){Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._template=t}lookup(t){return this._states[t]}create(t,e){const i=this._states[t];if(i)return i.setAll(e),i;{const i=new ri(t,this._template,e);return this._states[t]=i,this._template._stateChanged(t),i}}remove(t){delete this._states[t],this._template._stateChanged(t)}_apply(t,e){je(this._states,((i,s)=>{let n=e.states[i];null==n&&(n=e.states[i]={});const r=t.states.create(i,{});s._apply(r,n)}))}}class oi{constructor(){Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}})}add(t,e){let i=this._callbacks[t];return void 0===i&&(i=this._callbacks[t]=[]),i.push(e),new tt((()=>{N(i,e),0===i.length&&delete this._callbacks[t]}))}remove(t){const e=this._callbacks[t];void 0!==e&&delete this._callbacks[t]}_apply(t){const e=[];return je(this._callbacks,((i,s)=>{F(s,(s=>{e.push(t.adapters.add(i,s))}))})),new it(e)}}class li{constructor(t,e){if(Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entities",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new ai(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new oi}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new mt}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!e)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._settings=t}static new(t){return new li(t,!0)}get entities(){return this._entities}get(t,e){const i=this._settings[t];return void 0!==i?i:e}setRaw(t,e){this._settings[t]=e}set(t,e){this._settings[t]!==e&&(this.setRaw(t,e),this._entities.forEach((i=>{i._setTemplateProperty(this,t,e)})))}remove(t){t in this._settings&&(delete this._settings[t],this._entities.forEach((e=>{e._removeTemplateProperty(t)})))}removeAll(){je(this._settings,((t,e)=>{this.remove(t)}))}getPrivate(t,e){const i=this._privateSettings[t];return void 0!==i?i:e}setPrivateRaw(t,e){return this._privateSettings[t]=e,e}setPrivate(t,e){return this._privateSettings[t]!==e&&(this.setPrivateRaw(t,e),this._entities.forEach((i=>{i._setTemplatePrivateProperty(this,t,e)}))),e}removePrivate(t){t in this._privateSettings&&(delete this._privateSettings[t],this._entities.forEach((e=>{e._removeTemplatePrivateProperty(t)})))}setAll(t){je(t,((t,e)=>{this.set(t,e)}))}on(t,e){let i=this._settingEvents[t];return void 0===i&&(i=this._settingEvents[t]=[]),i.push(e),new tt((()=>{N(i,e),0===i.length&&delete this._settingEvents[t]}))}onPrivate(t,e){let i=this._privateSettingEvents[t];return void 0===i&&(i=this._privateSettingEvents[t]=[]),i.push(e),new tt((()=>{N(i,e),0===i.length&&delete this._privateSettingEvents[t]}))}_apply(t,e){const i=[];return je(this._settingEvents,((e,s)=>{F(s,(s=>{i.push(t.on(e,s))}))})),je(this._privateSettingEvents,((e,s)=>{F(s,(s=>{i.push(t.onPrivate(e,s))}))})),this.states._apply(t,e),i.push(this.adapters._apply(t)),i.push(t.events.copyFrom(this.events)),new it(i)}_setObjectTemplate(t){this._entities.push(t)}_removeObjectTemplate(t){B(this._entities,t)}_stateChanged(t){this._entities.forEach((e=>{e._applyStateByKey(t)}))}}const hi=Math.PI,ui=hi/180,pi=180/hi;function ci(t,e,i){if(!ct(e)||e<=0){let e=Math.round(t);return i&&e-t==.5&&e--,e}{let i=Math.pow(10,e);return Math.round(t*i)/i}}function di(t,e){if(!ct(e)||e<=0)return Math.ceil(t);{let i=Math.pow(10,e);return Math.ceil(t*i)/i}}function gi(t,e,i){return Math.min(Math.max(t,e),i)}function fi(t){return Math.sin(ui*t)}function mi(t){return Math.cos(ui*t)}function yi(t){return t%=360,t<0&&(t+=360),t}function bi(t,e,i,s,n){let r=Number.MAX_VALUE,a=Number.MAX_VALUE,o=-Number.MAX_VALUE,l=-Number.MAX_VALUE,h=[];h.push(vi(n,i)),h.push(vi(n,s));let u=Math.min(90*Math.floor(i/90),90*Math.floor(s/90)),p=Math.max(90*Math.ceil(i/90),90*Math.ceil(s/90));for(let c=u;c<=p;c+=90)c>=i&&c<=s&&h.push(vi(n,c));for(let c=0;c<h.length;c++){let t=h[c];t.x<r&&(r=t.x),t.y<a&&(a=t.y),t.x>o&&(o=t.x),t.y>l&&(l=t.y)}return{left:t+r,top:e+a,right:t+o,bottom:e+l}}function vi(t,e){return{x:t*mi(e),y:t*fi(e)}}function _i(t){const e=t.length;if(e>0){let i=t[0],s=i.left,n=i.top,r=i.right,a=i.bottom;if(e>1)for(let o=1;o<e;o++)i=t[o],s=Math.min(i.left,s),r=Math.max(i.right,r),n=Math.min(i.top,n),a=Math.max(i.bottom,a);return{left:s,right:r,top:n,bottom:a}}return{left:0,right:0,top:0,bottom:0}}class xi extends mt{constructor(t){super(),Object.defineProperty(this,"_sprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rendererDisposers",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dispatchParents",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this._sprite=t}_makePointerEvent(t,e){return{type:t,originalEvent:e.event,point:e.point,simulated:e.simulated,native:e.native,target:this._sprite}}_onRenderer(t,e){this._sprite.set("interactive",!0),this._sprite._display.interactive=!0;let i=this._rendererDisposers[t];if(void 0===i){const s=this._sprite._display.on(t,(t=>{e.call(this,t)}));i=this._rendererDisposers[t]=new st((()=>{delete this._rendererDisposers[t],s.dispose()}))}return i.increment()}_on(t,e,i,s,n,r){const a=super._on(t,e,i,s,n,r),o=xi.RENDERER_EVENTS[e];return void 0!==o&&(a.disposer=new it([a.disposer,this._onRenderer(e,o)])),a}stopParentDispatch(){this._dispatchParents=!1}dispatchParents(t,e){const i=this._dispatchParents;this._dispatchParents=!0;try{this.dispatch(t,e),this._dispatchParents&&this._sprite.parent&&this._sprite.parent.events.dispatchParents(t,e)}finally{this._dispatchParents=i}}}Object.defineProperty(xi,"RENDERER_EVENTS",{enumerable:!0,configurable:!0,writable:!0,value:{click:function(t){this.isEnabled("click")&&!this._sprite.isDragging()&&this._sprite._hasDown()&&!this._sprite._hasMoved(this._makePointerEvent("click",t))&&this.dispatch("click",this._makePointerEvent("click",t))},rightclick:function(t){this.isEnabled("rightclick")&&this.dispatch("rightclick",this._makePointerEvent("rightclick",t))},middleclick:function(t){this.isEnabled("middleclick")&&this.dispatch("middleclick",this._makePointerEvent("middleclick",t))},dblclick:function(t){this.dispatchParents("dblclick",this._makePointerEvent("dblclick",t))},pointerover:function(t){this.isEnabled("pointerover")&&this.dispatch("pointerover",this._makePointerEvent("pointerover",t))},pointerout:function(t){this.isEnabled("pointerout")&&this.dispatch("pointerout",this._makePointerEvent("pointerout",t))},pointerdown:function(t){this.dispatchParents("pointerdown",this._makePointerEvent("pointerdown",t))},pointerup:function(t){this.isEnabled("pointerup")&&this.dispatch("pointerup",this._makePointerEvent("pointerup",t))},globalpointerup:function(t){this.isEnabled("globalpointerup")&&this.dispatch("globalpointerup",this._makePointerEvent("globalpointerup",t))},globalpointermove:function(t){this.isEnabled("globalpointermove")&&this.dispatch("globalpointermove",this._makePointerEvent("globalpointermove",t))},wheel:function(t){this.dispatchParents("wheel",{type:"wheel",target:this._sprite,originalEvent:t.event,point:t.point})}}});class wi extends ni{constructor(){super(...arguments),Object.defineProperty(this,"_adjustedLocalBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dataItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_templateField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_sizeDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dragEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isHidden",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isShowing",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isHiding",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_downPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downPoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_toggleDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dragDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_hoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipMoveDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipPointerDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_statesHandled",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this.setPrivateRaw("visible",!0),super._afterNew()}_markDirtyKey(t){super._markDirtyKey(t),"x"!=t&&"y"!=t&&"dx"!=t&&"dy"!=t||(this.markDirtyBounds(),this._addPercentagePositionChildren(),this.markDirtyPosition())}_markDirtyPrivateKey(t){super._markDirtyPrivateKey(t),"x"!=t&&"y"!=t||this.markDirtyPosition()}_removeTemplateField(){this._templateField&&this._templateField._removeObjectTemplate(this)}_createEvents(){return new xi(this)}_processTemplateField(){let t;const e=this.get("templateField");if(e){const i=this.dataItem;if(i){const s=i.dataContext;s&&(t=s[e],t instanceof li||!t||(t=li["new"](t)))}}this._templateField!==t&&(this._removeTemplateField(),this._templateField=t,t&&t._setObjectTemplate(this),this._applyTemplates())}_setDataItem(t){const e=this._dataItem;this._dataItem=t,this._processTemplateField();const i="dataitemchanged";t!=e&&this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this,oldDataItem:e,newDataItem:t})}set dataItem(t){this._setDataItem(t)}get dataItem(){if(this._dataItem)return this._dataItem;{let t=this._parent;while(t){if(t._dataItem)return t._dataItem;t=t._parent}}}_addPercentageSizeChildren(){let t=this.parent;t&&(this.get("width")instanceof wt||this.get("height")instanceof wt?z(t._percentageSizeChildren,this):N(t._percentageSizeChildren,this))}_addPercentagePositionChildren(){let t=this.parent;t&&(this.get("x")instanceof wt||this.get("y")instanceof wt?z(t._percentagePositionChildren,this):N(t._percentagePositionChildren,this))}markDirtyPosition(){this._root._addDirtyPosition(this)}updatePivotPoint(){const t=this._localBounds;if(t){const e=this.get("centerX");null!=e&&(this._display.pivot.x=t.left+qt(e,t.right-t.left));const i=this.get("centerY");null!=i&&(this._display.pivot.y=t.top+qt(i,t.bottom-t.top))}}_beforeChanged(){if(super._beforeChanged(),this._handleStates(),this.isDirty("tooltip")){const t=this._prevSettings.tooltip;t&&t.dispose()}if((this.isDirty("layer")||this.isDirty("layerMargin"))&&(this._display.setLayer(this.get("layer"),this.get("layerMargin")),this.markDirtyLayer()),this.isDirty("tooltipPosition")){const t=this._tooltipMoveDp;t&&(t.dispose(),this._tooltipMoveDp=void 0);const e=this._tooltipPointerDp;e&&(e.dispose(),this._tooltipPointerDp=void 0),"pointer"==this.get("tooltipPosition")&&(this._tooltipPointerDp=new it([this.events.on("pointerover",(()=>{this._tooltipMoveDp=this.events.on("globalpointermove",(t=>{this.showTooltip(t.point)}))})),this.events.on("pointerout",(()=>{const t=this._tooltipMoveDp;t&&(t.dispose(),this._tooltipMoveDp=void 0)}))]))}}_handleStates(){this._statesHandled||(this.isDirty("active")&&(this.get("active")?(this.states.applyAnimate("active"),this.set("ariaChecked",!0)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!1)),this.markDirtyAccessibility()),this.isDirty("disabled")&&(this.get("disabled")?(this.states.applyAnimate("disabled"),this.set("ariaChecked",!1)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!0)),this.markDirtyAccessibility()),this._statesHandled=!0)}_changed(){super._changed();const t=this._display,e=this.events;if(this.isDirty("draggable")){const i=this.get("draggable");i?(this.set("interactive",!0),this._dragDp=new it([e.on("pointerdown",(t=>{this.dragStart(t)})),e.on("globalpointermove",(t=>{this.dragMove(t)})),e.on("globalpointerup",(t=>{this.dragStop(t)}))])):this._dragDp&&(this._dragDp.dispose(),this._dragDp=void 0),t.cancelTouch=!!i}if(this.isDirty("tooltipText")||this.isDirty("tooltipHTML")||this.isDirty("showTooltipOn")){const t=this.get("tooltipText"),i=this.get("tooltipHTML"),s=this.get("showTooltipOn","hover");this._tooltipDp&&(this._tooltipDp.dispose(),this._tooltipDp=void 0),(t||i)&&("click"==s?(this._tooltipDp=new it([e.on("click",(()=>{this.setTimeout((()=>this.showTooltip()),10)})),Lt(document,"click",(t=>{this.hideTooltip()}))]),this._disposers.push(this._tooltipDp)):"always"==s||(this._tooltipDp=new it([e.on("pointerover",(()=>{this.showTooltip()})),e.on("pointerout",(()=>{this.hideTooltip()}))]),this._disposers.push(this._tooltipDp)))}if(this.isDirty("toggleKey")){let t=this.get("toggleKey");t&&"none"!=t?this._toggleDp=e.on("click",(()=>{this._isDragging||this.set(t,!this.get(t))})):this._toggleDp&&(this._toggleDp.dispose(),this._toggleDp=void 0)}if(this.isDirty("opacity")&&(t.alpha=Math.max(0,this.get("opacity",1))),this.isDirty("rotation")&&(this.markDirtyBounds(),t.angle=this.get("rotation",0)),this.isDirty("scale")&&(this.markDirtyBounds(),t.scale=this.get("scale",0)),(this.isDirty("centerX")||this.isDirty("centerY"))&&(this.markDirtyBounds(),this.updatePivotPoint()),(this.isDirty("visible")||this.isPrivateDirty("visible")||this.isDirty("forceHidden"))&&(this.get("visible")&&this.getPrivate("visible")&&!this.get("forceHidden")?t.visible=!0:(t.visible=!1,this.hideTooltip()),this.markDirtyBounds(),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("width")||this.isDirty("height")){this.markDirtyBounds(),this._addPercentageSizeChildren();const t=this.parent;t&&(this.isDirty("width")&&this.get("width")instanceof wt||this.isDirty("height")&&this.get("height")instanceof wt)&&(t.markDirty(),t._prevWidth=0),this._sizeDirty=!0}if((this.isDirty("maxWidth")||this.isDirty("maxHeight")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("minWidth")||this.isDirty("minHeight")||this.isPrivateDirty("maxWidth")||this.isPrivateDirty("maxHeight")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight"))&&(this.markDirtyBounds(),this._sizeDirty=!0),this._sizeDirty&&this._updateSize(),this.isDirty("wheelable")){const e=this.get("wheelable");e&&this.set("interactive",!0),t.wheelable=!!e}if((this.isDirty("tabindexOrder")||this.isDirty("focusableGroup"))&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this)),this.isDirty("filter")&&(t.filter=this.get("filter")),this.isDirty("cursorOverStyle")&&(t.cursorOverStyle=this.get("cursorOverStyle")),this.isDirty("hoverOnFocus")&&(this.get("hoverOnFocus")?this._focusDp=new it([e.on("focus",(()=>{this.showTooltip()})),e.on("blur",(()=>{this.hideTooltip()}))]):this._focusDp&&(this._focusDp.dispose(),this._focusDp=void 0)),this.isDirty("focusable")&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this),this.markDirtyAccessibility()),this.isPrivateDirty("focusable")&&this.markDirtyAccessibility(),(this.isDirty("role")||this.isDirty("ariaLive")||this.isDirty("ariaChecked")||this.isDirty("ariaHidden")||this.isDirty("ariaOrientation")||this.isDirty("ariaValueNow")||this.isDirty("ariaValueMin")||this.isDirty("ariaValueMax")||this.isDirty("ariaValueText")||this.isDirty("ariaLabel")||this.isDirty("ariaControls"))&&this.markDirtyAccessibility(),this.isDirty("exportable")&&(t.exportable=this.get("exportable")),this.isDirty("interactive")){const t=this.events;this.get("interactive")?this._hoverDp=new it([t.on("click",(t=>{Ht(t.originalEvent)&&(this.getPrivate("touchHovering")||this.setTimeout((()=>{this._handleOver(),(this.get("tooltipText")||this.get("tooltipHTML"))&&this.showTooltip(),this.setPrivateRaw("touchHovering",!0),this.events.dispatch("pointerover",{type:"pointerover",target:t.target,originalEvent:t.originalEvent,point:t.point,simulated:t.simulated})}),10))})),t.on("globalpointerup",(t=>{Ht(t.originalEvent)&&this.getPrivate("touchHovering")&&(this._handleOut(),(this.get("tooltipText")||this.get("tooltipHTML"))&&this.hideTooltip(),this.setPrivateRaw("touchHovering",!1),this.events.dispatch("pointerout",{type:"pointerout",target:t.target,originalEvent:t.originalEvent,point:t.point,simulated:t.simulated})),this._isDown&&this._handleUp(t)})),t.on("pointerover",(()=>{this._handleOver()})),t.on("pointerout",(()=>{this._handleOut()})),t.on("pointerdown",(t=>{this._handleDown(t)}))]):(this._display.interactive=!1,this._hoverDp&&(this._hoverDp.dispose(),this._hoverDp=void 0))}this.isDirty("forceInactive")&&(this._display.inactive=this.get("forceInactive",!1)),"always"==this.get("showTooltipOn")&&this._display.visible&&this.showTooltip()}dragStart(t){this._dragEvent=t,this.events.stopParentDispatch()}dragStop(t){if(this._dragEvent=void 0,this._dragPoint=void 0,this.events.stopParentDispatch(),this._isDragging){this._isDragging=!1;const e="dragstop";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this,originalEvent:t.originalEvent,point:t.point,simulated:t.simulated})}}_handleOver(){this.isHidden()||(this.get("active")&&this.states.lookup("hoverActive")?this.states.applyAnimate("hoverActive"):this.get("disabled")&&this.states.lookup("hoverDisabled")?this.states.applyAnimate("hoverDisabled"):this.states.applyAnimate("hover"),this.get("draggable")&&this._isDown&&this.states.lookup("down")&&this.states.applyAnimate("down"))}_handleOut(){this.isHidden()||(this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):(this.states.lookup("hover")||this.states.lookup("hoverActive"))&&this.states.applyAnimate("default"),this.get("draggable")&&this._isDown&&this.states.lookup("down")&&this.states.applyAnimate("down"))}_handleUp(t){if(!this.isHidden()){this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):this.states.lookup("down")&&(this.isHover()?this.states.applyAnimate("hover"):this.states.applyAnimate("default")),this._downPoint=void 0;const e=Rt(t.originalEvent);delete this._downPoints[e],0==Ce(this._downPoints).length&&(this._isDown=!1)}}_hasMoved(t){const e=Rt(t.originalEvent),i=this._downPoints[e];if(i){const e=Math.abs(i.x-t.point.x),s=Math.abs(i.y-t.point.y);return e>5||s>5}return!1}_hasDown(){return Ce(this._downPoints).length>0}_handleDown(t){const e=this.parent;if(e&&!this.get("draggable")&&e._handleDown(t),this.get("interactive")&&!this.isHidden()){this.states.lookup("down")&&this.states.applyAnimate("down"),this._downPoint={x:t.point.x,y:t.point.y},this._isDown=!0;const e=Rt(t.originalEvent);this._downPoints[e]={x:t.point.x,y:t.point.y}}}dragMove(t){let e=this._dragEvent;if(e){if(e.simulated&&!t.simulated)return!0;let i=0,s=this.parent;while(null!=s)i+=s.get("rotation",0),s=s.parent;let n=t.point.x-e.point.x,r=t.point.y-e.point.y;const a=this.events;if(e.simulated&&!this._isDragging){this._isDragging=!0,this._dragEvent=t,this._dragPoint={x:this.x(),y:this.y()};const e="dragstart";a.isEnabled(e)&&a.dispatch(e,{type:e,target:this,originalEvent:t.originalEvent,point:t.point,simulated:t.simulated})}if(this._isDragging){let e=this._dragPoint;this.set("x",e.x+n*mi(i)+r*fi(i)),this.set("y",e.y+r*mi(i)-n*fi(i));const s="dragged";a.isEnabled(s)&&a.dispatch(s,{type:s,target:this,originalEvent:t.originalEvent,point:t.point,simulated:t.simulated})}else if(Math.hypot(n,r)>5){this._isDragging=!0,this._dragEvent=t,this._dragPoint={x:this.x(),y:this.y()};const e="dragstart";a.isEnabled(e)&&a.dispatch(e,{type:e,target:this,originalEvent:t.originalEvent,point:t.point,simulated:t.simulated})}}}_updateSize(){}_getBounds(){this._localBounds=this._display.getLocalBounds()}depth(){let t=this.parent,e=0;while(1){if(!t)return e;++e,t=t.parent}}markDirtySize(){this._sizeDirty=!0,this.markDirty()}markDirtyBounds(){if(this.get("isMeasured")){const t=this._display;this._root._addDirtyBounds(this),t.isMeasured=!0,t.invalidateBounds();const e=this.parent;e&&"absolute"!=this.get("position")&&(null==e.get("width")||null==e.get("height")||e.get("layout"))&&e.markDirtyBounds(),this.get("focusable")&&this.isFocus()&&this.markDirtyAccessibility()}}markDirtyAccessibility(){this._root._invalidateAccessibility(this)}markDirtyLayer(){this._display.markDirtyLayer(!0)}markDirty(){super.markDirty(),this.markDirtyLayer()}_updateBounds(){const t=this._adjustedLocalBounds;let e;if(this.get("visible")&&this.getPrivate("visible")&&!this.get("forceHidden")?(this._getBounds(),this._fixMinBounds(this._localBounds),this.updatePivotPoint(),this._adjustedLocalBounds=this._display.getAdjustedBounds(this._localBounds),e=this._adjustedLocalBounds):(e={left:0,right:0,top:0,bottom:0},this._localBounds=e,this._adjustedLocalBounds=e),!t||t.left!==e.left||t.top!==e.top||t.right!==e.right||t.bottom!==e.bottom){const t="boundschanged";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this}),this.parent&&(this.parent.markDirty(),this.parent.markDirtyBounds())}}_fixMinBounds(t){let e=this.get("minWidth",this.getPrivate("minWidth")),i=this.get("minHeight",this.getPrivate("minHeight"));ct(e)&&t.right-t.left<e&&(t.right=t.left+e),ct(i)&&t.bottom-t.top<i&&(t.bottom=t.top+i);let s=this.getPrivate("width"),n=this.getPrivate("height");ct(s)&&(s>0?t.right=t.left+s:t.left=t.right+s),ct(n)&&(n>0?t.bottom=t.top+n:t.top=t.bottom+n)}_removeParent(t){t&&(t.children.removeValue(this),N(t._percentageSizeChildren,this),N(t._percentagePositionChildren,this))}_clearDirty(){super._clearDirty(),this._sizeDirty=!1,this._statesHandled=!1}hover(){this.showTooltip(),this._handleOver()}unhover(){this.hideTooltip(),this._handleOut()}showTooltip(t){const e=this.getTooltip(),i=this.get("tooltipText"),s=this.get("tooltipHTML");if((i||s)&&e){const n=this.get("tooltipPosition"),r=this.getPrivate("tooltipTarget",this);"fixed"!=n&&t||(this._display._setMatrix(),t=this.toGlobal(r._getTooltipPoint())),e.set("pointTo",t),e.set("tooltipTarget",r),e.get("x")||e.set("x",t.x),e.get("y")||e.set("y",t.y),i&&e.label.set("text",i),s&&e.label.set("html",s);const a=this.dataItem;if(a&&e.label._setDataItem(a),"always"==this.get("showTooltipOn")&&(t.x<0||t.x>this._root.width()||t.y<0||t.y>this._root.height()))return void this.hideTooltip();e.label.text.markDirtyText();const o=e.show();return this.setPrivateRaw("showingTooltip",!0),o}}hideTooltip(){const t=this.getTooltip();if(t&&t.get("tooltipTarget")==this.getPrivate("tooltipTarget",this)){let e=t.get("keepTargetHover")&&0==t.get("stateAnimationDuration",0)?400:void 0;const i=t.hide(e);return this.setPrivateRaw("showingTooltip",!1),i}}_getTooltipPoint(){const t=this._localBounds;if(t){let e=0,i=0;return this.get("isMeasured")?(e=t.left+qt(this.get("tooltipX",0),t.right-t.left),i=t.top+qt(this.get("tooltipY",0),t.bottom-t.top)):(e=qt(this.get("tooltipX",0),this.width()),i=qt(this.get("tooltipY",0),this.height())),{x:e,y:i}}return{x:0,y:0}}getTooltip(){let t=this.get("tooltip");if(t)return t;{let t=this.parent;if(t)return t.getTooltip()}}_updatePosition(){const t=this.parent;let e=this.get("dx",0),i=this.get("dy",0),s=this.get("x"),n=this.getPrivate("x"),r=0,a=0;const o=this.get("position");s instanceof wt&&(s=t?t.innerWidth()*s.value+t.get("paddingLeft",0):0),ct(s)?r=s+e:null!=n?r=n:t&&"relative"==o&&(r=t.get("paddingLeft",0)+e);let l=this.get("y"),h=this.getPrivate("y");l instanceof wt&&(l=t?t.innerHeight()*l.value+t.get("paddingTop",0):0),ct(l)?a=l+i:null!=h?a=h:t&&"relative"==o&&(a=t.get("paddingTop",0)+i);const u=this._display;if(u.x!=r||u.y!=a){u.invalidateBounds(),u.x=r,u.y=a;const t="positionchanged";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this})}this.getPrivate("showingTooltip")&&this.showTooltip()}x(){let t=this.get("x"),e=this.getPrivate("x");const i=this.parent;return i?t instanceof wt?qt(t,i.innerWidth())+i.get("paddingLeft",0):ct(t)?t:null!=e?e:i.get("paddingLeft",this._display.x):this._display.x}y(){let t=this.getPrivate("y");if(null!=t)return t;let e=this.get("y");const i=this.parent;return i?e instanceof wt?qt(e,i.innerHeight())+i.get("paddingTop",0):ct(e)?e:null!=t?t:i.get("paddingTop",this._display.y):this._display.y}_dispose(){super._dispose(),this._display.dispose(),this._removeTemplateField(),this._removeParent(this.parent),this._root._removeFocusElement(this);const t=this.get("tooltip");t&&t.dispose(),this.markDirty()}adjustedLocalBounds(){return this._fixMinBounds(this._adjustedLocalBounds),this._adjustedLocalBounds}localBounds(){return this._localBounds}bounds(){const t=this._adjustedLocalBounds,e=this.x(),i=this.y();return{left:t.left+e,right:t.right+e,top:t.top+i,bottom:t.bottom+i}}globalBounds(){const t=this.localBounds(),e=this.toGlobal({x:t.left,y:t.top}),i=this.toGlobal({x:t.right,y:t.top}),s=this.toGlobal({x:t.right,y:t.bottom}),n=this.toGlobal({x:t.left,y:t.bottom});return{left:Math.min(e.x,i.x,s.x,n.x),top:Math.min(e.y,i.y,s.y,n.y),right:Math.max(e.x,i.x,s.x,n.x),bottom:Math.max(e.y,i.y,s.y,n.y)}}_onShow(t){}_onHide(t){}appear(t,e){return St(this,void 0,void 0,(function*(){return yield this.hide(0),e?new Promise(((i,s)=>{this.setTimeout((()=>{i(this.show(t))}),e)})):this.show(t)}))}show(t){return St(this,void 0,void 0,(function*(){if(!this._isShowing){this._isHidden=!1,this._isShowing=!0,this._isHiding=!1,this.states.lookup("default").get("visible")&&this.set("visible",!0),this._onShow(t);const e=this.states.applyAnimate("default",t);yield Ae(e),this._isShowing=!1}}))}hide(t){return St(this,void 0,void 0,(function*(){if(!this._isHiding&&!this._isHidden){this._isHiding=!0,this._isShowing=!1;let e=this.states.lookup("hidden");e||(e=this.states.create("hidden",{opacity:0,visible:!1})),this._isHidden=!0,this._onHide(t);const i=this.states.applyAnimate("hidden",t);yield Ae(i),this._isHiding=!1}}))}isHidden(){return this._isHidden}isShowing(){return this._isShowing}isHiding(){return this._isHiding}isHover(){return this._display.hovering()}isFocus(){return this._root.focused(this)}isDragging(){return this._isDragging}isVisible(){return!(!this.get("visible")||!this.getPrivate("visible")||this.get("forceHidden"))}isVisibleDeep(){return this._parent?this._parent.isVisibleDeep()&&this.isVisible():this.isVisible()}compositeOpacity(){const t=this.get("opacity",1);return this._parent?this._parent.compositeOpacity()*t:t}width(){let t=this.get("width"),e=this.get("maxWidth",this.getPrivate("maxWidth")),i=this.get("minWidth",this.getPrivate("minWidth")),s=this.getPrivate("width"),n=0;if(ct(s))n=s;else if(null==t)this._adjustedLocalBounds&&(n=this._adjustedLocalBounds.right-this._adjustedLocalBounds.left);else if(t instanceof wt){const e=this.parent;n=e?e.innerWidth()*t.value:this._root.width()*t.value}else ct(t)&&(n=t);return ct(i)&&(n=Math.max(i,n)),ct(e)&&(n=Math.min(e,n)),n}maxWidth(){let t=this.get("maxWidth",this.getPrivate("maxWidth"));if(ct(t))return t;{let t=this.get("width");if(ct(t))return t}const e=this.parent;return e?e.innerWidth():this._root.width()}maxHeight(){let t=this.get("maxHeight",this.getPrivate("maxHeight"));if(ct(t))return t;{let t=this.get("height");if(ct(t))return t}const e=this.parent;return e?e.innerHeight():this._root.height()}height(){let t=this.get("height"),e=this.get("maxHeight",this.getPrivate("maxHeight")),i=this.get("minHeight",this.getPrivate("minHeight")),s=this.getPrivate("height"),n=0;if(ct(s))n=s;else if(null==t)this._adjustedLocalBounds&&(n=this._adjustedLocalBounds.bottom-this._adjustedLocalBounds.top);else if(t instanceof wt){const e=this.parent;n=e?e.innerHeight()*t.value:this._root.height()*t.value}else ct(t)&&(n=t);return ct(i)&&(n=Math.max(i,n)),ct(e)&&(n=Math.min(e,n)),n}_findStaticTemplate(t){return this._templateField&&t(this._templateField)?this._templateField:super._findStaticTemplate(t)}_walkParents(t){this._parent&&this._walkParent(t)}_walkParent(t){this._parent&&this._parent._walkParent(t),t(this)}get parent(){return this._parent}_setParent(t,e=!1){const i=this._parent;t!==i&&(this.markDirtyBounds(),t.markDirty(),this._parent=t,e&&(this._removeParent(i),t&&(this._addPercentageSizeChildren(),this._addPercentagePositionChildren())),this.markDirtyPosition(),this._applyThemes())}getNumberFormatter(){return this.get("numberFormatter",this._root.numberFormatter)}getDateFormatter(){return this.get("dateFormatter",this._root.dateFormatter)}getDurationFormatter(){return this.get("durationFormatter",this._root.durationFormatter)}toGlobal(t){return this._display.toGlobal(t)}toLocal(t){return this._display.toLocal(t)}_getDownPoint(){const t=this._getDownPointId();if(t)return this._downPoints[t]}_getDownPointId(){if(this._downPoints)return Me(this._downPoints,((t,e)=>t>e?1:t<e?-1:0))[0]}toFront(){const t=this.parent;t&&t.children.moveValue(this,t.children.length-1)}toBack(){const t=this.parent;t&&t.children.moveValue(this,0)}}Object.defineProperty(wi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Sprite"}),Object.defineProperty(wi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ni.classNames.concat([wi.className])});class Pi extends ni{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_backgroundDisplay",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_pattern",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNewApplyThemes()}get pattern(){return this._pattern}_draw(){}_beforeChanged(){super._beforeChanged(),(this.isDirty("repetition")||this.isDirty("width")||this.isDirty("height")||this.isDirty("rotation")||this.isDirty("color")||this.isDirty("strokeWidth")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("colorOpacity")||this.isDirty("fill")||this.isDirty("fillOpacity"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const t=this.get("repetition",""),e=this.get("width",100),i=this.get("height",100),s=this.get("fill"),n=this.get("fillOpacity",1);this._display.clear(),this._backgroundDisplay.clear(),s&&n>0&&(this._backgroundDisplay.beginFill(s,n),this._backgroundDisplay.drawRect(0,0,e,i),this._backgroundDisplay.endFill()),this._display.angle=this.get("rotation",0),this._draw(),this._pattern=this._root._renderer.createPattern(this._display,this._backgroundDisplay,t,e,i)}}}Object.defineProperty(Pi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Pattern"}),Object.defineProperty(Pi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ni.classNames.concat([Pi.className])});class Oi extends Pi{constructor(){super(...arguments),Object.defineProperty(this,"_image",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){super._beforeChanged(),this._clear=!0,this.isDirty("src")&&this._load()}_draw(){super._draw();const t=this._image;if(t){const e=this.get("width",100),i=this.get("height",100),s=this.get("fit","image");let n=0,r=0;"pattern"==s?(n=e,r=i):(n=t.width,r=t.height,"image"==s&&(this.set("width",n),this.set("height",r)));const a=this.get("centered",!0);let o=0,l=0;a&&(o=e/2-n/2,l=i/2-r/2),this._display.image(t,n,r,o,l)}}_load(){const t=this.get("src");if(t){const e=new Image;e.src=t,e.decode().then((()=>{this._image=e,this._draw(),this.events.isEnabled("loaded")&&this.events.dispatch("loaded",{type:"loaded",target:this})})).catch((t=>{}))}}}var ki;Object.defineProperty(Oi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PicturePattern"}),Object.defineProperty(Oi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Pi.classNames.concat([Oi.className])}),function(t){t["ADD"]="lighter",t["COLOR"]="color",t["COLOR_BURN"]="color-burn",t["COLOR_DODGE"]="color-dodge",t["DARKEN"]="darken",t["DIFFERENCE"]="difference",t["DST_OVER"]="destination-over",t["EXCLUSION"]="exclusion",t["HARD_LIGHT"]="hard-light",t["HUE"]="hue",t["LIGHTEN"]="lighten",t["LUMINOSITY"]="luminosity",t["MULTIPLY"]="multiply",t["NORMAL"]="source-over",t["OVERLAY"]="overlay",t["SATURATION"]="saturation",t["SCREEN"]="screen",t["SOFT_LIGHT"]="soft-light",t["SRC_ATOP"]="source-atop",t["XOR"]="xor"}(ki||(ki={}));const Di=["fill","fillOpacity","stroke","strokeWidth","strokeOpacity","fillPattern","strokePattern","fillGradient","strokeGradient","strokeDasharray","strokeDashoffset"];class Ti extends wi{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_beforeChanged(){if(super._beforeChanged(),(this.isDirty("draw")||this.isDirty("svgPath"))&&this.markDirtyBounds(),(this.isDirty("fill")||this.isDirty("stroke")||this.isDirty("visible")||this.isDirty("forceHidden")||this.isDirty("scale")||this.isDirty("fillGradient")||this.isDirty("strokeGradient")||this.isDirty("fillPattern")||this.isDirty("strokePattern")||this.isDirty("fillOpacity")||this.isDirty("strokeOpacity")||this.isDirty("strokeWidth")||this.isDirty("draw")||this.isDirty("blendMode")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("svgPath")||this.isDirty("lineJoin")||this.isDirty("shadowColor")||this.isDirty("shadowBlur")||this.isDirty("shadowOffsetX")||this.isDirty("shadowOffsetY"))&&(this._clear=!0),this._display.crisp=this.get("crisp",!1),this.isDirty("fillGradient")){const t=this.get("fillGradient");if(t){this._display.isMeasured=!0;const e=t.get("target");e&&(this._disposers.push(e.events.on("boundschanged",(()=>{this._markDirtyKey("fill")}))),this._disposers.push(e.events.on("positionchanged",(()=>{this._markDirtyKey("fill")}))))}}if(this.isDirty("strokeGradient")){const t=this.get("strokeGradient");if(t){this._display.isMeasured=!0;const e=t.get("target");e&&(this._disposers.push(e.events.on("boundschanged",(()=>{this._markDirtyKey("stroke")}))),this._disposers.push(e.events.on("positionchanged",(()=>{this._markDirtyKey("stroke")}))))}}}_changed(){if(super._changed(),this._clear){this.markDirtyBounds(),this.markDirtyLayer(),this._display.clear();let t=this.get("strokeDasharray");ct(t)&&(t=t<.5?[0]:[t]),this._display.setLineDash(t);const e=this.get("strokeDashoffset");e&&this._display.setLineDashOffset(e);const i=this.get("blendMode",ki.NORMAL);this._display.blendMode=i;const s=this.get("draw");s&&s(this._display,this);const n=this.get("svgPath");null!=n&&this._display.svgPath(n)}}_afterChanged(){if(super._afterChanged(),this._clear){const t=this.get("fill"),e=this.get("fillGradient"),i=this.get("fillPattern"),s=this.get("fillOpacity"),n=this.get("stroke"),r=this.get("strokeGradient"),a=this.get("strokePattern"),o=this.get("shadowColor"),l=this.get("shadowBlur"),h=this.get("shadowOffsetX"),u=this.get("shadowOffsetY"),p=this.get("shadowOpacity");if(o&&(l||h||u)&&this._display.shadow(o,l,h,u,p),i){let e=!1;!t||i.get("fill")&&!i.get("fillInherited")||(i.set("fill",t),i.set("fillInherited",!0),e=!0),!n||i.get("color")&&!i.get("colorInherited")||(i.set("color",n),i.set("colorInherited",!0),e=!0),e&&i._changed();const r=i.pattern;r&&(this._display.beginFill(r,s),this._display.endFill(),i instanceof Oi&&i.events.once("loaded",(()=>{this._clear=!0,this.markDirty()})))}else if(e){if(t){const i=e.get("stops",[]);i.length&&F(i,(e=>{e.color&&!e.colorInherited||!t||(e.color=t,e.colorInherited=!0),(null==e.opacity||e.opacityInherited)&&(e.opacity=s,e.opacityInherited=!0)}))}const i=e.getFill(this);i&&(this._display.beginFill(i,s),this._display.endFill())}else t&&(this._display.beginFill(t,s),this._display.endFill());if(n||r||a){const t=this.get("strokeOpacity");let e=this.get("strokeWidth",1);this.get("nonScalingStroke")&&(e/=this.get("scale",1)),this.get("crisp")&&(e/=this._root._renderer.resolution);const i=this.get("lineJoin");if(a){let s=!1;!n||a.get("color")&&!a.get("colorInherited")||(a.set("color",n),a.set("colorInherited",!0),s=!0),s&&a._changed();const r=a.pattern;r&&(this._display.lineStyle(e,r,t,i),this._display.endStroke(),a instanceof Oi&&a.events.once("loaded",(()=>{this._clear=!0,this.markDirty()})))}else if(r){const s=r.get("stops",[]);s.length&&F(s,(e=>{e.color&&!e.colorInherited||!n||(e.color=n,e.colorInherited=!0),(null==e.opacity||e.opacityInherited)&&(e.opacity=t,e.opacityInherited=!0)}));const a=r.getFill(this);a&&(this._display.lineStyle(e,a,t,i),this._display.endStroke())}else n&&(this._display.lineStyle(e,n,t,i),this._display.endStroke())}this.getPrivate("showingTooltip")&&this.showTooltip()}this._clear=!1}}Object.defineProperty(Ti,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Graphics"}),Object.defineProperty(Ti,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:wi.classNames.concat([Ti.className])});class Si extends Ti{_beforeChanged(){super._beforeChanged(),(this.isDirty("width")||this.isDirty("height")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){super._changed(),this._clear&&!this.get("draw")&&this._draw()}_draw(){this._display.drawRect(0,0,this.width(),this.height())}_updateSize(){this.markDirty(),this._clear=!0}}function Ci(t,e){t.get("reverseChildren",!1)?t.children.eachReverse(e):t.children.each(e)}Object.defineProperty(Si,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Rectangle"}),Object.defineProperty(Si,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ti.classNames.concat([Si.className])});class Mi extends ni{}Object.defineProperty(Mi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Layout"}),Object.defineProperty(Mi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ni.classNames.concat([Mi.className])});class Ii extends Mi{updateContainer(t){let e=t.get("paddingLeft",0),i=t.innerWidth(),s=0;Ci(t,(t=>{if(t.isVisible()&&"relative"==t.get("position")){let e=t.get("width");if(e instanceof wt){s+=e.value;let n=i*e.value,r=t.get("minWidth",t.getPrivate("minWidth",-1/0));r>n&&(i-=r,s-=e.value);let a=t.get("maxWidth",t.getPrivate("maxWidth",1/0));n>a&&(i-=a,s-=e.value)}else ct(e)||(e=t.width()),i-=e+t.get("marginLeft",0)+t.get("marginRight",0)}})),(i<=0||i==1/0)&&(i=.1),Ci(t,(t=>{if(t.isVisible()&&"relative"==t.get("position")){let e=t.get("width");if(e instanceof wt){let n=i*e.value/s-t.get("marginLeft",0)-t.get("marginRight",0),r=t.get("minWidth",t.getPrivate("minWidth",-1/0)),a=t.get("maxWidth",t.getPrivate("maxWidth",1/0));n=Math.min(Math.max(r,n),a),t.setPrivate("width",n)}}}));let n=e;Ci(t,(t=>{if("relative"==t.get("position"))if(t.isVisible()){let e=t.adjustedLocalBounds(),i=t.get("marginLeft",0),s=t.get("marginRight",0),r=t.get("maxWidth"),a=e.left,o=e.right;r&&o-a>r&&(o=a+r);let l=n+i-a;t.setPrivate("x",l),n=l+o+s}else t.setPrivate("x",void 0)}))}}Object.defineProperty(Ii,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HorizontalLayout"}),Object.defineProperty(Ii,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Mi.classNames.concat([Ii.className])});class ji extends Mi{updateContainer(t){let e=t.get("paddingTop",0),i=t.innerHeight(),s=0;Ci(t,(t=>{if(t.isVisible()&&"relative"==t.get("position")){let e=t.get("height");if(e instanceof wt){s+=e.value;let n=i*e.value,r=t.get("minHeight",t.getPrivate("minHeight",-1/0));r>n&&(i-=r,s-=e.value);let a=t.get("maxHeight",t.getPrivate("maxHeight",1/0));n>a&&(i-=a,s-=e.value)}else ct(e)||(e=t.height()),i-=e+t.get("marginTop",0)+t.get("marginBottom",0)}})),(i<=0||i==1/0)&&(i=.1),Ci(t,(t=>{if(t.isVisible()&&"relative"==t.get("position")){let e=t.get("height");if(e instanceof wt){let n=i*e.value/s-t.get("marginTop",0)-t.get("marginBottom",0),r=t.get("minHeight",t.getPrivate("minHeight",-1/0)),a=t.get("maxHeight",t.getPrivate("maxHeight",1/0));n=Math.min(Math.max(r,n),a),t.setPrivate("height",n)}}}));let n=e;Ci(t,(t=>{if("relative"==t.get("position"))if(t.isVisible()){let e=t.adjustedLocalBounds(),i=t.get("marginTop",0),s=e.top,r=e.bottom,a=t.get("maxHeight");a&&r-s>a&&(r=s+a);let o=t.get("marginBottom",0),l=n+i-s;t.setPrivate("y",l),n=l+r+o}else t.setPrivate("y",void 0)}))}}Object.defineProperty(ji,"className",{enumerable:!0,configurable:!0,writable:!0,value:"VerticalLayout"}),Object.defineProperty(ji,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Mi.classNames.concat([ji.className])});class Ei extends Mi{_afterNew(){this._setRawDefault("maxColumns",Number.MAX_VALUE),super._afterNew()}updateContainer(t){let e=t.get("paddingLeft",0),i=t.get("paddingRight",0),s=t.get("paddingTop",0),n=t.maxWidth()-e-i,r=n,a=1;Ci(t,(t=>{if(t.get("visible")&&t.getPrivate("visible")&&!t.get("forceHidden")&&"absolute"!=t.get("position")){let e=t.width();e<r&&(r=e),e>a&&(a=e)}})),r=gi(r,1,n),a=gi(a,1,n);let o=1;o=this.get("fixedWidthGrid")?n/a:n/r,o=Math.max(1,Math.floor(o)),o=Math.min(this.get("maxColumns",Number.MAX_VALUE),o);let l=this.getColumnWidths(t,o,a,n),h=s,u=0,p=0;o=l.length;let c=e;Ci(t,(t=>{if("relative"==t.get("position")&&t.isVisible()){const i=t.get("marginTop",0),s=t.get("marginBottom",0);let n=t.adjustedLocalBounds(),r=t.get("marginLeft",0),a=t.get("marginRight",0),d=c+r-n.left,g=h+i-n.top;t.setPrivate("x",d),t.setPrivate("y",g),c+=l[u]+a,p=Math.max(p,t.height()+i+s),u++,u>=o&&(u=0,c=e,h+=p)}}))}getColumnWidths(t,e,i,s){let n=0,r=[],a=0;return Ci(t,(s=>{let n=s.adjustedLocalBounds();"absolute"!=s.get("position")&&s.isVisible()&&(this.get("fixedWidthGrid")?r[a]=i:r[a]=Math.max(0|r[a],n.right-n.left+s.get("marginLeft",0)+s.get("marginRight",0)),a<t.children.length-1&&(a++,a==e&&(a=0)))})),F(r,(t=>{n+=t})),n>s?e>2?(e-=1,this.getColumnWidths(t,e,i,s)):[s]:r}}Object.defineProperty(Ei,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GridLayout"}),Object.defineProperty(Ei,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Mi.classNames.concat([Ei.className])});class Li{static escape(t){return t.replace(/\[\[/g,this.prefix+"1").replace(/([^\/\]]{1})\]\]/g,"$1"+this.prefix+"2").replace(/\]\]/g,this.prefix+"2").replace(/\{\{/g,this.prefix+"3").replace(/\}\}/g,this.prefix+"4").replace(/\'\'/g,this.prefix+"5")}static unescape(t){return t.replace(new RegExp(this.prefix+"1","g"),"[[").replace(new RegExp(this.prefix+"2","g"),"]]").replace(new RegExp(this.prefix+"3","g"),"{{").replace(new RegExp(this.prefix+"4","g"),"}}").replace(new RegExp(this.prefix+"5","g"),"''")}static cleanUp(t){return t.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")}static chunk(t,e=!1,i=!1){let s=[];t=this.escape(t);let n=e?t.split("'"):[t];for(let r=0;r<n.length;r++){let t=n[r];if(""!==t)if(r%2===0){t=t.replace(/\]\[/g,"]"+gt+"["),t=t.replace(/\[\]/g,"[ ]");let e=t.split(/[\[\]]+/);for(let t=0;t<e.length;t++){let n=this.cleanUp(this.unescape(e[t]));n!==gt&&(""!==n&&(t%2===0?s.push({type:"value",text:n}):s.push({type:i?"value":"format",text:"["+n+"]"})))}}else{let e=t.split(/[\[\]]+/);for(let t=0;t<e.length;t++){let i=this.cleanUp(this.unescape(e[t]));""!==i&&(t%2===0?s.push({type:"text",text:i}):this.isImage(i)?s.push({type:"image",text:"["+i+"]"}):s.push({type:"format",text:"["+i+"]"}))}}}return s}static isImage(t){return!!t.match(/img[ ]?:/)}static getTextStyle(t){let e={};if(""==t||"[ ]"==t)return{};const i=t.match(/('[^']*')|("[^"]*")/gi);if(i)for(let n=0;n<i.length;n++)t=t.replace(i[n],i[n].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));let s=t.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w\-]+)|(\/)/gi);if(!s)return{};for(let n=0;n<s.length;n++)if(s[n].match(/^(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)$/i))e.fontWeight=s[n];else if(s[n].match(/^(underline|line-through)$/i))e.textDecoration=s[n];else if("/"==s[n]);else if(s[n].match(/:/)){const t=s[n].replace("+"," ").split(/:[ ]*/);e[t[0]]=t[1]}else e.fill=Se.fromString(s[n]);return e}}function Ai(t,e){if(null!=e){e=""+e,e=Li.escape(e);let i,s=e.match(/\{([^}]+)\}/g);if(s)for(i=0;i<s.length;i++){let n=s[i].replace(/\{([^}]+)\}/,"$1"),r=Fi(t,n,"");null==r&&(r=""),e=e.split(s[i]).join(r)}e=Li.unescape(e)}else e="";return e}function Fi(t,e,i){let s;const n=t.dataItem;let r,a=[],o=/(format[a-zA-Z]*)\((.*)\)|([^.]+)/g;while(1){if(r=o.exec(e),null===r)break;if(r[3]){a.push({prop:r[3]});const e=t.getDateFormatter().get("dateFields",[]),i=t.getNumberFormatter().get("numericFields",[]),s=t.getDurationFormatter().get("durationFields",[]);-1!==e.indexOf(r[3])?a.push({method:"formatDate",params:[]}):-1!==i.indexOf(r[3])?a.push({method:"formatNumber",params:[]}):-1!==s.indexOf(r[3])&&a.push({method:"formatDuration",params:[]})}else{let t=[];if(""!=ee(r[2])){let e,i=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g;while(1){if(e=i.exec(r[2]),null===e)break;t.push(e[1]||e[2]||e[3])}}a.push({method:r[1],params:t})}}if(n){s=Vi(t,a,n._settings),(null==s||dt(s))&&(s=Vi(t,a,n));let r=n.dataContext;null==s&&r&&(s=Vi(t,a,r),null==s&&(s=Vi(t,[{prop:e}],r)),null==s&&r.dataContext&&(s=Vi(t,a,r.dataContext))),null==s&&n.component&&n.component.dataItem!==n&&(s=Fi(n.component,e,i))}return null==s&&(s=Vi(t,a,t)),null==s&&t.parent&&(s=Fi(t.parent,e,i)),s}function Ri(t,e){const i=t.getPrivate("customData");if(dt(i))return i[e]}function Vi(t,e,i,s){let n=i,r=!1;for(let a=0,o=e.length;a<o;a++){let o=e[a];if(o.prop){if(n instanceof wi){let t=n.get(o.prop);null==t&&(t=n.getPrivate(o.prop)),null==t&&(t=Ri(n,o.prop)),null==t&&(t=n[o.prop]),n=t}else if(n.get){let t=n.get(o.prop);null==t&&(t=n[o.prop]),n=t}else n=n[o.prop];if(null==n)return}else switch(o.method){case"formatNumber":let e=at(n);null!=e&&(n=t.getNumberFormatter().format(e,s||o.params[0]||void 0),r=!0);break;case"formatDate":let a=ot(n);if(!ut(a)||nt(a.getTime()))return;null!=a&&(n=t.getDateFormatter().format(a,s||o.params[0]||void 0),r=!0);break;case"formatDuration":let l=at(n);null!=l&&(n=t.getDurationFormatter().format(l,s||o.params[0]||void 0,o.params[1]||void 0),r=!0);break;case"urlEncode":case"encodeURIComponent":n=encodeURIComponent(n);break;default:n[o.method]&&n[o.method].apply(i,o.params);break}}if(!r){let e=[{method:"",params:s}];if(null==s)ct(n)?(e[0].method="formatNumber",e[0].params=""):ut(n)&&(e[0].method="formatDate",e[0].params="");else{let t=ie(s);"number"===t?e[0].method="formatNumber":"date"===t?e[0].method="formatDate":"duration"===t&&(e[0].method="formatDuration")}e[0].method&&(n=Vi(t,e,n))}return n}Object.defineProperty(Li,"prefix",{enumerable:!0,configurable:!0,writable:!0,value:"__amcharts__"});class Bi extends wi{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeContainer()}),Object.defineProperty(this,"_childrenDisplay",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeContainer()}),Object.defineProperty(this,"children",{enumerable:!0,configurable:!0,writable:!0,value:new xt(this)}),Object.defineProperty(this,"_percentageSizeChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_percentagePositionChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_prevWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_prevHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vsbd0",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vsbd1",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNew(),this._display.addChild(this._childrenDisplay)}_dispose(){R(this.allChildren(),(t=>{t.dispose()})),this.getPrivate("htmlElement")&&this._root._removeHTMLContent(this),super._dispose()}_changed(){if(super._changed(),this.isDirty("interactiveChildren")&&(this._display.interactiveChildren=this.get("interactiveChildren",!1)),this.isDirty("layout")&&(this._prevWidth=0,this._prevHeight=0,this.markDirtyBounds(),this._prevSettings.layout&&this.children.each((t=>{t.removePrivate("x"),t.removePrivate("y")}))),(this.isDirty("paddingTop")||this.isDirty("paddingBottom")||this.isDirty("paddingLeft")||this.isDirty("paddingRight"))&&this.children.each((t=>{t.markDirtyPosition()})),this.isDirty("maskContent")){const t=this._childrenDisplay;let e=this._contentMask;this.get("maskContent")?e||(e=Si["new"](this._root,{x:-.5,y:-.5,width:this.width()+1,height:this.height()+1}),this._contentMask=e,t.addChildAt(e._display,0),t.mask=e._display):e&&(t.removeChild(e._display),t.mask=null,e.dispose(),this._contentMask=void 0)}}_updateSize(){super._updateSize(),F(this._percentageSizeChildren,(t=>{t._updateSize()})),F(this._percentagePositionChildren,(t=>{t.markDirtyPosition(),t._updateSize()})),this.updateBackground()}updateBackground(){const t=this.get("background");let e=this._localBounds;if(e&&!this.isHidden()){let i=e.left,s=e.top,n=e.right-i,r=e.bottom-s,a=this.get("maxWidth"),o=this.get("maxHeight");o&&r>o&&(r=o),a&&n>a&&(n=a);let l=this.width(),h=this.height();t&&(t.setAll({width:n,height:r,x:i,y:s}),this._display.interactive&&(t._display.interactive=!0));const u=this._contentMask;u&&u.setAll({width:l+1,height:h+1});const p=this.get("verticalScrollbar");if(p){p.set("height",h),p.set("x",l-p.width()-p.get("marginRight",0)),p.set("end",p.get("start",0)+h/this._contentHeight);const t=p.get("background");t&&t.setAll({width:p.width(),height:h});let e=!0;this._contentHeight<=h&&(e=!1),p.setPrivate("visible",e)}}}_applyThemes(){return!!super._applyThemes()&&(this.eachChildren((t=>{t._applyThemes()})),!0)}_applyState(t){super._applyState(t),this.get("setStateOnChildren")&&this.eachChildren((e=>{e.states.apply(t)}))}_applyStateAnimated(t,e){super._applyStateAnimated(t,e),this.get("setStateOnChildren")&&this.eachChildren((i=>{i.states.applyAnimate(t,e)}))}innerWidth(){return this.width()-this.get("paddingRight",0)-this.get("paddingLeft",0)}innerHeight(){return this.height()-this.get("paddingTop",0)-this.get("paddingBottom",0)}_getBounds(){let t=this.get("width"),e=this.get("height"),i=this.getPrivate("width"),s=this.getPrivate("height"),n={left:0,top:0,right:this.width(),bottom:this.height()},r=this.get("layout"),a=!1,o=!1;if((r instanceof Ii||r instanceof Ei)&&(a=!0),r instanceof ji&&(o=!0),null==t&&null==i||null==e&&null==s||this.get("verticalScrollbar")){let t=Number.MAX_VALUE,e=t,i=-t,s=t,r=-t;const l=this.get("paddingLeft",0),h=this.get("paddingTop",0),u=this.get("paddingRight",0),p=this.get("paddingBottom",0);this.children.each((t=>{if("absolute"!=t.get("position")&&t.get("isMeasured")){let n=t.adjustedLocalBounds(),l=t.x(),h=t.y(),u=l+n.left,p=l+n.right,c=h+n.top,d=h+n.bottom;a&&(u-=t.get("marginLeft",0),p+=t.get("marginRight",0)),o&&(c-=t.get("marginTop",0),d+=t.get("marginBottom",0)),u<e&&(e=u),p>i&&(i=p),c<s&&(s=c),d>r&&(r=d)}})),e==t&&(e=0),i==-t&&(i=0),s==t&&(s=0),r==-t&&(r=0),n.left=e-l,n.top=s-h,n.right=i+u,n.bottom=r+p}else;this._contentWidth=n.right-n.left,this._contentHeight=n.bottom-n.top,ct(t)&&(n.left=0,n.right=t),ct(i)&&(n.left=0,n.right=i),ct(e)&&(n.top=0,n.bottom=e),ct(s)&&(n.top=0,n.bottom=s),this._localBounds=n}_updateBounds(){const t=this.get("layout");t&&t.updateContainer(this),super._updateBounds(),this.updateBackground()}markDirty(){super.markDirty(),this._root._addDirtyParent(this)}_prepareChildren(){const t=this.innerWidth(),e=this.innerHeight();if(t!=this._prevWidth||e!=this._prevHeight){let i=this.get("layout"),s=!1,n=!1;i&&((i instanceof Ii||i instanceof Ei)&&(s=!0),i instanceof ji&&(n=!0)),F(this._percentageSizeChildren,(i=>{if(!s){let e=i.get("width");e instanceof wt&&i.setPrivate("width",e.value*t)}if(!n){let t=i.get("height");t instanceof wt&&i.setPrivate("height",t.value*e)}})),F(this._percentagePositionChildren,(t=>{t.markDirtyPosition(),t.markDirtyBounds()})),this._prevWidth=t,this._prevHeight=e,this._sizeDirty=!0,this.updateBackground()}this._handleStates()}_updateChildren(){if(this.isDirty("html")){const t=this.get("html");t&&""!==t?this._root._setHTMLContent(this,Ai(this,this.get("html",""))):this._root._removeHTMLContent(this),this._root._positionHTMLElement(this)}if(this.isDirty("verticalScrollbar")){const t=this.get("verticalScrollbar");if(t){t._setParent(this),t.startGrip.setPrivate("visible",!1),t.endGrip.setPrivate("visible",!1),this.set("maskContent",!0),this.set("paddingRight",t.width()+t.get("marginRight",0)+t.get("marginLeft",0));let e=this.get("background");e||(e=this.set("background",Si["new"](this._root,{themeTags:["background"],fillOpacity:0,fill:this._root.interfaceColors.get("alternativeBackground")}))),this._vsbd0=this.events.on("wheel",(e=>{const i=e.originalEvent;if(!Xt(i,this))return;i.preventDefault();let s=i.deltaY/5e3;const n=t.get("start",0),r=t.get("end",1);n+s<=0&&(s=-n),r+s>=1&&(s=1-r),n+s>=0&&r+s<=1&&(t.set("start",n+s),t.set("end",r+s))})),this._disposers.push(this._vsbd0),this._vsbd1=t.events.on("rangechanged",(()=>{let e=this._contentHeight;const i=this._childrenDisplay,s=this._contentMask;i.y=-t.get("start")*e,i.markDirtyLayer(),s&&(s._display.y=-i.y,i.mask=s._display)})),this._disposers.push(this._vsbd1),this._display.addChild(t._display)}else{const t=this._prevSettings.verticalScrollbar;if(t){this._display.removeChild(t._display),this._vsbd0&&this._vsbd0.dispose(),this._vsbd1&&this._vsbd1.dispose();const e=this._childrenDisplay;e.y=0,this.setPrivate("height",void 0),this.set("maskContent",!1),this.set("paddingRight",void 0)}}}if(this.isDirty("background")){const t=this._prevSettings["background"];t&&this._display.removeChild(t._display);const e=this.get("background");e instanceof wi&&(e.set("isMeasured",!1),e._setParent(this),this._display.addChildAt(e._display,0))}if(this.isDirty("mask")){const t=this.get("mask"),e=this._prevSettings["mask"];if(e&&(this._display.removeChild(e._display),e!=t&&e.dispose()),t){const e=t.parent;e&&e.children.removeValue(t),t._setParent(this),this._display.addChildAt(t._display,0),this._childrenDisplay.mask=t._display}}}_processTemplateField(){super._processTemplateField(),this.children.each((t=>{t._processTemplateField()}))}walkChildren(t){this.children.each((e=>{e instanceof Bi&&e.walkChildren(t),t(e)}))}eachChildren(t){const e=this.get("background");e&&t(e);const i=this.get("verticalScrollbar");i&&t(i);const s=this.get("mask");s&&t(s),this.children.values.forEach((e=>{t(e)}))}allChildren(){const t=[];return this.eachChildren((e=>{t.push(e)})),t}_setDataItem(t){const e=t!==this._dataItem;super._setDataItem(t);const i=this.get("html","");i&&""!==i&&e&&this._root._setHTMLContent(this,Ai(this,i))}}Object.defineProperty(Bi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Container"}),Object.defineProperty(Bi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:wi.classNames.concat([Bi.className])});class Ni extends wi{constructor(){super(...arguments),Object.defineProperty(this,"textStyle",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeTextStyle()}),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeText("",this.textStyle)}),Object.defineProperty(this,"_textStyles",{enumerable:!0,configurable:!0,writable:!0,value:["textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale"]}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_updateBounds(){if(this.get("text"))super._updateBounds();else{let t={left:0,right:0,top:0,bottom:0};this._adjustedLocalBounds=t}}_changed(){super._changed(),this._display.clear();let t=this.textStyle;if(this.isDirty("opacity")){let t=this.get("opacity",1);this._display.alpha=t}if((this.isDirty("text")||this.isDirty("populateText"))&&(this._display.text=this._getText(),this.markDirtyBounds(),"tooltip"==this.get("role")&&this._root.updateTooltip(this)),this.isPrivateDirty("tooltipElement")){const t=this.getPrivate("tooltipElement");t&&this._disposers.push(new tt((()=>{this._root._removeTooltipElement(this)})))}if(this.isDirty("width")&&(t.wordWrapWidth=this.width(),this.markDirtyBounds()),this.isDirty("oversizedBehavior")&&(t.oversizedBehavior=this.get("oversizedBehavior","none"),this.markDirtyBounds()),this.isDirty("breakWords")&&(t.breakWords=this.get("breakWords",!1),this.markDirtyBounds()),this.isDirty("ellipsis")&&(t.ellipsis=this.get("ellipsis"),this.markDirtyBounds()),this.isDirty("ignoreFormatting")&&(t.ignoreFormatting=this.get("ignoreFormatting",!1),this.markDirtyBounds()),this.isDirty("minScale")&&(t.minScale=this.get("minScale",0),this.markDirtyBounds()),this.isDirty("fill")){let e=this.get("fill");e&&(t.fill=e)}if(this.isDirty("fillOpacity")){let e=this.get("fillOpacity",1);e&&(t.fillOpacity=e)}(this.isDirty("maxWidth")||this.isPrivateDirty("maxWidth"))&&(t.maxWidth=this.get("maxWidth",this.getPrivate("maxWidth")),this.markDirtyBounds()),(this.isDirty("maxHeight")||this.isPrivateDirty("maxHeight"))&&(t.maxHeight=this.get("maxHeight",this.getPrivate("maxHeight")),this.markDirtyBounds()),F(this._textStyles,(e=>{this._dirty[e]&&(t[e]=this.get(e),this.markDirtyBounds())})),t["fontSize"]=this.get("fontSize"),t["fontFamily"]=this.get("fontFamily"),this._display.style=t,this.isDirty("role")&&"tooltip"==this.get("role")&&this._root.updateTooltip(this)}_getText(){const t=this.get("text","");return this.get("populateText")?Ai(this,t):t}markDirtyText(){this._display.text=this._getText(),"tooltip"==this.get("role")&&this._root.updateTooltip(this),this.markDirtyBounds(),this.markDirty()}_setDataItem(t){super._setDataItem(t),this.get("populateText")&&this.markDirtyText()}getNumberFormatter(){return this.parent?this.parent.getNumberFormatter():super.getNumberFormatter()}getDateFormatter(){return this.parent?this.parent.getDateFormatter():super.getDateFormatter()}getDurationFormatter(){return this.parent?this.parent.getDurationFormatter():super.getDurationFormatter()}}Object.defineProperty(Ni,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Text"}),Object.defineProperty(Ni,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:wi.classNames.concat([Ni.className])});class Hi{constructor(){Object.defineProperty(this,"_observer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this._observer=new ResizeObserver((t=>{F(t,(t=>{F(this._targets,(e=>{e.target===t.target&&e.callback()}))}))}))}addTarget(t,e){this._observer.observe(t,{box:"border-box"}),this._targets.push({target:t,callback:e})}removeTarget(t){this._observer.unobserve(t),J(this._targets,(e=>e.target!==t))}}class zi{constructor(){Object.defineProperty(this,"_timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]})}addTarget(t,e){if(null===this._timer){let t=null;const e=()=>{const i=Date.now();(null===t||i>t+zi.delay)&&(t=i,F(this._targets,(t=>{let e=t.target.getBoundingClientRect();e.width===t.size.width&&e.height===t.size.height||(t.size=e,t.callback())}))),0===this._targets.length?this._timer=null:this._timer=requestAnimationFrame(e)};this._timer=requestAnimationFrame(e)}let i={width:0,height:0,left:0,right:0,top:0,bottom:0,x:0,y:0};this._targets.push({target:t,callback:e,size:i})}removeTarget(t){J(this._targets,(e=>e.target!==t)),0===this._targets.length&&null!==this._timer&&(cancelAnimationFrame(this._timer),this._timer=null)}}Object.defineProperty(zi,"delay",{enumerable:!0,configurable:!0,writable:!0,value:200});let Wi=null;function Yi(){return null===Wi&&(Wi="undefined"!==typeof ResizeObserver?new Hi:new zi),Wi}class Gi{constructor(t,e){Object.defineProperty(this,"_sensor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_listener",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this._sensor=Yi(),this._element=t,this._listener=At(e),this._sensor.addTarget(t,e)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element),this._listener.dispose())}get sensor(){return this._sensor}}class Xi extends ni{}Object.defineProperty(Xi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"InterfaceColors"}),Object.defineProperty(Xi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ni.classNames.concat([Xi.className])});class Ui extends Bi{constructor(){super(...arguments),Object.defineProperty(this,"_text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_textKeys",{enumerable:!0,configurable:!0,writable:!0,value:["text","fill","fillOpacity","textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","populateText","role","ignoreFormatting"]})}get text(){return this._text}_afterNew(){super._afterNew(),this._makeText(),F(this._textKeys,(t=>{const e=this.get(t);void 0!=e&&this._text.set(t,e)})),""!==this.get("html","")&&this._text.set("text",""),this.onPrivate("maxWidth",(()=>{this._setMaxDimentions()})),this.onPrivate("maxHeight",(()=>{this._setMaxDimentions()}))}_makeText(){this._text=this.children.push(Ni["new"](this._root,{}))}_updateChildren(){if(super._updateChildren(),F(this._textKeys,(t=>{this._text.set(t,this.get(t))})),this.isDirty("maxWidth")&&this._setMaxDimentions(),this.isDirty("maxHeight")&&this._setMaxDimentions(),this.isDirty("rotation")&&this._setMaxDimentions(),""!==this.get("html","")?this._text.set("text",""):this._text.set("text",this.get("text")),this.isDirty("textAlign")||this.isDirty("width")){const t=this.get("textAlign");let e;null!=this.get("width")?e="right"==t?Ot:"center"==t?kt:0:"left"==t||"start"==t?e=this.get("paddingLeft"):"right"!=t&&"end"!=t||(e=-this.get("paddingRight")),this.text.set("x",e)}}_setMaxDimentions(){const t=this.get("rotation"),e=90==t||270==t||-90==t,i=this.get("maxWidth",this.getPrivate("maxWidth",1/0));ct(i)?this.text.set(e?"maxHeight":"maxWidth",i-this.get("paddingLeft",0)-this.get("paddingRight",0)):this.text.set(e?"maxHeight":"maxWidth",void 0);const s=this.get("maxHeight",this.getPrivate("maxHeight",1/0));ct(s)?this.text.set(e?"maxWidth":"maxHeight",s-this.get("paddingTop",0)-this.get("paddingBottom",0)):this.text.set(e?"maxWidth":"maxHeight",void 0)}_setDataItem(t){super._setDataItem(t),this._markDirtyKey("text"),this.text.get("populateText")&&this.text.markDirtyText()}getText(){return this._text._getText()}}Object.defineProperty(Ui,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Label"}),Object.defineProperty(Ui,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Bi.classNames.concat([Ui.className])});class Ki extends Ti{_beforeChanged(){super._beforeChanged(),(this.isDirty("pointerBaseWidth")||this.isDirty("cornerRadius")||this.isDirty("pointerLength")||this.isDirty("pointerX")||this.isDirty("pointerY")||this.isDirty("width")||this.isDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){this.markDirtyBounds();let t=this.width(),e=this.height();if(t>0&&e>0){let i=this.get("cornerRadius",8);i=gi(i,0,Math.min(t/2,e/2));let s=this.get("pointerX",0),n=this.get("pointerY",0),r=this.get("pointerBaseWidth",15)/2,a=0,o=0,l=t,h=0,u=t,p=e,c=0,d=e,g=(s-a)*(p-o)-(n-o)*(u-a),f=(s-c)*(h-d)-(n-d)*(l-c);const m=this._display;if(m.moveTo(i,0),g>0&&f>0){let e=Math.round(gi(s,i+r,t-r-i));n=gi(n,-1/0,0),m.lineTo(e-r,0),m.lineTo(s,n),m.lineTo(e+r,0)}if(m.lineTo(t-i,0),m.arcTo(t,0,t,i,i),g>0&&f<0){let a=Math.round(gi(n,i+r,e-r-i));s=gi(s,t,1/0),m.lineTo(t,i),m.lineTo(t,Math.max(a-r,i)),m.lineTo(s,n),m.lineTo(t,a+r)}if(m.lineTo(t,e-i),m.arcTo(t,e,t-i,e,i),g<0&&f<0){let a=Math.round(gi(s,i+r,t-r-i));n=gi(n,e,1/0),m.lineTo(t-i,e),m.lineTo(a+r,e),m.lineTo(s,n),m.lineTo(a-r,e)}if(m.lineTo(i,e),m.arcTo(0,e,0,e-i,i),g<0&&f>0){let t=Math.round(gi(n,i+r,e-i-r));s=gi(s,-1/0,0),m.lineTo(0,e-i),m.lineTo(0,t+r),m.lineTo(s,n),m.lineTo(0,Math.max(t-r,i))}m.lineTo(0,i),m.arcTo(0,0,i,0,i),m.closePath()}}}}Object.defineProperty(Ki,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PointedRectangle"}),Object.defineProperty(Ki,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ti.classNames.concat([Ki.className])});class Zi extends Bi{constructor(t,e,i,s=[]){super(t,e,i,s),Object.defineProperty(this,"_fx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_fy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_label",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fillDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_labelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_w",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_h",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_keepHoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlContentHovered",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this._settings.themeTags=Pe(this._settings.themeTags,["tooltip"]),super._afterNew(),this.set("background",Ki["new"](this._root,{themeTags:["tooltip","background"]})),this._label=this.children.push(Ui["new"](this._root,{})),this._disposers.push(this._label.events.on("boundschanged",(()=>{this._updateBackground()}))),this._disposers.push(this.on("bounds",(()=>{this._updateBackground()}))),this._updateTextColor(),this._root.tooltipContainer.children.push(this),this.hide(0),this._disposers.push(this.label.onPrivate("htmlElement",(t=>{t&&(Lt(t,"pointerover",(t=>{this._htmlContentHovered=!0})),Lt(t,"pointerout",(t=>{this._htmlContentHovered=!1})))}))),this._root._tooltips.push(this)}get label(){return this._label}dispose(){super.dispose(),B(this._root._tooltips,this)}_updateChildren(){super._updateChildren(),(this.isDirty("pointerOrientation")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight"))&&this.get("background")._markDirtyKey("width");const t=this.get("labelText");null!=t&&this.label.set("text",this.get("labelText"));const e=this.get("labelHTML");null!=e&&this.label.set("html",this.get("labelHTML"))}_changed(){if(super._changed(),(this.isDirty("pointTo")||this.isDirty("pointerOrientation"))&&this._updateBackground(),this.isDirty("tooltipTarget")&&this.updateBackgroundColor(),this.isDirty("keepTargetHover")){const t=this.get("keepTargetHover");if(t){const t=this.get("background");this._keepHoverDp=new it([t.events.on("pointerover",(t=>{let e=this.get("tooltipTarget");e&&(e.parent&&e.parent.getPrivate("tooltipTarget")==e&&(e=e.parent),e.hover())})),t.events.on("pointerout",(t=>{let e=this.get("tooltipTarget");e&&(e.parent&&e.parent.getPrivate("tooltipTarget")==e&&(e=e.parent),this._htmlContentHovered||e.unhover())}))]),this.label.onPrivate("htmlElement",(e=>{this._keepHoverDp&&e&&this._keepHoverDp.disposers.push(Lt(e,"pointerleave",(e=>{const i=this.root._renderer.getEvent(e);t.events.dispatch("pointerout",{type:"pointerout",originalEvent:i.event,point:i.point,simulated:!1,target:t})})))}))}else this._keepHoverDp&&(this._keepHoverDp.dispose(),this._keepHoverDp=void 0)}}_onShow(){super._onShow(),this.updateBackgroundColor()}updateBackgroundColor(){let t=this.get("tooltipTarget");const e=this.get("background");let i,s;t&&e&&(i=t.get("fill"),s=t.get("stroke"),null==i&&(i=s),this.get("getFillFromSprite")&&(this._fillDp&&this._fillDp.dispose(),null!=i&&e.set("fill",i),this._fillDp=t.on("fill",(t=>{null!=t&&(e.set("fill",t),this._updateTextColor(t))})),this._disposers.push(this._fillDp)),this.get("getStrokeFromSprite")&&(this._strokeDp&&this._strokeDp.dispose(),null!=i&&e.set("stroke",i),this._strokeDp=t.on("fill",(t=>{null!=t&&e.set("stroke",t)})),this._disposers.push(this._strokeDp)),this.get("getLabelFillFromSprite")&&(this._labelDp&&this._labelDp.dispose(),null!=i&&this.label.set("fill",i),this._labelDp=t.on("fill",(t=>{null!=t&&this.label.set("fill",t)})),this._disposers.push(this._labelDp))),this._updateTextColor(i)}_updateTextColor(t){this.get("autoTextColor")&&(null==t&&(t=this.get("background").get("fill")),null==t&&(t=this._root.interfaceColors.get("background")),t instanceof Se&&this.label.set("fill",Se.alternative(t,this._root.interfaceColors.get("alternativeText"),this._root.interfaceColors.get("text"))))}_setDataItem(t){super._setDataItem(t),this.label._setDataItem(t)}_updateBackground(){super.updateBackground();const t=this._root.container;if(t){let e=.5,i=.5,s=this.get("centerX");s instanceof wt&&(e=s.value);let n=this.get("centerY");n instanceof wt&&(i=n.value);let r=t.width(),a=t.height(),o=this.parent,l=0,h=0;if(o){l=o.x(),h=o.y();const t=o.get("layerMargin");t&&(l+=t.left||0,h+=t.top||0,r+=(t.left||0)+(t.right||0),a+=(t.top||0)+(t.bottom||0))}const u=this.get("bounds",{left:-l,top:-h,right:r-l,bottom:a-h});this._updateBounds();let p=this.width(),c=this.height();0===p&&(p=this._w),0===c&&(c=this._h);let d=this.get("pointTo",{x:r/2,y:a/2}),g=d.x,f=d.y,m=this.get("pointerOrientation"),y=this.get("background"),b=0,v=0,_=0;y instanceof Ki&&(b=y.get("pointerLength",0),v=y.get("strokeWidth",0)/2,_=v,y.set("width",p),y.set("height",c));let x=0,w=0,P=u.right-u.left,O=u.bottom-u.top;"horizontal"==m||"left"==m||"right"==m?(v=0,"horizontal"==m?g>u.left+P/2?(g-=p*(1-e)+b,_*=-1):g+=p*e+b:"left"==m?g+=p*(1-e)+b:(g-=p*e+b,_*=-1)):(_=0,"vertical"==m?f>u.top+c/2+b?f-=c*(1-i)+b:(f+=c*i+b,v*=-1):"down"==m?f-=c*(1-i)+b:(f+=c*i+b,v*=-1)),g=gi(g,u.left+p*e,u.left+P-p*(1-e))+_,f=gi(f,u.top+c*i,u.top+O-c*(1-i))-v,x=d.x-g+p*e+_,w=d.y-f+c*i-v,this._fx=g,this._fy=f;const k=this.get("animationDuration",0);if(k>0&&this.get("visible")&&this.get("opacity")>.1){const t=this.get("animationEasing");this.animate({key:"x",to:g,duration:k,easing:t}),this.animate({key:"y",to:f,duration:k,easing:t})}else this.set("x",g),this.set("y",f);y instanceof Ki&&(y.set("pointerX",x),y.set("pointerY",w)),p>0&&(this._w=p),c>0&&(this._h=c)}}}Object.defineProperty(Zi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tooltip"}),Object.defineProperty(Zi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Bi.classNames.concat([Zi.className])});class qi extends ni{_setDefaults(){this._setDefault("negativeBase",0),this._setDefault("numberFormat","#,###.#####"),this._setDefault("smallNumberThreshold",1);const t="_big_number_suffix_",e="_small_number_suffix_",i="_byte_suffix_";this._setDefault("bigNumberPrefixes",[{number:1e3,suffix:this._t(t+"3")},{number:1e6,suffix:this._t(t+"6")},{number:1e9,suffix:this._t(t+"9")},{number:1e12,suffix:this._t(t+"12")},{number:1e15,suffix:this._t(t+"15")},{number:1e18,suffix:this._t(t+"18")},{number:1e21,suffix:this._t(t+"21")},{number:1e24,suffix:this._t(t+"24")}]),this._setDefault("smallNumberPrefixes",[{number:1e-24,suffix:this._t(e+"24")},{number:1e-21,suffix:this._t(e+"21")},{number:1e-18,suffix:this._t(e+"18")},{number:1e-15,suffix:this._t(e+"15")},{number:1e-12,suffix:this._t(e+"12")},{number:1e-9,suffix:this._t(e+"9")},{number:1e-6,suffix:this._t(e+"6")},{number:.001,suffix:this._t(e+"3")}]),this._setDefault("bytePrefixes",[{number:1,suffix:this._t(i+"B")},{number:1024,suffix:this._t(i+"KB")},{number:1048576,suffix:this._t(i+"MB")},{number:1073741824,suffix:this._t(i+"GB")},{number:1099511627776,suffix:this._t(i+"TB")},{number:0x4000000000000,suffix:this._t(i+"PB")}]),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(t,e,i){let s;(null==e||pt(e)&&"number"===e.toLowerCase())&&(e=this.get("numberFormat",""));let n=Number(t);if(dt(e))try{return this.get("intlLocales")?new Intl.NumberFormat(this.get("intlLocales"),e).format(n):new Intl.NumberFormat(void 0,e).format(n)}catch(r){return"Invalid"}else{e=se(e);let t,r=this.parseFormat(e,this._root.language);t=n>this.get("negativeBase")?r.positive:n<this.get("negativeBase")?r.negative:r.zero,null==i||t.mod||(t=Ie(t),t.decimals.active=0==n?0:i),s=t.template.split(gt).join(this.applyFormat(n,t))}return!0===this.get("forceLTR")&&(s="‎"+s),s}parseFormat(t,e){const i=e.translateEmpty("_thousandSeparator"),s=e.translateEmpty("_decimalSeparator");let n={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:i},decimals:{active:-1,passive:-1,separator:s},template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:i},decimals:{active:-1,passive:-1,separator:s},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:i},decimals:{active:-1,passive:-1,separator:s},template:"",source:"",parsed:!1}};t=t.replace("||",ft);let r=t.split("|");return n.positive.source=r[0],"undefined"===typeof r[2]?n.zero=n.positive:n.zero.source=r[2],"undefined"===typeof r[1]?n.negative=n.positive:n.negative.source=r[1],je(n,((t,e)=>{if(e.parsed)return;let i=e.source;"number"===i.toLowerCase()&&(i=this.get("numberFormat","#,###.#####"));let s=Li.chunk(i,!0);for(let n=0;n<s.length;n++){let t=s[n];if(t.text=t.text.replace(ft,"|"),"value"===t.type){let i=t.text.match(/[#0.,]+[ ]?[abespABESP%!]?[abespABESP‰!]?/);if(i)if(null===i||""===i[0])e.template+=t.text;else{let s=i[0].match(/[abespABESP%‰!]{2}|[abespABESP%‰]{1}$/);s&&(e.mod=s[0].toLowerCase(),e.modSpacing=!!i[0].match(/[ ]{1}[abespABESP%‰!]{1}$/));let n=i[0].split(".");if(""===n[0]);else{e.thousands.active=(n[0].match(/0/g)||[]).length,e.thousands.passive=(n[0].match(/\#/g)||[]).length+e.thousands.active;let t=n[0].split(",");1===t.length||(e.thousands.interval=(t.pop()||"").length,0===e.thousands.interval&&(e.thousands.interval=-1))}"undefined"===typeof n[1]||(e.decimals.active=(n[1].match(/0/g)||[]).length,e.decimals.passive=(n[1].match(/\#/g)||[]).length+e.decimals.active),e.template+=t.text.split(i[0]).join(gt)}}else e.template+=t.text}e.parsed=!0})),n}applyFormat(t,e){let i=t<0;t=Math.abs(t);let s="",n="",r=e.mod?e.mod.split(""):[];if(-1!==r.indexOf("b")){let i=this.applyPrefix(t,this.get("bytePrefixes"),-1!==r.indexOf("!"));t=i[0],s=i[1],n=i[2],e.modSpacing&&(n=" "+n)}else if(-1!==r.indexOf("a")){let i=this.applyPrefix(t,t<this.get("smallNumberThreshold")?this.get("smallNumberPrefixes"):this.get("bigNumberPrefixes"),-1!==r.indexOf("!"));t=i[0],s=i[1],n=i[2],e.modSpacing&&(n=" "+n)}else if(-1!==r.indexOf("p")){let e=Math.min(t.toString().length+2,21);t=parseFloat(t.toPrecision(e)),s=this._root.language.translate("_percentPrefix"),n=this._root.language.translate("_percentSuffix"),""==s&&""==n&&(n="%")}else if(-1!==r.indexOf("%")){let e=Math.min(t.toString().length+2,21);t*=100,t=parseFloat(t.toPrecision(e)),n="%"}else if(-1!==r.indexOf("‰")){let e=Math.min(t.toString().length+3,21);t*=1e3,t=parseFloat(t.toPrecision(e)),n="‰"}if(-1!==r.indexOf("e")){let i;i=e.decimals.passive>=0?t.toExponential(e.decimals.passive).split("e"):t.toExponential().split("e"),t=Number(i[0]),n="e"+i[1],e.modSpacing&&(n=" "+n)}else if(0===e.decimals.passive)t=Math.round(t);else if(e.decimals.passive>0){let i=Math.pow(10,e.decimals.passive);t=Math.round(t*i)/i}let a="",o=lt(t).split("."),l=o[0];if(l.length<e.thousands.active&&(l=Array(e.thousands.active-l.length+1).join("0")+l),e.thousands.interval>0){let t=[],i=l.split("").reverse().join("");for(let s=0,n=l.length;s<=n;s+=e.thousands.interval){let n=i.substr(s,e.thousands.interval).split("").reverse().join("");""!==n&&t.unshift(n)}l=t.join(e.thousands.separator)}a+=l,1===o.length&&o.push("");let h=o[1];return h.length<e.decimals.active&&(h+=Array(e.decimals.active-h.length+1).join("0")),""!==h&&(a+=e.decimals.separator+h),""===a&&(a="0"),0!==t&&i&&-1===r.indexOf("s")&&(a="-"+a),s&&(a=s+a),n&&(a+=n),a}applyPrefix(t,e,i=!1){let s=t,n="",r="",a=!1,o=1;for(let l=0,h=e.length;l<h;l++)e[l].number<=t&&(0===e[l].number?s=0:(s=t/e[l].number,o=e[l].number),n=e[l].prefix,r=e[l].suffix,a=!0);return!a&&i&&e.length&&0!=t&&(s=t/e[0].number,n=e[0].prefix,r=e[0].suffix,a=!0),a&&(s=parseFloat(s.toPrecision(Math.min(o.toString().length+Math.floor(s).toString().replace(/[^0-9]*/g,"").length,21)))),[s,n,r]}escape(t){return t.replace("||",ft)}unescape(t){return t.replace(ft,"|")}}function $i(t,e){let i=0,s=0,n=1,r=0,a=0,o=0,l=0,h=0;return t.formatToParts(e).forEach((t=>{switch(t.type){case"year":i=+t.value;break;case"month":s=+t.value-1;break;case"day":n=+t.value;break;case"hour":r=+t.value;break;case"minute":a=+t.value;break;case"second":o=+t.value;break;case"fractionalSecond":l=+t.value;break;case"weekday":switch(t.value){case"Sun":h=0;break;case"Mon":h=1;break;case"Tue":h=2;break;case"Wed":h=3;break;case"Thu":h=4;break;case"Fri":h=5;break;case"Sat":h=6;break}}})),24===r&&(r=0),{year:i,month:s,day:n,hour:r,minute:a,second:o,millisecond:l,weekday:h}}function Ji(t,e){const{year:i,month:s,day:n,hour:r,minute:a,second:o,millisecond:l}=$i(t,e);return Date.UTC(i,s,n,r,a,o,l)}class Qi{constructor(t,e){if(Object.defineProperty(this,"_utc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dtf",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!e)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this.name=t,this._utc=new Intl.DateTimeFormat("UTC",{hour12:!1,timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3}),this._dtf=new Intl.DateTimeFormat("UTC",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3})}static new(t){return new this(t,!0)}convertLocal(t){const e=this.offsetUTC(t),i=t.getTimezoneOffset(),s=new Date(t);s.setUTCMinutes(s.getUTCMinutes()-(e-i));const n=s.getTimezoneOffset();return i!=n&&s.setUTCMinutes(s.getUTCMinutes()+n-i),s}offsetUTC(t){const e=Ji(this._utc,t),i=Ji(this._dtf,t);return(e-i)/6e4}parseDate(t){return $i(this._dtf,t)}}class ts extends ni{_setDefaults(){this._setDefault("capitalize",!0),this._setDefault("dateFormat","yyyy-MM-dd"),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(t,e){let i;"undefined"!==typeof e&&""!==e||(e=this.get("dateFormat","yyyy-MM-dd"));let s=t;if(dt(e))try{const t=this.get("intlLocales");return t?new Intl.DateTimeFormat(t,e).format(s):new Intl.DateTimeFormat(void 0,e).format(s)}catch(a){return"Invalid"}let n=this.parseFormat(e);const r=this._root.timezone;return r&&!this._root.utc&&(s=r.convertLocal(s)),ct(s.getTime())?(i=this.applyFormat(s,n),this.get("capitalize")&&(i=i.replace(/^.{1}/,i.substr(0,1).toUpperCase())),i):"Invalid date"}applyFormat(t,e){let i,s,n,r,a,o,l,h,u=e.template,p=t.getTime();this._root.utc?(i=t.getUTCFullYear(),s=t.getUTCMonth(),n=t.getUTCDay(),r=t.getUTCDate(),a=t.getUTCHours(),o=t.getUTCMinutes(),l=t.getUTCSeconds(),h=t.getUTCMilliseconds()):(i=t.getFullYear(),s=t.getMonth(),n=t.getDay(),r=t.getDate(),a=t.getHours(),o=t.getMinutes(),l=t.getSeconds(),h=t.getMilliseconds());for(let c=0,d=e.parts.length;c<d;c++){let d="";switch(e.parts[c]){case"G":d=this._t(i<0?"_era_bc":"_era_ad");break;case"yyyy":d=Math.abs(i).toString(),i<0&&(d+=this._t("_era_bc"));break;case"yyy":case"yy":case"y":d=Math.abs(i).toString().substr(-e.parts[c].length),i<0&&(d+=this._t("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":let u=le(t,this._root.utc);d="YYYY"==e.parts[c]?Math.abs(u).toString():Math.abs(u).toString().substr(-e.parts[c].length),u<0&&(d+=this._t("_era_bc"));break;case"u":break;case"q":d=""+Math.ceil((t.getMonth()+1)/3);break;case"MMMMM":d=this._t(this._getMonth(s)).substr(0,1);break;case"MMMM":d=this._t(this._getMonth(s));break;case"MMM":d=this._t(this._getShortMonth(s));break;case"MM":d=Jt(s+1,2,"0");break;case"M":d=(s+1).toString();break;case"ww":d=Jt(oe(t,this._root.utc),2,"0");break;case"w":d=oe(t,this._root.utc).toString();break;case"W":d=he(t,this._root.utc).toString();break;case"dd":d=Jt(r,2,"0");break;case"d":d=r.toString();break;case"DD":case"DDD":d=Jt(ae(t,this._root.utc).toString(),e.parts[c].length,"0");break;case"D":d=ae(t,this._root.utc).toString();break;case"F":break;case"g":break;case"t":d=this._root.language.translateFunc("_dateOrd").call(this,r);break;case"E":d=(n||7).toString();break;case"EE":d=Jt((n||7).toString(),2,"0");break;case"EEE":case"eee":d=this._t(this._getShortWeekday(n));break;case"EEEE":case"eeee":d=this._t(this._getWeekday(n));break;case"EEEEE":case"eeeee":d=this._t(this._getShortWeekday(n)).substr(0,1);break;case"e":case"ee":d=(n-(this._root.locale.firstDayOfWeek||1)+1).toString(),"ee"==e.parts[c]&&(d=Jt(d,2,"0"));break;case"a":d=a>=12?this._t("PM"):this._t("AM");break;case"aa":d=a>=12?this._t("P.M."):this._t("A.M.");break;case"aaa":d=a>=12?this._t("P"):this._t("A");break;case"h":d=pe(a).toString();break;case"hh":d=Jt(pe(a),2,"0");break;case"H":d=a.toString();break;case"HH":d=Jt(a,2,"0");break;case"K":d=pe(a,0).toString();break;case"KK":d=Jt(pe(a,0),2,"0");break;case"k":d=(a+1).toString();break;case"kk":d=Jt(a+1,2,"0");break;case"m":d=o.toString();break;case"mm":d=Jt(o,2,"0");break;case"s":d=l.toString();break;case"ss":d=Jt(l,2,"0");break;case"S":case"SS":case"SSS":d=Math.round(h/1e3*Math.pow(10,e.parts[c].length)).toString();break;case"x":d=p.toString();break;case"n":case"nn":case"nnn":d=Jt(h,e.parts[c].length,"0");break;case"z":d=ce(t,!1,!1,this._root.utc);break;case"zz":d=ce(t,!0,!1,this._root.utc);break;case"zzz":d=ce(t,!1,!0,this._root.utc);break;case"zzzz":d=ce(t,!0,!0,this._root.utc);break;case"Z":case"ZZ":let g=this._root.utc?"UTC":this._root.timezone;g instanceof Qi&&(g=g.name);const f=g?de(g):t.getTimezoneOffset();let m=Math.abs(f)/60,y=Math.floor(m),b=60*m-60*y;this._root.utc&&(y=0,b=0),"Z"==e.parts[c]?(d="GMT",d+=f>0?"-":"+",d+=Jt(y,2)+":"+Jt(b,2)):(d=f>0?"-":"+",d+=Jt(y,2)+Jt(b,2));break;case"i":d=t.toISOString();break;case"I":d=t.toUTCString();break}u=u.replace(gt,d)}return u}parseFormat(t){let e={template:"",parts:[]},i=Li.chunk(t,!0);for(let s=0;s<i.length;s++){let t=i[s];if("value"===t.type){if(t.text.match(/^date$/i)){let e=this.get("dateFormat","yyyy-MM-dd");pt(e)||(e="yyyy-MM-dd"),t.text=e}let i=t.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(i)for(let s=0;s<i.length;s++)e.parts.push(i[s]),t.text=t.text.replace(i[s],gt)}e.template+=t.text}return e}_months(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}_getMonth(t){return this._months()[t]}_shortMonths(){return["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}_getShortMonth(t){return this._shortMonths()[t]}_weekdays(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}_getWeekday(t){return this._weekdays()[t]}_shortWeekdays(){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}_getShortWeekday(t){return this._shortWeekdays()[t]}parse(t,e){if(t instanceof Date)return t;if(ct(t))return new Date(t);let i;pt(t)||(t=t.toString());let s="";e=se(e),e=e.substr(0,t.length);let n=this.parseFormat(e),r={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},a={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:this._root.utc},o=0,l=0;for(let p=0;p<n.parts.length;p++){switch(l=p+o+1,n.parts[p]){case"yyyy":case"YYYY":s+="([0-9]{4})",r.year=l;break;case"yyy":case"YYY":s+="([0-9]{3})",r.year3=l;break;case"yy":case"YY":s+="([0-9]{2})",r.year2=l;break;case"y":case"Y":s+="([0-9]{1})",r.year1=l;break;case"MMMM":s+="("+this.getStringList(this._months()).join("|")+")",r.monthLong=l;break;case"MMM":s+="("+this.getStringList(this._shortMonths()).join("|")+")",r.monthShort=l;break;case"MM":case"M":s+="([0-9]{2}|[0-9]{1})",r.month=l;break;case"ww":case"w":s+="([0-9]{2}|[0-9]{1})",r.week=l;break;case"dd":case"d":s+="([0-9]{2}|[0-9]{1})",r.day=l;break;case"DDD":case"DD":case"D":s+="([0-9]{3}|[0-9]{2}|[0-9]{1})",r.yearDay=l;break;case"dddd":s+="("+this.getStringList(this._weekdays()).join("|")+")",r.weekdayLong=l;break;case"ddd":s+="("+this.getStringList(this._shortWeekdays()).join("|")+")",r.weekdayShort=l;break;case"aaa":case"aa":case"a":s+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",r.am=l;break;case"hh":case"h":s+="([0-9]{2}|[0-9]{1})",r.hour12Base1=l;break;case"HH":case"H":s+="([0-9]{2}|[0-9]{1})",r.hourBase0=l;break;case"KK":case"K":s+="([0-9]{2}|[0-9]{1})",r.hour12Base0=l;break;case"kk":case"k":s+="([0-9]{2}|[0-9]{1})",r.hourBase1=l;break;case"mm":case"m":s+="([0-9]{2}|[0-9]{1})",r.minute=l;break;case"ss":case"s":s+="([0-9]{2}|[0-9]{1})",r.second=l;break;case"SSS":case"SS":case"S":s+="([0-9]{3}|[0-9]{2}|[0-9]{1})",r.millisecond=l,r.millisecondDigits=n.parts[p].length;break;case"nnn":case"nn":case"n":s+="([0-9]{3}|[0-9]{2}|[0-9]{1})",r.millisecond=l;break;case"x":s+="([0-9]{1,})",r.timestamp=l;break;case"Z":s+="GMT([-+]+[0-9]{2}:[0-9]{2})",r.zone=l;break;case"ZZ":s+="([\\-+]+[0-9]{2}[0-9]{2})",r.zone=l;break;case"i":s+="([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2})\\.?([0-9]{0,3})([zZ]|[+\\-][0-9]{2}:?[0-9]{2}|$)",r.iso=l,o+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":o--;break}s+="[^0-9]*"}let h=new RegExp(s),u=t.match(h);if(u){if(r.year>-1&&(a.year=parseInt(u[r.year])),r.year3>-1){let t=parseInt(u[r.year3]);t+=1e3,a.year=t}if(r.year2>-1){let t=parseInt(u[r.year2]);t+=t>50?1e3:2e3,a.year=t}if(r.year1>-1){let t=parseInt(u[r.year1]);t=10*Math.floor((new Date).getFullYear()/10)+t,a.year=t}if(r.monthLong>-1&&(a.month=this.resolveMonth(u[r.monthLong])),r.monthShort>-1&&(a.month=this.resolveShortMonth(u[r.monthShort])),r.month>-1&&(a.month=parseInt(u[r.month])-1),r.week>-1&&-1===r.day&&(a.month=0,a.day=ue(parseInt(u[r.week]),a.year,1,this._root.utc)),r.day>-1&&(a.day=parseInt(u[r.day])),r.yearDay>-1&&(a.month=0,a.day=parseInt(u[r.yearDay])),r.hourBase0>-1&&(a.hour=parseInt(u[r.hourBase0])),r.hourBase1>-1&&(a.hour=parseInt(u[r.hourBase1])-1),r.hour12Base0>-1){let t=parseInt(u[r.hour12Base0]);11==t&&(t=0),r.am>-1&&!this.isAm(u[r.am])&&(t+=12),a.hour=t}if(r.hour12Base1>-1){let t=parseInt(u[r.hour12Base1]);12==t&&(t=0),r.am>-1&&!this.isAm(u[r.am])&&(t+=12),a.hour=t}if(r.minute>-1&&(a.minute=parseInt(u[r.minute])),r.second>-1&&(a.second=parseInt(u[r.second])),r.millisecond>-1){let t=parseInt(u[r.millisecond]);2==r.millisecondDigits?t*=10:1==r.millisecondDigits&&(t*=100),a.millisecond=t}if(r.timestamp>-1){a.timestamp=parseInt(u[r.timestamp]);const t=new Date(a.timestamp);a.year=t.getUTCFullYear(),a.month=t.getUTCMonth(),a.day=t.getUTCDate(),a.hour=t.getUTCHours(),a.minute=t.getUTCMinutes(),a.second=t.getUTCSeconds(),a.millisecond=t.getUTCMilliseconds()}r.zone>-1&&(a.offset=this.resolveTimezoneOffset(new Date(a.year,a.month,a.day),u[r.zone])),r.iso>-1&&(a.year=at(u[r.iso+0]),a.month=at(u[r.iso+1])-1,a.day=at(u[r.iso+2]),a.hour=at(u[r.iso+3]),a.minute=at(u[r.iso+4]),a.second=at(u[r.iso+5]),a.millisecond=at(u[r.iso+6]),"Z"==u[r.iso+7]||"z"==u[r.iso+7]?a.utc=!0:""!=u[r.iso+7]&&(a.offset=this.resolveTimezoneOffset(new Date(a.year,a.month,a.day),u[r.iso+7]))),i=a.utc?new Date(Date.UTC(a.year,a.month,a.day,a.hour,a.minute,a.second,a.millisecond)):new Date(a.year,a.month,a.day,a.hour,a.minute+a.offset,a.second,a.millisecond)}else i=new Date(t);return i}resolveTimezoneOffset(t,e){let i=e.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/);if(i){let i=e.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/),s=i[1],n=i[2],r=i[3],a=60*parseInt(n)+parseInt(r);"+"==s&&(a*=-1);let o=(t||new Date).getTimezoneOffset(),l=a-o;return l}return 0}resolveMonth(t){let e=this._months().indexOf(t);return e>-1||!this._root.language.isDefault()&&(e=this._root.language.translateAll(this._months()).indexOf(t),e>-1)?e:0}resolveShortMonth(t){let e=this._shortMonths().indexOf(t);return e>-1?e:(e=this._months().indexOf(t),e>-1||this._root.language&&!this._root.language.isDefault()&&(e=this._root.language.translateAll(this._shortMonths()).indexOf(t),e>-1)?e:0)}isAm(t){let e=this.getStringList(["AM","A.M.","A"]);return e.indexOf(t.toUpperCase())>-1}getStringList(t){let e=[];for(let i=0;i<t.length;i++)this._root.language?e.push(re(this._t(t[i]))):e.push(re(t[i]));return e}}class es extends ni{constructor(){super(...arguments),Object.defineProperty(this,"_unitAliases",{enumerable:!0,configurable:!0,writable:!0,value:{Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"}})}_setDefaults(){const t="_duration_millisecond",e="_duration_second",i="_duration_minute",s="_duration_hour",n="_duration_day",r="_duration_week",a="_duration_month",o="_duration_year",l="_second",h="_minute",u="_hour",p="_day",c="_week",d="_week",g="_year";this._setDefault("negativeBase",0),this._setDefault("baseUnit","second"),this._setDefault("durationFormats",{millisecond:{millisecond:this._t(t),second:this._t(t+l),minute:this._t(t+h),hour:this._t(t+u),day:this._t(t+p),week:this._t(t+c),month:this._t(t+d),year:this._t(t+g)},second:{second:this._t(e),minute:this._t(e+h),hour:this._t(e+u),day:this._t(e+p),week:this._t(e+c),month:this._t(e+d),year:this._t(e+g)},minute:{minute:this._t(i),hour:this._t(i+u),day:this._t(i+p),week:this._t(i+c),month:this._t(i+d),year:this._t(i+g)},hour:{hour:this._t(s),day:this._t(s+p),week:this._t(s+c),month:this._t(s+d),year:this._t(s+g)},day:{day:this._t(n),week:this._t(n+c),month:this._t(n+d),year:this._t(n+g)},week:{week:this._t(r),month:this._t(r+d),year:this._t(r+g)},month:{month:this._t(a),year:this._t(a+g)},year:{year:this._t(o)}}),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(t,e,i){let s=i||this.get("baseUnit");"undefined"!==typeof e&&""!==e||(e=null!=this.get("durationFormat")?this.get("durationFormat"):this.getFormat(at(t),void 0,s)),e=se(e);let n,r=this.parseFormat(e,s),a=Number(t);n=a>this.get("negativeBase")?r.positive:a<this.get("negativeBase")?r.negative:r.zero;let o=this.applyFormat(a,n);return""!==n.color&&(o="["+n.color+"]"+o+"[/]"),o}parseFormat(t,e){let i=e||this.get("baseUnit"),s={positive:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1}};t=t.replace("||",ft);let n=t.split("|");return s.positive.source=n[0],"undefined"===typeof n[2]?s.zero=s.positive:s.zero.source=n[2],"undefined"===typeof n[1]?s.negative=s.positive:s.negative.source=n[1],je(s,((t,e)=>{if(e.parsed)return;let i=e.source,s=[];s=e.source.match(/^\[([^\]]*)\]/),s&&s.length&&""!==s[0]&&(i=e.source.substr(s[0].length),e.color=s[1]);let n=Li.chunk(i,!0);for(let r=0;r<n.length;r++){let t=n[r];if(t.text=t.text.replace(ft,"|"),"value"===t.type){t.text.match(/[yYMdDwhHKkmsSn]+a/)&&(e.absolute=!0,t.text=t.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));let i=t.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(i)for(let s=0;s<i.length;s++)null==i[s]&&(i[s]=this._unitAliases[i[s]]),e.parts.push(i[s]),t.text=t.text.replace(i[s],gt)}e.template+=t.text}e.parsed=!0})),s}applyFormat(t,e){let i=!e.absolute&&t<this.get("negativeBase");t=Math.abs(t);let s=this.toTimeStamp(t,e.baseUnit),n=e.template;for(let r=0,a=e.parts.length;r<a;r++){let t=e.parts[r],i=this._toTimeUnit(t.substr(0,1)),a=t.length,o=Math.floor(s/this._getUnitValue(i));n=n.replace(gt,Jt(o,a,"0")),s-=o*this._getUnitValue(i)}return i&&(n="-"+n),n}toTimeStamp(t,e){return t*this._getUnitValue(e)}_toTimeUnit(t){switch(t){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}}getFormat(t,e,i){if(null!=this.get("durationFormat"))return this.get("durationFormat");if(i||(i=this.get("baseUnit")),null!=e&&t!=e){t=Math.abs(t),e=Math.abs(e);let s=this.getValueUnit(Math.max(t,e),i);return this.get("durationFormats")[i][s]}{let e=this.getValueUnit(t,i);return this.get("durationFormats")[i][e]}}getValueUnit(t,e){let i;e||(e=this.get("baseUnit"));let s=this.getMilliseconds(t,e);return Ee(this._getUnitValues(),((t,n)=>{if(t==e||i){let e=s/n;if(e<=1)return i||(i=t),!1;i=t}return!0})),i}getMilliseconds(t,e){return e||(e=this.get("baseUnit")),t*this._getUnitValue(e)}_getUnitValue(t){return this._getUnitValues()[t]}_getUnitValues(){return{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}}}var is={firstDayOfWeek:1,_decimalSeparator:".",_thousandSeparator:",",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"μ",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_millisecond_full:"HH:mm:ss SSS",_date_second:"HH:mm:ss",_date_second_full:"HH:mm:ss",_date_minute:"HH:mm",_date_minute_full:"HH:mm - MMM dd, yyyy",_date_hour:"HH:mm",_date_hour_full:"HH:mm - MMM dd, yyyy",_date_day:"MMM dd",_date_day_full:"MMM dd, yyyy",_date_week:"ww",_date_week_full:"MMM dd, yyyy",_date_month:"MMM",_date_month_full:"MMM, yyyy",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(t){let e="th";if(t<11||t>13)switch(t%10){case 1:e="st";break;case 2:e="nd";break;case 3:e="rd";break}return e},"Zoom Out":"",Play:"",Stop:"",Legend:"","Press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Press ENTER to open":"","Press ENTER to print.":"","Press ENTER to export as %1.":"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"",HTML:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:""};class ss extends ni{_setDefaults(){this.setPrivate("defaultLocale",is),super._setDefaults()}translate(t,e,...i){e||(e=this._root.locale||this.getPrivate("defaultLocale"));let s=t,n=e[t];if(null===n)s="";else if(null!=n)n&&(s=n);else if(e!==this.getPrivate("defaultLocale"))return this.translate(t,this.getPrivate("defaultLocale"),...i);if(i.length)for(let r=i.length,a=0;a<r;++a)s=s.split("%"+(a+1)).join(i[a]);return s}translateAny(t,e,...i){return this.translate(t,e,...i)}setTranslationAny(t,e,i){const s=i||this._root.locale;s[t]=e}setTranslationsAny(t,e){je(t,((t,i)=>{this.setTranslationAny(t,i,e)}))}translateEmpty(t,e,...i){let s=this.translate(t,e,...i);return s==t?"":s}translateFunc(t,e){return this._root.locale[t]?this._root.locale[t]:e!==this.getPrivate("defaultLocale")?this.translateFunc(t,this.getPrivate("defaultLocale")):()=>""}translateAll(t,e){return this.isDefault()?t:A(t,(t=>this.translate(t,e)))}isDefault(){return this.getPrivate("defaultLocale")===this._root.locale}}class ns{constructor(t,e){if(Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rules",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._root=t,!e)throw new Error("You cannot use `new Class()`, instead use `Class.new()`")}static new(t){const e=new this(t,!0);return e.setupDefaultRules(),e}setupDefaultRules(){}_lookupRules(t){return this._rules[t]}ruleRaw(t,e=[]){let i=this._rules[t];i||(i=this._rules[t]=[]),e.sort($e);const{index:s,found:n}=q(i,(t=>{const i=$e(t.tags.length,e.length);return 0===i?Je(t.tags,e,$e):i}));if(n)return i[s].template;{const t=li["new"]({});return i.splice(s,0,{tags:e,template:t}),t}}rule(t,e=[]){return this.ruleRaw(t,e)}}function rs(t,e,i,s){t.set(e,i.get(s)),i.on(s,(i=>{t.set(e,i)}))}class as extends ns{setupDefaultRules(){super.setupDefaultRules();const t=this._root.language,e=this._root.interfaceColors,i=this._root.horizontalLayout,s=this._root.verticalLayout,n=this.rule.bind(this);n("InterfaceColors").setAll({stroke:Se.fromHex(15066597),fill:Se.fromHex(15987699),primaryButton:Se.fromHex(6788316),primaryButtonHover:Se.fromHex(6779356),primaryButtonDown:Se.fromHex(6872182),primaryButtonActive:Se.fromHex(6872182),primaryButtonText:Se.fromHex(16777215),primaryButtonStroke:Se.fromHex(16777215),secondaryButton:Se.fromHex(14277081),secondaryButtonHover:Se.fromHex(10724259),secondaryButtonDown:Se.fromHex(9276813),secondaryButtonActive:Se.fromHex(15132390),secondaryButtonText:Se.fromHex(0),secondaryButtonStroke:Se.fromHex(16777215),grid:Se.fromHex(0),background:Se.fromHex(16777215),alternativeBackground:Se.fromHex(0),text:Se.fromHex(0),alternativeText:Se.fromHex(16777215),disabled:Se.fromHex(11382189),positive:Se.fromHex(5288704),negative:Se.fromHex(11730944)});{const t=n("ColorSet");t.setAll({passOptions:{hue:.05,saturation:0,lightness:0},colors:[Se.fromHex(6797276)],step:1,reuse:!1,startIndex:0}),t.setPrivate("currentStep",0),t.setPrivate("currentPass",0)}n("Entity").setAll({stateAnimationDuration:0,stateAnimationEasing:We(ze)}),n("Component").setAll({interpolationDuration:0,interpolationEasing:We(ze)}),n("Sprite").setAll({visible:!0,scale:1,opacity:1,rotation:0,position:"relative",tooltipX:kt,tooltipY:kt,tooltipPosition:"fixed",isMeasured:!0}),n("Sprite").states.create("default",{visible:!0,opacity:1}),n("Container").setAll({interactiveChildren:!0,setStateOnChildren:!1}),n("Graphics").setAll({strokeWidth:1}),n("Chart").setAll({width:Ot,height:Ot,interactiveChildren:!1}),n("Sprite",["horizontal","center"]).setAll({centerX:kt,x:kt}),n("Sprite",["vertical","center"]).setAll({centerY:kt,y:kt}),n("Container",["horizontal","layout"]).setAll({layout:i}),n("Container",["vertical","layout"]).setAll({layout:s}),n("Pattern").setAll({repetition:"repeat",width:50,height:50,rotation:0,fillOpacity:1}),n("LinePattern").setAll({gap:6,colorOpacity:1,width:49,height:49}),n("RectanglePattern").setAll({gap:6,checkered:!1,centered:!0,maxWidth:5,maxHeight:5,width:48,height:48,strokeWidth:0}),n("CirclePattern").setAll({gap:5,checkered:!1,centered:!1,radius:3,strokeWidth:0,width:45,height:45}),n("LinearGradient").setAll({rotation:90}),n("Legend").setAll({fillField:"fill",strokeField:"stroke",nameField:"name",layout:Ei["new"](this._root,{}),layer:30,clickTarget:"itemContainer"}),n("Container",["legend","item","itemcontainer"]).setAll({paddingLeft:5,paddingRight:5,paddingBottom:5,paddingTop:5,layout:i,setStateOnChildren:!0,interactiveChildren:!1,ariaChecked:!0,focusable:!0,ariaLabel:t.translate("Press ENTER to toggle"),role:"checkbox"});{const t=n("Rectangle",["legend","item","background"]);t.setAll({fillOpacity:0}),rs(t,"fill",e,"background")}n("Container",["legend","marker"]).setAll({setStateOnChildren:!0,centerY:kt,paddingLeft:0,paddingRight:0,paddingBottom:0,paddingTop:0,width:18,height:18}),n("RoundedRectangle",["legend","marker","rectangle"]).setAll({width:Ot,height:Ot,cornerRadiusBL:3,cornerRadiusTL:3,cornerRadiusBR:3,cornerRadiusTR:3});{const t=n("RoundedRectangle",["legend","marker","rectangle"]).states.create("disabled",{});rs(t,"fill",e,"disabled"),rs(t,"stroke",e,"disabled")}n("Label",["legend","label"]).setAll({centerY:kt,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,populateText:!0});{const t=n("Label",["legend","label"]).states.create("disabled",{});rs(t,"fill",e,"disabled")}n("Label",["legend","value","label"]).setAll({centerY:kt,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,width:50,centerX:Ot,populateText:!0});{const t=n("Label",["legend","value","label"]).states.create("disabled",{});rs(t,"fill",e,"disabled")}n("HeatLegend").setAll({stepCount:1}),n("RoundedRectangle",["heatlegend","marker"]).setAll({cornerRadiusTR:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusBL:0}),n("RoundedRectangle",["vertical","heatlegend","marker"]).setAll({height:Ot,width:15}),n("RoundedRectangle",["horizontal","heatlegend","marker"]).setAll({width:Ot,height:15}),n("HeatLegend",["vertical"]).setAll({height:Ot}),n("HeatLegend",["horizontal"]).setAll({width:Ot}),n("Label",["heatlegend","start"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5}),n("Label",["heatlegend","end"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5});{const t=n("Label");t.setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontSize:"1em",populateText:!1}),rs(t,"fill",e,"text")}n("RadialLabel").setAll({textType:"regular",centerY:kt,centerX:kt,inside:!1,radius:0,baseRadius:Ot,orientation:"auto",textAlign:"center"}),n("RoundedRectangle").setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8}),n("PointedRectangle").setAll({pointerBaseWidth:15,pointerLength:10,cornerRadius:8}),n("Slice").setAll({shiftRadius:0,dRadius:0,dInnerRadius:0});{const t=n("Tick");t.setAll({strokeOpacity:.15,isMeasured:!1,length:4.5,position:"absolute",crisp:!0}),rs(t,"stroke",e,"grid")}n("Bullet").setAll({locationX:.5,locationY:.5}),n("Tooltip").setAll({position:"absolute",getFillFromSprite:!0,getStrokeFromSprite:!1,autoTextColor:!0,paddingTop:9,paddingBottom:8,paddingLeft:10,paddingRight:10,marginBottom:5,pointerOrientation:"vertical",centerX:kt,centerY:kt,animationEasing:We(ze),exportable:!1});{const t=n("PointedRectangle",["tooltip","background"]);t.setAll({strokeOpacity:.9,cornerRadius:4,pointerLength:4,pointerBaseWidth:8,fillOpacity:.9,stroke:Se.fromHex(16777215)})}{const t=n("Label",["tooltip"]);t.setAll({role:"tooltip",populateText:!0,paddingRight:0,paddingTop:0,paddingLeft:0,paddingBottom:0}),rs(t,"fill",e,"alternativeText")}n("Button").setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,interactive:!0,layout:i,interactiveChildren:!1,setStateOnChildren:!0,focusable:!0}),n("Button").states.create("hover",{}),n("Button").states.create("down",{stateAnimationDuration:0}),n("Button").states.create("active",{});{const t=n("RoundedRectangle",["button","background"]);rs(t,"fill",e,"primaryButton"),rs(t,"stroke",e,"primaryButtonStroke")}{const t=n("RoundedRectangle",["button","background"]).states.create("hover",{});rs(t,"fill",e,"primaryButtonHover")}{const t=n("RoundedRectangle",["button","background"]).states.create("down",{stateAnimationDuration:0});rs(t,"fill",e,"primaryButtonDown")}{const t=n("RoundedRectangle",["button","background"]).states.create("active",{});rs(t,"fill",e,"primaryButtonActive")}{const t=n("Graphics",["button","icon"]);rs(t,"stroke",e,"primaryButtonText")}{const t=n("Label",["button"]);rs(t,"fill",e,"primaryButtonText")}n("Button",["zoom"]).setAll({paddingTop:18,paddingBottom:18,paddingLeft:12,paddingRight:12,centerX:46,centerY:-10,y:0,x:Ot,role:"button",ariaLabel:t.translate("Zoom Out"),layer:30});{const t=n("RoundedRectangle",["background","button","zoom"]);t.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),rs(t,"fill",e,"primaryButton")}{const t=n("RoundedRectangle",["background","button","zoom"]).states.create("hover",{});rs(t,"fill",e,"primaryButtonHover")}{const t=n("RoundedRectangle",["background","button","zoom"]).states.create("down",{stateAnimationDuration:0});rs(t,"fill",e,"primaryButtonDown")}{const t=n("Graphics",["icon","button","zoom"]);t.setAll({crisp:!0,strokeOpacity:.7,draw:t=>{t.moveTo(0,0),t.lineTo(12,0)}}),rs(t,"stroke",e,"primaryButtonText")}n("Button",["resize"]).setAll({paddingTop:9,paddingBottom:9,paddingLeft:13,paddingRight:13,draggable:!0,centerX:kt,centerY:kt,position:"absolute",role:"slider",ariaValueMin:"0",ariaValueMax:"100",ariaLabel:t.translate("Use up and down arrows to move selection")});{const t=n("RoundedRectangle",["background","resize","button"]);t.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),rs(t,"fill",e,"secondaryButton"),rs(t,"stroke",e,"secondaryButtonStroke")}{const t=n("RoundedRectangle",["background","resize","button"]).states.create("hover",{});rs(t,"fill",e,"secondaryButtonHover")}{const t=n("RoundedRectangle",["background","resize","button"]).states.create("down",{stateAnimationDuration:0});rs(t,"fill",e,"secondaryButtonDown")}{const t=n("Graphics",["resize","button","icon"]);t.setAll({interactive:!1,crisp:!0,strokeOpacity:.5,draw:t=>{t.moveTo(0,.5),t.lineTo(0,12.5),t.moveTo(4,.5),t.lineTo(4,12.5)}}),rs(t,"stroke",e,"secondaryButtonText")}n("Button",["resize","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize"}),n("Button",["resize","horizontal"]).setAll({cursorOverStyle:"ew-resize"}),n("Button",["play"]).setAll({paddingTop:13,paddingBottom:13,paddingLeft:14,paddingRight:14,ariaLabel:t.translate("Play"),toggleKey:"active"});{const t=n("RoundedRectangle",["play","background"]);t.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),rs(t,"fill",e,"primaryButton")}{const t=n("Graphics",["play","icon"]);t.setAll({stateAnimationDuration:0,dx:1,draw:t=>{t.moveTo(0,-5),t.lineTo(8,0),t.lineTo(0,5),t.lineTo(0,-5)}}),rs(t,"fill",e,"primaryButtonText")}n("Graphics",["play","icon"]).states.create("default",{stateAnimationDuration:0}),n("Graphics",["play","icon"]).states.create("active",{stateAnimationDuration:0,draw:t=>{t.moveTo(-4,-5),t.lineTo(-1,-5),t.lineTo(-1,5),t.lineTo(-4,5),t.lineTo(-4,-5),t.moveTo(4,-5),t.lineTo(1,-5),t.lineTo(1,5),t.lineTo(4,5),t.lineTo(4,-5)}}),n("Button",["switch"]).setAll({paddingTop:4,paddingBottom:4,paddingLeft:4,paddingRight:4,ariaLabel:t.translate("Press ENTER to toggle"),toggleKey:"active",width:40,height:24,layout:null});{const t=n("RoundedRectangle",["switch","background"]);t.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),rs(t,"fill",e,"primaryButton")}{const t=n("Circle",["switch","icon"]);t.setAll({radius:8,centerY:0,centerX:0,dx:0}),rs(t,"fill",e,"primaryButtonText")}n("Graphics",["switch","icon"]).states.create("active",{dx:16}),n("Scrollbar").setAll({start:0,end:1,layer:30,animationEasing:We(ze)}),n("Scrollbar",["vertical"]).setAll({marginRight:13,marginLeft:13,minWidth:12,height:Ot}),n("Scrollbar",["horizontal"]).setAll({marginTop:13,marginBottom:13,minHeight:12,width:Ot}),this.rule("Button",["scrollbar"]).setAll({exportable:!1});{const t=n("RoundedRectangle",["scrollbar","main","background"]);t.setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8,fillOpacity:.8}),rs(t,"fill",e,"fill")}{const t=n("RoundedRectangle",["scrollbar","thumb"]);t.setAll({role:"slider",ariaLive:"polite",position:"absolute",draggable:!0}),rs(t,"fill",e,"secondaryButton")}{const t=n("RoundedRectangle",["scrollbar","thumb"]).states.create("hover",{});rs(t,"fill",e,"secondaryButtonHover")}{const t=n("RoundedRectangle",["scrollbar","thumb"]).states.create("down",{stateAnimationDuration:0});rs(t,"fill",e,"secondaryButtonDown")}n("RoundedRectangle",["scrollbar","thumb","vertical"]).setAll({x:kt,width:Ot,centerX:kt,ariaLabel:t.translate("Use up and down arrows to move selection")}),n("RoundedRectangle",["scrollbar","thumb","horizontal"]).setAll({y:kt,centerY:kt,height:Ot,ariaLabel:t.translate("Use left and right arrows to move selection")});{const t=n("PointedRectangle",["axis","tooltip","background"]);t.setAll({cornerRadius:0}),rs(t,"fill",e,"alternativeBackground")}n("Label",["axis","tooltip"]).setAll({role:void 0}),n("Label",["axis","tooltip","y"]).setAll({textAlign:"right"}),n("Label",["axis","tooltip","y","opposite"]).setAll({textAlign:"left"}),n("Label",["axis","tooltip","x"]).setAll({textAlign:"center"}),n("Tooltip",["categoryaxis"]).setAll({labelText:"{category}"}),n("Star").setAll({spikes:5,innerRadius:5,radius:10}),n("Tooltip",["stock"]).setAll({paddingTop:6,paddingBottom:5,paddingLeft:7,paddingRight:7}),n("PointedRectangle",["tooltip","stock","axis"]).setAll({pointerLength:0,pointerBaseWidth:0,cornerRadius:3}),n("Label",["tooltip","stock"]).setAll({fontSize:"0.8em"}),n("SpriteResizer").setAll({rotationStep:10});{const t=n("Container",["resizer","grip"]);t.states.create("hover",{})}{const t=n("RoundedRectangle",["resizer","grip"]);t.setAll({strokeOpacity:.7,strokeWidth:1,fillOpacity:1,width:12,height:12}),rs(t,"fill",e,"background"),rs(t,"stroke",e,"alternativeBackground")}{const t=n("RoundedRectangle",["resizer","grip","outline"]);t.setAll({strokeOpacity:0,fillOpacity:0,width:20,height:20}),t.states.create("hover",{fillOpacity:.3}),rs(t,"fill",e,"alternativeBackground")}n("RoundedRectangle",["resizer","grip","left"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0}),n("RoundedRectangle",["resizer","grip","right"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0});{const t=n("Rectangle",["resizer","rectangle"]);t.setAll({strokeDasharray:[2,2],strokeOpacity:.5,strokeWidth:1}),rs(t,"stroke",e,"alternativeBackground")}}}class os{constructor(t=1,e=0,i=0,s=1,n=0,r=0){Object.defineProperty(this,"a",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"b",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"c",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"d",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.a=t,this.b=e,this.c=i,this.d=s,this.tx=n,this.ty=r}setTransform(t,e,i,s,n,r=1){this.a=Math.cos(n)*r,this.b=Math.sin(n)*r,this.c=-Math.sin(n)*r,this.d=Math.cos(n)*r,this.tx=t-(i*this.a+s*this.c),this.ty=e-(i*this.b+s*this.d)}apply(t){return{x:this.a*t.x+this.c*t.y+this.tx,y:this.b*t.x+this.d*t.y+this.ty}}applyInverse(t){const e=1/(this.a*this.d+this.c*-this.b);return{x:this.d*e*t.x+-this.c*e*t.y+(this.ty*this.c-this.tx*this.d)*e,y:this.a*e*t.y+-this.b*e*t.x+(-this.ty*this.a+this.tx*this.b)*e}}append(t){const e=this.a,i=this.b,s=this.c,n=this.d;this.a=t.a*e+t.b*s,this.b=t.a*i+t.b*n,this.c=t.c*e+t.d*s,this.d=t.c*i+t.d*n,this.tx=t.tx*e+t.ty*s+this.tx,this.ty=t.tx*i+t.ty*n+this.ty}prepend(t){const e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){const e=this.a,i=this.c;this.a=e*t.a+this.b*t.c,this.b=e*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty}copyFrom(t){this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty}}var ls=function(){function t(t,e){var i=[],s=!0,n=!1,r=void 0;try{for(var a,o=t[Symbol.iterator]();!(s=(a=o.next()).done);s=!0)if(i.push(a.value),e&&i.length===e)break}catch(l){n=!0,r=l}finally{try{!s&&o["return"]&&o["return"]()}finally{if(n)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),hs=2*Math.PI,us=function(t,e,i,s,n,r,a){var o=t.x,l=t.y;o*=e,l*=i;var h=s*o-n*l,u=n*o+s*l;return{x:h+r,y:u+a}},ps=function(t,e){var i=1.5707963267948966===e?.551915024494:-1.5707963267948966===e?-.551915024494:4/3*Math.tan(e/4),s=Math.cos(t),n=Math.sin(t),r=Math.cos(t+e),a=Math.sin(t+e);return[{x:s-n*i,y:n+s*i},{x:r+a*i,y:a-r*i},{x:r,y:a}]},cs=function(t,e,i,s){var n=t*s-e*i<0?-1:1,r=t*i+e*s;return r>1&&(r=1),r<-1&&(r=-1),n*Math.acos(r)},ds=function(t,e,i,s,n,r,a,o,l,h,u,p){var c=Math.pow(n,2),d=Math.pow(r,2),g=Math.pow(u,2),f=Math.pow(p,2),m=c*d-c*f-d*g;m<0&&(m=0),m/=c*f+d*g,m=Math.sqrt(m)*(a===o?-1:1);var y=m*n/r*p,b=m*-r/n*u,v=h*y-l*b+(t+i)/2,_=l*y+h*b+(e+s)/2,x=(u-y)/n,w=(p-b)/r,P=(-u-y)/n,O=(-p-b)/r,k=cs(1,0,x,w),D=cs(x,w,P,O);return 0===o&&D>0&&(D-=hs),1===o&&D<0&&(D+=hs),[v,_,k,D]},gs=function(t){var e=t.px,i=t.py,s=t.cx,n=t.cy,r=t.rx,a=t.ry,o=t.xAxisRotation,l=void 0===o?0:o,h=t.largeArcFlag,u=void 0===h?0:h,p=t.sweepFlag,c=void 0===p?0:p,d=[];if(0===r||0===a)return[];var g=Math.sin(l*hs/360),f=Math.cos(l*hs/360),m=f*(e-s)/2+g*(i-n)/2,y=-g*(e-s)/2+f*(i-n)/2;if(0===m&&0===y)return[];r=Math.abs(r),a=Math.abs(a);var b=Math.pow(m,2)/Math.pow(r,2)+Math.pow(y,2)/Math.pow(a,2);b>1&&(r*=Math.sqrt(b),a*=Math.sqrt(b));var v=ds(e,i,s,n,r,a,u,c,g,f,m,y),_=ls(v,4),x=_[0],w=_[1],P=_[2],O=_[3],k=Math.abs(O)/(hs/4);Math.abs(1-k)<1e-7&&(k=1);var D=Math.max(Math.ceil(k),1);O/=D;for(var T=0;T<D;T++)d.push(ps(P,O)),P+=O;return d.map((function(t){var e=us(t[0],r,a,f,g,x,w),i=e.x,s=e.y,n=us(t[1],r,a,f,g,x,w),o=n.x,l=n.y,h=us(t[2],r,a,f,g,x,w),u=h.x,p=h.y;return{x1:i,y1:s,x2:o,y2:l,x:u,y:p}}))},fs=gs;function ms(t,e,i){if(e!==i)throw new Error("Required "+i+" arguments for "+t+" but got "+e)}function ys(t,e,i){if(e<i)throw new Error("Required at least "+i+" arguments for "+t+" but got "+e)}function bs(t,e,i){if(ys(t,e,i),e%i!==0)throw new Error("Arguments for "+t+" must be in pairs of "+i)}function vs(t){for(let e=0;e<t.length;e+=7){let i=e+3,s=t[i];if(s.length>1){const e=/^([01])([01])(.*)$/.exec(s);null!==e&&(t.splice(i,0,e[1]),++i,t.splice(i,0,e[2]),++i,e[3].length>0?t[i]=e[3]:t.splice(i,1))}if(++i,s=t[i],s.length>1){const e=/^([01])(.+)$/.exec(s);null!==e&&(t.splice(i,0,e[1]),++i,t[i]=e[2])}}}function _s(t){if(0===t||1===t)return t;throw new Error("Flag must be 0 or 1")}function xs(t){const e=[0,0,0];for(let i=0;i<24;i++)e[i%3]<<=1,e[i%3]|=1&t,t>>=1;return(0|e[2])+(e[1]<<8)+(e[0]<<16)}function ws(t,e){for(;;){if(t.interactive&&!e(t))break;if(!t._parent)break;t=t._parent}}function Ps(t,e,i){return Lt(t,Nt(e),(t=>{const e=Yt(t);let s=t.touches;s?(0==s.length&&(s=t.changedTouches),i(W(s),e)):i([t],e)}))}function Os(t){const e=document.createElement("canvas");e.width=1,e.height=1;const i=e.getContext("2d",{willReadFrequently:!0});i.drawImage(t,0,0,1,1);try{return i.getImageData(0,0,1,1),!1}catch(s){return console.warn('Image "'+t.src+'" is loaded from different host and is not covered by CORS policy. For more information about the implications read here: https://www.amcharts.com/docs/v5/concepts/cors'),!0}}function ks(t){t.width=0,t.height=0,t.style.width="0px",t.style.height="0px"}class Ds{constructor(){Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0})}get x(){return this._x}get y(){return this._y}set x(t){this._x=t}set y(t){this._y=t}}class Ts extends Q{constructor(t){super(),Object.defineProperty(this,"_layer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mask",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"interactive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inactive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"wheelable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"cancelTouch",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isMeasured",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"buttonMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"alpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"compoundAlpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"angle",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"crisp",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"pivot",{enumerable:!0,configurable:!0,writable:!0,value:new Ds}),Object.defineProperty(this,"filter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cursorOverStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_replacedCursorStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new os}),Object.defineProperty(this,"_matrix",{enumerable:!0,configurable:!0,writable:!0,value:new os}),Object.defineProperty(this,"_uMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new os}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_bounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._renderer=t}_dispose(){this._renderer._removeObject(this),this.getLayer().dirty=!0}getCanvas(){return this.getLayer().view}getLayer(){let t=this;for(;;){if(t._layer)return t._layer;if(!t._parent)return this._renderer.defaultLayer;t=t._parent}}setLayer(t,e){if(null==t)this._layer=void 0;else{const i=!0;this._layer=this._renderer.getLayer(t,i),this._layer.visible=i,this._layer.margin=e,e&&Ut(this._layer.view,!1),this._renderer._ghostLayer.setMargin(this._renderer.layers),this._parent&&this._parent.registerChildLayer(this._layer),this._layer.dirty=!0,this._renderer.resizeLayer(this._layer),this._renderer.resizeGhost()}}markDirtyLayer(){this.getLayer().dirty=!0}clear(){this.invalidateBounds()}invalidateBounds(){this._localBounds=void 0}_addBounds(t){}_getColorId(){return void 0===this._colorId&&(this._colorId=this._renderer.paintId(this)),this._colorId}_isInteractive(){return 0==this.inactive&&(this.interactive||this._renderer._forceInteractive>0)}_isInteractiveMask(){return this._isInteractive()}contains(t){for(;;){if(t===this)return!0;if(!t._parent)return!1;t=t._parent}}toGlobal(t){return this._matrix.apply(t)}toLocal(t){return this._matrix.applyInverse(t)}getLocalMatrix(){return this._uMatrix.setTransform(0,0,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._uMatrix}getLocalBounds(){if(!this._localBounds){const t=1e7;this._localBounds={left:t,top:t,right:-t,bottom:-t},this._addBounds(this._localBounds)}return this._localBounds}getAdjustedBounds(t){this._setMatrix();const e=this.getLocalMatrix(),i=e.apply({x:t.left,y:t.top}),s=e.apply({x:t.right,y:t.top}),n=e.apply({x:t.right,y:t.bottom}),r=e.apply({x:t.left,y:t.bottom});return{left:Math.min(i.x,s.x,n.x,r.x),top:Math.min(i.y,s.y,n.y,r.y),right:Math.max(i.x,s.x,n.x,r.x),bottom:Math.max(i.y,s.y,n.y,r.y)}}on(t,e,i){return this.interactive?this._renderer._addEvent(this,t,e,i):new tt((()=>{}))}_setMatrix(){this._localMatrix.setTransform(this.x,this.y,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._matrix.copyFrom(this._localMatrix),this._parent&&this._matrix.prepend(this._parent._matrix)}_transform(t,e){const i=this._matrix;let s=i.tx*e,n=i.ty*e;this.crisp&&(s=Math.floor(s)+.5,n=Math.floor(n)+.5),t.setTransform(i.a*e,i.b*e,i.c*e,i.d*e,s,n)}_transformMargin(t,e,i){const s=this._matrix;t.setTransform(s.a*e,s.b*e,s.c*e,s.d*e,(s.tx+i.left)*e,(s.ty+i.top)*e)}_transformLayer(t,e,i){i.margin?this._transformMargin(t,i.scale||e,i.margin):this._transform(t,i.scale||e)}render(t){if(this.visible&&(!1!==this.exportable||!this._renderer._omitTainted)){this._setMatrix();const e=this._renderer.resolution,i=this._renderer.layers,s=this._renderer._ghostLayer,n=s.context,r=this.mask;r&&r._setMatrix(),F(i,(t=>{if(t){const i=t.context;i.save(),r&&(r._transformLayer(i,e,t),r._runPath(i),i.clip()),i.globalAlpha=this.compoundAlpha*this.alpha,this._transformLayer(i,e,t),this.filter&&(i.filter=this.filter)}})),n.save(),r&&this._isInteractiveMask()&&(r._transformMargin(n,e,s.margin),r._runPath(n),n.clip()),this._transformMargin(n,e,s.margin),this._render(t),n.restore(),F(i,(t=>{t&&t.context.restore()}))}}_render(t){if(!1===this.exportable){const e=this._layer||t;e.tainted=!0}}hovering(){return this._renderer._hovering.has(this)}dragging(){return this._renderer._dragging.some((t=>t.value===this))}shouldCancelTouch(){const t=this._renderer;return!(t.tapToActivate&&!t._touchActive)&&(!!this.cancelTouch||!!this._parent&&this._parent.shouldCancelTouch())}}class Ss extends Ts{constructor(){super(...arguments),Object.defineProperty(this,"interactiveChildren",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_childLayers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_children",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_isInteractiveMask(){return this.interactiveChildren||super._isInteractiveMask()}addChild(t){t._parent=this,this._children.push(t),t._layer&&this.registerChildLayer(t._layer)}addChildAt(t,e){t._parent=this,this._children.splice(e,0,t),t._layer&&this.registerChildLayer(t._layer)}removeChild(t){t._parent=void 0,N(this._children,t)}_render(t){super._render(t);const e=this._renderer;this.interactive&&this.interactiveChildren&&++e._forceInteractive;const i=this._layer||t;F(this._children,(t=>{t.compoundAlpha=this.compoundAlpha*this.alpha,t.render(i)})),this.interactive&&this.interactiveChildren&&--e._forceInteractive}registerChildLayer(t){this._childLayers||(this._childLayers=[]),z(this._childLayers,t),this._parent&&this._parent.registerChildLayer(t)}markDirtyLayer(t=!1){super.markDirtyLayer(),t&&this._childLayers&&F(this._childLayers,(t=>t.dirty=!0))}_dispose(){super._dispose(),this._childLayers&&F(this._childLayers,(t=>{t.dirty=!0}))}}function Cs(t,e){t.left=Math.min(t.left,e.x),t.top=Math.min(t.top,e.y),t.right=Math.max(t.right,e.x),t.bottom=Math.max(t.bottom,e.y)}class Ms{colorize(t,e){}path(t){}addBounds(t){}}class Is extends Ms{colorize(t,e){t.beginPath()}}class js extends Ms{constructor(t){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:t})}colorize(t,e){t.fillStyle=void 0!==e?e:this.color}}class Es extends Ms{constructor(t){super(),Object.defineProperty(this,"clearShadow",{enumerable:!0,configurable:!0,writable:!0,value:t})}colorize(t,e){t.fill(),this.clearShadow&&(t.shadowColor="",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}}class Ls extends Ms{colorize(t,e){t.stroke()}}class As extends Ms{constructor(t,e,i){super(),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"lineJoin",{enumerable:!0,configurable:!0,writable:!0,value:i})}colorize(t,e){t.strokeStyle=void 0!==e?e:this.color,t.lineWidth=this.width,this.lineJoin&&(t.lineJoin=this.lineJoin)}}class Fs extends Ms{constructor(t){super(),Object.defineProperty(this,"dash",{enumerable:!0,configurable:!0,writable:!0,value:t})}colorize(t,e){t.setLineDash(this.dash)}}class Rs extends Ms{constructor(t){super(),Object.defineProperty(this,"dashOffset",{enumerable:!0,configurable:!0,writable:!0,value:t})}colorize(t,e){t.lineDashOffset=this.dashOffset}}class Vs extends Ms{constructor(t,e,i,s){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:s})}path(t){t.rect(this.x,this.y,this.width,this.height)}addBounds(t){const e=this.x,i=this.y,s=e+this.width,n=i+this.height;Cs(t,{x:e,y:i}),Cs(t,{x:s,y:i}),Cs(t,{x:e,y:n}),Cs(t,{x:s,y:n})}}class Bs extends Ms{constructor(t,e,i){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:i})}path(t){t.moveTo(this.x+this.radius,this.y),t.arc(this.x,this.y,this.radius,0,2*Math.PI)}addBounds(t){Cs(t,{x:this.x-this.radius,y:this.y-this.radius}),Cs(t,{x:this.x+this.radius,y:this.y+this.radius})}}class Ns extends Ms{constructor(t,e,i,s){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"radiusX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"radiusY",{enumerable:!0,configurable:!0,writable:!0,value:s})}path(t){t.ellipse(0,0,this.radiusX,this.radiusY,0,0,2*Math.PI)}addBounds(t){Cs(t,{x:this.x-this.radiusX,y:this.y-this.radiusY}),Cs(t,{x:this.x+this.radiusX,y:this.y+this.radiusY})}}class Hs extends Ms{constructor(t,e,i,s,n,r){super(),Object.defineProperty(this,"cx",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"cy",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"endAngle",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"anticlockwise",{enumerable:!0,configurable:!0,writable:!0,value:r})}path(t){this.radius>0&&t.arc(this.cx,this.cy,this.radius,this.startAngle,this.endAngle,this.anticlockwise)}addBounds(t){let e=bi(this.cx,this.cy,this.startAngle*pi,this.endAngle*pi,this.radius);Cs(t,{x:e.left,y:e.top}),Cs(t,{x:e.right,y:e.bottom})}}class zs extends Ms{constructor(t,e,i,s,n){super(),Object.defineProperty(this,"x1",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"y1",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"x2",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"y2",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:n})}path(t){this.radius>0&&t.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)}addBounds(t){}}class Ws extends Ms{constructor(t,e){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:e})}path(t){t.lineTo(this.x,this.y)}addBounds(t){Cs(t,{x:this.x,y:this.y})}}class Ys extends Ms{constructor(t,e){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:e})}path(t){t.moveTo(this.x,this.y)}addBounds(t){Cs(t,{x:this.x,y:this.y})}}class Gs extends Ms{path(t){t.closePath()}}class Xs extends Ms{constructor(t,e,i,s,n,r){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cpX2",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"cpY2",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:r})}path(t){t.bezierCurveTo(this.cpX,this.cpY,this.cpX2,this.cpY2,this.toX,this.toY)}addBounds(t){Cs(t,{x:this.cpX,y:this.cpY}),Cs(t,{x:this.cpX2,y:this.cpY2}),Cs(t,{x:this.toX,y:this.toY})}}class Us extends Ms{constructor(t,e,i,s){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:s})}path(t){t.quadraticCurveTo(this.cpX,this.cpY,this.toX,this.toY)}addBounds(t){Cs(t,{x:this.cpX,y:this.cpY}),Cs(t,{x:this.toX,y:this.toY})}}class Ks extends Ms{constructor(t,e,i,s,n){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"blur",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"offsetX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"offsetY",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"opacity",{enumerable:!0,configurable:!0,writable:!0,value:n})}colorize(t,e){this.opacity&&(t.fillStyle=this.color),t.shadowColor=this.color,t.shadowBlur=this.blur,t.shadowOffsetX=this.offsetX,t.shadowOffsetY=this.offsetY}}class Zs extends Ms{constructor(t,e,i,s,n){super(),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:n})}path(t){t.drawImage(this.image,this.x,this.y,this.width,this.height)}addBounds(t){Cs(t,{x:this.x,y:this.y}),Cs(t,{x:this.width,y:this.height})}}class qs extends Ts{constructor(){super(...arguments),Object.defineProperty(this,"_operations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"blendMode",{enumerable:!0,configurable:!0,writable:!0,value:ki.NORMAL}),Object.defineProperty(this,"_hasShadows",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_fillAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}clear(){super.clear(),this._operations.length=0}_pushOp(t){this._operations.push(t)}beginFill(t,e=1){this._fillAlpha=e,t?t instanceof Se?this._pushOp(new js(t.toCSS(e))):(this.isMeasured=!0,this._pushOp(new js(t))):this._pushOp(new js("rgba(0, 0, 0, "+e+")"))}endFill(){this._pushOp(new Es(this._hasShadows))}endStroke(){this._pushOp(new Ls)}beginPath(){this._pushOp(new Is)}lineStyle(t=0,e,i=1,s){this._strokeAlpha=i,e?e instanceof Se?this._pushOp(new As(t,e.toCSS(i),s)):this._pushOp(new As(t,e,s)):this._pushOp(new As(t,"rgba(0, 0, 0, "+i+")",s))}setLineDash(t){this._pushOp(new Fs(t||[]))}setLineDashOffset(t=0){this._pushOp(new Rs(t))}drawRect(t,e,i,s){this._pushOp(new Vs(t,e,i,s))}drawCircle(t,e,i){this._pushOp(new Bs(t,e,i))}drawEllipse(t,e,i,s){this._pushOp(new Ns(t,e,i,s))}arc(t,e,i,s,n,r=!1){this._pushOp(new Hs(t,e,i,s,n,r))}arcTo(t,e,i,s,n){this._pushOp(new zs(t,e,i,s,n))}lineTo(t,e){this._pushOp(new Ws(t,e))}moveTo(t,e){this._pushOp(new Ys(t,e))}bezierCurveTo(t,e,i,s,n,r){this._pushOp(new Xs(t,e,i,s,n,r))}quadraticCurveTo(t,e,i,s){this._pushOp(new Us(t,e,i,s))}closePath(){this._pushOp(new Gs)}shadow(t,e=0,i=0,s=0,n){this._hasShadows=!0,this._pushOp(new Ks(n?t.toCSS(n):t.toCSS(this._fillAlpha||this._strokeAlpha),e,i,s))}image(t,e,i,s,n){this._pushOp(new Zs(t,e,i,s,n))}svgPath(t){let e=0,i=0,s=null,n=null,r=null,a=null;const o=/([MmZzLlHhVvCcSsQqTtAa])([^MmZzLlHhVvCcSsQqTtAa]*)/g,l=/[\u0009\u0020\u000A\u000C\u000D]*([\+\-]?[0-9]*\.?[0-9]+(?:[eE][\+\-]?[0-9]+)?)[\u0009\u0020\u000A\u000C\u000D]*,?/g;let h;while(null!==(h=o.exec(t))){const t=h[1],o=h[2],u=[];while(null!==(h=l.exec(o)))u.push(h[1]);switch("S"!==t&&"s"!==t&&"C"!==t&&"c"!==t&&(s=null,n=null),"Q"!==t&&"q"!==t&&"T"!==t&&"t"!==t&&(r=null,a=null),t){case"M":bs(t,u.length,2),e=+u[0],i=+u[1],this.moveTo(e,i);for(let t=2;t<u.length;t+=2)e=+u[t],i=+u[t+1],this.lineTo(e,i);break;case"m":bs(t,u.length,2),e+=+u[0],i+=+u[1],this.moveTo(e,i);for(let t=2;t<u.length;t+=2)e+=+u[t],i+=+u[t+1],this.lineTo(e,i);break;case"L":bs(t,u.length,2);for(let t=0;t<u.length;t+=2)e=+u[t],i=+u[t+1],this.lineTo(e,i);break;case"l":bs(t,u.length,2);for(let t=0;t<u.length;t+=2)e+=+u[t],i+=+u[t+1],this.lineTo(e,i);break;case"H":ys(t,u.length,1);for(let t=0;t<u.length;++t)e=+u[t],this.lineTo(e,i);break;case"h":ys(t,u.length,1);for(let t=0;t<u.length;++t)e+=+u[t],this.lineTo(e,i);break;case"V":ys(t,u.length,1);for(let t=0;t<u.length;++t)i=+u[t],this.lineTo(e,i);break;case"v":ys(t,u.length,1);for(let t=0;t<u.length;++t)i+=+u[t],this.lineTo(e,i);break;case"C":bs(t,u.length,6);for(let t=0;t<u.length;t+=6){const r=+u[t],a=+u[t+1];s=+u[t+2],n=+u[t+3],e=+u[t+4],i=+u[t+5],this.bezierCurveTo(r,a,s,n,e,i)}break;case"c":bs(t,u.length,6);for(let t=0;t<u.length;t+=6){const r=+u[t]+e,a=+u[t+1]+i;s=+u[t+2]+e,n=+u[t+3]+i,e+=+u[t+4],i+=+u[t+5],this.bezierCurveTo(r,a,s,n,e,i)}break;case"S":bs(t,u.length,4),null!==s&&null!==n||(s=e,n=i);for(let t=0;t<u.length;t+=4){const r=2*e-s,a=2*i-n;s=+u[t],n=+u[t+1],e=+u[t+2],i=+u[t+3],this.bezierCurveTo(r,a,s,n,e,i)}break;case"s":bs(t,u.length,4),null!==s&&null!==n||(s=e,n=i);for(let t=0;t<u.length;t+=4){const r=2*e-s,a=2*i-n;s=+u[t]+e,n=+u[t+1]+i,e+=+u[t+2],i+=+u[t+3],this.bezierCurveTo(r,a,s,n,e,i)}break;case"Q":bs(t,u.length,4);for(let t=0;t<u.length;t+=4)r=+u[t],a=+u[t+1],e=+u[t+2],i=+u[t+3],this.quadraticCurveTo(r,a,e,i);break;case"q":bs(t,u.length,4);for(let t=0;t<u.length;t+=4)r=+u[t]+e,a=+u[t+1]+i,e+=+u[t+2],i+=+u[t+3],this.quadraticCurveTo(r,a,e,i);break;case"T":bs(t,u.length,2),null!==r&&null!==a||(r=e,a=i);for(let t=0;t<u.length;t+=2)r=2*e-r,a=2*i-a,e=+u[t],i=+u[t+1],this.quadraticCurveTo(r,a,e,i);break;case"t":bs(t,u.length,2),null!==r&&null!==a||(r=e,a=i);for(let t=0;t<u.length;t+=2)r=2*e-r,a=2*i-a,e+=+u[t],i+=+u[t+1],this.quadraticCurveTo(r,a,e,i);break;case"A":case"a":const o="a"===t;vs(u),bs(t,u.length,7);for(let t=0;t<u.length;t+=7){let s=+u[t+5],n=+u[t+6];o&&(s+=e,n+=i);const r=fs({px:e,py:i,rx:+u[t],ry:+u[t+1],xAxisRotation:+u[t+2],largeArcFlag:_s(+u[t+3]),sweepFlag:_s(+u[t+4]),cx:s,cy:n});F(r,(t=>{this.bezierCurveTo(t.x1,t.y1,t.x2,t.y2,t.x,t.y),e=t.x,i=t.y}))}break;case"Z":case"z":ms(t,u.length,0),this.closePath();break}}}_runPath(t){t.beginPath(),F(this._operations,(e=>{e.path(t)}))}_render(t){super._render(t);const e=this._layer||t,i=e.dirty,s=this._isInteractive();if(i||s){const t=e.context,n=this._renderer._ghostLayer.context;let r;i&&(t.globalCompositeOperation=this.blendMode,t.beginPath()),s&&(n.beginPath(),r=this._getColorId()),F(this._operations,(e=>{i&&(e.path(t),e.colorize(t,void 0)),s&&(e.path(n),e.colorize(n,r))}))}}renderDetached(t){if(this.visible){this._setMatrix(),t.save();const e=this.mask;e&&(e._setMatrix(),e._transform(t,1),e._runPath(t),t.clip()),t.globalAlpha=this.compoundAlpha*this.alpha,this._transform(t,1),this.filter&&(t.filter=this.filter),t.globalCompositeOperation=this.blendMode,t.beginPath(),F(this._operations,(e=>{e.path(t),e.colorize(t,void 0)})),t.restore()}}_addBounds(t){this.visible&&this.isMeasured&&F(this._operations,(e=>{e.addBounds(t)}))}}class $s extends Ts{constructor(t,e,i){super(t),Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"textVisible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_textInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:1}),this.text=e,this.style=i}invalidateBounds(){super.invalidateBounds(),this._textInfo=void 0}_shared(t){this.style.textAlign&&(t.textAlign=this.style.textAlign),this.style.direction&&(t.direction=this.style.direction),this.style.textBaseline&&(t.textBaseline=this.style.textBaseline)}_prerender(t,e=!1,i=!1){super._render(t);const s=t.context,n=this._renderer._ghostLayer.context,r=this.style;let a=this._getFontStyle(void 0,i);s.font=a,this._isInteractive()&&!e&&(n.font=a),r.fill&&(r.fill instanceof Se?s.fillStyle=r.fill.toCSS(void 0!=r.fillOpacity?r.fillOpacity:1):s.fillStyle=r.fill),r.shadowColor&&(t.context.shadowColor=r.shadowColor.toCSS(r.shadowOpacity||1)),r.shadowBlur&&(t.context.shadowBlur=r.shadowBlur),r.shadowOffsetX&&(t.context.shadowOffsetX=r.shadowOffsetX),r.shadowOffsetY&&(t.context.shadowOffsetY=r.shadowOffsetY),this._shared(s),this._isInteractive()&&!e&&(n.fillStyle=this._getColorId(),this._shared(n))}_getFontStyle(t,e=!1){const i=this.style;let s=[];return t&&t.fontVariant?s.push(t.fontVariant):i.fontVariant&&s.push(i.fontVariant),e||(t&&t.fontWeight?s.push(t.fontWeight):i.fontWeight&&s.push(i.fontWeight)),t&&t.fontStyle?s.push(t.fontStyle):i.fontStyle&&s.push(i.fontStyle),t&&t.fontSize?(ct(t.fontSize)&&(t.fontSize=t.fontSize+"px"),s.push(t.fontSize)):i.fontSize&&(ct(i.fontSize)&&(i.fontSize=i.fontSize+"px"),s.push(i.fontSize)),t&&t.fontFamily?s.push(t.fontFamily):i.fontFamily?s.push(i.fontFamily):s.length&&s.push("Arial"),s.join(" ")}_render(t){const e=this._layer||t;if(this._textInfo||this._measure(e),this.textVisible){const t=this._isInteractive(),i=e.context,s=e.dirty,n=this._renderer._ghostLayer.context;i.save(),n.save(),this._prerender(e),F(this._textInfo,((e,r)=>{F(e.textChunks,((r,a)=>{if(r.style&&(i.save(),n.save(),i.font=r.style,this._isInteractive()&&(n.font=r.style)),r.fill&&(i.save(),i.fillStyle=r.fill.toCSS()),s&&i.fillText(r.text,r.offsetX,e.offsetY+r.offsetY),"underline"==r.textDecoration||"line-through"==r.textDecoration){let t,s=1,n=1,a=r.height,o=r.offsetX;switch(this.style.textAlign){case"right":case"end":o-=r.width;break;case"center":o-=r.width/2;break}if(r.style){const t=Li.getTextStyle(r.style);switch(t.fontWeight){case"bolder":case"bold":case"700":case"800":case"900":s=2;break}}a&&(n=a/20),t="line-through"==r.textDecoration?s+e.offsetY+r.offsetY-r.height/2:s+1.5*n+e.offsetY+r.offsetY,i.save(),i.beginPath(),r.fill?i.strokeStyle=r.fill.toCSS():this.style.fill&&this.style.fill instanceof Se&&(i.strokeStyle=this.style.fill.toCSS()),i.lineWidth=s*n,i.moveTo(o,t),i.lineTo(o+r.width,t),i.stroke(),i.restore()}t&&this.interactive&&n.fillText(r.text,r.offsetX,e.offsetY+r.offsetY),r.fill&&i.restore(),r.style&&(i.restore(),n.restore())}))})),i.restore(),n.restore()}}_addBounds(t){if(this.visible&&this.isMeasured){const e=this._measure(this.getLayer());Cs(t,{x:e.left,y:e.top}),Cs(t,{x:e.right,y:e.bottom})}}_ignoreFontWeight(){return/apple/i.test(navigator.vendor)}_measure(t){const e=t.context,i=this._renderer._ghostLayer.context,s="rtl"==this.style.direction;this._textInfo=[];const n=this.style.oversizedBehavior,r=this.style.maxWidth,a=ct(r)&&"truncate"==n,o=ct(r)&&("wrap"==n||"wrap-no-break"==n);e.save(),i.save(),this._prerender(t,!0,this._ignoreFontWeight());const l="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",h=this.text.toString().replace(/\r/g,"").split(/\n/);let u,p=!0,c=0,d=0,g=0;F(h,((t,s)=>{let n;n=""==t?[{type:"value",text:""}]:Li.chunk(t,!1,this.style.ignoreFormatting);while(n.length>0){let t={offsetY:g,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]};const s=this._measureText(l,e),h=s.actualBoundingBoxAscent+s.actualBoundingBoxDescent;let f;t.height=h,t.ascent=s.actualBoundingBoxAscent;let m,y,b,v=this.style.textDecoration,_=!1,x=!0,w=[];V(n,((s,h)=>{if("format"==s.type)if("[/]"==s.text)p||(e.restore(),i.restore(),p=!0),m=void 0,u=void 0,y=void 0,v=this.style.textDecoration,b=void 0,f=s.text;else{p||(e.restore(),i.restore());let n=Li.getTextStyle(s.text);const r=this._getFontStyle(n);e.save(),i.save(),e.font=r,u=r,f=s.text,n.textDecoration&&(v=n.textDecoration),n.fill&&(m=n.fill),n.width&&(y=at(n.width)),n.verticalAlign&&(b=n.verticalAlign),p=!1;const a=this._measureText(l,e),o=a.actualBoundingBoxAscent+a.actualBoundingBoxDescent;o>t.height&&(t.height=o),a.actualBoundingBoxAscent>t.ascent&&(t.ascent=a.actualBoundingBoxAscent)}else if("value"==s.type&&!_){const i=this._measureText(s.text,e);let l=i.actualBoundingBoxLeft+i.actualBoundingBoxRight;if(a){let i=x||this.style.breakWords||!1;const n=this.style.ellipsis||"",a=this._measureText(n,e),o=a.actualBoundingBoxLeft+a.actualBoundingBoxRight;if(t.width+l>r){const a=r-t.width-o;s.text=this._truncateText(e,s.text,a,i),s.text+=n,_=!0}}else if(o&&t.width+l>r){const i=r-t.width,a=this._truncateText(e,s.text,i,!1,x&&"wrap-no-break"!=this.style.oversizedBehavior);if(""==a)return this.textVisible=!0,!1;w=n.slice(h+1),ee(a)!=ee(s.text)&&(w.unshift({type:"value",text:s.text.substr(a.length)}),f&&w.unshift({type:"format",text:f})),s.text=ee(a),n=[],_=!0}let p=1,c=1;if(u&&y&&y>l){const t=l/y;switch(this.style.textAlign){case"right":case"end":p=t;break;case"center":p=t,c=t;break;default:c=t}l=y}const d=i.actualBoundingBoxAscent+i.actualBoundingBoxDescent;d>t.height&&(t.height=d),i.actualBoundingBoxAscent>t.ascent&&(t.ascent=i.actualBoundingBoxAscent),t.width+=l,t.left+=i.actualBoundingBoxLeft/p,t.right+=i.actualBoundingBoxRight/c,t.textChunks.push({style:u,fill:m,text:s.text,width:l,height:d,left:i.actualBoundingBoxLeft,right:i.actualBoundingBoxRight,ascent:i.actualBoundingBoxAscent,offsetX:0,offsetY:0,textDecoration:v,verticalAlign:b}),x=!1}return!0})),this.style.lineHeight instanceof wt?(t.height*=this.style.lineHeight.value,t.ascent*=this.style.lineHeight.value):(t.height*=this.style.lineHeight||1.2,t.ascent*=this.style.lineHeight||1.2),c<t.left&&(c=t.left),d<t.right&&(d=t.right),this._textInfo.push(t),g+=t.height,n=w||[]}})),p||(e.restore(),i.restore()),F(this._textInfo,((t,e)=>{let i=0;F(t.textChunks,(e=>{if(e.offsetX=i+e.left-t.left,e.offsetY+=t.height-t.height*(this.style.baselineRatio||.19),i+=e.width,e.verticalAlign)switch(e.verticalAlign){case"super":e.offsetY-=t.height/2-e.height/2;break;case"sub":e.offsetY+=e.height/2;break}}))}));const f={left:s?-d:-c,top:0,right:s?c:d,bottom:g};if("none"!==n){const t=this._fitRatio(f);if(t<1)if("fit"==n)ct(this.style.minScale)&&t<this.style.minScale?(this.textVisible=!1,f.left=0,f.top=0,f.right=0,f.bottom=0):(this._originalScale&&1!=this._originalScale||(this._originalScale=this.scale),this.scale=t,this.textVisible=!0);else if("hide"==n)this.textVisible=!1,f.left=0,f.top=0,f.right=0,f.bottom=0;else{switch(this.style.textAlign){case"right":case"end":f.left=-r,f.right=0;break;case"center":f.left=-r/2,f.right=r/2;break;default:f.left=0,f.right=r}this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}else this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}return e.restore(),i.restore(),f}_fitRatio(t){const e=this.style.maxWidth,i=this.style.maxHeight;if(!ct(e)&&!ct(i))return 1;const s=t.right-t.left,n=t.bottom-t.top;return Math.min(e/s||1,i/n||1)}_truncateText(t,e,i,s=!1,n=!0){let r;do{if(s)e=e.slice(0,-1);else{let t=e.replace(/[^,;:!?\\\/\s]+[,;:!?\\\/\s]*$/g,"");if(""==t&&n)s=!0;else{if(""==t)return e;e=t}}const i=this._measureText(e,t);r=i.actualBoundingBoxLeft+i.actualBoundingBoxRight}while(r>i&&""!=e);return e}_measureText(t,e){let i=e.measureText(t),s={};if(null==i.actualBoundingBoxAscent){const e=document.createElement("div");e.innerText=t,e.style.visibility="hidden",e.style.position="absolute",e.style.top="-1000000px;",e.style.fontFamily=this.style.fontFamily||"",e.style.fontSize=this.style.fontSize+"",document.body.appendChild(e);const n=e.getBoundingClientRect();document.body.removeChild(e);const r=n.height,a=i.width;let o=0,l=a;s={actualBoundingBoxAscent:r,actualBoundingBoxDescent:0,actualBoundingBoxLeft:o,actualBoundingBoxRight:l,fontBoundingBoxAscent:r,fontBoundingBoxDescent:0,width:a}}else s={actualBoundingBoxAscent:i.actualBoundingBoxAscent,actualBoundingBoxDescent:i.actualBoundingBoxDescent,actualBoundingBoxLeft:i.actualBoundingBoxLeft,actualBoundingBoxRight:i.actualBoundingBoxRight,fontBoundingBoxAscent:i.actualBoundingBoxAscent,fontBoundingBoxDescent:i.actualBoundingBoxDescent,width:i.width};const n=i.width;switch(this.style.textAlign){case"right":case"end":s.actualBoundingBoxLeft=n,s.actualBoundingBoxRight=0;break;case"center":s.actualBoundingBoxLeft=n/2,s.actualBoundingBoxRight=n/2;break;default:s.actualBoundingBoxLeft=0,s.actualBoundingBoxRight=n}return s}}class Js{constructor(){Object.defineProperty(this,"fill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fillOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textAlign",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontFamily",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontWeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontVariant",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textDecoration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lineHeight",{enumerable:!0,configurable:!0,writable:!0,value:Pt(120)}),Object.defineProperty(this,"baselineRatio",{enumerable:!0,configurable:!0,writable:!0,value:.19}),Object.defineProperty(this,"direction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textBaseline",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"oversizedBehavior",{enumerable:!0,configurable:!0,writable:!0,value:"none"}),Object.defineProperty(this,"breakWords",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ellipsis",{enumerable:!0,configurable:!0,writable:!0,value:"…"}),Object.defineProperty(this,"maxWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxHeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreFormatting",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class Qs extends $s{constructor(){super(...arguments),Object.defineProperty(this,"textType",{enumerable:!0,configurable:!0,writable:!0,value:"circular"}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inside",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"orientation",{enumerable:!0,configurable:!0,writable:!0,value:"auto"}),Object.defineProperty(this,"kerning",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_textReversed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_render(t){switch(this.textType){case"circular":this._renderCircular(t);break;default:super._render(t);break}}_renderCircular(t){if(this.textVisible){const e=this._layer||t;this._prerender(e);const i=this._isInteractive(),s=e.context,n=e.dirty,r=this._renderer._ghostLayer.context;s.save(),i&&r.save(),this._textInfo||this._measure(e);let a=this.radius||0,o=this.startAngle||0,l=0,h=this.orientation,u="auto"==h?"auto":"inward"==h;const p=this.inside,c=this.style.textAlign||"left",d=this.kerning||0;let g="left"==c?1:-1;const f=!this._textReversed;if("auto"==u){let t=0,e=0;F(this._textInfo,((e,i)=>{const s=o+e.width/(a-e.height)/2*-g;s>t&&(t=s)})),e="left"==c?(t+l/2)*pi:"right"==c?(t-l/2)*pi:o*pi,e=yi(e),u=e>=270||e<=90}1==u&&f&&(this._textInfo.reverse(),this._textReversed=!0),F(this._textInfo,((t,e)=>{const h=t.height;p||(a+=h),(-1==g&&u||1==g&&!u)&&f&&t.textChunks.reverse();let m=o;l=0,"center"==c&&(m+=t.width/(a-h)/2*-g,l=m-o),m+=Math.PI*(u?0:1),s.save(),i&&r.save(),s.rotate(m),i&&r.rotate(m);let y=0;F(t.textChunks,((t,e)=>{const o=t.text,l=t.width;y=l/2/(a-h)*g,s.rotate(y),i&&r.rotate(y),t.style&&(s.save(),r.save(),s.font=t.style,i&&(r.font=t.style)),t.fill&&(s.save(),s.fillStyle=t.fill.toCSS()),s.textBaseline="middle",s.textAlign="center",i&&(r.textBaseline="middle",r.textAlign="center"),n&&s.fillText(o,0,(u?1:-1)*(0-a+h/2)),i&&r.fillText(o,0,(u?1:-1)*(0-a+h/2)),t.fill&&s.restore(),t.style&&(s.restore(),r.restore()),y=(l/2+d)/(a-h)*g,s.rotate(y),i&&r.rotate(y)})),s.restore(),i&&r.restore(),p&&(a-=h)})),s.restore(),i&&r.restore()}}_measure(t){switch(this.textType){case"circular":return this._measureCircular(t);default:return super._measure(t)}}_measureCircular(t){const e=t.context,i=this._renderer._ghostLayer.context,s="rtl"==this.style.direction,n=this.style.oversizedBehavior,r=this.style.maxWidth,a=ct(r)&&"truncate"==n,o=this.style.ellipsis||"";let l;this.textVisible=!0,this._textInfo=[],this._textReversed=!1,e.save(),i.save(),this._prerender(t,!0);const h=this.text.toString().replace(/\r/g,"").split(/\n/);let u=!0,p=0,c=0;return F(h,((t,n)=>{let h,d,g,f=Li.chunk(t,!1,this.style.ignoreFormatting),m={offsetY:c,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]};F(f,((t,n)=>{if("format"==t.type){if("[/]"==t.text)u||(e.restore(),i.restore(),u=!0),d=void 0,h=void 0,g=void 0;else{let s=Li.getTextStyle(t.text);const n=this._getFontStyle(s);e.save(),i.save(),e.font=n,h=n,s.fill&&(d=s.fill),s.width&&(g=at(s.width)),u=!1}a&&(l=this._measureText(o,e))}else if("value"==t.type){const i=t.text.match(/./gu)||[];s&&i.reverse();for(let t=0;t<i.length;t++){const n=i[t],u=this._measureText(n,e);let c=u.width;h&&g&&g>c&&(c=g);const f=u.actualBoundingBoxAscent+u.actualBoundingBoxDescent;if(f>m.height&&(m.height=f),u.actualBoundingBoxAscent>m.ascent&&(m.ascent=u.actualBoundingBoxAscent),m.width+=c,m.left+=u.actualBoundingBoxLeft,m.right+=u.actualBoundingBoxRight,m.textChunks.push({style:h,fill:d,text:n,width:c,height:f+u.actualBoundingBoxDescent,left:u.actualBoundingBoxLeft,right:u.actualBoundingBoxRight,ascent:u.actualBoundingBoxAscent,offsetX:0,offsetY:f,textDecoration:void 0}),p+=c,a){l||(l=this._measureText(o,e));const t=l.actualBoundingBoxLeft+l.actualBoundingBoxRight;if(p+=t,p+t>r){1==m.textChunks.length?this.textVisible=!1:(m.width+=t,m.left+=l.actualBoundingBoxLeft,m.right+=l.actualBoundingBoxRight,m.textChunks.push({style:h,fill:d,text:o,width:t,height:f+l.actualBoundingBoxDescent,left:l.actualBoundingBoxLeft,right:l.actualBoundingBoxRight,ascent:l.actualBoundingBoxAscent,offsetX:0,offsetY:f,textDecoration:void 0}));break}}if(s)break}}})),this.style.lineHeight instanceof wt?m.height*=this.style.lineHeight.value:m.height*=this.style.lineHeight||1.2,this._textInfo.push(m),c+=m.height})),u||(e.restore(),i.restore()),"hide"==n&&p>r&&(this.textVisible=!1),F(this._textInfo,(t=>{F(t.textChunks,(e=>{e.offsetY+=Math.round((t.height-e.height+(t.ascent-e.ascent))/2)}))})),e.restore(),i.restore(),{left:0,top:0,right:0,bottom:0}}}class tn extends Ts{constructor(t,e){super(t),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_imageMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.image=e}_dispose(){super._dispose(),this._imageMask&&ks(this._imageMask)}getLocalBounds(){if(!this._localBounds){let t=0,e=0;this.width&&(t=this.width),this.height&&(e=this.height),this._localBounds={left:0,top:0,right:t,bottom:e},this._addBounds(this._localBounds)}return this._localBounds}_render(t){if(super._render(t),this.image){const e=this._layer||t;if(void 0===this.tainted&&(this.tainted=Os(this.image),e.tainted=!0),this.tainted&&this._renderer._omitTainted)return;if(e.dirty){this.shadowColor&&(e.context.shadowColor=this.shadowColor.toCSS(this.shadowOpacity||1)),this.shadowBlur&&(e.context.shadowBlur=this.shadowBlur),this.shadowOffsetX&&(e.context.shadowOffsetX=this.shadowOffsetX),this.shadowOffsetY&&(e.context.shadowOffsetY=this.shadowOffsetY);const t=this.width||this.image.naturalWidth,i=this.height||this.image.naturalHeight;e.context.drawImage(this.image,0,0,t,i)}if(this.interactive&&this._isInteractive()){const t=this._getMask(this.image);this._renderer._ghostLayer.context.drawImage(t,0,0)}}}clear(){super.clear(),this.image=void 0,this._imageMask=void 0}_getMask(t){if(void 0===this._imageMask){const e=this.width||t.naturalWidth,i=this.height||t.naturalHeight,s=document.createElement("canvas");s.width=e,s.height=i;const n=s.getContext("2d");n.imageSmoothingEnabled=!1,n.fillStyle=this._getColorId(),n.fillRect(0,0,e,i),Os(t)||(n.globalCompositeOperation="destination-in",n.drawImage(t,0,0,e,i)),this._imageMask=s}return this._imageMask}}class en{constructor(t,e,i,s){Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"originalPoint",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"point",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"bbox",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"simulated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"native",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Ft("touchevents")&&t instanceof Touch?this.id=t.identifier:this.id=null}}class sn extends et{constructor(t){if(super(),Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"_layerDom",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"layers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_dirtyLayers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"defaultLayer",{enumerable:!0,configurable:!0,writable:!0,value:this.getLayer(0)}),Object.defineProperty(this,"_ghostLayer",{enumerable:!0,configurable:!0,writable:!0,value:new nn}),Object.defineProperty(this,"_patternCanvas",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("canvas")}),Object.defineProperty(this,"_patternContext",{enumerable:!0,configurable:!0,writable:!0,value:this._patternCanvas.getContext("2d")}),Object.defineProperty(this,"_domWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_domHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_canvasWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_canvasHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interactionsEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_colorMap",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_forceInteractive",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_omitTainted",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_hovering",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"_dragging",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mousedown",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_lastPointerMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tapToActivate",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"tapToActivateTimeout",{enumerable:!0,configurable:!0,writable:!0,value:3e3}),Object.defineProperty(this,"_touchActive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_touchActiveTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.resolution=null==t?window.devicePixelRatio:t,this.view.style.position="absolute",this.view.appendChild(this._layerDom),this._disposers.push(new tt((()=>{je(this._events,((t,e)=>{e.disposer.dispose()})),F(this.layers,(t=>{ks(t.view),t.exportableView&&ks(t.exportableView)})),ks(this._ghostLayer.view),ks(this._patternCanvas)}))),this._disposers.push(At((()=>{null==t&&(this.resolution=window.devicePixelRatio)}))),Ft("touchevents")){const t=t=>{0!==this._dragging.length&&V(this._dragging,(e=>!e.value.shouldCancelTouch()||(t.preventDefault(),!1))),this._touchActiveTimeout&&this._delayTouchDeactivate()};this._disposers.push(Lt(window,"touchstart",t,{passive:!1})),this._disposers.push(Lt(this.view,"touchstart",t,{passive:!1})),this._disposers.push(Lt(this.view,"touchmove",(()=>{this._touchActiveTimeout&&this._delayTouchDeactivate()}),{passive:!0})),this._disposers.push(Lt(window,"click",(t=>{this._touchActive=!1}),{passive:!0})),this._disposers.push(Lt(this.view,"click",(t=>{window.setTimeout((()=>{this._touchActive=!0,this._delayTouchDeactivate()}),100)}),{passive:!0}))}Ft("wheelevents")&&this._disposers.push(Lt(this.view,"wheel",(t=>{let e=!1;this._hovering.forEach((t=>{if(t.wheelable)return e=!0,!1})),e&&t.preventDefault()}),{passive:!1}))}_delayTouchDeactivate(){this._touchActiveTimeout&&clearTimeout(this._touchActiveTimeout),this.tapToActivateTimeout>0&&(this._touchActiveTimeout=window.setTimeout((()=>{this._touchActive=!1}),this.tapToActivateTimeout))}get debugGhostView(){return!!this._ghostLayer.view.parentNode}set debugGhostView(t){t?this._ghostLayer.view.parentNode||this.view.appendChild(this._ghostLayer.view):this._ghostLayer.view.parentNode&&this._ghostLayer.view.parentNode.removeChild(this._ghostLayer.view)}createLinearGradient(t,e,i,s){return this.defaultLayer.context.createLinearGradient(t,e,i,s)}createRadialGradient(t,e,i,s,n,r){return this.defaultLayer.context.createRadialGradient(t,e,i,s,n,r)}createPattern(t,e,i,s,n){return this._patternCanvas.width=s,this._patternCanvas.height=n,this._patternContext.clearRect(0,0,s,n),e.renderDetached(this._patternContext),t.renderDetached(this._patternContext),this._patternContext.createPattern(this._patternCanvas,i)}makeContainer(){return new Ss(this)}makeGraphics(){return new qs(this)}makeText(t,e){return new $s(this,t,e)}makeTextStyle(){return new Js}makeRadialText(t,e){return new Qs(this,t,e)}makePicture(t){return new tn(this,t)}resizeLayer(t){t.resize(this._canvasWidth,this._canvasHeight,this._domWidth,this._domHeight,this.resolution)}resizeGhost(){this._ghostLayer.resize(this._canvasWidth,this._canvasHeight,this._domWidth,this._domHeight,this.resolution)}resize(t,e,i,s){this._canvasWidth=t,this._canvasHeight=e,this._domWidth=i,this._domHeight=s,F(this.layers,(t=>{t&&(t.dirty=!0,this.resizeLayer(t))})),this.resizeGhost(),this.view.style.width=i+"px",this.view.style.height=s+"px"}createDetachedLayer(t=!1){const e=document.createElement("canvas"),i=e.getContext("2d",{willReadFrequently:t}),s=new rn(e,i);return e.style.position="absolute",e.style.top="0px",e.style.left="0px",s}getLayerByOrder(t){const e=this.layers,i=e.length;for(let s=0;s<i;s++){const i=e[s];if(i.order==t)return i}}getLayer(t,e=!0){let i=this.getLayerByOrder(t);if(i)return i;const s=this.createDetachedLayer(99==t);s.order=t,s.visible=e,s.visible&&this.resizeLayer(s);const n=this.layers;n.push(s),n.sort(((t,e)=>t.order>e.order?1:t.order<e.order?-1:0));const r=n.length,a=E(n,s);let o;for(let l=a+1;l<r;l++)if(n[l].visible){o=n[l];break}return s.visible&&(void 0===o?this._layerDom.appendChild(s.view):this._layerDom.insertBefore(s.view,o.view)),s}render(t){if(this._dirtyLayers.length=0,F(this.layers,(t=>{t&&t.dirty&&t.visible&&(this._dirtyLayers.push(t),t.clear())})),this._ghostLayer.clear(),t.render(this.defaultLayer),this._ghostLayer.context.restore(),F(this.layers,(t=>{if(t){const e=t.context;e.beginPath(),e.moveTo(0,0),e.stroke()}})),F(this._dirtyLayers,(t=>{t.context.restore(),t.dirty=!1})),this._hovering.size&&this._lastPointerMoveEvent){const{events:t,target:e,native:i}=this._lastPointerMoveEvent;F(t,(t=>{this._dispatchGlobalMousemove(t,e,i)}))}}paintId(t){const e=xs(++this._colorId),i=Se.fromHex(e).toCSS();return this._colorMap[i]=t,i}_removeObject(t){void 0!==t._colorId&&delete this._colorMap[t._colorId]}_adjustBoundingBox(t){const e=this._ghostLayer.margin;return new DOMRect(t.left-e.left,t.top-e.top,t.width+e.left+e.right,t.height+e.top+e.bottom)}getEvent(t,e=!0){const i=this.view.getBoundingClientRect(),s={x:t.clientX||0,y:t.clientY||0},n={x:s.x-(e?i.left:0),y:s.y-(e?i.top:0)};return new en(t,s,n,this._adjustBoundingBox(i))}_getHitTarget(t,e,i){if(0===e.width||0===e.height||t.x<e.left||t.x>e.right||t.y<e.top||t.y>e.bottom)return;if(!i||!this._layerDom.contains(i))return;const s=this._ghostLayer.getImageData(t,e);if(0===s.data[0]&&0===s.data[1]&&0===s.data[2])return!1;const n=Se.fromRGB(s.data[0],s.data[1],s.data[2]).toCSS(),r=this._colorMap[n];return r}_withEvents(t,e){const i=this._events[t];if(void 0!==i){i.dispatching=!0;try{e(i)}finally{i.dispatching=!1,i.cleanup&&(i.cleanup=!1,J(i.callbacks,(t=>!t.disposed)),0===i.callbacks.length&&(i.disposer.dispose(),delete this._events[t]))}}}_dispatchEventAll(t,e){this.interactionsEnabled&&this._withEvents(t,(t=>{F(t.callbacks,(t=>{t.disposed||t.callback.call(t.context,e)}))}))}_dispatchEvent(t,e,i){if(!this.interactionsEnabled)return!1;let s=!1;return this._withEvents(t,(t=>{F(t.callbacks,(t=>{t.disposed||t.object!==e||(t.callback.call(t.context,i),s=!0)}))})),s}_dispatchMousedown(t,e){const i=t.button;if(0!=i&&2!=i&&1!=i&&void 0!==i)return;const s=this.getEvent(t),n=this._getHitTarget(s.originalPoint,s.bbox,e);if(n){const t=s.id;let e=!1;ws(n,(i=>{const n={id:t,value:i};if(this._mousedown.push(n),!e&&this._dispatchEvent("pointerdown",i,s)){e=!0;const s=this._dragging.some((e=>e.value===i&&e.id===t));s||this._dragging.push(n)}return!0}))}}_dispatchGlobalMousemove(t,e,i){const s=this.getEvent(t),n=this._getHitTarget(s.originalPoint,s.bbox,e);s.native=i,n?(this._hovering.forEach((t=>{t.contains(n)||(this._hovering.delete(t),t.cursorOverStyle&&zt(document.body,"cursor",t._replacedCursorStyle),this._dispatchEvent("pointerout",t,s))})),s.native&&ws(n,(t=>(this._hovering.has(t)||(this._hovering.add(t),t.cursorOverStyle&&(t._replacedCursorStyle=Wt(document.body,"cursor"),zt(document.body,"cursor",t.cursorOverStyle)),this._dispatchEvent("pointerover",t,s)),!0)))):(this._hovering.forEach((t=>{t.cursorOverStyle&&zt(document.body,"cursor",t._replacedCursorStyle),this._dispatchEvent("pointerout",t,s)})),this._hovering.clear()),this._dispatchEventAll("globalpointermove",s)}_dispatchGlobalMouseup(t,e){const i=this.getEvent(t);i.native=e,this._dispatchEventAll("globalpointerup",i)}_dispatchDragMove(t){if(0!==this._dragging.length){const e=this.getEvent(t),i=e.id;this._dragging.forEach((t=>{t.id===i&&this._dispatchEvent("pointermove",t.value,e)}))}}_dispatchDragEnd(t,e){const i=t.button;let s;if(0==i||void 0===i)s="click";else if(2==i)s="rightclick";else{if(1!=i)return;s="middleclick"}const n=this.getEvent(t),r=n.id;if(0!==this._mousedown.length){const t=this._getHitTarget(n.originalPoint,n.bbox,e);t&&this._mousedown.forEach((e=>{e.id===r&&e.value.contains(t)&&this._dispatchEvent(s,e.value,n)})),this._mousedown.length=0}0!==this._dragging.length&&(this._dragging.forEach((t=>{t.id===r&&this._dispatchEvent("pointerup",t.value,n)})),this._dragging.length=0)}_dispatchDoubleClick(t,e){const i=this.getEvent(t),s=this._getHitTarget(i.originalPoint,i.bbox,e);s&&ws(s,(t=>!this._dispatchEvent("dblclick",t,i)))}_dispatchWheel(t,e){const i=this.getEvent(t),s=this._getHitTarget(i.originalPoint,i.bbox,e);s&&ws(s,(t=>!this._dispatchEvent("wheel",t,i)))}_makeSharedEvent(t,e){if(void 0===this._listeners[t]){const i=e();this._listeners[t]=new st((()=>{delete this._listeners[t],i.dispose()}))}return this._listeners[t].increment()}_onPointerEvent(t,e){let i=!1,s=null;function n(){s=null,i=!1}return new it([new tt((()=>{null!==s&&clearTimeout(s),n()})),Lt(this.view,Nt(t),(t=>{i=!0,null!==s&&clearTimeout(s),s=window.setTimeout(n,0)})),Ps(window,t,((t,n)=>{null!==s&&(clearTimeout(s),s=null),e(t,n,i),i=!1}))])}_initEvent(t){switch(t){case"globalpointermove":case"pointerover":case"pointerout":return this._makeSharedEvent("pointermove",(()=>{const t=(t,e,i)=>{this._lastPointerMoveEvent={events:t,target:e,native:i},F(t,(t=>{this._dispatchGlobalMousemove(t,e,i)}))};return new it([this._onPointerEvent("pointerdown",t),this._onPointerEvent("pointermove",t)])}));case"globalpointerup":return this._makeSharedEvent("pointerup",(()=>{const t=this._onPointerEvent("pointerup",((t,e,i)=>{F(t,(t=>{this._dispatchGlobalMouseup(t,i)})),this._lastPointerMoveEvent={events:t,target:e,native:i}})),e=this._onPointerEvent("pointercancel",((t,e,i)=>{F(t,(t=>{this._dispatchGlobalMouseup(t,i)})),this._lastPointerMoveEvent={events:t,target:e,native:i}}));return new tt((()=>{t.dispose(),e.dispose()}))}));case"click":case"rightclick":case"middleclick":case"pointerdown":case"pointermove":case"pointerup":return this._makeSharedEvent("pointerdown",(()=>{const t=this._onPointerEvent("pointerdown",((t,e)=>{F(t,(t=>{this._dispatchMousedown(t,e)}))})),e=this._onPointerEvent("pointermove",(t=>{F(t,(t=>{this._dispatchDragMove(t)}))})),i=this._onPointerEvent("pointerup",((t,e)=>{F(t,(t=>{this._dispatchDragEnd(t,e)}))})),s=this._onPointerEvent("pointercancel",((t,e)=>{F(t,(t=>{this._dispatchDragEnd(t,e)}))}));return new tt((()=>{t.dispose(),e.dispose(),i.dispose(),s.dispose()}))}));case"dblclick":return this._makeSharedEvent("dblclick",(()=>this._onPointerEvent("dblclick",((t,e)=>{F(t,(t=>{this._dispatchDoubleClick(t,e)}))}))));case"wheel":return this._makeSharedEvent("wheel",(()=>Lt(window,Nt("wheel"),(t=>{this._dispatchWheel(t,Yt(t))}),{passive:!1})))}}_addEvent(t,e,i,s){let n=this._events[e];void 0===n&&(n=this._events[e]={disposer:this._initEvent(e),callbacks:[],dispatching:!1,cleanup:!1});const r={object:t,context:s,callback:i,disposed:!1};return n.callbacks.push(r),new tt((()=>{r.disposed=!0,n.dispatching?n.cleanup=!0:(N(n.callbacks,r),0===n.callbacks.length&&(n.disposer.dispose(),delete this._events[e]))}))}getCanvas(t,e){this.render(t),e||(e={});let i=this.resolution,s=Math.floor(this._canvasWidth*this.resolution),n=Math.floor(this._canvasHeight*this.resolution);if(e.minWidth&&e.minWidth>s){let t=e.minWidth/s;t>i&&(i=t*this.resolution)}if(e.minHeight&&e.minHeight>n){let t=e.minHeight/n;t>i&&(i=t*this.resolution)}if(e.maxWidth&&e.maxWidth<s){let t=e.maxWidth/s;t<i&&(i=t*this.resolution)}if(e.maxHeight&&e.maxHeight>n){let t=e.maxHeight/n;t<i&&(i=t*this.resolution)}e.maintainPixelRatio&&(i/=this.resolution);const r=[];let a=!1;const o=document.createElement("canvas");i!=this.resolution&&(a=!0,s=s*i/this.resolution,n=n*i/this.resolution),o.width=s,o.height=n,o.style.position="fixed",o.style.top="-10000px",this.view.appendChild(o),r.push(o);const l=o.getContext("2d");let h=0,u=0,p=!1;return F(this.layers,(t=>{if(t&&t.visible&&(t.tainted||a)){p=!0,t.exportableView=t.view,t.exportableContext=t.context,t.view=document.createElement("canvas"),t.view.style.position="fixed",t.view.style.top="-10000px",this.view.appendChild(t.view),r.push(t.view);let e=0,a=0;t.margin&&(e+=t.margin.left||0+t.margin.right||0,a+=t.margin.top||0+t.margin.bottom||0),t.view.width=s+e,t.view.height=n+a,t.context=t.view.getContext("2d"),t.dirty=!0,t.scale=i}})),p&&(this._omitTainted=!0,this.render(t),this._omitTainted=!1),F(this.layers,(t=>{if(t&&t.visible){let e=0,i=0;t.margin&&(e=-(t.margin.left||0)*this.resolution,i=-(t.margin.top||0)*this.resolution),l.drawImage(t.view,e,i),t.exportableView&&(t.view=t.exportableView,t.exportableView=void 0),t.exportableContext&&(t.context=t.exportableContext,t.exportableContext=void 0),h<t.view.clientWidth&&(h=t.view.clientWidth),u<t.view.clientHeight&&(u=t.view.clientHeight),t.scale=void 0}})),o.style.width=h+"px",o.style.height=u+"px",F(r,(t=>{t.style.position="",t.style.top="",this.view.removeChild(t)})),o}}class nn{constructor(){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.view=document.createElement("canvas"),this.context=this.view.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.context.imageSmoothingEnabled=!1,this.view.style.position="absolute",this.view.style.top="0px",this.view.style.left="0px"}resize(t,e,i,s,n){t+=this.margin.left+this.margin.right,e+=this.margin.top+this.margin.bottom,i+=this.margin.left+this.margin.right,s+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px",this._width=Math.floor(t*n),this._height=Math.floor(e*n),this.view.width=this._width,this.view.style.width=i+"px",this.view.height=this._height,this.view.style.height=s+"px"}getImageData(t,e){return this.context.getImageData(Math.round((t.x-e.left)/e.width*this._width),Math.round((t.y-e.top)/e.height*this._height),1,1)}setMargin(t){this.margin.left=0,this.margin.right=0,this.margin.top=0,this.margin.bottom=0,F(t,(t=>{t.margin&&(this.margin.left=Math.max(this.margin.left,t.margin.left),this.margin.right=Math.max(this.margin.right,t.margin.right),this.margin.top=Math.max(this.margin.top,t.margin.top),this.margin.bottom=Math.max(this.margin.bottom,t.margin.bottom))}))}clear(){this.context.save(),this.context.fillStyle="#000",this.context.fillRect(0,0,this._width,this._height)}}class rn{constructor(t,e){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"order",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dirty",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportableView",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exportableContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.view=t,this.context=e}resize(t,e,i,s,n){null!=this.width&&(t=this.width,i=this.width),null!=this.height&&(e=this.height,s=this.height),this.margin?(t+=this.margin.left+this.margin.right,e+=this.margin.top+this.margin.bottom,i+=this.margin.left+this.margin.right,s+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px"):(this.view.style.left="0px",this.view.style.top="0px"),this._width=Math.floor(t*n),this._height=Math.floor(e*n),this.view.width=this._width,this.view.style.width=i+"px",this.view.height=this._height,this.view.style.height=s+"px"}clear(){this.context.save(),this.context.clearRect(0,0,this._width,this._height)}}function an(t,e){null==t?requestAnimationFrame(e):setTimeout((()=>{requestAnimationFrame(e)}),1e3/t)}class on{constructor(t,e={},i){if(Object.defineProperty(this,"dom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_inner",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyBounds",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPositions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_ticker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_tickers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_updateTick",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new mt}),Object.defineProperty(this,"animationTime",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_animations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rootContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tooltipContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipContainerSettings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltip",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"language",{enumerable:!0,configurable:!0,writable:!0,value:ss["new"](this,{})}),Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:is}),Object.defineProperty(this,"utc",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timezone",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numberFormatter",{enumerable:!0,configurable:!0,writable:!0,value:qi["new"](this,{})}),Object.defineProperty(this,"dateFormatter",{enumerable:!0,configurable:!0,writable:!0,value:ts["new"](this,{})}),Object.defineProperty(this,"durationFormatter",{enumerable:!0,configurable:!0,writable:!0,value:es["new"](this,{})}),Object.defineProperty(this,"tabindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tabindexes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_a11yD",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusedSprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isShift",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_keyboardDragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_readerAlertElement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_logo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDiv",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nonce",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interfaceColors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"verticalLayout",{enumerable:!0,configurable:!0,writable:!0,value:ji["new"](this,{})}),Object.defineProperty(this,"horizontalLayout",{enumerable:!0,configurable:!0,writable:!0,value:Ii["new"](this,{})}),Object.defineProperty(this,"gridLayout",{enumerable:!0,configurable:!0,writable:!0,value:Ei["new"](this,{})}),Object.defineProperty(this,"_paused",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"autoResize",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_fontHash",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"_isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_resizeSensorDisposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltips",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_htmlElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlEnabledContainers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),!i)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");let s,n;if(this._settings=e,0==e.accessible&&(this._a11yD=!0),null==e.useSafeResolution&&(e.useSafeResolution=!0),e.useSafeResolution&&(s=Zt()),this._renderer=new sn(s),n=t instanceof HTMLElement?t:document.getElementById(t),F(qe.rootElements,(t=>{if(t.dom===n)throw new Error("You cannot have multiple Roots on the same DOM node")})),this.interfaceColors=Xi["new"](this,{}),null===n)throw new Error("Could not find HTML element with id `"+t+"`");this.dom=n;let r=document.createElement("div");r.style.position="relative",r.style.height="100%",n.appendChild(r);const a=e.tooltipContainerBounds;a&&(this._tooltipContainerSettings=a),this._inner=r,this._updateComputedStyles(),qe.rootElements.push(this)}static new(t,e){const i=new on(t,e,!0);return i._init(),i}moveDOM(t){let e;if(e=t instanceof HTMLElement?t:document.getElementById(t),e){while(this.dom.childNodes.length>0)e.appendChild(this.dom.childNodes[0]);this.dom=e,this._initResizeSensor(),this.resize()}}_handleLogo(){if(this._logo){const t=this.dom.offsetWidth,e=this.dom.offsetHeight;t<=150||e<=60?this._logo.hide():this._logo.show()}}_showBranding(){if(!this._logo){const t=this.tooltipContainer.children.push(Bi["new"](this,{interactive:!0,interactiveChildren:!1,position:"absolute",setStateOnChildren:!0,paddingTop:9,paddingRight:9,paddingBottom:9,paddingLeft:9,scale:.6,y:Pt(100),centerY:Ot,tooltipText:"Created using amCharts 5",tooltipX:Ot,cursorOverStyle:"pointer",background:Si["new"](this,{fill:Te(4671320),fillOpacity:0,tooltipY:5})})),e=Zi["new"](this,{pointerOrientation:"horizontal",paddingTop:4,paddingRight:7,paddingBottom:4,paddingLeft:7});e.label.setAll({fontSize:12}),e.get("background").setAll({fill:this.interfaceColors.get("background"),stroke:this.interfaceColors.get("grid"),strokeOpacity:.3}),t.set("tooltip",e),t.events.on("click",(()=>{window.open("https://www.amcharts.com/","_blank")})),t.states.create("hover",{});const i=t.children.push(Ti["new"](this,{stroke:Te(13421772),strokeWidth:3,svgPath:"M5 25 L13 25h13.6c3.4 0 6 0 10.3-4.3s5.2-12 8.6-12c3.4 0 4.3 8.6 7.7 8.6M83.4 25H79.8c-3.4 0-6 0-10.3-4.3s-5.2-12-8.6-12-4.3 8.6-7.7 8.6"}));i.states.create("hover",{stroke:Te(3976191)});const s=t.children.push(Ti["new"](this,{stroke:Te(8947848),strokeWidth:3,svgPath:"M83.4 25h-31C37 25 39.5 4.4 28.4 4.4S18.9 24.2 4.3 25H0"}));s.states.create("hover",{stroke:Te(4671320)}),this._logo=t,this._handleLogo()}}_getRealSize(){return this.dom.getBoundingClientRect()}_getCalculatedSize(t){return this._settings.calculateSize?this._settings.calculateSize(t):{width:t.width,height:t.height}}_init(){const t=this._renderer,e=this._getRealSize(),i=this._getCalculatedSize(e),s=Math.floor(i.width),n=Math.floor(i.height),r=Math.floor(e.width),a=Math.floor(e.height),o=Bi["new"](this,{visible:!0,width:r,height:a});this._rootContainer=o,this._rootContainer._defaultThemes.push(as["new"](this));const l=o.children.push(Bi["new"](this,{visible:!0,width:Ot,height:Ot}));this.container=l,t.resize(r,a,s,n),this._inner.appendChild(t.view),this._initResizeSensor();const h=document.createElement("div");if(this._htmlElementContainer=h,h.className="am5-html-container",h.style.position="absolute",h.style.pointerEvents="none",this._tooltipContainerSettings||(h.style.overflow="hidden"),this._inner.appendChild(h),!0!==this._a11yD){const e=document.createElement("div");e.className="am5-reader-container",e.setAttribute("role","alert"),e.style.position="absolute",e.style.width="1px",e.style.height="1px",e.style.overflow="hidden",e.style.clip="rect(1px, 1px, 1px, 1px)",this._readerAlertElement=e,this._inner.appendChild(this._readerAlertElement);const i=document.createElement("div");i.className="am5-focus-container",i.style.position="absolute",i.style.pointerEvents="none",i.style.top="0px",i.style.left="0px",i.style.overflow="hidden",i.style.width=s+"px",i.style.height=n+"px",i.setAttribute("role","application"),Ut(i,!1),this._focusElementContainer=i,this._inner.appendChild(this._focusElementContainer);const r=document.createElement("div");this._tooltipElementContainer=r,r.className="am5-tooltip-container",this._inner.appendChild(r),Ft("keyboardevents")&&(this._disposers.push(Lt(window,"keydown",(t=>{16==t.keyCode?this._isShift=!0:9==t.keyCode&&(this._isShift=t.shiftKey)}))),this._disposers.push(Lt(window,"keyup",(t=>{16==t.keyCode&&(this._isShift=!1)}))),this._disposers.push(Lt(i,"keydown",(e=>{const i=this._focusedSprite;if(i){27==e.keyCode&&(Vt(),this._focusedSprite=void 0);let s=0,n=0;switch(e.keyCode){case 13:e.preventDefault();const r=t.getEvent(new MouseEvent("click"));return void i.events.dispatch("click",{type:"click",originalEvent:r.event,point:r.point,simulated:!0,target:i});case 37:s=-6;break;case 39:s=6;break;case 38:n=-6;break;case 40:n=6;break;default:return}if(0!=s||0!=n){if(e.preventDefault(),!i.isDragging()){this._keyboardDragPoint={x:0,y:0};const e=t.getEvent(new MouseEvent("mousedown",{clientX:0,clientY:0}));i.events.isEnabled("pointerdown")&&i.events.dispatch("pointerdown",{type:"pointerdown",originalEvent:e.event,point:e.point,simulated:!0,target:i})}const r=this._keyboardDragPoint;r.x+=s,r.y+=n;const a=t.getEvent(new MouseEvent("mousemove",{clientX:r.x,clientY:r.y}),!1);i.events.isEnabled("globalpointermove")&&i.events.dispatch("globalpointermove",{type:"globalpointermove",originalEvent:a.event,point:a.point,simulated:!0,target:i})}}}))),this._disposers.push(Lt(i,"keyup",(e=>{if(this._focusedSprite){const i=this._focusedSprite,s=e.keyCode;switch(s){case 37:case 39:case 38:case 40:if(i.isDragging()){const e=this._keyboardDragPoint,s=t.getEvent(new MouseEvent("mouseup",{clientX:e.x,clientY:e.y}));return i.events.isEnabled("globalpointerup")&&i.events.dispatch("globalpointerup",{type:"globalpointerup",originalEvent:s.event,point:s.point,simulated:!0,target:i}),void(this._keyboardDragPoint=void 0)}if(i.get("focusableGroup")){const t=i.get("focusableGroup"),e=this._tabindexes.filter((e=>e.get("focusableGroup")==t&&!1!==e.getPrivate("focusable")));let n=e.indexOf(i);const r=e.length-1;n+=39==s||40==s?1:-1,n<0?n=r:n>r&&(n=0),Bt(e[n].getPrivate("focusElement").dom)}break}}}))))}this._startTicker(),this.setThemes([]),this._addTooltip(),this._hasLicense()||this._showBranding()}_initResizeSensor(){this._resizeSensorDisposer&&this._resizeSensorDisposer.dispose(),this._resizeSensorDisposer=new Gi(this.dom,(()=>{this.autoResize&&this.resize()})),this._disposers.push(this._resizeSensorDisposer)}resize(){const t=this._getRealSize(),e=this._getCalculatedSize(t),i=Math.floor(e.width),s=Math.floor(e.height);if(i>0&&s>0){const e=Math.floor(t.width),n=Math.floor(t.height),r=this._htmlElementContainer;if(r.style.width=i+"px",r.style.height=s+"px",!0!==this._a11yD){const t=this._focusElementContainer;t.style.width=i+"px",t.style.height=s+"px"}this._renderer.resize(e,n,i,s);const a=this._rootContainer;a.setPrivate("width",e),a.setPrivate("height",n),this._render(),this._handleLogo()}}_render(){this._renderer.render(this._rootContainer._display),this._focusElementDirty&&(this._updateCurrentFocus(),this._focusElementDirty=!1)}_runTickers(t){F(this._tickers,(e=>{e(t)}))}_runAnimations(t){J(this._animations,(e=>e._runAnimation(t)))}_runDirties(){let t={};while(this._isDirtyParents)this._isDirtyParents=!1,Ce(this._dirtyParents).forEach((e=>{const i=this._dirtyParents[e];delete this._dirtyParents[e],i.isDisposed()||(t[i.uid]=i,i._prepareChildren())}));Ce(t).forEach((e=>{t[e]._updateChildren()}));const e=[];Ce(this._dirty).forEach((t=>{const i=this._dirty[t];i.isDisposed()?delete this._dirty[i.uid]:(e.push(i),i._beforeChanged())})),e.forEach((t=>{t._changed(),delete this._dirty[t.uid],t._clearDirty()})),this._isDirty=!1;const i={},s=[];Ce(this._dirtyBounds).forEach((t=>{const e=this._dirtyBounds[t];delete this._dirtyBounds[t],e.isDisposed()||(i[e.uid]=e.depth(),s.push(e))})),this._positionHTMLElements(),s.sort(((t,e)=>$e(i[e.uid],i[t.uid]))),s.forEach((t=>{t._updateBounds()}));const n=this._dirtyPositions;Ce(n).forEach((t=>{const e=n[t];delete n[t],e.isDisposed()||e._updatePosition()})),e.forEach((t=>{t._afterChanged()}))}_renderFrame(t){return!this._updateTick||(this.events.isEnabled("framestarted")&&this.events.dispatch("framestarted",{type:"framestarted",target:this,timestamp:t}),this._checkComputedStyles(),this._runTickers(t),this._runAnimations(t),this._runDirties(),this._render(),this._positionHTMLElements(),this.events.isEnabled("frameended")&&this.events.dispatch("frameended",{type:"frameended",target:this,timestamp:t}),0===this._tickers.length&&0===this._animations.length&&!this._isDirty)}_runTicker(t,e){if(!this.isDisposed()){this.animationTime=t;const i=this._renderFrame(t);i?(this._ticker=null,this.animationTime=null):this._paused||(e?this._ticker:an(this.fps,this._ticker))}}_runTickerNow(t=1e4){if(!this.isDisposed()){const e=performance.now()+t;for(;;){const t=performance.now();if(t>=e){this.animationTime=null;break}this.animationTime=t;const i=this._renderFrame(t);if(i){this.animationTime=null;break}}}}_startTicker(){null===this._ticker&&(this.animationTime=null,this._ticker=t=>{this._runTicker(t)},an(this.fps,this._ticker))}get updateTick(){return this._updateTick}set updateTick(t){this._updateTick=t,t&&this._startTicker()}_addDirtyEntity(t){void 0===this._dirty[t.uid]&&(this._isDirty=!0,this._dirty[t.uid]=t,this._startTicker())}_addDirtyParent(t){void 0===this._dirtyParents[t.uid]&&(this._isDirty=!0,this._isDirtyParents=!0,this._dirtyParents[t.uid]=t,this._startTicker())}_addDirtyBounds(t){void 0===this._dirtyBounds[t.uid]&&(this._isDirty=!0,this._dirtyBounds[t.uid]=t,this._startTicker())}_addDirtyPosition(t){void 0===this._dirtyPositions[t.uid]&&(this._isDirty=!0,this._dirtyPositions[t.uid]=t,this._startTicker())}_addAnimation(t){-1===this._animations.indexOf(t)&&(this._animations.push(t),this._startTicker())}_markDirty(){this._isDirty=!0}_markDirtyRedraw(){this.events.once("frameended",(()=>{this._isDirty=!0,this._startTicker()}))}eachFrame(t){return this._tickers.push(t),this._startTicker(),new tt((()=>{N(this._tickers,t)}))}markDirtyGlobal(t){t||(t=this.container),t.walkChildren((t=>{t instanceof Bi&&this.markDirtyGlobal(t),t.markDirty(),t.markDirtyBounds()}))}width(){return Math.floor(this._getCalculatedSize(this._getRealSize()).width)}height(){return Math.floor(this._getCalculatedSize(this._getRealSize()).height)}dispose(){this._isDisposed||(this._isDisposed=!0,this._rootContainer.dispose(),this._renderer.dispose(),this.horizontalLayout.dispose(),this.verticalLayout.dispose(),this.interfaceColors.dispose(),F(this._disposers,(t=>{t.dispose()})),this._inner&&Et(this._inner),B(qe.rootElements,this))}isDisposed(){return this._isDisposed}readerAlert(t){!0!==this._a11yD&&(this._readerAlertElement.innerHTML=ne(t))}setThemes(t){this._rootContainer.set("themes",t);const e=this.tooltipContainer;e&&e._applyThemes();const i=this.interfaceColors;i&&i._applyThemes()}_addTooltip(){if(!this.tooltipContainer){const t=this._tooltipContainerSettings,e=this._rootContainer.children.push(Bi["new"](this,{position:"absolute",isMeasured:!1,width:Ot,height:Ot,layer:t?35:30,layerMargin:t||void 0}));this.tooltipContainer=e;const i=Zi["new"](this,{});this.container.set("tooltip",i),i.hide(0),this._tooltip=i}}_registerTabindexOrder(t){1!=this._a11yD&&(t.get("focusable")?z(this._tabindexes,t):B(this._tabindexes,t),this._invalidateTabindexes())}_unregisterTabindexOrder(t){1!=this._a11yD&&(B(this._tabindexes,t),this._invalidateTabindexes())}_invalidateTabindexes(){if(1==this._a11yD)return;this._tabindexes.sort(((t,e)=>{const i=t.get("tabindexOrder",0),s=e.get("tabindexOrder",0);return i==s?0:i>s?1:-1}));const t=[];F(this._tabindexes,((e,i)=>{e.getPrivate("focusElement")?this._moveFocusElement(i,e):this._makeFocusElement(i,e);const s=e.get("focusableGroup");s&&!1!==e.getPrivate("focusable")&&(-1!==t.indexOf(s)?e.getPrivate("focusElement").dom.setAttribute("tabindex","-1"):t.push(s))}))}_updateCurrentFocus(){1!=this._a11yD&&this._focusedSprite&&(this._decorateFocusElement(this._focusedSprite),this._positionFocusElement(this._focusedSprite))}_decorateFocusElement(t,e){if(1==this._a11yD)return;if(e||(e=t.getPrivate("focusElement").dom),!e)return;t.get("visible")&&"tooltip"!=t.get("role")&&!t.isHidden()&&!1!==t.getPrivate("focusable")?"-1"!=e.getAttribute("tabindex")&&e.setAttribute("tabindex",""+this.tabindex):e.removeAttribute("tabindex");const i=t.get("role");i?e.setAttribute("role",i):e.removeAttribute("role");const s=t.get("ariaLabel");if(s){const i=Ai(t,s);e.setAttribute("aria-label",i)}else e.removeAttribute("aria-label");const n=t.get("ariaLive");n?e.setAttribute("aria-live",n):e.removeAttribute("aria-live");const r=t.get("ariaChecked");null!=r?e.setAttribute("aria-checked",r?"true":"false"):e.removeAttribute("aria-checked"),t.get("ariaHidden")?e.setAttribute("aria-hidden","hidden"):e.removeAttribute("aria-hidden");const a=t.get("ariaOrientation");a?e.setAttribute("aria-orientation",a):e.removeAttribute("aria-orientation");const o=t.get("ariaValueNow");o?e.setAttribute("aria-valuenow",o):e.removeAttribute("aria-valuenow");const l=t.get("ariaValueMin");l?e.setAttribute("aria-valuemin",l):e.removeAttribute("aria-valuemin");const h=t.get("ariaValueMax");h?e.setAttribute("aria-valuemax",h):e.removeAttribute("aria-valuemax");const u=t.get("ariaValueText");u?e.setAttribute("aria-valuetext",u):e.removeAttribute("aria-valuetext");const p=t.get("ariaControls");p?e.setAttribute("aria-controls",p):e.removeAttribute("aria-controls")}_makeFocusElement(t,e){if(e.getPrivate("focusElement")||1==this._a11yD)return;const i=document.createElement("div");"tooltip"!=e.get("role")&&(i.tabIndex=this.tabindex),i.style.position="absolute",Ut(i,!1);const s=[];e.setPrivate("focusElement",{dom:i,disposers:s}),this._decorateFocusElement(e),s.push(Lt(i,"focus",(e=>{this._handleFocus(e,t)}))),s.push(Lt(i,"blur",(e=>{this._handleBlur(e,t)}))),this._moveFocusElement(t,e)}_removeFocusElement(t){if(1==this._a11yD)return;B(this._tabindexes,t);const e=t.getPrivate("focusElement");if(e){const t=this._focusElementContainer;t.removeChild(e.dom),F(e.disposers,(t=>{t.dispose()}))}}_hideFocusElement(t){if(1==this._a11yD)return;const e=t.getPrivate("focusElement");e.dom.style.display="none"}_moveFocusElement(t,e){if(1==this._a11yD)return;const i=this._focusElementContainer,s=e.getPrivate("focusElement").dom;if(s===this._focusElementContainer.children[t])return;const n=this._focusElementContainer.children[t+1];n?i.insertBefore(s,n):i.append(s)}_positionFocusElement(t){if(1==this._a11yD)return;const e=t.globalBounds();let i=e.right==e.left?t.width():e.right-e.left,s=e.top==e.bottom?t.height():e.bottom-e.top,n=e.left-2,r=e.top-2;i<0&&(n+=i,i=Math.abs(i)),s<0&&(r+=s,s=Math.abs(s));const a=t.getPrivate("focusElement").dom;a.style.top=r+"px",a.style.left=n+"px",a.style.width=i+4+"px",a.style.height=s+4+"px"}_handleFocus(t,e){if(1==this._a11yD)return;const i=this._tabindexes[e];i.isVisibleDeep()?(this._positionFocusElement(i),this._focusedSprite=i,i.events.isEnabled("focus")&&i.events.dispatch("focus",{type:"focus",originalEvent:t,target:i})):this._focusNext(t.target,this._isShift?-1:1)}_focusNext(t,e){if(1==this._a11yD)return;const i=Array.from(document.querySelectorAll(["a[href]","area[href]","button:not([disabled])","details","input:not([disabled])","iframe:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[contentEditable=""]','[contentEditable="true"]','[contentEditable="TRUE"]','[tabindex]:not([tabindex^="-"])'].join(",")));let s=i.indexOf(t)+e;s<0?s=i.length-1:s>=i.length&&(s=0),i[s].focus()}_handleBlur(t,e){if(1==this._a11yD)return;const i=this._focusedSprite;i&&i.events.isEnabled("blur")&&i.events.dispatch("blur",{type:"blur",originalEvent:t,target:i}),this._focusedSprite=void 0}updateTooltip(t){if(1==this._a11yD)return;const e=ne(t._getText());let i=t.getPrivate("tooltipElement");"tooltip"==t.get("role")&&""!=e?(i||(i=this._makeTooltipElement(t)),i.innerHTML!=e&&(i.innerHTML=e)):i&&(i.remove(),t.removePrivate("tooltipElement"))}_makeTooltipElement(t){const e=this._tooltipElementContainer,i=document.createElement("div");return i.style.position="absolute",i.style.width="1px",i.style.height="1px",i.style.overflow="hidden",i.style.clip="rect(1px, 1px, 1px, 1px)",Ut(i,!1),this._decorateFocusElement(t,i),e.append(i),t.setPrivate("tooltipElement",i),i}_removeTooltipElement(t){if(1==this._a11yD)return;const e=t.getPrivate("tooltipElement");if(e){const t=e.parentElement;t&&t.removeChild(e)}}_invalidateAccessibility(t){if(1==this._a11yD)return;this._focusElementDirty=!0;const e=t.getPrivate("focusElement");t.get("focusable")?e&&(this._decorateFocusElement(t),this._positionFocusElement(t)):e&&this._removeFocusElement(t)}focused(t){return this._focusedSprite===t}documentPointToRoot(t){const e=this.dom.getBoundingClientRect();return{x:t.x-e.left,y:t.y-e.top}}rootPointToDocument(t){const e=this.dom.getBoundingClientRect();return{x:t.x+e.left,y:t.y+e.top}}addDisposer(t){return this._disposers.push(t),t}_updateComputedStyles(){const t=window.getComputedStyle(this.dom);let e="";je(t,((t,i)=>{pt(t)&&t.match(/^font/)&&(e+=i)}));const i=e!=this._fontHash;return i&&(this._fontHash=e),i}_checkComputedStyles(){this._updateComputedStyles()&&this._invalidateLabelBounds(this.container)}_invalidateLabelBounds(t){t instanceof Bi?t.children.each((t=>{this._invalidateLabelBounds(t)})):t instanceof Ni&&t.markDirtyBounds()}_hasLicense(){for(let t=0;t<qe.licenses.length;t++)if(qe.licenses[t].match(/^AM5C.{5,}/i))return!0;return!1}_licenseApplied(){this._logo&&this._logo.set("forceHidden",!0)}get debugGhostView(){return this._renderer.debugGhostView}set debugGhostView(t){this._renderer.debugGhostView=t}set tapToActivate(t){this._renderer.tapToActivate=t}get tapToActivate(){return this._renderer.tapToActivate}set tapToActivateTimeout(t){this._renderer.tapToActivateTimeout=t}get tapToActivateTimeout(){return this._renderer.tapToActivateTimeout}_makeHTMLElement(t){const e=this._htmlElementContainer,i=document.createElement("div");return t.setPrivate("htmlElement",i),i.style.position="absolute",i.style.overflow="auto",i.style.boxSizing="border-box",Ut(i,t.get("interactive",!1)),t.events.isEnabled("click")&&(Ut(i,!0),this._disposers.push(Lt(i,"click",(e=>{const i=this._renderer.getEvent(e);t.events.dispatch("click",{type:"click",originalEvent:i.event,point:i.point,simulated:!1,target:t})})))),this._positionHTMLElement(t),e.append(i),z(this._htmlEnabledContainers,t),i}_positionHTMLElements(){F(this._htmlEnabledContainers,(t=>{this._positionHTMLElement(t)}))}_positionHTMLElement(t){const e=t.getPrivate("htmlElement");if(e){const i=["paddingTop","paddingRight","paddingBottom","paddingLeft","minWidth","minHeight","maxWidth","maxHeight"];F(i,(i=>{const s=t.get(i);e.style[i]=s?s+"px":""}));const s=t.compositeOpacity();setTimeout((()=>{e.style.opacity=s+""}),10);const n=t.isVisibleDeep();n&&(e.style.display="block");const r=t.globalBounds();e.style.top=r.top+"px",e.style.left=r.left+"px";const a=t.get("width"),o=t.get("height");let l=0,h=0;if(a&&(l=t.width()),o&&(h=t.height()),a&&o)t.removePrivate("minWidth"),t.removePrivate("minHeight");else{e.style.position="fixed",e.style.width="",e.style.height="";const i=e.getBoundingClientRect();e.style.position="absolute",l=i.width,h=i.height,t._adjustedLocalBounds={left:0,right:0,top:0,bottom:0},t.setPrivate("minWidth",l),t.setPrivate("minHeight",h)}l>0&&(e.style.minWidth=l+"px"),h>0&&(e.style.minHeight=h+"px"),n&&0!=s||(e.style.display="none")}}_setHTMLContent(t,e){let i=t.getPrivate("htmlElement");i||(i=this._makeHTMLElement(t)),i.innerHTML!=e&&(i.innerHTML=e)}_removeHTMLContent(t){let e=t.getPrivate("htmlElement");e&&this._htmlElementContainer.removeChild(e),B(this._htmlEnabledContainers,t)}}class ln extends bt{constructor(){super(...arguments),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}incrementRef(){}decrementRef(){}_onPush(t){this.processor&&this.processor.processRow(t),super._onPush(t)}_onInsertIndex(t,e){this.processor&&this.processor.processRow(e),super._onInsertIndex(t,e)}_onSetIndex(t,e,i){this.processor&&this.processor.processRow(i),super._onSetIndex(t,e,i)}}class hn extends si{constructor(t,e,i){super(i),Object.defineProperty(this,"component",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dataContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"open",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"close",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.dataContext=e,this.component=t,this._settings.visible=!0,this._checkDirty()}markDirty(){this.component.markDirtyValues(this)}_startAnimation(){this.component._root._addAnimation(this)}_animationTime(){return this.component._root.animationTime}_dispose(){this.component&&this.component.disposeDataItem(this),super._dispose()}show(t){this.setRaw("visible",!0),this.component&&this.component.showDataItem(this,t)}hide(t){this.setRaw("visible",!1),this.component&&this.component.hideDataItem(this,t)}isHidden(){return!this.get("visible")}}class un extends Bi{constructor(){super(...arguments),Object.defineProperty(this,"_data",{enumerable:!0,configurable:!0,writable:!0,value:new ln}),Object.defineProperty(this,"_dataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mainDataItems",{enumerable:!0,configurable:!0,writable:!0,value:this._dataItems}),Object.defineProperty(this,"valueFields",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"fields",{enumerable:!0,configurable:!0,writable:!0,value:["id"]}),Object.defineProperty(this,"_valueFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueFieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataChanged",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inited",{enumerable:!0,configurable:!0,writable:!0,value:!1})}set data(t){t.incrementRef(),this._data.decrementRef(),this._data=t}get data(){return this._data}_dispose(){super._dispose(),this._data.decrementRef()}_onDataClear(){}_afterNew(){super._afterNew(),this._data.incrementRef(),this._updateFields(),this._disposers.push(this.data.events.onAll((t=>{const e=this._mainDataItems;if(this.markDirtyValues(),this._markDirtyGroup(),this._dataChanged=!0,"clear"===t.type)F(e,(t=>{t.dispose()})),e.length=0,this._onDataClear();else if("push"===t.type){const i=new hn(this,t.newValue,this._makeDataItem(t.newValue));e.push(i),this.processDataItem(i)}else if("setIndex"===t.type){const i=e[t.index],s=this._makeDataItem(t.newValue);i.bullets&&0==i.bullets.length&&(i.bullets=void 0),Ce(s).forEach((t=>{i.animate({key:t,to:s[t],duration:this.get("interpolationDuration",0),easing:this.get("interpolationEasing")})})),i.dataContext=t.newValue}else if("insertIndex"===t.type){const i=new hn(this,t.newValue,this._makeDataItem(t.newValue));e.splice(t.index,0,i),this.processDataItem(i)}else if("removeIndex"===t.type){const i=e[t.index];i.dispose(),e.splice(t.index,1)}else{if("moveIndex"!==t.type)throw new Error("Unknown IStreamEvent type");{const i=e[t.oldIndex];e.splice(t.oldIndex,1),e.splice(t.newIndex,0,i)}}this._afterDataChange()})))}_updateFields(){this.valueFields&&(this._valueFields=[],this._valueFieldsF={},F(this.valueFields,(t=>{const e=this.get(t+"Field");e&&(this._valueFields.push(t),this._valueFieldsF[t]={fieldKey:t+"Field",workingKey:t+"Working"})}))),this.fields&&(this._fields=[],this._fieldsF={},F(this.fields,(t=>{const e=this.get(t+"Field");e&&(this._fields.push(t),this._fieldsF[t]=t+"Field")})))}get dataItems(){return this._dataItems}processDataItem(t){}_makeDataItem(t){const e={};return this._valueFields&&F(this._valueFields,(i=>{const s=this.get(this._valueFieldsF[i].fieldKey);e[i]=t[s],e[this._valueFieldsF[i].workingKey]=e[i]})),this._fields&&F(this._fields,(i=>{const s=this.get(this._fieldsF[i]);e[i]=t[s]})),e}makeDataItem(t){let e=new hn(this,void 0,t);return this.processDataItem(e),e}pushDataItem(t){const e=this.makeDataItem(t);return this._mainDataItems.push(e),e}disposeDataItem(t){}showDataItem(t,e){return St(this,void 0,void 0,(function*(){t.set("visible",!0)}))}hideDataItem(t,e){return St(this,void 0,void 0,(function*(){t.set("visible",!1)}))}_clearDirty(){super._clearDirty(),this._valuesDirty=!1}_afterDataChange(){}_afterChanged(){if(super._afterChanged(),this._dataChanged){const t="datavalidated";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this}),this._dataChanged=!1}this.inited=!0}markDirtyValues(t){this.markDirty(),this._valuesDirty=!0}_markDirtyGroup(){this._dataGrouped=!1}markDirtySize(){this._sizeDirty=!0,this.markDirty()}}function pn(t){return new Promise(((e,i)=>{setTimeout(e,t)}))}Object.defineProperty(un,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Component"}),Object.defineProperty(un,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Bi.classNames.concat([un.className])});let cn={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2629742400,year:31536e6};function dn(t,e){return null==e&&(e=1),cn[t]*e}function gn(t,e,i,s,n,r,a){if(!a||n){let a=0;switch(n||"millisecond"==e||(a=t.getTimezoneOffset(),t.setUTCMinutes(t.getUTCMinutes()-a)),e){case"day":let e=t.getUTCDate();if(i>1){if(r){r=gn(r,"day",1);let e=t.getTime()-r.getTime(),s=Math.floor(e/dn("day")/i),n=dn("day",s*i);t.setTime(r.getTime()+n-a*dn("minute"))}}else t.setUTCDate(e);t.setUTCHours(0,0,0,0);break;case"second":let n=t.getUTCSeconds();i>1&&(n=Math.floor(n/i)*i),t.setUTCSeconds(n,0);break;case"millisecond":if(1==i)return t;let o=t.getUTCMilliseconds();o=Math.floor(o/i)*i,t.setUTCMilliseconds(o);break;case"hour":let l=t.getUTCHours();i>1&&(l=Math.floor(l/i)*i),t.setUTCHours(l,0,0,0);break;case"minute":let h=t.getUTCMinutes();i>1&&(h=Math.floor(h/i)*i),t.setUTCMinutes(h,0,0);break;case"month":let u=t.getUTCMonth();i>1&&(u=Math.floor(u/i)*i),t.setUTCMonth(u,1),t.setUTCHours(0,0,0,0);break;case"year":let p=t.getUTCFullYear();i>1&&(p=Math.floor(p/i)*i),t.setUTCFullYear(p,0,1),t.setUTCHours(0,0,0,0);break;case"week":let c=t.getUTCDate(),d=t.getUTCDay();ct(s)||(s=1),c=d>=s?c-d+s:c-(7+d)+s,t.setUTCDate(c),t.setUTCHours(0,0,0,0);break}if(!n&&"millisecond"!=e&&(t.setUTCMinutes(t.getUTCMinutes()+a),"day"==e||"week"==e||"month"==e||"year"==e)){let e=t.getTimezoneOffset();if(e!=a){let i=e-a;t.setUTCMinutes(t.getUTCMinutes()+i)}}return t}{if(isNaN(t.getTime()))return t;let o=a.offsetUTC(t),l=t.getTimezoneOffset(),h=a.parseDate(t),u=h.year,p=h.month,c=h.day,d=h.hour,g=h.minute,f=h.second,m=h.millisecond,y=h.weekday;switch(e){case"day":if(i>1&&r){r=gn(r,"day",1,s,n,void 0,a);let e=t.getTime()-r.getTime(),o=Math.floor(e/dn("day")/i),l=dn("day",o*i);t.setTime(r.getTime()+l),h=a.parseDate(t),u=h.year,p=h.month,c=h.day}d=0,g=o-l,f=0,m=0;break;case"second":g+=o-l,i>1&&(f=Math.floor(f/i)*i),m=0;break;case"millisecond":g+=o-l,i>1&&(m=Math.floor(m/i)*i);break;case"hour":i>1&&(d=Math.floor(d/i)*i),g=o-l,f=0,m=0;break;case"minute":i>1&&(g=Math.floor(g/i)*i),g+=o-l,f=0,m=0;break;case"month":i>1&&(p=Math.floor(p/i)*i),c=1,d=0,g=o-l,f=0,m=0;break;case"year":i>1&&(u=Math.floor(u/i)*i),p=0,c=1,d=0,g=o-l,f=0,m=0;break;case"week":ct(s)||(s=1),c=y>=s?c-y+s:c-(7+y)+s,d=0,g=o-l,f=0,m=0;break}t=new Date(u,p,c,d,g,f,m);let b=t.getTimezoneOffset();return b!=l&&t.setTime(t.getTime()+6e4*(l-b)),t}}class fn extends un{constructor(){super(...arguments),Object.defineProperty(this,"_aggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionAggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_psi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pei",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:new bt}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:Bi["new"](this._root,{width:Ot,height:Ot,position:"absolute"})})}_afterNew(){this.valueFields.push("value"),super._afterNew(),this.setPrivate("customData",{}),this._disposers.push(this.bullets.events.onAll((t=>{if("clear"===t.type)this._handleBullets(this.dataItems);else if("push"===t.type)this._handleBullets(this.dataItems);else if("setIndex"===t.type)this._handleBullets(this.dataItems);else if("insertIndex"===t.type)this._handleBullets(this.dataItems);else if("removeIndex"===t.type)this._handleBullets(this.dataItems);else{if("moveIndex"!==t.type)throw new Error("Unknown IListEvent type");this._handleBullets(this.dataItems)}})))}_dispose(){this.bulletsContainer.dispose(),super._dispose()}startIndex(){let t=this.dataItems.length;return Math.min(this.getPrivate("startIndex",0),t)}endIndex(){let t=this.dataItems.length;return Math.min(this.getPrivate("endIndex",t),t)}_handleBullets(t){F(t,(t=>{const e=t.bullets;e&&(F(e,(t=>{t.dispose()})),t.bullets=void 0)})),this.markDirtyValues()}getDataItemById(t){return K(this.dataItems,(e=>e.get("id")==t))}_makeBullets(t){this._shouldMakeBullet(t)&&(t.bullets=[],this.bullets.each((e=>{this._makeBullet(t,e)})))}_shouldMakeBullet(t){return!0}_makeBullet(t,e,i){const s=e(this._root,this,t);if(s){let e=s.get("sprite");e&&(e._setDataItem(t),e.setRaw("position","absolute"),this.bulletsContainer.children.push(e)),s._index=i,s.series=this,t.bullets.push(s)}return s}_clearDirty(){super._clearDirty(),this._aggregatesCalculated=!1,this._selectionAggregatesCalculated=!1}_prepareChildren(){super._prepareChildren();let t=this.startIndex(),e=this.endIndex();if(this.isDirty("heatRules")&&(this._valuesDirty=!0),this.isPrivateDirty("baseValueSeries")){const t=this.getPrivate("baseValueSeries");t&&this._disposers.push(t.onPrivate("startIndex",(()=>{this.markDirtyValues()})))}const i=this.get("calculateAggregates");if(i&&(this._valuesDirty&&!this._dataProcessed&&(this._aggregatesCalculated||(this._calculateAggregates(0,this.dataItems.length),this._aggregatesCalculated=!0)),this._psi==t&&this._pei==e||this._selectionAggregatesCalculated||(0===t&&e===this.dataItems.length&&this._aggregatesCalculated||this._calculateAggregates(t,e),this._selectionAggregatesCalculated=!0)),this.isDirty("tooltip")){let t=this.get("tooltip");t&&(t.hide(0),t.set("tooltipTarget",this))}if(this.isDirty("fill")||this.isDirty("stroke")){let t;const e=this.get("legendDataItem");if(e&&(t=e.get("markerRectangle"),t&&this.isVisible())){if(this.isDirty("stroke")){let e=this.get("stroke");t.set("stroke",e)}if(this.isDirty("fill")){let e=this.get("fill");t.set("fill",e)}}this.updateLegendMarker(void 0)}if(this.bullets.length>0){let t=this.startIndex(),e=this.endIndex();e<this.dataItems.length&&e++;for(let i=t;i<e;i++){let t=this.dataItems[i];t.bullets||this._makeBullets(t)}}}_calculateAggregates(t,e){let i=this._valueFields;if(!i)throw new Error("No value fields are set for the series.");const s={},n={},r={},a={},o={},l={},h={},u={},p={};F(i,(t=>{s[t]=0,n[t]=0,r[t]=0})),F(i,(i=>{let c=i+"Change",d=i+"ChangePercent",g=i+"ChangePrevious",f=i+"ChangePreviousPercent",m=i+"ChangeSelection",y=i+"ChangeSelectionPercent",b="valueY";"valueX"!=i&&"openValueX"!=i&&"lowValueX"!=i&&"highValueX"!=i||(b="valueX");const v=this.getPrivate("baseValueSeries");for(let _=t;_<e;_++){const e=this.dataItems[_];let x=e.get(i);null!=x&&(r[i]++,s[i]+=x,n[i]+=Math.abs(x),u[i]=s[i]/r[i],(a[i]>x||null==a[i])&&(a[i]=x),(o[i]<x||null==o[i])&&(o[i]=x),h[i]=x,null==l[i]&&(l[i]=x,p[i]=x,v&&(l[b]=v._getBase(b))),0===t&&(e.setRaw(c,x-l[b]),e.setRaw(d,(x-l[b])/l[b]*100)),e.setRaw(g,x-p[b]),e.setRaw(f,(x-p[b])/p[b]*100),e.setRaw(m,x-l[b]),e.setRaw(y,(x-l[b])/l[b]*100),p[i]=x)}})),F(i,(t=>{this.setPrivate(t+"AverageSelection",u[t]),this.setPrivate(t+"CountSelection",r[t]),this.setPrivate(t+"SumSelection",s[t]),this.setPrivate(t+"AbsoluteSumSelection",n[t]),this.setPrivate(t+"LowSelection",a[t]),this.setPrivate(t+"HighSelection",o[t]),this.setPrivate(t+"OpenSelection",l[t]),this.setPrivate(t+"CloseSelection",h[t])})),0===t&&e===this.dataItems.length&&F(i,(t=>{this.setPrivate(t+"Average",u[t]),this.setPrivate(t+"Count",r[t]),this.setPrivate(t+"Sum",s[t]),this.setPrivate(t+"AbsoluteSum",n[t]),this.setPrivate(t+"Low",a[t]),this.setPrivate(t+"High",o[t]),this.setPrivate(t+"Open",l[t]),this.setPrivate(t+"Close",h[t])}))}_updateChildren(){super._updateChildren(),this._psi=this.startIndex(),this._pei=this.endIndex(),this.isDirty("visible")&&this.bulletsContainer.set("visible",this.get("visible"));const t=this.get("heatRules");if(this._valuesDirty&&t&&t.length>0&&F(t,(t=>{const e=t.minValue||this.getPrivate(t.dataField+"Low")||0,i=t.maxValue||this.getPrivate(t.dataField+"High")||0;F(t.target._entities,(s=>{const n=s.dataItem.get(t.dataField);if(ct(n))if(t.customFunction)t.customFunction.call(this,s,e,i,n);else{let r,a;r=t.logarithmic?(Math.log(n)*Math.LOG10E-Math.log(e)*Math.LOG10E)/(Math.log(i)*Math.LOG10E-Math.log(e)*Math.LOG10E):(n-e)/(i-e),!ct(n)||ct(r)&&Math.abs(r)!=1/0||(r=.5),ct(t.min)?a=t.min+(t.max-t.min)*r:t.min instanceof Se?a=Se.interpolate(r,t.min,t.max):t.min instanceof wt&&(a=Ve(r,t.min,t.max)),s.set(t.key,a)}else t.neutral&&s.set(t.key,t.neutral)}))})),this.get("visible")&&this.bullets.length>0){let t=this.dataItems.length,e=this.startIndex(),i=this.endIndex();i<t&&i++,e>0&&e--;for(let s=0;s<e;s++)this._hideBullets(this.dataItems[s]);for(let s=e;s<i;s++)this._positionBullets(this.dataItems[s]);for(let s=i;s<t;s++)this._hideBullets(this.dataItems[s])}}_positionBullets(t){t.bullets&&F(t.bullets,(t=>{this._positionBullet(t);const e=t.get("sprite");t.get("dynamic")&&(e&&(e._markDirtyKey("fill"),e.markDirtySize()),e instanceof Bi&&e.walkChildren((t=>{t._markDirtyKey("fill"),t.markDirtySize(),t instanceof Ui&&t.text.markDirtyText()}))),e instanceof Ui&&e.get("populateText")&&e.text.markDirtyText()}))}_hideBullets(t){t.bullets&&F(t.bullets,(t=>{let e=t.get("sprite");e&&e.setPrivate("visible",!1)}))}_positionBullet(t){}_placeBulletsContainer(t){t.bulletsContainer.children.moveValue(this.bulletsContainer)}_removeBulletsContainer(){const t=this.bulletsContainer;t.parent&&t.parent.children.removeValue(t)}disposeDataItem(t){const e=t.bullets;e&&F(e,(t=>{t.dispose()}))}_getItemReaderLabel(){return""}showDataItem(t,e){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return St(this,void 0,void 0,(function*(){const s=[i.showDataItem.call(this,t,e)],n=t.bullets;n&&F(n,(t=>{s.push(t.get("sprite").show(e))})),yield Promise.all(s)}))}hideDataItem(t,e){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return St(this,void 0,void 0,(function*(){const s=[i.hideDataItem.call(this,t,e)],n=t.bullets;n&&F(n,(t=>{s.push(t.get("sprite").hide(e))})),yield Promise.all(s)}))}_sequencedShowHide(t,e){return St(this,void 0,void 0,(function*(){if(this.get("sequencedInterpolation"))if(ct(e)||(e=this.get("interpolationDuration",0)),e>0){const i=this.startIndex(),s=this.endIndex();yield Promise.all(A(this.dataItems,((n,r)=>St(this,void 0,void 0,(function*(){let a=e||0;(r<i-10||r>s+10)&&(a=0);let o=this.get("sequencedDelay",0)+a/(s-i);yield pn(o*(r-i)),t?yield this.showDataItem(n,a):yield this.hideDataItem(n,a)})))))}else yield Promise.all(A(this.dataItems,(e=>t?this.showDataItem(e,0):this.hideDataItem(e,0))))}))}updateLegendValue(t){if(t){const e=t.get("legendDataItem");if(e){const i=e.get("valueLabel");if(i){const e=i.text;let s="";i._setDataItem(t),s=this.get("legendValueText",e.get("text","")),i.set("text",s),e.markDirtyText()}const s=e.get("label");if(s){const e=s.text;let i="";s._setDataItem(t),i=this.get("legendLabelText",e.get("text","")),s.set("text",i),e.markDirtyText()}}}}updateLegendMarker(t){}_onHide(){super._onHide();const t=this.getTooltip();t&&t.hide()}hoverDataItem(t){}unhoverDataItem(t){}_getBase(t){const e=this.dataItems[this.startIndex()];return e?e.get(t):0}}Object.defineProperty(fn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Series"}),Object.defineProperty(fn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:un.classNames.concat([fn.className])});class mn extends Si{_beforeChanged(){super._beforeChanged(),(this.isDirty("cornerRadiusTL")||this.isDirty("cornerRadiusTR")||this.isDirty("cornerRadiusBR")||this.isDirty("cornerRadiusBL"))&&(this._clear=!0)}_draw(){let t=this.width(),e=this.height(),i=t,s=e,n=i/Math.abs(t),r=s/Math.abs(e);if(ct(i)&&ct(s)){let t=Math.min(i,s)/2,e=qt(this.get("cornerRadiusTL",8),t),a=qt(this.get("cornerRadiusTR",8),t),o=qt(this.get("cornerRadiusBR",8),t),l=qt(this.get("cornerRadiusBL",8),t),h=Math.min(Math.abs(i/2),Math.abs(s/2));e=gi(e,0,h),a=gi(a,0,h),o=gi(o,0,h),l=gi(l,0,h);const u=this._display;u.moveTo(e*n,0),u.lineTo(i-a*n,0),a>0&&u.arcTo(i,0,i,a*r,a),u.lineTo(i,s-o*r),o>0&&u.arcTo(i,s,i-o*n,s,o),u.lineTo(l*n,s),l>0&&u.arcTo(0,s,0,s-l*r,l),u.lineTo(0,e*r),e>0&&u.arcTo(0,0,e*n,0,e),u.closePath()}}}Object.defineProperty(mn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RoundedRectangle"}),Object.defineProperty(mn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Si.classNames.concat([mn.className])});class yn extends fn{constructor(){super(...arguments),Object.defineProperty(this,"itemContainers",{enumerable:!0,configurable:!0,writable:!0,value:new _t(li["new"]({}),(()=>Bi._new(this._root,{themeTags:Pe(this.itemContainers.template.get("themeTags",[]),["legend","item"]),themeTagsSelf:Pe(this.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"]),background:mn["new"](this._root,{themeTags:Pe(this.itemContainers.template.get("themeTags",[]),["legend","item","background"]),themeTagsSelf:Pe(this.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"])})},[this.itemContainers.template])))}),Object.defineProperty(this,"markers",{enumerable:!0,configurable:!0,writable:!0,value:new _t(li["new"]({}),(()=>Bi._new(this._root,{themeTags:Pe(this.markers.template.get("themeTags",[]),["legend","marker"])},[this.markers.template])))}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:new _t(li["new"]({}),(()=>Ui._new(this._root,{themeTags:Pe(this.labels.template.get("themeTags",[]),["legend","label"])},[this.labels.template])))}),Object.defineProperty(this,"valueLabels",{enumerable:!0,configurable:!0,writable:!0,value:new _t(li["new"]({}),(()=>Ui._new(this._root,{themeTags:Pe(this.valueLabels.template.get("themeTags",[]),["legend","label","value"])},[this.valueLabels.template])))}),Object.defineProperty(this,"markerRectangles",{enumerable:!0,configurable:!0,writable:!0,value:new _t(li["new"]({}),(()=>mn._new(this._root,{themeTags:Pe(this.markerRectangles.template.get("themeTags",[]),["legend","marker","rectangle"])},[this.markerRectangles.template])))})}_afterNew(){this._settings.themeTags=Pe(this._settings.themeTags,["legend"]),this.fields.push("name","stroke","fill"),super._afterNew()}makeItemContainer(t){const e=this.children.push(this.itemContainers.make());return e._setDataItem(t),this.itemContainers.push(e),e.states.create("disabled",{}),e}makeMarker(){const t=this.markers.make();return this.markers.push(t),t.states.create("disabled",{}),t}makeLabel(){const t=this.labels.make();return t.states.create("disabled",{}),t}makeValueLabel(){const t=this.valueLabels.make();return t.states.create("disabled",{}),t}makeMarkerRectangle(){const t=this.markerRectangles.make();return t.states.create("disabled",{}),t}processDataItem(t){super.processDataItem(t);const e=this.makeItemContainer(t),i=this.get("nameField"),s=this.get("fillField"),n=this.get("strokeField");if(e){const r=this.get("clickTarget","itemContainer"),a=t.dataContext;a&&a.set&&a.set("legendDataItem",t),e._setDataItem(t),t.set("itemContainer",e);const o=this.makeMarker();if(o){e.children.push(o),o._setDataItem(t),t.set("marker",o);const i=this.get("useDefaultMarker"),r=o.children.push(this.makeMarkerRectangle());let l=t.get("fill"),h=t.get("stroke");t.set("markerRectangle",r),a&&a.get&&(l=a.get(s,l),h=a.get(n,h)),h||(h=l),i?a.on&&(a.on(s,(()=>{r.set("fill",a.get(s))})),a.on(n,(()=>{r.set("stroke",a.get(n))}))):a&&a.createLegendMarker&&a.createLegendMarker(),r.setAll({fill:l,stroke:h});const u=a.component;u&&u.updateLegendMarker&&u.updateLegendMarker(a)}const l=this.makeLabel();if(l){e.children.push(l),l._setDataItem(t),t.set("label",l),l.text.on("text",(()=>{e.setRaw("ariaLabel",l.text._getText()+("none"!==this.get("clickTarget")?"; "+this._t("Press ENTER to toggle"):"")),e.markDirtyAccessibility()})),a&&a.get&&t.set("name",a.get(i));let s=t.get("name");s&&l.set("text",s)}const h=this.makeValueLabel();if(h&&(e.children.push(h),h._setDataItem(t),t.set("valueLabel",h)),a&&a.show&&(a.on("visible",(t=>{e.set("disabled",!t)})),a.get("visible")||e.set("disabled",!0),"none"!=r)){let i=e;"marker"==r&&(i=o),this._addClickEvents(i,a,t)}this.children.values.sort(((t,e)=>{const i=t.dataItem.dataContext,s=e.dataItem.dataContext;if(i&&s){const t=this.data.indexOf(i),e=this.data.indexOf(s);if(t>e)return 1;if(t<e)return-1}return 0})),a&&a.updateLegendValue&&a.updateLegendValue()}}_addClickEvents(t,e,i){t.set("cursorOverStyle","pointer"),t.events.on("pointerover",(()=>{const t=e.component;t&&t.hoverDataItem&&t.hoverDataItem(e)})),t.events.on("pointerout",(()=>{const t=e.component;t&&t.hoverDataItem&&t.unhoverDataItem(e)})),t.events.on("click",(()=>{const s=i.get("label").text._getText();e.show&&e.isHidden&&(e.isHidden()||!1===e.get("visible"))?(e.show(),t.set("disabled",!1),this._root.readerAlert(this._t("%1 shown",this._root.locale,s))):e.hide&&(e.hide(),t.set("disabled",!0),this._root.readerAlert(this._t("%1 hidden",this._root.locale,s)))}))}disposeDataItem(t){super.disposeDataItem(t);const e=t.dataContext;if(e&&e.get){const i=e.get("legendDataItem");i==t&&e.set("legendDataItem",void 0)}let i=t.get("itemContainer");i&&(this.itemContainers.removeValue(i),i.dispose());let s=t.get("marker");s&&(this.markers.removeValue(s),s.dispose());let n=t.get("markerRectangle");n&&(this.markerRectangles.removeValue(n),n.dispose());let r=t.get("label");r&&(this.labels.removeValue(r),r.dispose());let a=t.get("valueLabel");a&&(this.valueLabels.removeValue(a),a.dispose())}}Object.defineProperty(yn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Legend"}),Object.defineProperty(yn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:fn.classNames.concat([yn.className])});class bn extends ni{_afterNew(){super._afterNewApplyThemes(),this._dirty["colors"]=!1}_beforeChanged(){this.isDirty("colors")&&this.reset()}generateColors(){this.setPrivate("currentPass",this.getPrivate("currentPass",0)+1);const t=this.getPrivate("currentPass"),e=this.get("colors",[this.get("baseColor",Se.fromHex(16711680))]);this.getPrivate("numColors")||this.setPrivate("numColors",e.length);const i=this.getPrivate("numColors"),s=0,n=this.get("passOptions"),r=this.get("reuse");for(let a=s;a<i;a++)if(r)e.push(e[a]);else{const i=e[a].toHSL();let s=i.h+(n.hue||0)*t;while(s>1)s-=1;let r=i.s+(n.saturation||0)*t;r>1&&(r=1),r<0&&(r=0);let o=i.l+(n.lightness||0)*t;while(o>1)o-=1;e.push(Se.fromHSL(s,r,o))}}getIndex(t){const e=this.get("colors",[]),i=this.get("saturation");return t>=e.length?(this.generateColors(),this.getIndex(t)):null!=i?Se.saturate(e[t],i):e[t]}next(){let t=this.getPrivate("currentStep",this.get("startIndex",0));return this.setPrivate("currentStep",t+this.get("step",1)),this.getIndex(t)}reset(){this.setPrivate("currentStep",this.get("startIndex",0)),this.setPrivate("currentPass",0)}}Object.defineProperty(bn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColorSet"}),Object.defineProperty(bn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ni.classNames.concat([bn.className])});class vn extends ns{setupDefaultRules(){super.setupDefaultRules();const t=this._root.interfaceColors,e=this._root.language,i=this.rule.bind(this);i("XYChart").setAll({colors:bn["new"](this._root,{}),paddingLeft:20,paddingRight:20,paddingTop:16,paddingBottom:16,panX:!1,panY:!1,wheelStep:.25,arrangeTooltips:!0,pinchZoomX:!1,pinchZoomY:!1}),i("XYSeries").setAll({legendLabelText:"{name}"}),i("XYChart",["scrollbar","chart"]).setAll({paddingBottom:0,paddingLeft:0,paddingTop:0,paddingRight:0,colors:bn["new"](this._root,{saturation:0})});{const e=i("Graphics",["scrollbar","overlay"]);e.setAll({fillOpacity:.5}),rs(e,"fill",t,"background")}i("RoundedRectangle",["xy","scrollbar","thumb"]).setAll({cornerRadiusTR:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusBL:0,fillOpacity:0,focusable:!0}),i("RoundedRectangle",["xy","scrollbar","thumb"]).states.create("hover",{fillOpacity:.4}),i("RoundedRectangle",["xy","scrollbar","chart","background"]).setAll({cornerRadiusTL:0,cornerRadiusBL:0,cornerRadiusTR:0,cornerRadiusBR:0}),i("RoundedRectangle",["xy","scrollbar","chart","background","resize","button"]).setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),i("AxisRendererX",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0}),i("AxisRendererY",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0,minGridDistance:5}),i("AxisLabel",["xy","scrollbar","x"]).setAll({opacity:.5,centerY:Ot,minPosition:.01,maxPosition:.99,fontSize:"0.8em"}),i("AxisLabel",["category"]).setAll({text:"{category}",populateText:!0}),i("AxisLabel",["x"]).setAll({centerY:0}),i("AxisLabel",["x","inside"]).setAll({centerY:Ot}),i("AxisLabel",["x","inside","opposite"]).setAll({centerY:0}),i("AxisLabel",["x","opposite"]).setAll({centerY:Ot}),i("AxisLabel",["y"]).setAll({centerX:Ot}),i("AxisLabel",["y","inside"]).setAll({centerX:0}),i("AxisLabel",["y","inside","opposite"]).setAll({centerX:Ot}),i("AxisLabel",["y","opposite"]).setAll({centerX:0}),i("AxisLabel",["xy","scrollbar","y"]).setAll({visible:!1}),i("Grid",["xy","scrollbar","y"]).setAll({visible:!1}),i("Grid",["xy","scrollbar","x"]).setAll({opacity:.5}),i("XYCursor").setAll({behavior:"none",layer:30,exportable:!1,snapToSeriesBy:"xy",moveThreshold:1});{const s=i("Grid",["cursor","x"]);s.setAll({strokeOpacity:.8,strokeDasharray:[2,2],ariaLabel:e.translate("Use left and right arrows to move selection")}),rs(s,"stroke",t,"alternativeBackground")}{const s=i("Grid",["cursor","y"]);s.setAll({strokeOpacity:.8,strokeDasharray:[2,2],ariaLabel:e.translate("Use up and down arrows to move selection")}),rs(s,"stroke",t,"alternativeBackground")}{const e=i("Graphics",["cursor","selection"]);e.setAll({fillOpacity:.15}),rs(e,"fill",t,"alternativeBackground")}i("Axis").setAll({start:0,end:1,minZoomCount:1,maxZoomCount:1/0,maxZoomFactor:1e3,maxDeviation:.1,snapTooltip:!0,tooltipLocation:.5,panX:!0,panY:!0,zoomX:!0,zoomY:!0,fixAxisSize:!0}),i("AxisLabel").setAll({location:.5,multiLocation:0,centerX:kt,centerY:kt,paddingTop:3,paddingBottom:3,paddingLeft:5,paddingRight:5}),i("Container",["axis","header"]).setAll({layer:30}),i("Rectangle",["axis","header","background"]).setAll({crisp:!0});{const e=i("AxisRenderer");e.setAll({crisp:!0,strokeOpacity:0}),rs(e,"stroke",t,"grid")}i("AxisRendererX").setAll({minGridDistance:120,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,width:Ot}),i("AxisRendererY").setAll({minGridDistance:40,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,height:Ot});{const e=i("Rectangle",["axis","thumb"]);e.setAll({fillOpacity:0}),rs(e,"fill",t,"alternativeBackground"),e.states.create("hover",{fillOpacity:.1})}i("Rectangle",["axis","thumb","x"]).setAll({cursorOverStyle:"ew-resize"}),i("Rectangle",["axis","thumb","y"]).setAll({cursorOverStyle:"ns-resize"});{const e=i("Grid");e.setAll({location:0,strokeOpacity:.15,crisp:!0}),rs(e,"stroke",t,"grid")}i("Grid",["base"]).setAll({strokeOpacity:.3});{const e=i("Graphics",["axis","fill"]);e.setAll({visible:!1,isMeasured:!1,position:"absolute",fillOpacity:.05}),rs(e,"fill",t,"alternativeBackground")}i("Graphics",["axis","fill","range"]).setAll({isMeasured:!0}),i("Graphics",["series","fill","range"]).setAll({visible:!1,isMeasured:!0}),i("Grid",["series","range"]).setAll({visible:!1}),i("AxisTick",["series","range"]).setAll({visible:!1}),i("AxisLabel",["series","range"]).setAll({visible:!1});{const e=i("AxisTick");e.setAll({location:.5,multiLocation:0,strokeOpacity:1,isMeasured:!1,position:"absolute",visible:!1}),rs(e,"stroke",t,"grid")}i("CategoryAxis").setAll({startLocation:0,endLocation:1,fillRule:(t,e)=>{const i=t.get("axisFill");i&&(ct(e)&&e%2!=0?i.setPrivate("visible",!1):i.setPrivate("visible",!0))}});const s=[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}],n={millisecond:e.translate("_date_millisecond"),second:e.translate("_date_second"),minute:e.translate("_date_minute"),hour:e.translate("_date_hour"),day:e.translate("_date_day"),week:e.translate("_date_day"),month:e.translate("_date_month"),year:e.translate("_date_year")},r={millisecond:e.translate("_date_millisecond"),second:e.translate("_date_second"),minute:e.translate("_date_minute"),hour:e.translate("_date_day"),day:e.translate("_date_day"),week:e.translate("_date_day"),month:e.translate("_date_month")+" "+e.translate("_date_year"),year:e.translate("_date_year")},a={millisecond:e.translate("_date_millisecond_full"),second:e.translate("_date_second_full"),minute:e.translate("_date_minute_full"),hour:e.translate("_date_hour_full"),day:e.translate("_date_day_full"),week:e.translate("_date_week_full"),month:e.translate("_date_month_full"),year:e.translate("_date_year")};i("CategoryDateAxis").setAll({markUnitChange:!0,gridIntervals:W(s),dateFormats:Ie(n),periodChangeDateFormats:Ie(r)}),i("DateAxis").setAll({maxZoomFactor:null,strictMinMax:!0,startLocation:0,endLocation:1,markUnitChange:!0,groupData:!1,groupCount:500,gridIntervals:W(s),dateFormats:Ie(n),periodChangeDateFormats:Ie(r),tooltipDateFormats:a,groupIntervals:[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}],fillRule:t=>{const e=t.get("axisFill");if(e){const i=t.component,s=t.get("value"),n=t.get("endValue"),r=i.intervalDuration(),a=i.getPrivate("baseInterval"),o=i.getPrivate("gridInterval",a);let l=i.getPrivate("min",0);if(l=gn(new Date(l),o.timeUnit,o.count,this._root.locale.firstDayOfWeek,this._root.utc,void 0,this._root.timezone).getTime(),null!=s&&null!=n){const t=Math.round(Math.round((s-l)/r))/2;t==Math.round(t)?e.setPrivate("visible",!0):e.setPrivate("visible",!1)}}}}),i("GaplessDateAxis").setAll({fillRule:t=>{const e=t.get("axisFill");if(e){const i=t.get("index");let s=!1;ct(i)&&i%2!=0||(s=!0),e.setPrivate("visible",s)}}}),i("ValueAxis").setAll({baseValue:0,logarithmic:!1,strictMinMax:!1,autoZoom:!0,fillRule:t=>{const e=t.get("axisFill");if(e){const i=t.component,s=t.get("value"),n=i.getPrivate("step");ct(s)&&ct(n)&&(ci(s/n/2,5)==Math.round(s/n/2)?e.setPrivate("visible",!1):e.setPrivate("visible",!0))}}}),i("DurationAxis").setAll({baseUnit:"second"}),i("XYSeries").setAll({maskBullets:!0,stackToNegative:!0,locationX:.5,locationY:.5,snapTooltip:!1,openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close",seriesTooltipTarget:"series"}),i("BaseColumnSeries").setAll({adjustBulletPosition:!0}),i("ColumnSeries").setAll({clustered:!0}),i("RoundedRectangle",["series","column"]).setAll({position:"absolute",isMeasured:!1,width:Pt(70),height:Pt(70),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),i("LineSeries").setAll({connect:!0,autoGapCount:1.1,stackToNegative:!1}),i("Graphics",["series","stroke"]).setAll({position:"absolute",strokeWidth:1,strokeOpacity:1,isMeasured:!1}),i("Graphics",["series","fill"]).setAll({visible:!1,fillOpacity:0,position:"absolute",strokeWidth:0,strokeOpacity:0,isMeasured:!1}),i("Graphics",["line","series","legend","marker","stroke"]).setAll({draw:(t,e)=>{const i=e.parent;if(i){const e=i.height(),s=i.width();t.moveTo(0,e/2),t.lineTo(s,e/2)}}});{const e=i("Graphics",["line","series","legend","marker","stroke"]).states.create("disabled",{});rs(e,"stroke",t,"disabled")}i("Graphics",["line","series","legend","marker","fill"]).setAll({draw:(t,e)=>{const i=e.parent;if(i){const e=i.height(),s=i.width();t.moveTo(0,0),t.lineTo(s,0),t.lineTo(s,e),t.lineTo(0,e),t.lineTo(0,0)}}});{const e=i("Graphics",["line","series","legend","marker","fill"]).states.create("disabled",{});rs(e,"stroke",t,"disabled")}i("SmoothedXYLineSeries").setAll({tension:.5}),i("SmoothedXLineSeries").setAll({tension:.5}),i("SmoothedYLineSeries").setAll({tension:.5}),i("Candlestick").setAll({position:"absolute",isMeasured:!1,width:Pt(50),height:Pt(50),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),i("OHLC").setAll({width:Pt(80),height:Pt(80)}),i("CandlestickSeries").setAll({lowValueXGrouped:"low",lowValueYGrouped:"low",highValueXGrouped:"high",highValueYGrouped:"high",openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close"});{const e=i("Rectangle",["column","autocolor"]).states.create("riseFromOpen",{});rs(e,"fill",t,"positive"),rs(e,"stroke",t,"positive")}{const e=i("Rectangle",["column","autocolor"]).states.create("dropFromOpen",{});rs(e,"fill",t,"negative"),rs(e,"stroke",t,"negative")}i("Rectangle",["column","autocolor","pro"]).states.create("riseFromOpen",{fillOpacity:0}),i("Rectangle",["column","autocolor","pro"]).states.create("dropFromOpen",{fillOpacity:1});{const e=i("Rectangle",["column","autocolor","pro"]).states.create("riseFromPrevious",{});rs(e,"fill",t,"positive"),rs(e,"stroke",t,"positive")}{const e=i("Rectangle",["column","autocolor","pro"]).states.create("dropFromPrevious",{});rs(e,"fill",t,"negative"),rs(e,"stroke",t,"negative")}}}class _n extends Bi{constructor(){super(...arguments),Object.defineProperty(this,"chartContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Bi["new"](this._root,{width:Ot,height:Ot,interactiveChildren:!1}))}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:Bi["new"](this._root,{interactiveChildren:!1,isMeasured:!1,position:"absolute",width:Ot,height:Ot})})}}Object.defineProperty(_n,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Chart"}),Object.defineProperty(_n,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Bi.classNames.concat([_n.className])});class xn extends _n{constructor(){super(...arguments),Object.defineProperty(this,"seriesContainer",{enumerable:!0,configurable:!0,writable:!0,value:Bi["new"](this._root,{width:Ot,height:Ot,isMeasured:!1})}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:new vt})}_afterNew(){super._afterNew(),this._disposers.push(this.series);const t=this.seriesContainer.children;this._disposers.push(this.series.events.onAll((e=>{if("clear"===e.type){F(e.oldValues,(t=>{this._removeSeries(t)}));const t=this.get("colors");t&&t.reset()}else if("push"===e.type)t.moveValue(e.newValue),this._processSeries(e.newValue);else if("setIndex"===e.type)t.setIndex(e.index,e.newValue),this._processSeries(e.newValue);else if("insertIndex"===e.type)t.insertIndex(e.index,e.newValue),this._processSeries(e.newValue);else if("removeIndex"===e.type)this._removeSeries(e.oldValue);else{if("moveIndex"!==e.type)throw new Error("Unknown IListEvent type");t.moveValue(e.value,e.newIndex),this._processSeries(e.value)}})))}_processSeries(t){t.chart=this,t._placeBulletsContainer(this)}_removeSeries(t){t.isDisposed()||(this.seriesContainer.children.removeValue(t),t._removeBulletsContainer())}}Object.defineProperty(xn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SerialChart"}),Object.defineProperty(xn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:_n.classNames.concat([xn.className])});class wn extends Bi{_afterNew(){this._settings.themeTags=Pe(this._settings.themeTags,["button"]),super._afterNew(),this._settings.background||this.set("background",mn["new"](this._root,{themeTags:Pe(this._settings.themeTags,["background"])}))}_prepareChildren(){if(super._prepareChildren(),this.isDirty("icon")){const t=this._prevSettings.icon,e=this.get("icon");e!==t&&(this._disposeProperty("icon"),t&&t.dispose(),e&&this.children.push(e),this._prevSettings.icon=e)}if(this.isDirty("label")){const t=this._prevSettings.label,e=this.get("label");e!==t&&(this._disposeProperty("label"),t&&t.dispose(),e&&this.children.push(e),this._prevSettings.label=e)}}}Object.defineProperty(wn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Button"}),Object.defineProperty(wn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Bi.classNames.concat([wn.className])});class Pn extends xn{constructor(){super(...arguments),Object.defineProperty(this,"xAxes",{enumerable:!0,configurable:!0,writable:!0,value:new vt}),Object.defineProperty(this,"yAxes",{enumerable:!0,configurable:!0,writable:!0,value:new vt}),Object.defineProperty(this,"topAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(Bi["new"](this._root,{width:Ot,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"yAxesAndPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(Bi["new"](this._root,{width:Ot,height:Ot,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"bottomAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(Bi["new"](this._root,{width:Ot,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"leftAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(Bi["new"](this._root,{height:Ot,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"plotsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(Bi["new"](this._root,{width:Ot,height:Ot,maskContent:!1}))}),Object.defineProperty(this,"plotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push(Bi["new"](this._root,{width:Ot,height:Ot}))}),Object.defineProperty(this,"topPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push(Bi["new"](this._root,{width:Ot,height:Ot}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(Bi["new"](this._root,{width:Ot,height:Ot,isMeasured:!1}))}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:Bi["new"](this._root,{width:Ot,height:Ot,isMeasured:!1})}),Object.defineProperty(this,"rightAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(Bi["new"](this._root,{height:Ot,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"axisHeadersContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(Bi["new"](this._root,{}))}),Object.defineProperty(this,"zoomOutButton",{enumerable:!0,configurable:!0,writable:!0,value:this.topPlotContainer.children.push(wn["new"](this._root,{themeTags:["zoom"],icon:Ti["new"](this._root,{themeTags:["button","icon"]})}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_wheelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_otherCharts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_movePoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_downStartX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downStartY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._defaultThemes.push(vn["new"](this._root)),super._afterNew(),this._disposers.push(this.xAxes),this._disposers.push(this.yAxes);const t=this._root;let e=this._root.verticalLayout;const i=this.zoomOutButton;i.events.on("click",(()=>{this.zoomOut()})),i.set("opacity",0),i.states.lookup("default").set("opacity",1),this.chartContainer.set("layout",e);const s=this.plotContainer;s.children.push(this.seriesContainer),this._disposers.push(this._processAxis(this.xAxes,this.bottomAxesContainer)),this._disposers.push(this._processAxis(this.yAxes,this.leftAxesContainer)),s.children.push(this.topGridContainer),s.children.push(this.bulletsContainer),s.set("interactive",!0),s.set("interactiveChildren",!1),s.set("background",Si["new"](t,{themeTags:["xy","background"],fill:Se.fromHex(0),fillOpacity:0})),this._disposers.push(s.events.on("pointerdown",(t=>{this._handlePlotDown(t.originalEvent)}))),this._disposers.push(s.events.on("globalpointerup",(t=>{this._handlePlotUp(t.originalEvent)}))),this._disposers.push(s.events.on("globalpointermove",(t=>{this._handlePlotMove(t.originalEvent)}))),this._maskGrid(),this._setUpTouch()}_beforeChanged(){super._beforeChanged(),(this.isDirty("pinchZoomX")||this.isDirty("pinchZoomY")||this.get("panX")||this.get("panY"))&&this._setUpTouch()}_setUpTouch(){this.plotContainer._display.cancelTouch||(this.plotContainer._display.cancelTouch=!!(this.get("pinchZoomX")||this.get("pinchZoomY")||this.get("panX")||this.get("panY")))}_maskGrid(){this.gridContainer.set("maskContent",!0),this.topGridContainer.set("maskContent",!0)}_removeSeries(t){t._unstack(),t._posXDp&&t._posXDp.dispose(),t._posYDp&&t._posYDp.dispose(),t.set("baseAxis",void 0);const e=t.get("xAxis");e&&(B(e.series,t),e.markDirtyExtremes());const i=t.get("yAxis");i&&(B(i.series,t),i.markDirtyExtremes());const s=this.get("cursor");if(s){const e=s.get("snapToSeries");e&&B(e,t)}super._removeSeries(t)}handleWheel(t){const e=this.get("wheelX"),i=this.get("wheelY"),s=this.plotContainer,n=t.originalEvent;if(!Xt(n,this))return;n.preventDefault();const r=s.toLocal(this._root.documentPointToRoot({x:n.clientX,y:n.clientY})),a=this.get("wheelStep",.2),o=n.deltaY/100,l=n.deltaX/100,h=this.get("wheelZoomPositionX"),u=this.get("wheelZoomPositionY");"zoomX"!==e&&"zoomXY"!==e||0==l||this.xAxes.each((t=>{if(t.get("zoomX")){let e=t.get("start"),i=t.get("end"),n=t.fixPosition(r.x/s.width());null!=h&&(n=h);let o=e-a*(i-e)*l*n,u=i+a*(i-e)*l*(1-n);1/(u-o)<t.getPrivate("maxZoomFactor",1/0)/t.get("minZoomCount",1)&&this._handleWheelAnimation(t.zoom(o,u))}})),"zoomX"!==i&&"zoomXY"!==i||0==o||this.xAxes.each((t=>{if(t.get("zoomX")){let e=t.get("start"),i=t.get("end"),n=t.fixPosition(r.x/s.width());null!=h&&(n=h);let l=e-a*(i-e)*o*n,u=i+a*(i-e)*o*(1-n);1/(u-l)<t.getPrivate("maxZoomFactor",1/0)/t.get("minZoomCount",1)&&this._handleWheelAnimation(t.zoom(l,u))}})),"zoomY"!==e&&"zoomXY"!==e||0==l||this.yAxes.each((t=>{if(t.get("zoomY")){let e=t.get("start"),i=t.get("end"),n=t.fixPosition(r.y/s.height());null!=u&&(n=u);let o=e-a*(i-e)*l*n,h=i+a*(i-e)*l*(1-n);1/(h-o)<t.getPrivate("maxZoomFactor",1/0)/t.get("minZoomCount",1)&&this._handleWheelAnimation(t.zoom(o,h))}})),"zoomY"!==i&&"zoomXY"!==i||0==o||this.yAxes.each((t=>{if(t.get("zoomY")){let e=t.get("start"),i=t.get("end"),n=t.fixPosition(r.y/s.height());null!=u&&(n=u);let l=e-a*(i-e)*o*n,h=i+a*(i-e)*o*(1-n);1/(h-l)<t.getPrivate("maxZoomFactor",1/0)/t.get("minZoomCount",1)&&this._handleWheelAnimation(t.zoom(l,h))}})),"panX"!==e&&"panXY"!==e||0==l||this.xAxes.each((t=>{if(t.get("panX")){let e=t.get("start"),i=t.get("end"),s=this._getWheelSign(t)*a*(i-e)*l,n=e+s,r=i+s,o=this._fixWheel(n,r);n=o[0],r=o[1],this._handleWheelAnimation(t.zoom(n,r))}})),"panX"!==i&&"panXY"!==i||0==o||this.xAxes.each((t=>{if(t.get("panX")){let e=t.get("start"),i=t.get("end"),s=this._getWheelSign(t)*a*(i-e)*o,n=e+s,r=i+s,l=this._fixWheel(n,r);n=l[0],r=l[1],this._handleWheelAnimation(t.zoom(n,r))}})),"panY"!==e&&"panXY"!==e||0==l||this.yAxes.each((t=>{if(t.get("panY")){let e=t.get("start"),i=t.get("end"),s=this._getWheelSign(t)*a*(i-e)*l,n=e+s,r=i+s,o=this._fixWheel(n,r);n=o[0],r=o[1],this._handleWheelAnimation(t.zoom(n,r))}})),"panY"!==i&&"panXY"!==i||0==o||this.yAxes.each((t=>{if(t.get("panY")){let e=t.get("start"),i=t.get("end"),s=this._getWheelSign(t)*a*(i-e)*o,n=e-s,r=i-s,l=this._fixWheel(n,r);n=l[0],r=l[1],this._handleWheelAnimation(t.zoom(n,r))}}))}_handleSetWheel(){const t=this.get("wheelX"),e=this.get("wheelY"),i=this.plotContainer;"none"!==t||"none"!==e?(this._wheelDp=i.events.on("wheel",(t=>{this.handleWheel(t)})),this._disposers.push(this._wheelDp)):this._wheelDp&&this._wheelDp.dispose()}_getWheelSign(t){let e=1;return t.get("renderer").get("inversed")&&(e=-1),e}_fixWheel(t,e){const i=e-t;return t<0&&(t=0,e=t+i),e>1&&(e=1,t=e-i),[t,e]}_handlePlotDown(t){if(2==t.button)return;const e=this.plotContainer;let i=e.toLocal(this._root.documentPointToRoot({x:t.clientX,y:t.clientY}));if(this.get("pinchZoomX")||this.get("pinchZoomY")){const i=t,s=i.pointerId;if(s&&Ce(e._downPoints).length>0){const t=this.xAxes.getIndex(0),e=this.yAxes.getIndex(0);t&&(this._downStartX=t.get("start",0),this._downEndX=t.get("end",1)),e&&(this._downStartY=e.get("start",0),this._downEndY=e.get("end",1))}}if((this.get("panX")||this.get("panY"))&&i.x>=0&&i.y>=0&&i.x<=e.width()&&i.y<=this.height()){this._downPoint={x:t.clientX,y:t.clientY};const e=this.get("panX"),i=this.get("panY");e&&this.xAxes.each((t=>{t._panStart=t.get("start"),t._panEnd=t.get("end")})),i&&this.yAxes.each((t=>{t._panStart=t.get("start"),t._panEnd=t.get("end")}));const s="panstarted";this.events.isEnabled(s)&&this.events.dispatch(s,{type:s,target:this,originalEvent:t})}}_handleWheelAnimation(t){t?t.events.on("stopped",(()=>{this._dispatchWheelAnimation()})):this._dispatchWheelAnimation()}_dispatchWheelAnimation(){const t="wheelended";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this})}_handlePlotUp(t){const e=this._downPoint;if(e&&(this.get("panX")||this.get("panY"))){let i=this.plotContainer.toLocal(this._root.documentPointToRoot({x:t.clientX,y:t.clientY}));if(i.x==e.x&&i.y==e.y){const e="pancancelled";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this,originalEvent:t})}const s="panended";this.events.isEnabled(s)&&this.events.dispatch(s,{type:s,target:this,originalEvent:t})}this._downPoint=void 0,this.xAxes.each((t=>{t._isPanning=!1})),this.yAxes.each((t=>{t._isPanning=!1}))}_handlePlotMove(t){const e=this.plotContainer;if(this.get("pinchZoomX")||this.get("pinchZoomY")){const i=t,s=i.pointerId;if(s&&(this._movePoints[s]=this._root.documentPointToRoot({x:t.clientX,y:t.clientY}),Ce(e._downPoints).length>1))return void this._handlePinch()}let i=this._downPoint;if(i){i=e.toLocal(this._root.documentPointToRoot(i));let s=e.toLocal(this._root.documentPointToRoot({x:t.clientX,y:t.clientY}));const n=this.get("panX"),r=this.get("panY");if(n){let t=this.get("scrollbarX");t&&t.events.disableType("rangechanged"),this.xAxes.each((t=>{if(t.get("panX")){t._isPanning=!0;let n=t._panStart,r=t._panEnd,a=r-n,o=a*(i.x-s.x)/e.width();t.get("renderer").get("inversed")&&(o*=-1);let l=n+o,h=r+o;h-l<1+2*t.get("maxDeviation",1)&&(t.set("start",l),t.set("end",h))}})),t&&t.events.enableType("rangechanged")}if(r){let t=this.get("scrollbarY");t&&t.events.disableType("rangechanged"),this.yAxes.each((t=>{if(t.get("panY")){t._isPanning=!0;let n=t._panStart,r=t._panEnd,a=r-n,o=a*(i.y-s.y)/e.height();t.get("renderer").get("inversed")&&(o*=-1);let l=n-o,h=r-o;h-l<1+2*t.get("maxDeviation",1)&&(t.set("start",l),t.set("end",h))}})),t&&t.events.enableType("rangechanged")}}}_handlePinch(){const t=this.plotContainer;let e=0,i=[],s=[];if(je(t._downPoints,((t,n)=>{i[e]=n;let r=this._movePoints[t];r&&(s[e]=r),e++})),i.length>1&&s.length>1){const e=t.width(),n=t.height();let r=i[0],a=i[1],o=s[0],l=s[1];if(r&&a&&o&&l){if(o=t.toLocal(o),l=t.toLocal(l),r=t.toLocal(r),a=t.toLocal(a),this.get("pinchZoomX")){const t=this._downStartX,i=this._downEndX;if(null!=t&&null!=i){r.x>a.x&&([r,a]=[a,r],[o,l]=[l,o]);let s=t+r.x/e*(i-t),n=t+a.x/e*(i-t),h=t+o.x/e*(i-t),u=t+l.x/e*(i-t),p=Math.max(.001,n-s),c=Math.max(.001,u-h),d=p/c,g=t*d+s-h*d,f=i*d+n-u*d;this.xAxes.each((t=>{let e=t.fixPosition(g),i=t.fixPosition(f);t.zoom(e,i,0)}))}}if(this.get("pinchZoomY")){const t=this._downStartY,e=this._downEndY;if(null!=t&&null!=e){r.y<a.y&&([r,a]=[a,r],[o,l]=[l,o]);let i=t+(1-r.y/n)*(e-t),s=t+(1-a.y/n)*(e-t),h=t+(1-o.y/n)*(e-t),u=t+(1-l.y/n)*(e-t),p=Math.max(.001,s-i),c=Math.max(.001,u-h),d=p/c,g=t*d+i-h*d,f=e*d+s-u*d;this.yAxes.each((t=>{let e=t.fixPosition(g),i=t.fixPosition(f);t.zoom(e,i,0)}))}}}}}_handleCursorPosition(){const t=this.get("cursor");if(t){const e=t.getPrivate("point");let i=t.get("snapToSeries");if(t._downPoint&&(i=void 0),i&&e){const s=t.get("snapToSeriesBy"),n=[];F(i,(t=>{if(!t.isHidden()&&!t.isHiding())if("x!"!=s&&"y!"!=s){const e=t.startIndex(),i=t.endIndex();for(let s=e;s<i;s++){const e=t.dataItems[s];e&&!e.isHidden()&&n.push(e)}}else{const e=t.get("tooltipDataItem");e&&n.push(e)}}));let r,a=1/0;if(F(n,(t=>{const i=t.get("point");if(i){let n=0;n="x"==s||"x!"==s?Math.abs(e.x-i.x):"y"==s||"y!"==s?Math.abs(e.y-i.y):Math.hypot(e.x-i.x,e.y-i.y),n<a&&(a=n,r=t)}})),F(i,(t=>{const e=t.get("tooltip");e&&e._setDataItem(void 0)})),r){let e=r.component;e.showDataItemTooltip(r);const i=r.get("point");i&&t.handleMove(e.toGlobal({x:i.x-e.x(),y:i.y-e.y()}),!0)}}}}_updateCursor(){let t=this.get("cursor");t&&t.handleMove()}_addCursor(t){this.plotContainer.children.push(t)}_prepareChildren(){if(super._prepareChildren(),this.series.each((t=>{this._colorize(t)})),(this.isDirty("wheelX")||this.isDirty("wheelY"))&&this._handleSetWheel(),this.isDirty("cursor")){const t=this._prevSettings.cursor,e=this.get("cursor");e!==t&&(this._disposeProperty("cursor"),t&&t.dispose(),e&&(e._setChart(this),this._addCursor(e),this._pushPropertyDisposer("cursor",e.events.on("selectended",(()=>{this._handleCursorSelectEnd()})))),this._prevSettings.cursor=e)}if(this.isDirty("scrollbarX")){const t=this._prevSettings.scrollbarX,e=this.get("scrollbarX");e!==t&&(this._disposeProperty("scrollbarX"),t&&t.dispose(),e&&(e.parent||this.topAxesContainer.children.push(e),this._pushPropertyDisposer("scrollbarX",e.events.on("rangechanged",(t=>{this._handleScrollbar(this.xAxes,t.start,t.end,t.grip)}))),e.setPrivate("positionTextFunction",(t=>{const e=this.xAxes.getIndex(0);return e&&e.getTooltipText(t)||""}))),this._prevSettings.scrollbarX=e)}if(this.isDirty("scrollbarY")){const t=this._prevSettings.scrollbarY,e=this.get("scrollbarY");e!==t&&(this._disposeProperty("scrollbarY"),t&&t.dispose(),e&&(e.parent||this.rightAxesContainer.children.push(e),this._pushPropertyDisposer("scrollbarY",e.events.on("rangechanged",(t=>{this._handleScrollbar(this.yAxes,t.start,t.end,t.grip)}))),e.setPrivate("positionTextFunction",(t=>{const e=this.yAxes.getIndex(0);return e&&e.getTooltipText(t)||""}))),this._prevSettings.scrollbarY=e)}this._handleZoomOut()}_processSeries(t){super._processSeries(t);const e=t.get("xAxis"),i=t.get("yAxis");H(e.series,t),H(i.series,t),t._posXDp=t.addDisposer(e.events.on("positionchanged",(()=>{t._fixPosition()}))),t._posXDp=t.addDisposer(i.events.on("positionchanged",(()=>{t._fixPosition()}))),t.get("baseAxis")||(i.isType("CategoryAxis")||i.isType("DateAxis")?t.set("baseAxis",i):t.set("baseAxis",e)),t.get("stacked")&&(t._markDirtyKey("stacked"),F(t.dataItems,(t=>{t.set("stackToItemY",void 0),t.set("stackToItemX",void 0)}))),t._markDirtyAxes(),i.markDirtyExtremes(),e.markDirtyExtremes(),this._colorize(t)}_colorize(t){const e=this.get("colors");if(e&&null==t.get("fill")){const i=e.next();t._setSoft("stroke",i),t._setSoft("fill",i)}}_handleCursorSelectEnd(){const t=this.get("cursor"),e=t.get("behavior"),i=t.getPrivate("downPositionX",0),s=t.getPrivate("downPositionY",0),n=t.getPrivate("positionX",.5),r=t.getPrivate("positionY",.5);this.xAxes.each((t=>{if("zoomX"===e||"zoomXY"===e){let e=t.toAxisPosition(i),s=t.toAxisPosition(n);t.zoom(e,s)}t.setPrivate("updateScrollbar",!0)})),this.yAxes.each((t=>{if("zoomY"===e||"zoomXY"===e){let e=t.toAxisPosition(s),i=t.toAxisPosition(r);t.zoom(e,i)}t.setPrivate("updateScrollbar",!0)}))}_handleScrollbar(t,e,i,s){t.each((t=>{let n=t.fixPosition(e),r=t.fixPosition(i),a=t.zoom(n,r,void 0,s);const o="updateScrollbar";t.setPrivateRaw(o,!1),a?a.events.on("stopped",(()=>{t.setPrivateRaw(o,!0)})):t.setPrivateRaw(o,!0)}))}_processAxis(t,e){return t.events.onAll((t=>{if("clear"===t.type)F(t.oldValues,(t=>{this._removeAxis(t)}));else if("push"===t.type)e.children.push(t.newValue),t.newValue.processChart(this);else if("setIndex"===t.type)e.children.setIndex(t.index,t.newValue),t.newValue.processChart(this);else if("insertIndex"===t.type)e.children.insertIndex(t.index,t.newValue),t.newValue.processChart(this);else if("removeIndex"===t.type)this._removeAxis(t.oldValue);else{if("moveIndex"!==t.type)throw new Error("Unknown IListEvent type");e.children.moveValue(t.value,t.newIndex),t.value.processChart(this)}}))}_removeAxis(t){if(!t.isDisposed()){const e=t.parent;e&&e.children.removeValue(t);const i=t.gridContainer,s=i.parent;s&&s.children.removeValue(i);const n=t.topGridContainer,r=n.parent;r&&r.children.removeValue(n)}}_updateChartLayout(){const t=this.leftAxesContainer.width(),e=this.rightAxesContainer.width(),i=this.bottomAxesContainer;i.set("paddingLeft",t),i.set("paddingRight",e);const s=this.topAxesContainer;s.set("paddingLeft",t),s.set("paddingRight",e)}processAxis(t){}_handleAxisSelection(t,e){let i=t.fixPosition(t.get("start",0)),s=t.fixPosition(t.get("end",1));if(i>s&&([i,s]=[s,i]),-1!=this.xAxes.indexOf(t)){if(e||t.getPrivate("updateScrollbar")){let t=this.get("scrollbarX");!t||t.getPrivate("isBusy")&&!e||(t.setRaw("start",i),t.setRaw("end",s),t.updateGrips())}}else if(-1!=this.yAxes.indexOf(t)&&(e||t.getPrivate("updateScrollbar"))){let t=this.get("scrollbarY");!t||t.getPrivate("isBusy")&&!e||(t.setRaw("start",i),t.setRaw("end",s),t.updateGrips())}this._handleZoomOut()}_handleZoomOut(){let t=this.zoomOutButton;if(t&&t.parent){let e=!1;this.xAxes.each((t=>{0==t.get("start")&&1==t.get("end")||(e=!0)})),this.yAxes.each((t=>{0==t.get("start")&&1==t.get("end")||(e=!0)})),e?t.isHidden()&&t.show():t.hide()}}inPlot(t){const e=this.plotContainer,i=this.getPrivate("otherCharts",this._otherCharts),s=e.toGlobal(t);if(t.x>=-.5&&t.y>=-.5&&t.x<=e.width()+.5&&t.y<=e.height()+.5)return!0;if(i)for(let n=i.length-1;n>=0;n--){const t=i[n];if(t!=this){const e=t.plotContainer,i=this._root.rootPointToDocument(s),n=t._root.documentPointToRoot(i),r=e.toLocal(n);if(r.x>=-.1&&r.y>=-.1&&r.x<=e.width()+.1&&r.y<=e.height()+.1)return!0}}return!1}arrangeTooltips(){const t=this.plotContainer,e=t.width(),i=t.height(),s=this.height();let n=t._display.toGlobal({x:0,y:0}),r=t._display.toGlobal({x:e,y:i});const a=[];let o,l,h=0,u=1/0,p=this._movePoint,c=this.get("maxTooltipDistance"),d=this.get("maxTooltipDistanceBy","xy");ct(c)&&this.series.each((t=>{if(!t.isHidden()){const e=t.get("tooltip");if(e){let i=e.get("pointTo");if(i){let e=Math.hypot(p.x-i.x,p.y-i.y);"x"==d?e=Math.abs(p.x-i.x):"y"==d&&(e=Math.abs(p.y-i.y)),e<u&&(u=e,o=t,l=i)}}}}));const g=[];if(this.series.each((t=>{const e=t.get("tooltip");if(e){let i=!1,s=e.get("pointTo");if(s){if(c>=0){let s=e.get("pointTo");if(s&&t!=o){let t=Math.hypot(l.x-s.x,l.y-s.y);"x"==d?t=Math.abs(l.x-s.x):"y"==d&&(t=Math.abs(l.y-s.y)),t>c&&(i=!0)}}else-1==c&&t!=o&&(i=!0);this.inPlot(this._tooltipToLocal(s))&&e.dataItem?i||(h+=s.y):i=!0,i||t.isHidden()||t.isHiding()?e.hide(0):(e.show(),a.push(e),g.push(t))}}})),this.setPrivate("tooltipSeries",g),this.get("arrangeTooltips")){const t=this._root.tooltipContainer,e=a.length,o=h/e;if(o>i/2+n.y){a.sort(((t,e)=>Qe(e.get("pointTo").y,t.get("pointTo").y)));let e=r.y;if(F(a,(i=>{let s=i.height(),a=i.get("centerY");a instanceof wt&&(s*=a.value),s+=i.get("marginBottom",0),i.set("bounds",{left:n.x,top:n.y,right:r.x,bottom:e}),i.setPrivate("customData",{left:n.x,top:n.y,right:r.x,bottom:e}),e=Math.min(e-s,i._fy-s),i.parent==t&&t.children.moveValue(i,0)})),e<0){a.reverse();let t=e;F(a,(i=>{let s=i.get("bounds");if(s){let n=s.top-e,r=s.bottom-e;n<t&&(n=t,r=n+i.height()),i.set("bounds",{left:s.left,top:n,right:s.right,bottom:r}),t=s.bottom-e+i.get("marginBottom",0)}}))}}else{a.reverse(),a.sort(((t,e)=>Qe(t.get("pointTo").y,e.get("pointTo").y)));let e=0;if(F(a,(i=>{let a=i.height(),o=i.get("centerY");o instanceof wt&&(a*=o.value),a+=i.get("marginBottom",0),i.set("bounds",{left:n.x,top:e,right:r.x,bottom:Math.max(n.y+s,e+a)}),i.parent==t&&t.children.moveValue(i,0),e=Math.max(e+a,i._fy+a)})),e>s){a.reverse();let t=s;F(a,(i=>{let n=i.get("bounds");if(n){let r=n.top-(s-e),a=n.bottom-(s-e);a>t&&(a=t,r=a-i.height()),i.set("bounds",{left:n.left,top:r,right:n.right,bottom:a}),t=a-i.height()-i.get("marginBottom",0)}}))}}}}_tooltipToLocal(t){return this.plotContainer.toLocal(t)}zoomOut(){this.xAxes.each((t=>{t.setPrivate("updateScrollbar",!0),t.zoom(0,1)})),this.yAxes.each((t=>{t.setPrivate("updateScrollbar",!0),t.zoom(0,1)}))}}Object.defineProperty(Pn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYChart"}),Object.defineProperty(Pn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:xn.classNames.concat([Pn.className])});class On extends un{constructor(){super(...arguments),Object.defineProperty(this,"_series",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_isPanning",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Bi["new"](this._root,{}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:Bi["new"](this._root,{width:Ot,height:Ot})}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:Bi["new"](this._root,{width:Ot,height:Ot})}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Bi["new"](this._root,{isMeasured:!1,width:Ot,height:Ot,position:"absolute"}))}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rangesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_panStart",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_panEnd",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_sAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_eAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_skipSync",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new bt}),Object.defineProperty(this,"_seriesAxisRanges",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"ghostLabel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cursorPosition",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"_snapToSeries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_seriesValuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"axisHeader",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Bi["new"](this._root,{themeTags:["axis","header"],position:"absolute",background:Si["new"](this._root,{themeTags:["header","background"],fill:this._root.interfaceColors.get("background")})}))}),Object.defineProperty(this,"_bullets",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_dispose(){this.gridContainer.dispose(),this.topGridContainer.dispose(),this.bulletsContainer.dispose(),this.labelsContainer.dispose(),this.axisHeader.dispose(),super._dispose()}_afterNew(){super._afterNew(),this.setPrivate("updateScrollbar",!0),this._disposers.push(this.axisRanges.events.onAll((t=>{if("clear"===t.type)F(t.oldValues,(t=>{this.disposeDataItem(t)}));else if("push"===t.type)this._processAxisRange(t.newValue,["range"]);else if("setIndex"===t.type)this._processAxisRange(t.newValue,["range"]);else if("insertIndex"===t.type)this._processAxisRange(t.newValue,["range"]);else if("removeIndex"===t.type)this.disposeDataItem(t.oldValue);else{if("moveIndex"!==t.type)throw new Error("Unknown IStreamEvent type");this._processAxisRange(t.value,["range"])}})));const t=this.get("renderer");t&&(t.axis=this,t.processAxis()),this.children.push(t),this.ghostLabel=t.makeLabel(new hn(this,void 0,{}),[]),this.ghostLabel.adapters.disable("text"),this.ghostLabel.setAll({opacity:0,tooltipText:void 0,tooltipHTML:void 0,interactive:!1}),this.ghostLabel.events.disable()}_updateFinals(t,e){}zoom(t,e,i,s){if(this._updateFinals(t,e),this.get("start")!==t||this.get("end")!=e){let n=this._sAnimation,r=this._eAnimation,a=this.get("maxDeviation",.5)*Math.min(1,e-t);t<-a&&(t=-a),e>1+a&&(e=1+a),t>e&&([t,e]=[e,t]),ct(i)||(i=this.get("interpolationDuration",0)),s||(s="end");let o=this.getPrivate("maxZoomFactor",this.get("maxZoomFactor",100)),l=o;1===e&&0!==t&&(s=t<this.get("start")?"start":"end"),0===t&&1!==e&&(s=e>this.get("end")?"end":"start");let h=this.get("minZoomCount"),u=this.get("maxZoomCount");ct(h)&&(o=l/h);let p=1;if(ct(u)&&(p=l/u),"start"===s?(u>0&&1/(e-t)<p&&(e=t+1/p),1/(e-t)>o&&(e=t+1/o),e>1&&e-t<1/o&&(t=e-1/o)):(u>0&&1/(e-t)<p&&(t=e-1/p),1/(e-t)>o&&(t=e-1/o),t<0&&e-t<1/o&&(e=t+1/o)),1/(e-t)>o&&(e=t+1/o),1/(e-t)>o&&(t=e-1/o),null!=u&&null!=h&&t==this.get("start")&&e==this.get("end")){const t=this.chart;t&&t._handleAxisSelection(this,!0)}if((n&&n.playing&&n.to==t||this.get("start")==t)&&(r&&r.playing&&r.to==e||this.get("end")==e))return;if(i>0){let s,n,r=this.get("interpolationEasing");if(this.get("start")!=t&&(s=this.animate({key:"start",to:t,duration:i,easing:r})),this.get("end")!=e&&(n=this.animate({key:"end",to:e,duration:i,easing:r})),this._sAnimation=s,this._eAnimation=n,s)return s;if(n)return n}else this.set("start",t),this.set("end",e),this._root.events.once("frameended",(()=>{this._markDirtyKey("start"),this._root._markDirty()}))}else this._sAnimation&&this._sAnimation.stop(),this._eAnimation&&this._eAnimation.stop()}get series(){return this._series}_processAxisRange(t,e){t.setRaw("isRange",!0),this._createAssets(t,e),this._rangesDirty=!0,this._prepareDataItem(t);const i=t.get("above"),s=this.topGridContainer,n=t.get("grid");i&&n&&s.children.moveValue(n);const r=t.get("axisFill");i&&r&&s.children.moveValue(r)}_prepareDataItem(t,e){}markDirtyExtremes(){}markDirtySelectionExtremes(){}_calculateTotals(){}_updateAxisRanges(){this._bullets={},this.axisRanges.each((t=>{this._prepareDataItem(t)})),F(this._seriesAxisRanges,(t=>{this._prepareDataItem(t)}))}_prepareChildren(){if(super._prepareChildren(),this.get("fixAxisSize")?this.ghostLabel.set("visible",!0):this.ghostLabel.set("visible",!1),this.isDirty("start")||this.isDirty("end")){this.chart._updateCursor();let t=this.get("start",0),e=this.get("end",1),i=this.get("maxDeviation",.5)*Math.min(1,e-t);if(t<-i){let s=t+i;t=-i,this.setRaw("start",t),this.isDirty("end")&&this.setRaw("end",e-s)}if(e>1+i){let s=e-1-i;e=1+i,this.setRaw("end",e),this.isDirty("start")&&this.setRaw("start",t-s)}}const t=this.get("renderer");if(t._start=this.get("start"),t._end=this.get("end"),t._inversed=t.get("inversed",!1),t._axisLength=t.axisLength()/(t._end-t._start),t._updateLC(),this.isDirty("tooltip")){const e=this.get("tooltip");if(e){const i=t.get("themeTags");e.addTag("axis"),e.addTag(this.className.toLowerCase()),e._applyThemes(),i&&(e.set("themeTags",Pe(e.get("themeTags"),i)),e.label._applyThemes())}}}_updateTooltipBounds(){const t=this.get("tooltip");t&&this.get("renderer").updateTooltipBounds(t)}_updateBounds(){super._updateBounds(),this._updateTooltipBounds()}processChart(t){this.chart=t;const e=this.get("renderer");e.chart=t,t.gridContainer.children.push(this.gridContainer),t.topGridContainer.children.push(this.topGridContainer),t.axisHeadersContainer.children.push(this.axisHeader),this.on("start",(()=>{t._handleAxisSelection(this)})),this.on("end",(()=>{t._handleAxisSelection(this)})),t.plotContainer.onPrivate("width",(()=>{this.markDirtySize()})),t.plotContainer.onPrivate("height",(()=>{this.markDirtySize()})),t.processAxis(this)}hideDataItem(t){return this._toggleDataItem(t,!1),super.hideDataItem(t)}showDataItem(t){return this._toggleDataItem(t,!0),super.showDataItem(t)}_toggleDataItem(t,e){const i=t.get("label");i&&i.setPrivate("visible",e);const s=t.get("grid");s&&s.setPrivate("visible",e);const n=t.get("tick");n&&n.setPrivate("visible",e);const r=t.get("axisFill");r&&r.setPrivate("visible",e);const a=t.get("bullet");if(a){const t=a.get("sprite");t&&t.setPrivate("visible",e)}}_createAssets(t,e){const i=this.get("renderer");t.get("label")||i.makeLabel(t,e),t.get("grid")||i.makeGrid(t,e),t.get("tick")||i.makeTick(t,e),t.get("axisFill")||i.makeAxisFill(t,e),this._processBullet(t)}_processBullet(t){let e=t.get("bullet"),i=this.get("bullet");if(e||!i||t.get("isRange")||(e=i(this._root,this,t)),e){e.axis=this;const i=e.get("sprite");i&&(i._setDataItem(t),t.setRaw("bullet",e),i.parent||this.bulletsContainer.children.push(i))}}_afterChanged(){super._afterChanged();const t=this.chart;t&&(t._updateChartLayout(),t.axisHeadersContainer.markDirtySize()),this.get("renderer")._updatePositions()}disposeDataItem(t){super.disposeDataItem(t);const e=this.get("renderer"),i=t.get("label");i&&(e.labels.removeValue(i),i.dispose());const s=t.get("tick");s&&(e.ticks.removeValue(s),s.dispose());const n=t.get("grid");n&&(e.grid.removeValue(n),n.dispose());const r=t.get("axisFill");r&&(e.axisFills.removeValue(r),r.dispose());const a=t.get("bullet");a&&a.dispose()}_updateGhost(){this.setPrivate("cellWidth",this.getCellWidthPosition()*this.get("renderer").axisLength());const t=this.ghostLabel;if(!t.isHidden()){const e=t.localBounds(),i=e.right-e.left;let s=t.get("text");F(this.dataItems,(t=>{const e=t.get("label");if(e&&!e.isHidden()){const t=e.localBounds(),n=t.right-t.left;n>i&&(s=e.text._getText())}})),t.set("text",s)}let e=this.get("start",0),i=this.get("end",1);this.get("renderer").updateLabel(t,e+.5*(i-e))}_handleCursorPosition(t,e){const i=this.get("renderer");t=i.toAxisPosition(t),this._cursorPosition=t,this._snapToSeries=e,this.updateTooltip()}updateTooltip(){const t=this._snapToSeries;let e=this._cursorPosition;const i=this.get("tooltip"),s=this.get("renderer");ct(e)&&(F(this.series,(i=>{if(i.get("baseAxis")===this){const s=this.getSeriesItem(i,e,this.get("tooltipLocation"));i.setRaw("tooltipDataItem",s),t&&-1!=t.indexOf(i)?(i.updateLegendMarker(s),i.updateLegendValue(s)):i.showDataItemTooltip(s)}})),i&&(s.updateTooltipBounds(i),this.get("snapTooltip")&&(e=this.roundAxisPosition(e,this.get("tooltipLocation",.5))),nt(e)?i.hide(0):(this.setPrivateRaw("tooltipPosition",e),this._updateTooltipText(i,e),s.positionTooltip(i,e),e<this.get("start")||e>this.get("end")?i.hide(0):i.show(0))))}_updateTooltipText(t,e){t.label.set("text",this.getTooltipText(e))}roundAxisPosition(t,e){return t}handleCursorShow(){let t=this.get("tooltip");t&&t.show()}handleCursorHide(){let t=this.get("tooltip");t&&t.hide()}processSeriesDataItem(t,e){}_clearDirty(){super._clearDirty(),this._sizeDirty=!1,this._rangesDirty=!1}coordinateToPosition(t){const e=this.get("renderer");return e.toAxisPosition(t/e.axisLength())}toAxisPosition(t){return this.get("renderer").toAxisPosition(t)}fixPosition(t){return this.get("renderer").fixPosition(t)}shouldGap(t,e,i,s){return!1}createAxisRange(t){return this.axisRanges.push(t)}_groupSeriesData(t){}getCellWidthPosition(){return.05}}Object.defineProperty(On,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Axis"}),Object.defineProperty(On,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:un.classNames.concat([On.className])});class kn extends On{constructor(){super(...arguments),Object.defineProperty(this,"_dirtyExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirtySelectionExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_deltaMinMax",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_minReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_maxReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_baseValue",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_syncDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_minLogAdjusted",{enumerable:!0,configurable:!0,writable:!0,value:1})}markDirtyExtremes(){this._dirtyExtremes=!0,this.markDirty()}markDirtySelectionExtremes(){this._dirtySelectionExtremes=!0,this.markDirty()}_afterNew(){this._settings.themeTags=Pe(this._settings.themeTags,["axis"]),this.setPrivateRaw("name","value"),this.addTag("value"),super._afterNew()}_prepareChildren(){if(super._prepareChildren(),this.isDirty("syncWithAxis")){let t=this._prevSettings.syncWithAxis;t&&this._syncDp&&this._syncDp.dispose();let e=this.get("syncWithAxis");e&&(this._syncDp=new it([e.onPrivate("selectionMinFinal",(()=>{this._dirtySelectionExtremes=!0})),e.onPrivate("selectionMaxFinal",(()=>{this._dirtySelectionExtremes=!0}))]))}(this._sizeDirty||this._dirtyExtremes||this._valuesDirty||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("min")||this.isDirty("max")||this.isDirty("extraMin")||this.isDirty("extraMax")||this.isDirty("logarithmic")||this.isDirty("treatZeroAs")||this.isDirty("baseValue")||this.isDirty("strictMinMax")||this.isDirty("strictMinMaxSelection")||this.isDirty("maxPrecision")||this.isDirty("numberFormat"))&&(this._getMinMax(),this.ghostLabel.set("text",""),this._dirtyExtremes=!1),this._dirtySelectionExtremes&&!this._isPanning&&this.get("autoZoom",!0)&&(this._getSelectionMinMax(),this._dirtySelectionExtremes=!1),this._groupData(),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("min")||this.isPrivateDirty("selectionMax")||this.isPrivateDirty("selectionMin")||this.isPrivateDirty("max")||this.isPrivateDirty("step")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("logarithmic"))&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges()),this._baseValue=this.baseValue()}_groupData(){}_formatText(t){const e=this.get("numberFormat"),i=this.getNumberFormatter();let s="";return s=e?i.format(t,e):i.format(t,void 0,this.getPrivate("stepDecimalPlaces")),s}_prepareAxisItems(){const t=this.getPrivate("min"),e=this.getPrivate("max");if(ct(t)&&ct(e)){const e=this.get("logarithmic"),i=this.getPrivate("step"),s=this.getPrivate("selectionMin"),n=this.getPrivate("selectionMax")+i;let r=s-i,a=0,o=1,l=t;if(e){if(r=this._minLogAdjusted,r<s)while(r<s)r+=i;l=r,l<=0&&(l=1,i<1&&(l=i)),o=Math.log(n-i)*Math.LOG10E-Math.log(l)*Math.LOG10E,o>2&&(r=Math.pow(10,Math.log(l)*Math.LOG10E-5))}let h=-1/0;while(r<n){let t;this.dataItems.length<a+1?(t=new hn(this,void 0,{}),this._dataItems.push(t),this.processDataItem(t)):t=this.dataItems[a],this._createAssets(t,[]),t.isHidden()&&t.show(),t.setRaw("value",r);const s=t.get("label");if(s&&s.set("text",this._formatText(r)),this._prepareDataItem(t),e&&o>2?r=Math.pow(10,Math.log(l)*Math.LOG10E+a-5):r+=i,h==r)break;let n=Math.pow(10,Math.floor(Math.log(Math.abs(i))*Math.LOG10E));if(n<1){let t=Math.round(Math.abs(Math.log(Math.abs(n))*Math.LOG10E))+2;r=ci(r,t)}a++,h=r}for(let t=a;t<this.dataItems.length;t++)this.dataItems[t].hide();F(this.series,(t=>{t.inited&&t._markDirtyAxes()})),this._updateGhost()}}_prepareDataItem(t,e){let i=this.get("renderer"),s=t.get("value"),n=t.get("endValue"),r=this.valueToPosition(s),a=r,o=this.valueToPosition(s+this.getPrivate("step"));ct(n)&&(a=this.valueToPosition(n),o=a),t.get("isRange")&&null==n&&(o=r),i.updateLabel(t.get("label"),r,a,e);const l=t.get("grid");if(i.updateGrid(l,r,a),l&&(s==this.get("baseValue",0)?(l.addTag("base"),l._applyThemes()):l.hasTag("base")&&(l.removeTag("base"),l._applyThemes())),i.updateTick(t.get("tick"),r,a,e),i.updateFill(t.get("axisFill"),r,o),this._processBullet(t),i.updateBullet(t.get("bullet"),r,a),!t.get("isRange")){const e=this.get("fillRule");e&&e(t)}}_handleRangeChange(){let t=this.positionToValue(this.get("start",0)),e=this.positionToValue(this.get("end",1));const i=this.get("renderer").gridCount();let s=this._adjustMinMax(t,e,i,!0),n=$t(s.step);this.setPrivateRaw("stepDecimalPlaces",n),t=ci(t,n),e=ci(e,n),s=this._adjustMinMax(t,e,i,!0);let r=s.step;t=s.min,e=s.max,this.getPrivate("selectionMin")===t&&this.getPrivate("selectionMax")===e&&this.getPrivate("step")===r||(this.setPrivateRaw("selectionMin",t),this.setPrivateRaw("selectionMax",e),this.setPrivateRaw("step",r))}positionToValue(t){const e=this.getPrivate("min"),i=this.getPrivate("max");return this.get("logarithmic")?Math.pow(Math.E,(t*(Math.log(i)*Math.LOG10E-Math.log(e)*Math.LOG10E)+Math.log(e)*Math.LOG10E)/Math.LOG10E):t*(i-e)+e}valueToPosition(t){const e=this.getPrivate("min"),i=this.getPrivate("max");if(this.get("logarithmic")){if(t<=0){let e=this.get("treatZeroAs");ct(e)&&(t=e)}return(Math.log(t)*Math.LOG10E-Math.log(e)*Math.LOG10E)/(Math.log(i)*Math.LOG10E-Math.log(e)*Math.LOG10E)}return(t-e)/(i-e)}valueToFinalPosition(t){const e=this.getPrivate("minFinal"),i=this.getPrivate("maxFinal");if(this.get("logarithmic")){if(t<=0){let e=this.get("treatZeroAs");ct(e)&&(t=e)}return(Math.log(t)*Math.LOG10E-Math.log(e)*Math.LOG10E)/(Math.log(i)*Math.LOG10E-Math.log(e)*Math.LOG10E)}return(t-e)/(i-e)}getX(t,e,i){t=i+(t-i)*e;const s=this.valueToPosition(t);return this._settings.renderer.positionToCoordinate(s)}getY(t,e,i){t=i+(t-i)*e;const s=this.valueToPosition(t);return this._settings.renderer.positionToCoordinate(s)}getDataItemCoordinateX(t,e,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(t,e,i,s))}getDataItemPositionX(t,e,i,s){let n=t.get(e);const r=t.get("stackToItemX");if(r){const i=t.component;n=n*s+i.getStackedXValueWorking(t,e)}else n=this._baseValue+(n-this._baseValue)*s;return this.valueToPosition(n)}getDataItemCoordinateY(t,e,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(t,e,i,s))}getDataItemPositionY(t,e,i,s){let n=t.get(e);const r=t.get("stackToItemY");if(r){const i=t.component;n=n*s+i.getStackedYValueWorking(t,e)}else n=this._baseValue+(n-this._baseValue)*s;return this.valueToPosition(n)}basePosition(){return this.valueToPosition(this.baseValue())}baseValue(){const t=Math.min(this.getPrivate("minFinal",-1/0),this.getPrivate("selectionMin",-1/0)),e=Math.max(this.getPrivate("maxFinal",1/0),this.getPrivate("selectionMax",1/0));let i=this.get("baseValue",0);return i<t&&(i=t),i>e&&(i=e),i}cellEndValue(t){return t}fixSmallStep(t){return 1+t===1?(t*=2,this.fixSmallStep(t)):t}_fixMin(t){return t}_fixMax(t){return t}_calculateTotals(){if(this.get("calculateTotals")){let t=this.series[0];if(t){let e=t.startIndex();if(t.dataItems.length>0){e>0&&e--;let i,s,n=t.endIndex();n<t.dataItems.length&&n++,t.get("yAxis")==this?(i="valueY",s="vcy"):t.get("xAxis")==this&&(i="valueX",s="vcx");let r=i+"Working";if(i)for(let t=e;t<n;t++){let e=0,n=0;F(this.series,(i=>{if(!i.get("excludeFromTotal")){let a=i.dataItems[t];if(a){let t=a.get(r)*i.get(s);nt(t)||(e+=t,n+=Math.abs(t))}}})),F(this.series,(a=>{if(!a.get("excludeFromTotal")){let o=a.dataItems[t];if(o){let t=o.get(r)*a.get(s);nt(t)||(o.set(i+"Total",n),o.set(i+"Sum",e),o.set(i+"TotalPercent",t/n*100))}}}))}}}}}_getSelectionMinMax(){const t=this.getPrivate("minFinal"),e=this.getPrivate("maxFinal"),i=this.get("min"),s=this.get("max");let n=this.get("extraMin",0),r=this.get("extraMax",0);this.get("logarithmic")&&(null==this.get("extraMin")&&(n=.1),null==this.get("extraMax")&&(r=.2));const a=this.get("renderer").gridCount(),o=this.get("strictMinMaxSelection"),l=this.get("strictMinMax");if(ct(t)&&ct(e)){let h=e,u=t;if(F(this.series,(t=>{if(!t.get("ignoreMinMax")){let e,i;const s=t.getPrivate("outOfSelection");t.get("xAxis")===this?s||(e=t.getPrivate("selectionMinX",t.getPrivate("minX")),i=t.getPrivate("selectionMaxX",t.getPrivate("maxX"))):t.get("yAxis")===this&&(s||(e=t.getPrivate("selectionMinY",t.getPrivate("minY")),i=t.getPrivate("selectionMaxY",t.getPrivate("maxY")))),t.isHidden()||t.isShowing()||(ct(e)&&(h=Math.min(h,e)),ct(i)&&(u=Math.max(u,i)))}})),this.axisRanges.each((t=>{if(t.get("affectsMinMax")){let e=t.get("value");null!=e&&(h=Math.min(h,e),u=Math.max(u,e)),e=t.get("endValue"),null!=e&&(h=Math.min(h,e),u=Math.max(u,e))}})),h>u&&([h,u]=[u,h]),ct(i)?h=l?i:t:l&&ct(this._minReal)&&(h=this._minReal),ct(s)?u=l?s:e:l&&ct(this._maxReal)&&(u=this._maxReal),h===u){h-=this._deltaMinMax,u+=this._deltaMinMax;let t=this._adjustMinMax(h,u,a,l);h=t.min,u=t.max}let p=h,c=u;h-=(u-h)*n,u+=(u-h)*r;let d=this._adjustMinMax(h,u,a);h=d.min,u=d.max,h=gi(h,t,e),u=gi(u,t,e),d=this._adjustMinMax(h,u,a,!0),l||(h=d.min,u=d.max);const g=this.get("syncWithAxis");g&&(d=this._syncAxes(h,u,d.step,g.getPrivate("selectionMinFinal",g.getPrivate("minFinal",0)),g.getPrivate("selectionMaxFinal",g.getPrivate("maxFinal",1)),g.getPrivate("selectionStepFinal",g.getPrivate("step",1))),h=d.min,u=d.max),l&&(ct(i)&&(h=Math.max(h,i)),ct(s)&&(u=Math.min(u,s))),o&&(h=p-(u-h)*n,u=c+(u-h)*r),this.get("logarithmic")&&(h<=0&&(h=p*(1-Math.min(n,.99))),h<t&&(h=t),u>e&&(u=e));let f=Math.min(20,Math.ceil(Math.log(this.getPrivate("maxZoomFactor",100)+1)/Math.LN10)+2),m=ci(this.valueToFinalPosition(h),f),y=ci(this.valueToFinalPosition(u),f);this.setPrivateRaw("selectionMinFinal",h),this.setPrivateRaw("selectionMaxFinal",u),this.setPrivateRaw("selectionStepFinal",d.step),this.zoom(m,y)}}_getMinMax(){let t=this.get("min"),e=this.get("max"),i=1/0,s=-1/0,n=this.get("extraMin",0),r=this.get("extraMax",0);this.get("logarithmic")&&(null==this.get("extraMin")&&(n=.1),null==this.get("extraMax")&&(r=.2));let a=1/0;if(F(this.series,(t=>{if(!t.get("ignoreMinMax")){let e,n;if(t.get("xAxis")===this?(e=t.getPrivate("minX"),n=t.getPrivate("maxX")):t.get("yAxis")===this&&(e=t.getPrivate("minY"),n=t.getPrivate("maxY")),ct(e)&&ct(n)){i=Math.min(i,e),s=Math.max(s,n);let t=n-e;t<=0&&(t=Math.abs(n/100)),t<a&&(a=t)}}})),this.axisRanges.each((t=>{if(t.get("affectsMinMax")){let e=t.get("value");null!=e&&(i=Math.min(i,e),s=Math.max(s,e)),e=t.get("endValue"),null!=e&&(i=Math.min(i,e),s=Math.max(s,e))}})),this.get("logarithmic")){let t=this.get("treatZeroAs");ct(t)&&i<=0&&(i=t),i<=0&&new Error("Logarithmic value axis can not have values <= 0.")}if(0===i&&0===s&&(s=.9,i=-.9),ct(t)&&(i=t),ct(e)&&(s=e),i===1/0||s===-1/0)return this.setPrivate("minFinal",void 0),void this.setPrivate("maxFinal",void 0);const o=i,l=s;let h=this.adapters.fold("min",i),u=this.adapters.fold("max",s);ct(h)&&(i=h),ct(u)&&(s=u),i=this._fixMin(i),s=this._fixMax(s),s-i<=1/Math.pow(10,15)&&(s-i!==0?this._deltaMinMax=(s-i)/2:this._getDelta(s),i-=this._deltaMinMax,s+=this._deltaMinMax),i-=(s-i)*n,s+=(s-i)*r,this.get("logarithmic")&&(i<0&&o>=0&&(i=0),s>0&&l<=0&&(s=0)),this._minReal=i,this._maxReal=s;let p=this.get("strictMinMax"),c=this.get("strictMinMaxSelection",!1);c&&(p=c);let d=p;ct(e)&&(d=!0);let g=this.get("renderer").gridCount(),f=this._adjustMinMax(i,s,g,d);i=f.min,s=f.max,f=this._adjustMinMax(i,s,g,!0),i=f.min,s=f.max,p&&(i=ct(t)?t:this._minReal,s=ct(e)?e:this._maxReal,s-i<=1e-8&&(i-=this._deltaMinMax,s+=this._deltaMinMax),i-=(s-i)*n,s+=(s-i)*r),h=this.adapters.fold("min",i),u=this.adapters.fold("max",s),ct(h)&&(i=h),ct(u)&&(s=u),a==1/0&&(a=s-i);let m=Math.round(Math.abs(Math.log(Math.abs(s-i))*Math.LOG10E))+5;i=ci(i,m),s=ci(s,m);const y=this.get("syncWithAxis");if(y&&(f=this._syncAxes(i,s,f.step,y.getPrivate("minFinal",y.getPrivate("min",0)),y.getPrivate("maxFinal",y.getPrivate("max",1)),y.getPrivate("step",1)),i=f.min,s=f.max),this.setPrivateRaw("maxZoomFactor",Math.max(1,Math.ceil((s-i)/a*this.get("maxZoomFactor",100)))),this._fixZoomFactor(),this.get("logarithmic")&&(this._minLogAdjusted=i,i=this._minReal,s=this._maxReal,i<=0&&(i=o*(1-Math.min(n,.99)))),ct(i)&&ct(s)&&(this.getPrivate("minFinal")!==i||this.getPrivate("maxFinal")!==s)){this.setPrivate("minFinal",i),this.setPrivate("maxFinal",s),this._saveMinMax(i,s);const t=this.get("interpolationDuration",0),e=this.get("interpolationEasing");this.animatePrivate({key:"min",to:i,duration:t,easing:e}),this.animatePrivate({key:"max",to:s,duration:t,easing:e})}}_fixZoomFactor(){}_getDelta(t){let e=Math.log(Math.abs(t))*Math.LOG10E,i=Math.pow(10,Math.floor(e));i/=10,this._deltaMinMax=i}_saveMinMax(t,e){}_adjustMinMax(t,e,i,s){i<=1&&(i=1),i=Math.round(i);let n=t,r=e,a=e-t;0===a&&(a=Math.abs(e));let o=Math.log(Math.abs(a))*Math.LOG10E,l=Math.pow(10,Math.floor(o));l/=10;let h=l;s&&(h=0),s?(t=Math.floor(t/l)*l,e=Math.ceil(e/l)*l):(t=Math.ceil(t/l)*l-h,e=Math.floor(e/l)*l+h),t<0&&n>=0&&(t=0),e>0&&r<=0&&(e=0),o=Math.log(Math.abs(a))*Math.LOG10E,l=Math.pow(10,Math.floor(o)),l/=100;let u=Math.ceil(a/i/l)*l,p=Math.pow(10,Math.floor(Math.log(Math.abs(u))*Math.LOG10E)),c=Math.ceil(u/p);c>5?c=10:c<=5&&c>2&&(c=5),u=Math.ceil(u/(p*c))*p*c;let d=this.get("maxPrecision");if(ct(d)){let t=di(u,d);d<Number.MAX_VALUE&&u!==t&&(u=t)}let g=0;p<1&&(g=Math.round(Math.abs(Math.log(Math.abs(p))*Math.LOG10E))+1,u=ci(u,g));let f,m=Math.floor(t/u);return t=ci(u*m,g),f=s?Math.floor(e/u):Math.ceil(e/u),f===m&&f++,e=ci(u*f,g),e<r&&(e+=u),t>n&&(t-=u),u=this.fixSmallStep(u),{min:t,max:e,step:u}}getTooltipText(t){const e=this.get("tooltipNumberFormat",this.get("numberFormat")),i=this.getNumberFormatter(),s=this.get("extraTooltipPrecision",0),n=this.getPrivate("stepDecimalPlaces",0)+s,r=ci(this.positionToValue(t),n);return e?i.format(r,e):i.format(r,void 0,n)}getSeriesItem(t,e){let i,s,n=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),r=this.positionToValue(e);if(F(t.dataItems,((t,e)=>{const a=Math.abs(t.get(n)-r);(void 0===i||a<s)&&(i=e,s=a)})),null!=i)return t.dataItems[i]}zoomToValues(t,e,i){const s=this.getPrivate("minFinal",0),n=this.getPrivate("maxFinal",0);null!=this.getPrivate("min")&&null!=this.getPrivate("max")&&this.zoom((t-s)/(n-s),(e-s)/(n-s),i)}_syncAxes(t,e,i,s,n,r){let a=this.get("syncWithAxis");if(a){let a=Math.round(n-s)/r,o=Math.round((e-t)/i),l=this.get("renderer").gridCount();if(ct(a)&&ct(o)){let s=!1,n=0,r=.01*(e-t),o=t,h=e,u=i;while(1!=s)if(s=this._checkSync(o,h,u,a),n++,n>500&&(s=!0),s)t=o,e=h,i=u;else{n/3==Math.round(n/3)?(o=t-r*n,t>=0&&o<0&&(o=0)):(h=e+r*n,h<=0&&h>0&&(h=0));let i=this._adjustMinMax(o,h,l,!0);o=i.min,h=i.max,u=i.step}}}return{min:t,max:e,step:i}}_checkSync(t,e,i,s){let n=(e-t)/i;for(let r=1;r<s;r++)if(ci(n/r,1)==s||n*r==s)return!0;return!1}getCellWidthPosition(){let t=this.getPrivate("selectionMax",this.getPrivate("max")),e=this.getPrivate("selectionMin",this.getPrivate("min"));return ct(t)&&ct(e)?this.getPrivate("step",1)/(t-e):.05}}function Dn(t,e){for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s.length>0){let e=s[0];if(e.length>0){let i=e[0];t.moveTo(i.x,i.y);for(let e=0,n=s.length;e<n;e++)Tn(t,s[e])}}}}function Tn(t,e){for(let i=0,s=e.length;i<s;i++){const s=e[i];t.lineTo(s.x,s.y)}}Object.defineProperty(kn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ValueAxis"}),Object.defineProperty(kn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:On.classNames.concat([kn.className])});class Sn extends Ti{_beforeChanged(){super._beforeChanged(),(this.isDirty("points")||this.isDirty("segments")||this._sizeDirty||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const t=this.get("points"),e=this.get("segments");if(t&&t.length>0){let e=t[0];this._display.moveTo(e.x,e.y),Dn(this._display,[[t]])}else if(e)Dn(this._display,e);else if(!this.get("draw")){let t=this.width(),e=this.height();this._display.moveTo(0,0),this._display.lineTo(t,e)}}}}Object.defineProperty(Sn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Line"}),Object.defineProperty(Sn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ti.classNames.concat([Sn.className])});class Cn extends Sn{}Object.defineProperty(Cn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tick"}),Object.defineProperty(Cn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Sn.classNames.concat([Cn.className])});class Mn extends Cn{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}Object.defineProperty(Mn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisTick"}),Object.defineProperty(Mn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Cn.classNames.concat([Mn.className])});class In extends Ti{_beforeChanged(){super._beforeChanged(),(this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}}Object.defineProperty(In,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Grid"}),Object.defineProperty(In,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ti.classNames.concat([In.className])});class jn extends Ui{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}Object.defineProperty(jn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisLabel"}),Object.defineProperty(jn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ui.classNames.concat([jn.className])});class En extends Ti{constructor(){super(...arguments),Object.defineProperty(this,"_axisLength",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(this,"_start",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_end",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_inversed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_minSize",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lc",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_ls",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_thumbDownPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ticks",{enumerable:!0,configurable:!0,writable:!0,value:new _t(li["new"]({}),(()=>Mn._new(this._root,{themeTags:Pe(this.ticks.template.get("themeTags",[]),this.get("themeTags",[]))},[this.ticks.template])))}),Object.defineProperty(this,"grid",{enumerable:!0,configurable:!0,writable:!0,value:new _t(li["new"]({}),(()=>In._new(this._root,{themeTags:Pe(this.grid.template.get("themeTags",[]),this.get("themeTags",[]))},[this.grid.template])))}),Object.defineProperty(this,"axisFills",{enumerable:!0,configurable:!0,writable:!0,value:new _t(li["new"]({}),(()=>Ti._new(this._root,{themeTags:Pe(this.axisFills.template.get("themeTags",["axis","fill"]),this.get("themeTags",[]))},[this.axisFills.template])))}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:new _t(li["new"]({}),(()=>jn._new(this._root,{themeTags:Pe(this.labels.template.get("themeTags",[]),this.get("themeTags",[]))},[this.labels.template])))}),Object.defineProperty(this,"axis",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}makeTick(t,e){const i=this.ticks.make();return i._setDataItem(t),t.setRaw("tick",i),i.set("themeTags",Pe(i.get("themeTags"),e)),this.axis.labelsContainer.children.push(i),this.ticks.push(i),i}makeGrid(t,e){const i=this.grid.make();return i._setDataItem(t),t.setRaw("grid",i),i.set("themeTags",Pe(i.get("themeTags"),e)),this.axis.gridContainer.children.push(i),this.grid.push(i),i}makeAxisFill(t,e){const i=this.axisFills.make();return i._setDataItem(t),i.set("themeTags",Pe(i.get("themeTags"),e)),this.axis.gridContainer.children.push(i),t.setRaw("axisFill",i),this.axisFills.push(i),i}makeLabel(t,e){const i=this.labels.make();return i.set("themeTags",Pe(i.get("themeTags"),e)),this.axis.labelsContainer.children.moveValue(i,0),i._setDataItem(t),t.setRaw("label",i),this.labels.push(i),i}axisLength(){return 0}gridCount(){return this.axisLength()/this.get("minGridDistance",50)}_updatePositions(){}_afterNew(){super._afterNew(),this.set("isMeasured",!1);const t=this.thumb;t&&(this._disposers.push(t.events.on("pointerdown",(t=>{this._handleThumbDown(t.originalEvent)}))),this._disposers.push(t.events.on("globalpointerup",(t=>{this._handleThumbUp(t.originalEvent)}))),this._disposers.push(t.events.on("globalpointermove",(t=>{this._handleThumbMove(t.originalEvent)}))))}_changed(){if(super._changed(),this.isDirty("pan")){const t=this.thumb;if(t){const e=this.axis.labelsContainer,i=this.get("pan");"zoom"==i?e.children.push(t):"none"==i&&e.children.removeValue(t)}}}_handleThumbDown(t){this._thumbDownPoint=this.toLocal(this._root.documentPointToRoot({x:t.clientX,y:t.clientY}));const e=this.axis;this._downStart=e.get("start"),this._downEnd=e.get("end")}_handleThumbUp(t){this._thumbDownPoint=void 0}_handleThumbMove(t){const e=this._thumbDownPoint;if(e){const i=this.toLocal(this._root.documentPointToRoot({x:t.clientX,y:t.clientY})),s=this._downStart,n=this._downEnd,r=this._getPan(i,e)*Math.min(1,n-s)/2;this.axis.setAll({start:s-r,end:n+r})}}_getPan(t,e){return 0}positionToCoordinate(t){return this._inversed?(this._end-t)*this._axisLength:(t-this._start)*this._axisLength}updateTooltipBounds(t){}_updateSize(){this.markDirty(),this._clear=!0}toAxisPosition(t){const e=this._start||0,i=this._end||1;return t*=i-e,t=this.get("inversed")?i-t:e+t,t}fixPosition(t){return this.get("inversed")?1-t:t}_updateLC(){}toggleVisibility(t,e,i,s){let n=this.axis;const r=n.get("start",0),a=n.get("end",1);let o=r+(a-r)*(i-1e-4),l=r+(a-r)*(s+1e-4);e<o||e>l?t.setPrivate("visible",!1):t.setPrivate("visible",!0)}_positionTooltip(t,e){const i=this.chart;i&&(i.inPlot(e)?t.set("pointTo",this._display.toGlobal(e)):t.hide())}processAxis(){}}Object.defineProperty(En,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRenderer"}),Object.defineProperty(En,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ti.classNames.concat([En.className])});class Ln extends En{constructor(){super(...arguments),Object.defineProperty(this,"_downY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:Si["new"](this._root,{height:Ot,isMeasured:!1,themeTags:["axis","y","thumb"]})})}_afterNew(){this._settings.themeTags=Pe(this._settings.themeTags,["renderer","y"]),this._settings.opposite&&this._settings.themeTags.push("opposite"),super._afterNew(),this.setPrivateRaw("letter","Y");const t=this.grid.template;t.set("width",Ot),t.set("height",0),t.set("draw",((t,e)=>{t.moveTo(0,0),t.lineTo(e.width(),0)})),this.set("draw",((t,e)=>{t.moveTo(0,0),t.lineTo(0,e.height())}))}_getPan(t,e){return(t.y-e.y)/this.height()}_changed(){super._changed();const t=this.axis;t.ghostLabel.setPrivate("visible",!this.get("inside")),t.ghostLabel.set("y",-1e3);const e=this.thumb,i="opposite",s="inside",n=this.chart;if(this.isDirty(i)||this.isDirty(s)){const e=t.children;if(this.get(s)?t.addTag(s):t.removeTag(s),n){if(this.get(i)){const s=n.rightAxesContainer.children;-1==s.indexOf(t)&&s.moveValue(t,0),t.addTag(i),e.moveValue(this,0)}else{const s=n.leftAxesContainer.children;-1==s.indexOf(t)&&s.moveValue(t),t.removeTag(i),e.moveValue(this)}t.ghostLabel._applyThemes(),this.labels.each((t=>{t._applyThemes()})),this.root._markDirtyRedraw()}t.markDirtySize()}const r=t.labelsContainer.width();n&&(this.get(i)?e.set("centerX",0):e.set("centerX",r)),e.setPrivate("width",r)}processAxis(){super.processAxis();const t=this.axis;null==t.get("height")&&t.set("height",Ot);const e=this._root.horizontalLayout;t.set("layout",e),t.labelsContainer.set("height",Ot),t.axisHeader.set("layout",e)}_updatePositions(){const t=this.axis,e=t.y()-qt(t.get("centerY",0),t.height());t.gridContainer.set("y",e),t.topGridContainer.set("y",e),t.bulletsContainer.set("x",this.x());const i=t.chart;if(i){const e=i.plotContainer,s=t.axisHeader;let n=t.get("marginTop",0);s.children.length>0?(n=t.axisHeader.height(),t.set("marginTop",n+1)):s.set("height",n),s.setAll({y:t.y()-n,x:-1,width:e.width()+2})}}axisLength(){return this.axis.innerHeight()}positionToPoint(t){return{x:0,y:this.positionToCoordinate(t)}}updateLabel(t,e,i,s){if(t){ct(e)||(e=0);let n=.5;n=ct(s)&&s>1?t.get("multiLocation",n):t.get("location",n);const r=this.get("opposite"),a=t.get("inside",this.get("inside",!1));r?(t.set("x",0),a?t.set("position","absolute"):t.set("position","relative")):a?(t.set("x",0),t.set("position","absolute")):(t.set("x",void 0),t.set("position","relative")),ct(i)&&i!=e&&(e+=(i-e)*n),t.set("y",this.positionToCoordinate(e)),this.toggleVisibility(t,e,t.get("minPosition",0),t.get("maxPosition",1))}}updateGrid(t,e,i){if(t){ct(e)||(e=0);let s=t.get("location",.5);ct(i)&&i!=e&&(e+=(i-e)*s),t.set("y",this.positionToCoordinate(e)),this.toggleVisibility(t,e,0,1)}}updateTick(t,e,i,s){if(t){ct(e)||(e=0);let n=.5;n=ct(s)&&s>1?t.get("multiLocation",n):t.get("location",n),ct(i)&&i!=e&&(e+=(i-e)*n),t.set("y",this.positionToCoordinate(e));let r=t.get("length",0);const a=t.get("inside",this.get("inside",!1));this.get("opposite")?(t.set("x",0),a&&(r*=-1)):a||(r*=-1),t.set("draw",(t=>{t.moveTo(0,0),t.lineTo(r,0)})),this.toggleVisibility(t,e,t.get("minPosition",0),t.get("maxPosition",1))}}updateBullet(t,e,i){if(t){const s=t.get("sprite");if(s){ct(e)||(e=0);let n=t.get("location",.5);ct(i)&&i!=e&&(e+=(i-e)*n);let r=this.axis.roundAxisPosition(e,n),a=this.axis._bullets[r],o=1;if(this.get("opposite")&&(o=-1),t.get("stacked"))if(a){let t=a.get("sprite");t&&s.set("x",t.x()+t.width()*o)}else s.set("x",0);this.axis._bullets[r]=t,s.set("y",this.positionToCoordinate(e)),this.toggleVisibility(s,e,0,1)}}}updateFill(t,e,i){if(t){ct(e)||(e=0),ct(i)||(i=1);let s=this.positionToCoordinate(e),n=this.positionToCoordinate(i);this.fillDrawMethod(t,s,n)}}fillDrawMethod(t,e,i){t.set("draw",(t=>{const s=this.axis.gridContainer.width(),n=this.height();i<e&&([i,e]=[e,i]),e>n||i<0||(t.moveTo(0,e),t.lineTo(s,e),t.lineTo(s,i),t.lineTo(0,i),t.lineTo(0,e))}))}positionToCoordinate(t){return this._inversed?(t-this._start)*this._axisLength:(this._end-t)*this._axisLength}positionTooltip(t,e){this._positionTooltip(t,{x:0,y:this.positionToCoordinate(e)})}updateTooltipBounds(t){const e=this.get("inside"),i=1e5;let s=this._display.toGlobal({x:0,y:0}),n=s.y,r=0,a=this.axisLength(),o=i,l="right";this.get("opposite")?e?(l="right",r=s.x-i,o=i):(l="left",r=s.x,o=i):e?(l="left",r=s.x,o=i):(l="right",r=s.x-i,o=i);const h={left:r,right:r+o,top:n,bottom:n+a},u=t.get("bounds");Oe(h,u)||(t.set("bounds",h),t.set("pointerOrientation",l))}_updateLC(){const t=this.axis,e=t.parent;if(e){const i=e.innerHeight();this._lc=this.axisLength()/i,this._ls=t.y()/i}}toAxisPosition(t){const e=this._start||0,i=this._end||1;return t-=this._ls,t=t*(i-e)/this._lc,t=this.get("inversed")?e+t:i-t,t}fixPosition(t){return this.get("inversed")?t:1-t}}Object.defineProperty(Ln,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererY"}),Object.defineProperty(Ln,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:En.classNames.concat([Ln.className])});class An extends On{constructor(){super(...arguments),Object.defineProperty(this,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_itemMap",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=Pe(this._settings.themeTags,["axis"]),this.fields.push("category"),this.setPrivateRaw("name","category"),this.addTag("category"),super._afterNew()}_prepareChildren(){super._prepareChildren();const t=this.dataItems.length;let e=0;this._valuesDirty&&(this._itemMap={},F(this.dataItems,(t=>{t.setRaw("index",e),this._itemMap[t.get("category")]=t,e++})),this.setPrivateRaw("maxZoomFactor",t)),this.setPrivateRaw("startIndex",Math.max(Math.round(this.get("start",0)*t),0)),this.setPrivateRaw("endIndex",Math.min(Math.round(this.get("end",1)*t),t)),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("endIndex")||this.isPrivateDirty("startIndex")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&this.dataItems.length>0&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges())}_handleRangeChange(){F(this.series,(t=>{let e=this.dataItems[this.startIndex()].get("category"),i=this.dataItems[this.endIndex()-1].get("category"),s=t.get("baseAxis"),n=t.get("xAxis"),r=t.get("yAxis");if(n instanceof An&&r instanceof An)t._markDirtyAxes();else if(s===this){let a,o,l=r;if(n===s?(t.get("categoryXField")&&(a="categoryX"),t.get("openCategoryXField")&&(o="openCategoryX")):r===s&&(t.get("categoryYField")&&(a="categoryY"),t.get("openCategoryYField")&&(o="openCategoryY"),l=n),"ValueAxis"==l.className&&(a||o)){let s,n;for(let i=0,u=t.dataItems.length;i<u;i++){let n=t.dataItems[i];if(a&&n.get(a)===e){s=n;break}if(o&&n.get(o)===e){s=n;break}}for(let e=t.dataItems.length-1;e>=0;e--){let s=t.dataItems[e];if(a&&s.get(a)===i){n=s;break}if(o&&s.get(o)===i){n=s;break}}let r=0,l=t.dataItems.length;s&&(r=t.dataItems.indexOf(s)),n&&(l=t.dataItems.indexOf(n)+1),t.setPrivate("startIndex",r),t.setPrivate("endIndex",l);let h=!1;for(let e=r;e<l;e++){const i=t.dataItems[e];if(F(t.__valueXShowFields,(t=>{let e=i.get(t);null!=e&&(h=!0)})),F(t.__valueYShowFields,(t=>{let e=i.get(t);null!=e&&(h=!0)})),h)break}t.setPrivate("outOfSelection",!h)}t._markDirtyAxes()}}))}_prepareAxisItems(){const t=this.get("renderer"),e=this.dataItems.length;let i=this.startIndex();i>0&&i--;let s=this.endIndex();s<e&&s++;let n=t.axisLength()/Math.max(t.get("minGridDistance"),1/Number.MAX_SAFE_INTEGER),r=Math.max(1,Math.min(e,Math.ceil((s-i)/n)));i=Math.floor(i/r)*r,this._frequency=r;for(let o=0;o<e;o++)this.dataItems[o].hide();let a=this.dataItems[i].get("index",0);for(let o=i;o<s;o+=r){let t=this.dataItems[o];this._createAssets(t,[]),t.isHidden()&&t.show(),this._prepareDataItem(t,a,r),a++}this._updateGhost()}_prepareDataItem(t,e,i){let s=this.get("renderer"),n=t.get("categoryLocation",0),r=t.get("endCategoryLocation",1),a=t.get("index");ct(a)||(a=this.categoryToIndex(t.get("category")));let o,l=this.indexToPosition(a,n),h=t.get("endCategory");h?(o=this.categoryToIndex(h),ct(o)||(o=a)):o=a;let u,p,c=this.indexToPosition(o,r);u=t.get("isRange")?o:a+this._frequency-1,p=this.indexToPosition(u,r),s.updateLabel(t.get("label"),l,c,i),s.updateGrid(t.get("grid"),l,c),s.updateTick(t.get("tick"),l,c,i),s.updateFill(t.get("axisFill"),l,p),this._processBullet(t),s.updateBullet(t.get("bullet"),l,c);const d=this.get("fillRule");d&&d(t,e)}startIndex(){let t=this.dataItems.length;return Math.min(Math.max(this.getPrivate("startIndex",0),0),t-1)}endIndex(){let t=this.dataItems.length;return Math.max(1,Math.min(this.getPrivate("endIndex",t),t))}baseValue(){}basePosition(){return 0}getX(t){let e=this._itemMap[t];return e?this._settings.renderer.positionToCoordinate(this.indexToPosition(e.get("index",0))):NaN}getY(t){let e=this._itemMap[t];return e?this._settings.renderer.positionToCoordinate(this.indexToPosition(e.get("index",0))):NaN}getDataItemPositionX(t,e,i,s){const n=t.get(e),r=this._itemMap[n];return r?this.indexToPosition(r.get("index",0),i):NaN}getDataItemCoordinateX(t,e,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(t,e,i,s))}getDataItemPositionY(t,e,i,s){const n=t.get(e),r=this._itemMap[n];return r?this.indexToPosition(r.get("index",0),i):NaN}getDataItemCoordinateY(t,e,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(t,e,i,s))}indexToPosition(t,e){ct(e)||(e=.5);let i=this.dataItems.length,s=this.get("startLocation",0),n=this.get("endLocation",1);i-=s,i-=1-n;let r=(t+e-s)/i,a=this.dataItems[t];return a&&(r+=a.get("deltaPosition",0)),r}categoryToIndex(t){let e=this._itemMap[t];return e?e.get("index"):NaN}dataItemToPosition(t){return this.indexToPosition(t.get("index"))}roundAxisPosition(t,e){return t+=(.5-e)/this.dataItems.length,this.indexToPosition(this.axisPositionToIndex(t),e)}axisPositionToIndex(t){let e=this.dataItems.length;return gi(Math.floor(t*e),0,e-1)}getTooltipText(t){const e=this.dataItems[this.axisPositionToIndex(t)];if(e){const t=e.get("label");if(t)return Ai(t,this.get("tooltipText",""))}}_updateTooltipText(t,e){t._setDataItem(this.dataItems[this.axisPositionToIndex(e)]),t.label.text.markDirtyText()}getSeriesItem(t,e){if(this.dataItems.length>0){let i=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),s=this.axisPositionToIndex(e),n=t.dataItems[s],r=this.dataItems[s],a=r.get("category");if(n&&r&&n.get(i)===a)return n;for(let e=0,o=t.dataItems.length;e<o;e++){let s=t.dataItems[e];if(s.get(i)===a)return s}}}zoomToIndexes(t,e,i){let s=this.dataItems.length;this.zoom(t/s,e/s,i)}zoomToCategories(t,e,i){this.zoomToIndexes(this.categoryToIndex(t),this.categoryToIndex(e)+1,i)}getCellWidthPosition(){return this._frequency/this.dataItems.length/(this.get("end",1)-this.get("start",0))}}Object.defineProperty(An,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CategoryAxis"}),Object.defineProperty(An,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:On.classNames.concat([An.className])});class Fn extends En{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:Si["new"](this._root,{width:Ot,isMeasured:!1,themeTags:["axis","x","thumb"]})})}_afterNew(){this._settings.themeTags=Pe(this._settings.themeTags,["renderer","x"]),super._afterNew(),this.setPrivateRaw("letter","X");const t=this.grid.template;t.set("height",Ot),t.set("width",0),t.set("draw",((t,e)=>{t.moveTo(0,0),t.lineTo(0,e.height())})),this.set("draw",((t,e)=>{t.moveTo(0,0),t.lineTo(e.width(),0)}))}_changed(){super._changed();const t=this.axis;t.ghostLabel.setPrivate("visible",!this.get("inside")),t.ghostLabel.set("x",-1e3);const e="opposite",i="inside";if(this.isDirty(e)||this.isDirty(i)){const s=this.chart,n=t.children;if(this.get(i)?t.addTag(i):t.removeTag(i),s){if(this.get(e)){const i=s.topAxesContainer.children;-1==i.indexOf(t)&&i.insertIndex(0,t),t.addTag(e),n.moveValue(this)}else{const i=s.bottomAxesContainer.children;-1==i.indexOf(t)&&i.moveValue(t),t.removeTag(e),n.moveValue(this,0)}t.ghostLabel._applyThemes(),this.labels.each((t=>{t._applyThemes()})),this.root._markDirtyRedraw()}t.markDirtySize()}this.thumb.setPrivate("height",t.labelsContainer.height())}_getPan(t,e){return(e.x-t.x)/this.width()}toAxisPosition(t){const e=this._start||0,i=this._end||1;return t-=this._ls,t=t*(i-e)/this._lc,t=this.get("inversed")?i-t:e+t,t}_updateLC(){const t=this.axis,e=t.parent;if(e){const i=e.innerWidth();this._lc=this.axisLength()/i,this._ls=(t.x()-e.get("paddingLeft",0))/i}}_updatePositions(){const t=this.axis,e=t.x()-qt(t.get("centerX",0),t.width())-t.parent.get("paddingLeft",0);t.gridContainer.set("x",e),t.topGridContainer.set("x",e),t.bulletsContainer.set("y",this.y());const i=t.chart;if(i){const e=i.plotContainer,s=t.axisHeader;let n=t.get("marginLeft",0),r=t.x()-n;const a=t.parent;a&&(r-=a.get("paddingLeft",0)),s.children.length>0?(n=t.axisHeader.width(),t.set("marginLeft",n+1)):s.set("width",n),s.setAll({x:r,y:-1,height:e.height()+2})}}processAxis(){super.processAxis();const t=this.axis;t.set("width",Ot);const e=this._root.verticalLayout;t.set("layout",e),t.labelsContainer.set("width",Ot),t.axisHeader.setAll({layout:e})}axisLength(){return this.axis.width()}positionToPoint(t){return{x:this.positionToCoordinate(t),y:0}}updateTick(t,e,i,s){if(t){ct(e)||(e=0);let n=.5;n=ct(s)&&s>1?t.get("multiLocation",n):t.get("location",n),ct(i)&&i!=e&&(e+=(i-e)*n),t.set("x",this.positionToCoordinate(e));let r=t.get("length",0);const a=t.get("inside",this.get("inside",!1));this.get("opposite")?(t.set("y",Ot),a||(r*=-1)):(t.set("y",0),a&&(r*=-1)),t.set("draw",(t=>{t.moveTo(0,0),t.lineTo(0,r)})),this.toggleVisibility(t,e,t.get("minPosition",0),t.get("maxPosition",1))}}updateLabel(t,e,i,s){if(t){let n=.5;n=ct(s)&&s>1?t.get("multiLocation",n):t.get("location",n),ct(e)||(e=0);const r=t.get("inside",this.get("inside",!1)),a=this.get("opposite");a?r?(t.set("position","absolute"),t.set("y",0)):(t.set("position","relative"),t.set("y",Ot)):r?(t.set("y",0),t.set("position","absolute")):(t.set("y",void 0),t.set("position","relative")),ct(i)&&i!=e&&(e+=(i-e)*n),t.set("x",this.positionToCoordinate(e)),this.toggleVisibility(t,e,t.get("minPosition",0),t.get("maxPosition",1))}}updateGrid(t,e,i){if(t){ct(e)||(e=0);let s=t.get("location",.5);ct(i)&&i!=e&&(e+=(i-e)*s),t.set("x",this.positionToCoordinate(e)),this.toggleVisibility(t,e,0,1)}}updateBullet(t,e,i){if(t){const s=t.get("sprite");if(s){ct(e)||(e=0);let n=t.get("location",.5);ct(i)&&i!=e&&(e+=(i-e)*n);let r=this.axis.roundAxisPosition(e,n),a=this.axis._bullets[r],o=-1;if(this.get("opposite")&&(o=1),t.get("stacked"))if(a){let t=a.get("sprite");t&&s.set("y",t.y()+t.height()*o)}else s.set("y",0);this.axis._bullets[r]=t,s.set("x",this.positionToCoordinate(e)),this.toggleVisibility(s,e,0,1)}}}updateFill(t,e,i){if(t){ct(e)||(e=0),ct(i)||(i=1);let s=this.positionToCoordinate(e),n=this.positionToCoordinate(i);this.fillDrawMethod(t,s,n)}}fillDrawMethod(t,e,i){t.set("draw",(t=>{const s=this.axis.gridContainer.height(),n=this.width();i<e&&([i,e]=[e,i]),e>n||i<0||(t.moveTo(e,0),t.lineTo(i,0),t.lineTo(i,s),t.lineTo(e,s),t.lineTo(e,0))}))}positionTooltip(t,e){this._positionTooltip(t,{x:this.positionToCoordinate(e),y:0})}updateTooltipBounds(t){const e=this.get("inside"),i=1e5;let s=this._display.toGlobal({x:0,y:0}),n=s.x,r=0,a=this.axisLength(),o=i,l="up";this.get("opposite")?e?(l="up",r=s.y,o=i):(l="down",r=s.y-i,o=i):e?(l="down",r=s.y-i,o=i):(l="up",r=s.y,o=i);const h={left:n,right:n+a,top:r,bottom:r+o},u=t.get("bounds");Oe(h,u)||(t.set("bounds",h),t.set("pointerOrientation",l))}}function Rn(t,e){return null==t?e:null==e?t:e<t?e:t}function Vn(t,e){return null==t?e:null==e?t:e>t?e:t}Object.defineProperty(Fn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererX"}),Object.defineProperty(Fn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:En.classNames.concat([Fn.className])});class Bn extends fn{constructor(){super(...arguments),Object.defineProperty(this,"_xField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_axesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_stackDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataSets",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_mainContainerMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"mainContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Bi["new"](this._root,{}))}),Object.defineProperty(this,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new bt}),Object.defineProperty(this,"_skipped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_couldStackTo",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_reallyStackedTo",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_stackedSeries",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_aLocationX0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_aLocationX1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_aLocationY0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_aLocationY1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_showBullets",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueX","openValueX","lowValueX","highValueX"]}),Object.defineProperty(this,"valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueY","openValueY","lowValueY","highValueY"]}),Object.defineProperty(this,"_valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_emptyDataItem",{enumerable:!0,configurable:!0,writable:!0,value:new hn(this,void 0,{})}),Object.defineProperty(this,"_dataSetId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipFieldX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipFieldY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_posXDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_posYDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this.fields.push("categoryX","categoryY","openCategoryX","openCategoryY"),this.valueFields.push("valueX","valueY","openValueX","openValueY","lowValueX","lowValueY","highValueX","highValueY"),this._setRawDefault("vcx",1),this._setRawDefault("vcy",1),this._setRawDefault("valueXShow","valueXWorking"),this._setRawDefault("valueYShow","valueYWorking"),this._setRawDefault("openValueXShow","openValueXWorking"),this._setRawDefault("openValueYShow","openValueYWorking"),this._setRawDefault("lowValueXShow","lowValueXWorking"),this._setRawDefault("lowValueYShow","lowValueYWorking"),this._setRawDefault("highValueXShow","highValueXWorking"),this._setRawDefault("highValueYShow","highValueYWorking"),this._setRawDefault("lowValueXGrouped","low"),this._setRawDefault("lowValueYGrouped","low"),this._setRawDefault("highValueXGrouped","high"),this._setRawDefault("highValueYGrouped","high"),super._afterNew(),this.set("maskContent",!0),this._disposers.push(this.axisRanges.events.onAll((t=>{if("clear"===t.type)F(t.oldValues,(t=>{this._removeAxisRange(t)}));else if("push"===t.type)this._processAxisRange(t.newValue);else if("setIndex"===t.type)this._processAxisRange(t.newValue);else if("insertIndex"===t.type)this._processAxisRange(t.newValue);else if("removeIndex"===t.type)this._removeAxisRange(t.oldValue);else{if("moveIndex"!==t.type)throw new Error("Unknown IStreamEvent type");this._processAxisRange(t.value)}}))),this.states.create("hidden",{opacity:1,visible:!1}),this._makeFieldNames()}_processAxisRange(t){const e=Bi["new"](this._root,{});t.container=e,this.children.push(e),t.series=this;const i=t.axisDataItem;i.setRaw("isRange",!0);const s=i.component;if(s){s._processAxisRange(i,["range","series"]);const t=i.get("bullet");if(t){const e=t.get("sprite");e&&e.setPrivate("visible",!1)}const n=i.get("axisFill");n&&e.set("mask",n),s._seriesAxisRanges.push(i)}}_removeAxisRange(t){const e=t.axisDataItem,i=e.component;i.disposeDataItem(e),B(i._seriesAxisRanges,e);const s=t.container;s&&s.dispose()}_updateFields(){super._updateFields(),this._valueXFields=[],this._valueYFields=[],this._valueXShowFields=[],this._valueYShowFields=[],this.__valueXShowFields=[],this.__valueYShowFields=[],this.valueXFields&&F(this.valueXFields,(t=>{const e=this.get(t+"Field");if(e){this._valueXFields.push(t);let e=this.get(t+"Show");this.__valueXShowFields.push(e),-1!=e.indexOf("Working")?this._valueXShowFields.push(e.split("Working")[0]):this._valueXShowFields.push(e)}})),this.valueYFields&&F(this.valueYFields,(t=>{const e=this.get(t+"Field");if(e){this._valueYFields.push(t);let e=this.get(t+"Show");this.__valueYShowFields.push(e),-1!=e.indexOf("Working")?this._valueYShowFields.push(e.split("Working")[0]):this._valueYShowFields.push(e)}}))}_dispose(){super._dispose();const t=this.chart;t&&t.series.removeValue(this),N(this.get("xAxis").series,this),N(this.get("yAxis").series,this)}_min(t,e){let i=Rn(this.getPrivate(t),e);this.setPrivate(t,i)}_max(t,e){let i=Vn(this.getPrivate(t),e);this.setPrivate(t,i)}_shouldMakeBullet(t){const e=this.get("xAxis"),i=this.get("yAxis"),s=this.get("baseAxis");if(!e.inited||!i.inited)return!1;const n=this.get("minBulletDistance",0);if(n>0){let t=this.startIndex(),r=this.endIndex(),a=r-t;if(e==s){if(e.get("renderer").axisLength()/a<n/5)return!1}else if(i==s&&i.get("renderer").axisLength()/a<n/5)return!1}return null!=t.get(this._xField)&&null!=t.get(this._yField)}_makeFieldNames(){const t=this.get("xAxis"),e=this.get("yAxis"),i=t.getPrivate("name"),s=ge(i),n=e.getPrivate("name"),r=ge(n),a=t.get("renderer").getPrivate("letter"),o=e.get("renderer").getPrivate("letter"),l="open",h="low",u="high",p="Show";"ValueAxis"===t.className?(this._xField=this.get(i+a+p),this._xOpenField=this.get(l+s+a+p),this._xLowField=this.get(h+s+a+p),this._xHighField=this.get(u+s+a+p)):(this._xField=i+a,this._xOpenField=l+s+a,this._xLowField=h+s+a,this._xHighField=u+s+a),"ValueAxis"===e.className?(this._yField=this.get(n+o+p),this._yOpenField=this.get(l+r+o+p),this._yLowField=this.get(h+r+o+p),this._yHighField=this.get(u+r+o+p)):(this._yField=n+o,this._yOpenField=l+r+o,this._yLowField=h+r+o,this._yHighField=u+r+o)}_fixVC(){const t=this.get("xAxis"),e=this.get("yAxis"),i=this.get("baseAxis"),s=this.states.lookup("hidden"),n=this.get("sequencedInterpolation");if(s){let r=0;n&&(r=.999999999999),t===i?s.set("vcy",r):(e===i||s.set("vcy",r),s.set("vcx",r))}}_handleMaskBullets(){this.isDirty("maskBullets")&&this.bulletsContainer.set("maskContent",this.get("maskBullets"))}_fixPosition(){const t=this.get("xAxis"),e=this.get("yAxis");this.set("x",t.x()-qt(t.get("centerX",0),t.width())-t.parent.get("paddingLeft",0)),this.set("y",e.y()-qt(e.get("centerY",0),e.height())-e.parent.get("paddingTop",0)),this.bulletsContainer.set("y",this.y()),this.bulletsContainer.set("x",this.x())}_prepareChildren(){super._prepareChildren(),(this.isDirty("valueYShow")||this.isDirty("valueXShow")||this.isDirty("openValueYShow")||this.isDirty("openValueXShow")||this.isDirty("lowValueYShow")||this.isDirty("lowValueXShow")||this.isDirty("highValueYShow")||this.isDirty("highValueXShow"))&&(this._updateFields(),this._makeFieldNames(),this._valuesDirty=!0),(this.isDirty("xAxis")||this.isDirty("yAxis"))&&(this._valuesDirty=!0),this.set("width",this.get("xAxis").width()),this.set("height",this.get("yAxis").height()),this._handleMaskBullets();const t=this.get("xAxis"),e=this.get("yAxis"),i=this.get("baseAxis"),s=this.get("tooltipPositionX");let n;switch(s){case"open":n=this._xOpenField;break;case"low":n=this._xLowField;break;case"high":n=this._xHighField;break;default:n=this._xField}this._tooltipFieldX=n;const r=this.get("tooltipPositionY");let a;switch(r){case"open":a=this._yOpenField;break;case"low":a=this._yLowField;break;case"high":a=this._yHighField;break;default:a=this._yField}this._tooltipFieldY=a,this.isDirty("baseAxis")&&this._fixVC(),this._fixPosition();const o=this.get("stacked");if(this.isDirty("stacked")&&(o?this._valuesDirty&&!this._dataProcessed||this._stack():this._unstack()),this._valuesDirty&&!this._dataProcessed&&(this._dataProcessed=!0,o&&this._stack(),F(this.dataItems,(i=>{F(this._valueXShowFields,(t=>{let e=i.get(t);null!=e&&(o&&(e+=this.getStackedXValue(i,t)),this._min("minX",e),this._max("maxX",e))})),F(this._valueYShowFields,(t=>{let e=i.get(t);null!=e&&(o&&(e+=this.getStackedYValue(i,t)),this._min("minY",e),this._max("maxY",e))})),t.processSeriesDataItem(i,this._valueXFields),e.processSeriesDataItem(i,this._valueYFields)})),t._seriesValuesDirty=!0,e._seriesValuesDirty=!0,this.get("ignoreMinMax")||((this.isPrivateDirty("minX")||this.isPrivateDirty("maxX"))&&t.markDirtyExtremes(),(this.isPrivateDirty("minY")||this.isPrivateDirty("maxY"))&&e.markDirtyExtremes()),this._markStakedDirtyStack(),this.get("tooltipDataItem")||this.updateLegendValue(void 0)),(this.isDirty("vcx")||this.isDirty("vcy"))&&this._markStakedDirtyStack(),this._dataGrouped||(t._groupSeriesData(this),e._groupSeriesData(this),this._dataGrouped=!0),this._valuesDirty||this.isPrivateDirty("startIndex")||this.isPrivateDirty("endIndex")||this.isDirty("vcx")||this.isDirty("vcy")||this._stackDirty){let s=this.startIndex(),n=this.endIndex(),r=this.get("minBulletDistance",0);if(r>0&&i&&(i.get("renderer").axisLength()/(n-s)>r?this._showBullets=!0:this._showBullets=!1),(this._psi!=s||this._pei!=n||this.isDirty("vcx")||this.isDirty("vcy")||this._stackDirty||this._valuesDirty)&&!this._selectionProcessed){this._selectionProcessed=!0;const r=this.get("vcx",1),a=this.get("vcy",1),o=this.get("stacked",!1),l=this.getPrivate("outOfSelection");if(i===t||!i)if(e._calculateTotals(),this.setPrivateRaw("selectionMinY",void 0),this.setPrivateRaw("selectionMaxY",void 0),l)e.markDirtySelectionExtremes();else for(let t=s;t<n;t++)this.processYSelectionDataItem(this.dataItems[t],a,o);if(i===e||!i)if(t._calculateTotals(),this.setPrivateRaw("selectionMinX",void 0),this.setPrivateRaw("selectionMaxX",void 0),l)e.markDirtySelectionExtremes();else for(let t=s;t<n;t++)this.processXSelectionDataItem(this.dataItems[t],r,o);if((i===t||!i)&&"valueYWorking"!==this.get("valueYShow")){const t=this.getPrivate("selectionMinY");null!=t&&(this.setPrivateRaw("minY",t),e.markDirtyExtremes());const i=this.getPrivate("selectionMaxY");null!=i&&(this.setPrivateRaw("maxY",i),e.markDirtyExtremes())}if((i===e||!i)&&"valueXWorking"!==this.get("valueXShow")){const i=this.getPrivate("selectionMinX");null!=i&&(this.setPrivateRaw("minX",i),e.markDirtyExtremes());const s=this.getPrivate("selectionMaxX");null!=s&&(this.setPrivateRaw("maxX",s),t.markDirtyExtremes())}(this.isPrivateDirty("selectionMinX")||this.isPrivateDirty("selectionMaxX"))&&t.markDirtySelectionExtremes(),(this.isPrivateDirty("selectionMinY")||this.isPrivateDirty("selectionMaxY"))&&e.markDirtySelectionExtremes()}}}_makeRangeMask(){if(this.axisRanges.length>0){let t=this._mainContainerMask;null==t&&(t=this.children.push(Ti["new"](this._root,{})),this._mainContainerMask=t,t.set("draw",((e,i)=>{const s=this.parent;if(s){const t=this._root.container.width(),n=this._root.container.height();e.moveTo(-t,-n),e.lineTo(-t,2*n),e.lineTo(2*t,2*n),e.lineTo(2*t,-n),e.lineTo(-t,-n),this.axisRanges.each((t=>{const n=t.axisDataItem.get("axisFill");if(s&&n){let t=n.get("draw");t&&t(e,i)}}))}this.mainContainer._display.mask=t._display}))),t.markDirty(),t._markDirtyKey("fill")}else this.mainContainer._display.mask=null}_updateChildren(){super._updateChildren(),this._x=this.x(),this._y=this.y(),this._makeRangeMask()}_stack(){const t=this.chart;if(t){const e=t.series.indexOf(this);if(this._couldStackTo=[],e>0){let i;for(let s=e-1;s>=0;s--)if(i=t.series.getIndex(s),i.get("xAxis")===this.get("xAxis")&&i.get("yAxis")===this.get("yAxis")&&i.className===this.className&&(this._couldStackTo.push(i),!i.get("stacked")))break}this._stackDataItems()}}_unstack(){je(this._reallyStackedTo,((t,e)=>{delete e._stackedSeries[this.uid]})),this._reallyStackedTo={},F(this.dataItems,(t=>{t.setRaw("stackToItemY",void 0),t.setRaw("stackToItemX",void 0)}))}_stackDataItems(){const t=this.get("baseAxis"),e=this.get("xAxis"),i=this.get("yAxis");let s,n;t===e?(s="valueY",n="stackToItemY"):t===i&&(s="valueX",n="stackToItemX");let r=this._couldStackTo.length,a=0;const o=this.get("stackToNegative");this._reallyStackedTo={},F(this.dataItems,(t=>{for(let e=0;e<r;e++){let i=this._couldStackTo[e],r=i.dataItems[a],l=t.get(s);if(r){let e=r.get(s);if(o){if(!ct(l))break;if(ct(e)){if(l>=0&&e>=0){t.setRaw(n,r),this._reallyStackedTo[i.uid]=i,i._stackedSeries[this.uid]=this;break}if(l<0&&e<0){t.setRaw(n,r),this._reallyStackedTo[i.uid]=i,i._stackedSeries[this.uid]=this;break}}}else if(ct(l)&&ct(e)){t.setRaw(n,r),this._reallyStackedTo[i.uid]=i,i._stackedSeries[this.uid]=this;break}}}a++}))}processXSelectionDataItem(t,e,i){F(this.__valueXShowFields,(s=>{let n=t.get(s);null!=n&&(i&&(n+=this.getStackedXValueWorking(t,s)),this._min("selectionMinX",n),this._max("selectionMaxX",n*e))}))}processYSelectionDataItem(t,e,i){F(this.__valueYShowFields,(s=>{let n=t.get(s);null!=n&&(i&&(n+=this.getStackedYValueWorking(t,s)),this._min("selectionMinY",n),this._max("selectionMaxY",n*e))}))}getStackedYValueWorking(t,e){const i=t.get("stackToItemY");if(i){const t=i.component;return i.get(e,0)*t.get("vcy",1)+this.getStackedYValueWorking(i,e)}return 0}getStackedXValueWorking(t,e){const i=t.get("stackToItemX");if(i){const t=i.component;return i.get(e,0)*t.get("vcx",1)+this.getStackedXValueWorking(i,e)}return 0}getStackedYValue(t,e){const i=t.get("stackToItemY");return i?i.get(e,0)+this.getStackedYValue(i,e):0}getStackedXValue(t,e){const i=t.get("stackToItemX");return i?i.get(e,0)+this.getStackedXValue(i,e):0}createLegendMarker(t){this.updateLegendMarker()}_markDirtyAxes(){this._axesDirty=!0,this.markDirty()}_markDataSetDirty(){this._afterDataChange(),this._valuesDirty=!0,this._dataProcessed=!1,this._aggregatesCalculated=!1,this.markDirty()}_clearDirty(){super._clearDirty(),this._axesDirty=!1,this._selectionProcessed=!1,this._stackDirty=!1,this._dataProcessed=!1}_positionBullet(t){let e=t.get("sprite");if(e){let i=e.dataItem,s=t.get("locationX",i.get("locationX",.5)),n=t.get("locationY",i.get("locationY",.5)),r=this.get("xAxis"),a=this.get("yAxis");const o=r.getDataItemPositionX(i,this._xField,s,this.get("vcx",1)),l=a.getDataItemPositionY(i,this._yField,n,this.get("vcy",1));let h=this.getPoint(o,l),u=i.get("left",h.x),p=i.get("right",h.x),c=i.get("top",h.y),d=i.get("bottom",h.y);if(this._shouldShowBullet(o,l)){t.getPrivate("hidden")?e.setPrivate("visible",!1):e.setPrivate("visible",!0);let i=p-u,r=d-c;e.isType("Label")&&(e.setPrivate("maxWidth",Math.abs(i)),e.setPrivate("maxHeight",Math.abs(r)));let a=u+i*s,o=d-r*n;e.set("x",a),e.set("y",o)}else e.setPrivate("visible",!1)}}_shouldShowBullet(t,e){return this._showBullets}setDataSet(t){if(this._dataSets[t]){this._handleDataSetChange(),this._dataItems=this._dataSets[t],this._markDataSetDirty(),this._dataSetId=t;const e="datasetchanged";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this,id:t})}}_handleDataSetChange(){this.bullets.length>0&&F(this._dataItems,(t=>{let e=t.bullets;e&&F(e,(t=>{if(t){let e=t.get("sprite");e&&e.setPrivate("visible",!1)}}))})),this._selectionProcessed=!1}show(t){const e=Object.create(null,{show:{get:()=>super.show}});return St(this,void 0,void 0,(function*(){this._fixVC();let i=[];i.push(e.show.call(this,t).then((()=>{this._isShowing=!1;let t=this.get("xAxis"),e=this.get("yAxis"),i=this.get("baseAxis");e!==i&&e.markDirtySelectionExtremes(),t!==i&&t.markDirtySelectionExtremes()}))),i.push(this.bulletsContainer.show(t)),i.push(this._sequencedShowHide(!0,t)),yield Promise.all(i)}))}hide(t){const e=Object.create(null,{hide:{get:()=>super.hide}});return St(this,void 0,void 0,(function*(){this._fixVC();let i=[];i.push(e.hide.call(this,t).then((()=>{this._isHiding=!1}))),i.push(this.bulletsContainer.hide(t)),i.push(this._sequencedShowHide(!1,t)),yield Promise.all(i)}))}showDataItem(t,e){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return St(this,void 0,void 0,(function*(){const s=[i.showDataItem.call(this,t,e)];ct(e)||(e=this.get("stateAnimationDuration",0));const n=this.get("stateAnimationEasing");F(this._valueFields,(i=>{s.push(t.animate({key:i+"Working",to:t.get(i),duration:e,easing:n}).waitForStop())})),yield Promise.all(s)}))}hideDataItem(t,e){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return St(this,void 0,void 0,(function*(){const s=[i.hideDataItem.call(this,t,e)],n=this.states.create("hidden",{});ct(e)||(e=n.get("stateAnimationDuration",this.get("stateAnimationDuration",0)));const r=n.get("stateAnimationEasing",this.get("stateAnimationEasing")),a=this.get("xAxis"),o=this.get("yAxis"),l=this.get("baseAxis"),h=this.get("stacked");if(l!==a&&l||F(this._valueYFields,(i=>{let n=o.getPrivate("min"),a=o.baseValue();ct(n)&&n>a&&(a=n),h&&(a=0);let l=t.get(i);null!=l&&s.push(t.animate({key:i+"Working",to:a,duration:e,easing:r}).waitForStop())})),l===o||!l){let i=a.getPrivate("min"),n=a.baseValue();ct(i)&&i>n&&(n=i),h&&(n=0),F(this._valueXFields,(i=>{let a=t.get(i);null!=a&&s.push(t.animate({key:i+"Working",to:n,duration:e,easing:r}).waitForStop())}))}yield Promise.all(s)}))}_markDirtyStack(){this._stackDirty=!0,this.markDirty(),this._markStakedDirtyStack()}_markStakedDirtyStack(){const t=this._stackedSeries;t&&je(t,((t,e)=>{e._stackDirty||e._markDirtyStack()}))}_afterChanged(){super._afterChanged(),this._skipped&&(this._markDirtyAxes(),this._skipped=!1)}showDataItemTooltip(t){this.updateLegendMarker(t),this.updateLegendValue(t);const e=this.get("tooltip");if(e)if(this.isHidden())this.hideTooltip();else if(e._setDataItem(t),t){let i=this.get("locationX",0),s=this.get("locationY",1),n=t.get("locationX",i),r=t.get("locationY",s);const a=this.get("xAxis"),o=this.get("yAxis"),l=this.get("vcx",1),h=this.get("vcy",1),u=a.getDataItemPositionX(t,this._tooltipFieldX,this._aLocationX0+(this._aLocationX1-this._aLocationX0)*n,l),p=o.getDataItemPositionY(t,this._tooltipFieldY,this._aLocationY0+(this._aLocationY1-this._aLocationY0)*r,h),c=this.getPoint(u,p);let d=!0;if(F(this._valueFields,(e=>{null==t.get(e)&&(d=!1)})),d){const i=this.chart;i&&i.inPlot(c)?(e.label.text.markDirtyText(),e.set("tooltipTarget",this._getTooltipTarget(t)),e.set("pointTo",this._display.toGlobal({x:c.x,y:c.y}))):e._setDataItem(void 0)}else e._setDataItem(void 0)}}hideTooltip(){const t=this.get("tooltip");return t&&t.set("tooltipTarget",this),super.hideTooltip()}_getTooltipTarget(t){if("bullet"==this.get("seriesTooltipTarget")){const e=t.bullets;if(e&&e.length>0){const t=e[0],i=t.get("sprite");if(i)return i}}return this}updateLegendValue(t){const e=this.get("legendDataItem");if(e){const i=e.get("label");if(i){let e="";t?(i._setDataItem(t),e=this.get("legendLabelText",i.get("text",this.get("name","")))):(i._setDataItem(this._emptyDataItem),e=this.get("legendRangeLabelText",this.get("legendLabelText",i.get("text",this.get("name",""))))),i.set("text",e)}const s=e.get("valueLabel");if(s){let e="";t?(s._setDataItem(t),e=this.get("legendValueText",s.get("text",""))):(s._setDataItem(this._emptyDataItem),e=this.get("legendRangeValueText",s.get("text",""))),s.set("text",e)}}}_getItemReaderLabel(){let t="X: {"+this._xField;return this.get("xAxis").isType("DateAxis")&&(t+=".formatDate()"),t+="}; Y: {"+this._yField,this.get("yAxis").isType("DateAxis")&&(t+=".formatDate()"),t+="}",t}getPoint(t,e){let i=this.get("xAxis").get("renderer").positionToCoordinate(t),s=this.get("yAxis").get("renderer").positionToCoordinate(e),n=999999999;return s<-n&&(s=-n),s>n&&(s=n),i<-n&&(i=-n),i>n&&(i=n),{x:i,y:s}}_shouldInclude(t){return!0}handleCursorHide(){this.hideTooltip(),this.updateLegendValue(void 0),this.updateLegendMarker(void 0)}_afterDataChange(){super._afterDataChange(),this.get("xAxis")._markDirtyKey("start"),this.get("yAxis")._markDirtyKey("start"),this.resetExtremes()}resetExtremes(){this.setPrivate("selectionMinX",void 0),this.setPrivate("selectionMaxX",void 0),this.setPrivate("selectionMinY",void 0),this.setPrivate("selectionMaxY",void 0),this.setPrivate("minX",void 0),this.setPrivate("minY",void 0),this.setPrivate("maxX",void 0),this.setPrivate("maxY",void 0)}createAxisRange(t){return this.axisRanges.push({axisDataItem:t})}get mainDataItems(){return this._mainDataItems}}Object.defineProperty(Bn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYSeries"}),Object.defineProperty(Bn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:fn.classNames.concat([Bn.className])});class Nn extends Bn{constructor(){super(...arguments),Object.defineProperty(this,"_ph",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_pw",{enumerable:!0,configurable:!0,writable:!0,value:0})}_makeGraphics(t,e){return this.makeColumn(e,t)}_makeFieldNames(){super._makeFieldNames();const t=this.get("xAxis"),e=this.get("yAxis"),i="CategoryAxis",s="ValueAxis";t.isType(i)&&(this.get("openCategoryXField")||(this._xOpenField=this._xField)),t.isType(s)&&(this.get("openValueXField")||(this._xOpenField=this._xField)),e.isType(i)&&(this.get("openCategoryYField")||(this._yOpenField=this._yField)),e.isType(s)&&(this.get("openValueYField")||(this._yOpenField=this._yField))}_prepareChildren(){super._prepareChildren();const t=this.get("xAxis"),e=this.get("yAxis"),i=this.dataItems.length,s=Math.max(0,this.startIndex()-2),n=Math.min(this.endIndex()+2,i-1);if(t.inited&&e.inited)for(let r=s;r<=n;r++){let t=this.dataItems[r];this._createGraphics(t)}}_updateChildren(){const t=this.chart;t&&(this._ph=t.plotContainer.height(),this._pw=t.plotContainer.width());const e=this.get("xAxis"),i=this.get("yAxis"),s=this.get("baseAxis"),n=this.columns.template;this.isDirty("fill")&&null==n.get("fill")&&n.set("fill",this.get("fill")),this.isDirty("stroke")&&null==n.get("stroke")&&n.set("stroke",this.get("stroke"));let r=0,a=0,o=0;F(s.series,(t=>{if(t instanceof Nn){const e=t.get("stacked");e&&0==o&&a++,!e&&t.get("clustered")&&a++}t===this&&(r=a-1),o++})),this.get("clustered")||(r=0,a=1),0===a&&(a=1,r=0);const l=e.get("renderer"),h=i.get("renderer"),u="cellStartLocation",p="cellEndLocation",c=l.get(u,0),d=l.get(p,1),g=h.get(u,0),f=h.get(p,1);if(this._aLocationX0=c+r/a*(d-c),this._aLocationX1=c+(r+1)/a*(d-c),this._aLocationY0=g+r/a*(f-g),this._aLocationY1=g+(r+1)/a*(f-g),e.inited&&i.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty){const t=this.dataItems.length;let e=Math.max(0,this.startIndex()-2),i=Math.min(this.endIndex()+2,t-1);for(let n=0;n<e;n++)this._toggleColumn(this.dataItems[n],!1);let s=this.dataItems[e];for(let n=e;n<=i;n++){let t=this.dataItems[n];if(null!=t.get("valueX")&&null!=t.get("valueY")){if(s=t,n>0&&e>0)for(let t=n-1;t>=0;t--){let e=this.dataItems[t];if(null!=e.get("valueX")&&null!=e.get("valueY")){s=e;break}}break}this._toggleColumn(t,!1)}for(let n=e;n<=i;n++){let t=this.dataItems[n];this._updateGraphics(t,s),null!=t.get("valueX")&&null!=t.get("valueY")&&(s=t)}for(let n=i+1;n<t;n++)this._toggleColumn(this.dataItems[n],!1)}}else this._skipped=!0;this.updateLegendMarker(this.get("tooltipDataItem")),super._updateChildren()}_createGraphics(t){let e=t.get("graphics");if(!e){e=this._makeGraphics(this.columns,t),t.set("graphics",e),e._setDataItem(t);const i=t.get("legendDataItem");if(i){const t=i.get("markerRectangle");t&&t.setAll({fill:e.get("fill"),stroke:e.get("stroke")})}this.axisRanges.each((e=>{const i=e.container,s=t.get("rangeGraphics",[]);t.set("rangeGraphics",s);const n=this._makeGraphics(e.columns,t);s.push(n),n.setPrivate("list",e.columns),i.children.push(n)}))}}_updateGraphics(t,e){let i=t.get("graphics");const s=this._xField,n=this._yField,r=t.get(s),a=t.get(n);if(null!=r&&null!=a){const r=this._xOpenField,a=this._yOpenField,o=this.get("locationX",t.get("locationX",.5)),l=this.get("locationY",t.get("locationY",.5)),h=this.get("openLocationX",t.get("openLocationX",o)),u=this.get("openLocationY",t.get("openLocationY",l)),p=i.get("width"),c=i.get("height"),d=this.get("stacked"),g=this.get("xAxis"),f=this.get("yAxis"),m=this.get("baseAxis"),y=g.get("start"),b=g.get("end"),v=f.get("start"),_=f.get("end");let x,w,P,O,k=this.get("vcy",1),D=this.get("vcx",1),T=!1,S=!1;if(f.isType("CategoryAxis")&&g.isType("CategoryAxis")){let e=this._aLocationX0+h-.5,i=this._aLocationX1+o-.5;if(p instanceof wt){let t=(i-e)*(1-p.value)/2;e+=t,i-=t}if(x=g.getDataItemPositionX(t,r,e,D),w=g.getDataItemPositionX(t,s,i,D),e=this._aLocationY0+u-.5,i=this._aLocationY1+l-.5,c instanceof wt){let t=(i-e)*(1-c.value)/2;e+=t,i-=t}P=f.getDataItemPositionY(t,a,e,k),O=f.getDataItemPositionY(t,n,i,k),t.setRaw("point",{x:x+(w-x)/2,y:P+(O-P)/2})}else if(g===m){let e=this._aLocationX0+h-.5,i=this._aLocationX1+o-.5;if(p instanceof wt){let t=(i-e)*(1-p.value)/2;e+=t,i-=t}if(x=g.getDataItemPositionX(t,r,e,D),w=g.getDataItemPositionX(t,s,i,D),P=f.getDataItemPositionY(t,n,l,k),this._yOpenField!==this._yField)O=f.getDataItemPositionY(t,a,u,k);else if(d){let e=t.get("stackToItemY");O=e?f.getDataItemPositionY(e,n,u,e.component.get("vcy")):f.basePosition()}else O=f.basePosition();t.setRaw("point",{x:x+(w-x)/2,y:P}),S=!0}else if(f===m){let e=this._aLocationY0+u-.5,i=this._aLocationY1+l-.5;if(c instanceof wt){let t=(i-e)*(1-c.value)/2;e+=t,i-=t}if(P=f.getDataItemPositionY(t,a,e,k),O=f.getDataItemPositionY(t,n,i,k),w=g.getDataItemPositionX(t,s,o,D),this._xOpenField!==this._xField)x=g.getDataItemPositionX(t,r,h,D);else if(d){let e=t.get("stackToItemX");x=e?g.getDataItemPositionX(e,s,h,e.component.get("vcx")):g.basePosition()}else x=g.basePosition();T=!0,t.setRaw("point",{x:w,y:P+(O-P)/2})}this._updateSeriesGraphics(t,i,x,w,P,O,T,S),x<y&&w<y||x>b&&w>b||P<v&&O<=v||P>=_&&O>_||nt(x)||nt(P)?this._toggleColumn(t,!1):this._toggleColumn(t,!0);let C=t.get("rangeGraphics");C&&F(C,(e=>{this._updateSeriesGraphics(t,e,x,w,P,O,T,S)})),this._applyGraphicsStates(t,e)}}_updateSeriesGraphics(t,e,i,s,n,r,a,o){const l=e.get("width"),h=e.get("height"),u=e.get("maxWidth"),p=e.get("maxHeight"),c=this.getPoint(i,n),d=this.getPoint(s,r),g=t.get("point");if(g){const t=this.getPoint(g.x,g.y);g.x=t.x+this._x,g.y=t.y+this._y}if(i=c.x,s=d.x,n=c.y,r=d.y,ct(l)){const t=(s-i-l)/2;i+=t,s-=t}if(ct(u)&&u<Math.abs(s-i)){const t=(s-i-u)/2;i+=t,s-=t}if(ct(h)){const t=(r-n-h)/2;n+=t,r-=t}if(ct(p)&&p<Math.abs(r-n)){const t=(r-n-p)/2;n+=t,r-=t}this.get("adjustBulletPosition")&&(a&&(s=Math.min(Math.max(0,s),this._pw),i=Math.min(Math.max(0,i),this._pw)),o&&(n=Math.min(Math.max(0,n),this._ph),r=Math.min(Math.max(0,r),this._ph))),t.setRaw("left",i),t.setRaw("right",s),t.setRaw("top",n),t.setRaw("bottom",r),e.setPrivate("width",s-i),e.setPrivate("height",r-n),e.set("x",i),e.set("y",r-(r-n))}_handleDataSetChange(){super._handleDataSetChange(),F(this._dataItems,(t=>{this._toggleColumn(t,!1)}))}_applyGraphicsStates(t,e){const i=t.get("graphics"),s=i.states.lookup("dropFromOpen"),n=i.states.lookup("riseFromOpen"),r=i.states.lookup("dropFromPrevious"),a=i.states.lookup("riseFromPrevious");if(s||r||n||a){const i=this.get("xAxis"),o=this.get("yAxis"),l=this.get("baseAxis");let h,u,p;l===i&&o.isType("ValueAxis")?(h=t.get(this._yOpenField),u=t.get(this._yField),p=e.get(this._yField)):l===o&&i.isType("ValueAxis")&&(h=t.get(this._xOpenField),u=t.get(this._xField),p=e.get(this._xField)),ct(h)&&ct(u)&&(u<h?s&&s.apply():n&&n.apply(),ct(p)&&(u<p?r&&r.apply():a&&a.apply()))}}disposeDataItem(t){super.disposeDataItem(t);const e=t.get("graphics");e&&(this.columns.removeValue(e),e.dispose());const i=t.get("rangeGraphics");i&&F(i,(t=>{const e=t.getPrivate("list");e&&e.removeValue(t),t.dispose()}))}hideDataItem(t,e){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return St(this,void 0,void 0,(function*(){const s=[i.hideDataItem.call(this,t,e)],n=t.get("graphics");n&&s.push(n.hide(e));const r=t.get("rangeGraphics");r&&F(r,(t=>{s.push(t.hide(e))})),yield Promise.all(s)}))}_toggleColumn(t,e){const i=t.get("graphics");i&&i.setPrivate("visible",e);const s=t.get("rangeGraphics");s&&F(s,(t=>{t.setPrivate("visible",e)}));const n=t.bullets;n&&F(n,(t=>{t.setPrivate("hidden",!e)}))}showDataItem(t,e){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return St(this,void 0,void 0,(function*(){const s=[i.showDataItem.call(this,t,e)],n=t.get("graphics");n&&s.push(n.show(e));const r=t.get("rangeGraphics");r&&F(r,(t=>{s.push(t.show(e))})),yield Promise.all(s)}))}updateLegendMarker(t){let e=this.get("legendDataItem");if(this.get("useLastColorForLegendMarker")&&!t){const e=this.dataItems[this.endIndex()-1];e&&(t=e)}if(e){let i=this.columns.template;if(t){let e=t.get("graphics");e&&(i=e)}const s=e.get("markerRectangle");s&&(e.get("itemContainer").get("disabled")||F(Di,(t=>{s.set(t,i.get(t,this.get(t)))})))}}_getTooltipTarget(t){if("bullet"==this.get("seriesTooltipTarget"))return super._getTooltipTarget(t);let e=t.get("graphics");return e||this}}Object.defineProperty(Nn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"BaseColumnSeries"}),Object.defineProperty(Nn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Bn.classNames.concat([Nn.className])});class Hn extends Nn{constructor(){super(...arguments),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:new _t(li["new"]({}),(()=>mn._new(this._root,{position:"absolute",themeTags:Pe(this.columns.template.get("themeTags",[]),["series","column"])},[this.columns.template])))})}makeColumn(t,e){const i=this.mainContainer.children.push(e.make());return i._setDataItem(t),e.push(i),i}_processAxisRange(t){super._processAxisRange(t),t.columns=new _t(li["new"]({}),(()=>mn._new(this._root,{position:"absolute",themeTags:Pe(t.columns.template.get("themeTags",[]),["series","column"])},[this.columns.template,t.columns.template])))}}Object.defineProperty(Hn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColumnSeries"}),Object.defineProperty(Hn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Nn.classNames.concat([Hn.className])});class zn extends Bi{constructor(){super(...arguments),Object.defineProperty(this,"lineX",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(In["new"](this._root,{themeTags:["x"]}))}),Object.defineProperty(this,"lineY",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(In["new"](this._root,{themeTags:["y"]}))}),Object.defineProperty(this,"selection",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Ti["new"](this._root,{themeTags:["selection","cursor"],layer:30}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lastPoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_tooltipX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_tooltipY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._settings.themeTags=Pe(this._settings.themeTags,["xy","cursor"]),super._afterNew(),this.setAll({width:Ot,height:Ot,isMeasured:!0,position:"absolute"}),this.states.create("hidden",{visible:!0,opacity:0}),this._drawLines(),this.setPrivateRaw("visible",!1),this._disposers.push(this.setTimeout((()=>{this.setPrivate("visible",!0)}),500)),this._disposers.push(this.lineX.events.on("positionchanged",(()=>{this._handleXLine()}))),this._disposers.push(this.lineY.events.on("positionchanged",(()=>{this._handleYLine()}))),this._disposers.push(this.lineX.events.on("focus",(t=>this._handleLineFocus(t.target)))),this._disposers.push(this.lineX.events.on("blur",(t=>this._handleLineBlur(t.target)))),this._disposers.push(this.lineY.events.on("focus",(t=>this._handleLineFocus(t.target)))),this._disposers.push(this.lineY.events.on("blur",(t=>this._handleLineBlur(t.target)))),Ft("keyboardevents")&&this._disposers.push(Lt(document,"keydown",(t=>{this._handleLineMove(t.keyCode)})))}_setUpTouch(){const t=this.chart;t&&(t.plotContainer._display.cancelTouch="none"!=this.get("behavior"))}_handleXLine(){let t=this.lineX.x(),e=!0;(t<0||t>this.width())&&(e=!1),this.lineX.setPrivate("visible",e)}_handleYLine(){let t=this.lineY.y(),e=!0;(t<0||t>this.height())&&(e=!1),this.lineY.setPrivate("visible",e)}_handleLineMove(t){let e="",i=0,s=.1;const n=this.chart;this._root.focused(this.lineX)?(n&&n.xAxes.length&&(s=n.xAxes.getIndex(0).getCellWidthPosition()),i=this.getPrivate("positionX",0),e="positionX",37==t?i-=s:39==t&&(i+=s)):this._root.focused(this.lineY)&&(n&&n.yAxes.length&&(s=n.yAxes.getIndex(0).getCellWidthPosition()),i=this.getPrivate("positionY",0),e="positionY",38==t?i-=s:40==t&&(i+=s)),i<0?i=0:i>1&&(i=1),""!=e&&this.set(e,i)}_handleLineFocus(t){this.setAll({positionX:this.getPrivate("positionX"),positionY:this.getPrivate("positionY"),alwaysShow:!0})}_handleLineBlur(t){this.setAll({positionX:void 0,positionY:void 0,alwaysShow:!1})}_prepareChildren(){if(super._prepareChildren(),this.isDirty("xAxis")){this._tooltipX=!1;const t=this.get("xAxis");if(t){const e=t.get("tooltip");e&&(this._tooltipX=!0,this._disposers.push(e.on("pointTo",(()=>{this._updateXLine(e)}))))}}if(this.isDirty("yAxis")){this._tooltipY=!1;const t=this.get("yAxis");if(t){const e=t.get("tooltip");e&&(this._tooltipY=!0,this._disposers.push(e.on("pointTo",(()=>{this._updateYLine(e)}))))}}}_handleSyncWith(){const t=this.chart;if(t){const e=this.get("syncWith"),i=[];e&&F(e,(t=>{const e=t.chart;e&&i.push(e)})),t._otherCharts=i}}_updateChildren(){if(super._updateChildren(),this._handleSyncWith(),this.isDirty("positionX")||this.isDirty("positionY")){const t=this.get("positionX"),e=this.get("positionY");null==t&&null==e?this.hide(0):(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0))),this.handleMove())}}_updateXLine(t){let e=ci(this._display.toLocal(t.get("pointTo",{x:0,y:0})).x,2);this._toX!=e&&(this.lineX.animate({key:"x",to:e,duration:t.get("animationDuration",0),easing:t.get("animationEasing")}),this._toX=e)}_updateYLine(t){let e=ci(this._display.toLocal(t.get("pointTo",{x:0,y:0})).y,2);this._toY!=e&&(this.lineY.animate({key:"y",to:e,duration:t.get("animationDuration",0),easing:t.get("animationEasing")}),this._toY=e)}_drawLines(){this.lineX.set("draw",(t=>{t.moveTo(0,0),t.lineTo(0,this.height())})),this.lineY.set("draw",(t=>{t.moveTo(0,0),t.lineTo(this.width(),0)}))}_setChart(t){this.chart=t,this._handleSyncWith();const e=t.plotContainer;this.events.on("boundschanged",(()=>{this._disposers.push(this.setTimeout((()=>{this.get("alwaysShow")&&(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0))),this.handleMove())}),50))})),Ft("touchevents")&&(this._disposers.push(e.events.on("click",(t=>{Ht(t.originalEvent)&&this._handleMove(t.originalEvent)}))),this._setUpTouch()),this._disposers.push(e.events.on("pointerdown",(t=>{this._handleCursorDown(t.originalEvent)}))),this._disposers.push(e.events.on("globalpointerup",(t=>{this._handleCursorUp(t.originalEvent),t.native||this.isHidden()||this._handleMove(t.originalEvent)}))),this._disposers.push(e.events.on("globalpointermove",(t=>{(this.get("syncWith")||0!=Ce(e._downPoints).length||t.native||!this.isHidden())&&this._handleMove(t.originalEvent)})));const i=this.parent;i&&i.children.moveValue(this.selection)}_inPlot(t){const e=this.chart;return!!e&&e.inPlot(t)}_handleCursorDown(t){if(2==t.button)return;const e=this._root.documentPointToRoot({x:t.clientX,y:t.clientY});let i=this._display.toLocal(e);const s=this.chart;if(this.selection.set("draw",(()=>{})),s&&this._inPlot(i)){if(this._downPoint=i,"none"!=this.get("behavior")){this.selection.show();const t="selectstarted";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this})}let t=this._getPosition(i).x,e=this._getPosition(i).y;this.setPrivate("downPositionX",t),this.setPrivate("downPositionY",e)}}_handleCursorUp(t){if(this._downPoint){const e=this.get("behavior","none");if("none"!=e){"z"===e.charAt(0)&&this.selection.hide();const i=this._root.documentPointToRoot({x:t.clientX,y:t.clientY});let s=this._display.toLocal(i);const n=this._downPoint,r=this.get("moveThreshold",1);if(s&&n){let t=!1;if("zoomX"!==e&&"zoomXY"!==e&&"selectX"!==e&&"selectXY"!==e||Math.abs(s.x-n.x)>r&&(t=!0),"zoomY"!==e&&"zoomXY"!==e&&"selectY"!==e&&"selectXY"!==e||Math.abs(s.y-n.y)>r&&(t=!0),t){const t="selectended";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this})}}}}this._downPoint=void 0}_handleMove(t){if(this.getPrivate("visible")){const e=this.chart;if(e&&Ce(e.plotContainer._downPoints).length>1)return void this.set("forceHidden",!0);this.set("forceHidden",!1);const i=this._root.documentPointToRoot({x:t.clientX,y:t.clientY}),s=this._lastPoint;if(Math.round(s.x)===Math.round(i.x)&&Math.round(s.y)===Math.round(i.y))return;this._lastPoint=i,this.setPrivate("lastPoint",i),this.handleMove({x:i.x,y:i.y})}}_getPosition(t){return{x:t.x/this.width(),y:t.y/this.height()}}handleMove(t,e){t||(t=this._movePoint);const i=this.get("alwaysShow");if(!t)return void this.hide(0);this._movePoint=t;let s=this._display.toLocal(t),n=this.chart;if(n&&(this._inPlot(s)||this._downPoint)){if(n._movePoint=t,this.isHidden()){this.show();const t=this.get("behavior","");"z"==t.charAt(0)&&this.selection.set("draw",(()=>{}))}let r=s.x,a=s.y,o=this._getPosition(s);this.setPrivate("point",s);let l=this.get("snapToSeries");this._downPoint&&(l=void 0);let h=this.get("positionX"),u=o.x;ct(h)&&(u=h);let p=this.get("positionY"),c=o.y;ct(p)&&(c=p),this.setPrivate("positionX",u),this.setPrivate("positionY",c);const d=this._getPoint(u,c);if(r=d.x,a=d.y,n.xAxes.each((t=>{t._handleCursorPosition(u,l),i&&t.handleCursorShow()})),n.yAxes.each((t=>{t._handleCursorPosition(c,l),i&&t.handleCursorShow()})),!e){n._handleCursorPosition();const t="cursormoved";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this})}this._updateLines(r,a),n.arrangeTooltips()}else if(!this._downPoint&&!i){this.hide(0);const t="cursorhidden";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this})}this._downPoint&&"none"!=this.get("behavior")&&this._updateSelection(s)}_getPoint(t,e){return{x:this.width()*t,y:this.height()*e}}_updateLines(t,e){this._tooltipX||this.lineX.set("x",t),this._tooltipY||this.lineY.set("y",e),this._drawLines()}_updateSelection(t){const e=this.selection,i=this.get("behavior"),s=this.width(),n=this.height();t.x<0&&(t.x=0),t.x>s&&(t.x=s),t.y<0&&(t.y=0),t.y>n&&(t.y=n),e.set("draw",(e=>{const r=this._downPoint;r&&("zoomXY"===i||"selectXY"===i?(e.moveTo(r.x,r.y),e.lineTo(r.x,t.y),e.lineTo(t.x,t.y),e.lineTo(t.x,r.y),e.lineTo(r.x,r.y)):"zoomX"===i||"selectX"===i?(e.moveTo(r.x,0),e.lineTo(r.x,n),e.lineTo(t.x,n),e.lineTo(t.x,0),e.lineTo(r.x,0)):"zoomY"!==i&&"selectY"!==i||(e.moveTo(0,r.y),e.lineTo(s,r.y),e.lineTo(s,t.y),e.lineTo(0,t.y),e.lineTo(0,r.y)))}))}_onHide(){if(this.isHidden()){let t=this.chart;t&&(t.xAxes.each((t=>{t.handleCursorHide()})),t.yAxes.each((t=>{t.handleCursorHide()})),t.series.each((t=>{t.handleCursorHide()})))}super._onHide()}_onShow(){if(!this.isHidden()){let t=this.chart;t&&(t.xAxes.each((t=>{t.handleCursorShow()})),t.yAxes.each((t=>{t.handleCursorShow()})))}super._onShow()}_dispose(){super._dispose(),this.selection.dispose()}}Object.defineProperty(zn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYCursor"}),Object.defineProperty(zn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Bi.classNames.concat([zn.className])});class Wn extends ns{setupDefaultRules(){super.setupDefaultRules(),this.rule("Component").setAll({interpolationDuration:600}),this.rule("Hierarchy").set("animationDuration",600),this.rule("Scrollbar").set("animationDuration",600),this.rule("Tooltip").set("animationDuration",300),this.rule("MapChart").set("animationDuration",1e3),this.rule("MapChart").set("wheelDuration",300),this.rule("Entity").setAll({stateAnimationDuration:600}),this.rule("Sprite").states.create("default",{stateAnimationDuration:600}),this.rule("Tooltip",["axis"]).setAll({animationDuration:200}),this.rule("WordCloud").set("animationDuration",500)}}var Yn=Wn,Gn={name:"schools",mounted(){let t=on["new"](this.$refs.chartdiv);t.setThemes([Yn["new"](t)]),t._logo.dispose();let e=t.container.children.push(Pn["new"](t,{panY:!1,layout:t.verticalLayout})),i=[{category:"2020 он",value1:28879,value2:3705,value3:30412,value4:11160,value5:3168},{category:"2021 он",value1:34811,value2:3695,value3:35008,value4:13366,value5:3241},{category:"2022 он",value1:32091,value2:3720,value3:35653,value4:12607,value5:3159}],s=e.yAxes.push(kn["new"](t,{renderer:Ln["new"](t,{})})),n=e.xAxes.push(An["new"](t,{renderer:Fn["new"](t,{}),categoryField:"category"}));n.data.setAll(i);let r=e.series.push(Hn["new"](t,{name:"Нийт шалгуулагч",xAxis:n,yAxis:s,valueYField:"value3",categoryXField:"category"}));r.columns.template.setAll({tooltipText:"{name},{valueY}",width:Pt(90),tooltipY:0}),r.data.setAll(i);let a=e.series.push(Hn["new"](t,{name:"МУИС-д бүртгүүлэгч",xAxis:n,yAxis:s,valueYField:"value4",categoryXField:"category"}));a.columns.template.setAll({tooltipText:"{name},{valueY}",width:Pt(90),tooltipY:0}),a.data.setAll(i);let o=e.series.push(Hn["new"](t,{name:"МУИС-д элсэгч",xAxis:n,yAxis:s,valueYField:"value5",categoryXField:"category"}));o.columns.template.setAll({tooltipText:"{name},{valueY}",width:Pt(90),tooltipY:0}),o.data.setAll(i);let l=e.children.push(yn["new"](t,{}));l.data.setAll(e.series.values),e.set("cursor",zn["new"](t,{})),this.root=t}},Xn=i(89);const Un=(0,Xn.Z)(Gn,[["render",j],["__scopeId","data-v-671ef0f1"]]);var Kn=Un;const Zn={ref:"chartdiv",id:"chartdiv"};function qn(t,e,i,n,r,a){return(0,s.wg)(),(0,s.iD)("div",Zn,null,512)}class $n extends ns{setupDefaultRules(){super.setupDefaultRules();const t=this._root.interfaceColors,e=this.rule.bind(this);e("PercentSeries").setAll({legendLabelText:"{category}",legendValueText:"{valuePercentTotal.formatNumber('0.00p')}",colors:bn["new"](this._root,{}),width:Ot,height:Ot}),e("PieChart").setAll({radius:Pt(80),startAngle:-90,endAngle:270}),e("PieSeries").setAll({alignLabels:!0,startAngle:-90,endAngle:270}),e("PieSeries").states.create("hidden",{endAngle:-90,opacity:0}),e("Slice",["pie"]).setAll({position:"absolute",isMeasured:!1,x:0,y:0,toggleKey:"active",tooltipText:"{category}: {valuePercentTotal.formatNumber('0.00p')}",strokeWidth:1,strokeOpacity:1,role:"figure",lineJoin:"round"}),e("Slice",["pie"]).states.create("active",{shiftRadius:20,scale:1}),e("Slice",["pie"]).states.create("hoverActive",{scale:1.04}),e("Slice",["pie"]).states.create("hover",{scale:1.04}),e("RadialLabel",["pie"]).setAll({textType:"aligned",radius:10,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",paddingTop:5,paddingBottom:5,populateText:!0}),e("Tick",["pie"]).setAll({location:1}),e("SlicedChart").setAll({paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10}),e("FunnelSeries").setAll({startLocation:0,endLocation:1,orientation:"vertical",alignLabels:!0,sequencedInterpolation:!0}),e("FunnelSlice").setAll({interactive:!0,expandDistance:0}),e("FunnelSlice").states.create("hover",{expandDistance:.15}),e("Label",["funnel"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:kt}),e("Label",["funnel","horizontal"]).setAll({centerX:0,centerY:kt,rotation:-90}),e("Label",["funnel","vertical"]).setAll({centerY:kt,centerX:0}),e("Tick",["funnel"]).setAll({location:1}),e("FunnelSlice",["funnel","link"]).setAll({fillOpacity:.5,strokeOpacity:0,expandDistance:-.1}),e("FunnelSlice",["funnel","link","vertical"]).setAll({height:10}),e("FunnelSlice",["funnel","link","horizontal"]).setAll({width:10}),e("PyramidSeries").setAll({valueIs:"area"}),e("FunnelSlice",["pyramid","link"]).setAll({fillOpacity:.5}),e("FunnelSlice",["pyramid","link","vertical"]).setAll({height:0}),e("FunnelSlice",["pyramid","link","horizontal"]).setAll({width:0}),e("FunnelSlice",["pyramid"]).setAll({interactive:!0,expandDistance:0}),e("FunnelSlice",["pyramid"]).states.create("hover",{expandDistance:.15}),e("Label",["pyramid"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:kt}),e("Label",["pyramid","horizontal"]).setAll({centerX:0,centerY:kt,rotation:-90}),e("Label",["pyramid","vertical"]).setAll({centerY:kt,centerX:0}),e("Tick",["pyramid"]).setAll({location:1}),e("FunnelSlice",["pictorial"]).setAll({interactive:!0,tooltipText:"{category}: {valuePercentTotal.formatNumber('0.00p')}"}),e("Label",["pictorial"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:kt}),e("Label",["pictorial","horizontal"]).setAll({centerX:0,centerY:kt,rotation:-90}),e("Label",["pictorial","vertical"]).setAll({centerY:kt,centerX:0}),e("FunnelSlice",["pictorial","link"]).setAll({fillOpacity:.5,width:0,height:0}),e("Tick",["pictorial"]).setAll({location:.5});{const i=e("Graphics",["pictorial","background"]);i.setAll({fillOpacity:.2}),rs(i,"fill",t,"alternativeBackground")}}}class Jn extends xn{_afterNew(){this._defaultThemes.push($n["new"](this._root)),super._afterNew(),this.chartContainer.children.push(this.seriesContainer),this.seriesContainer.children.push(this.bulletsContainer)}_processSeries(t){super._processSeries(t),this.seriesContainer.children.moveValue(this.bulletsContainer,this.seriesContainer.children.length-1)}}Object.defineProperty(Jn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PercentChart"}),Object.defineProperty(Jn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:xn.classNames.concat([Jn.className])});class Qn extends Jn{constructor(){super(...arguments),Object.defineProperty(this,"_maxRadius",{enumerable:!0,configurable:!0,writable:!0,value:1})}_afterNew(){super._afterNew(),this.seriesContainer.setAll({x:kt,y:kt})}_prepareChildren(){super._prepareChildren();const t=this.chartContainer,e=t.innerWidth(),i=t.innerHeight(),s=this.get("startAngle",0),n=this.get("endAngle",0),r=this.get("innerRadius");let a=bi(0,0,s,n,1);const o=e/(a.right-a.left),l=i/(a.bottom-a.top);let h={left:0,right:0,top:0,bottom:0};if(r instanceof wt){let t=r.value,a=Math.min(o,l);t=Math.max(a*t,a-Math.min(i,e))/a,h=bi(0,0,s,n,t),this.setPrivateRaw("irModifyer",t/r.value)}a=_i([a,h]);const u=this._maxRadius;this._maxRadius=Math.min(o,l);const p=qt(this.get("radius",0),this._maxRadius);this.seriesContainer.setAll({dy:-p*(a.bottom+a.top)/2,dx:-p*(a.right+a.left)/2}),(this.isDirty("startAngle")||this.isDirty("endAngle")||u!=this._maxRadius)&&this.series.each((t=>{t._markDirtyKey("startAngle")})),(this.isDirty("innerRadius")||this.isDirty("radius"))&&this.series.each((t=>{t._markDirtyKey("innerRadius")}))}radius(t){let e=qt(this.get("radius",0),this._maxRadius),i=qt(this.get("innerRadius",0),e);if(t){let s=this.series.indexOf(t),n=this.series.length,r=t.get("radius");return null!=r?i+qt(r,e-i):i+(e-i)/n*(s+1)}return e}innerRadius(t){const e=this.radius();let i=qt(this.get("innerRadius",0),e);if(i<0&&(i=e+i),t){let s=this.series.indexOf(t),n=this.series.length,r=t.get("innerRadius");return null!=r?i+qt(r,e-i):i+(e-i)/n*s}return i}}Object.defineProperty(Qn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PieChart"}),Object.defineProperty(Qn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Jn.classNames.concat([Qn.className])});class tr extends fn{constructor(){super(...arguments),Object.defineProperty(this,"slicesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Bi["new"](this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Bi["new"](this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"ticksContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Bi["new"](this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"_lLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_rLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_hLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"slices",{enumerable:!0,configurable:!0,writable:!0,value:this._makeSlices()}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this._makeLabels()}),Object.defineProperty(this,"ticks",{enumerable:!0,configurable:!0,writable:!0,value:this._makeTicks()})}makeSlice(t){const e=this.slicesContainer.children.push(this.slices.make());return e.on("fill",(()=>{this.updateLegendMarker(t)})),e.on("stroke",(()=>{this.updateLegendMarker(t)})),e._setDataItem(t),t.set("slice",e),this.slices.push(e),e}makeLabel(t){const e=this.labelsContainer.children.push(this.labels.make());return e._setDataItem(t),t.set("label",e),this.labels.push(e),e}_shouldMakeBullet(t){return null!=t.get("value")}makeTick(t){const e=this.ticksContainer.children.push(this.ticks.make());return e._setDataItem(t),t.set("tick",e),this.ticks.push(e),e}_afterNew(){this.fields.push("category","fill"),super._afterNew()}_onDataClear(){const t=this.get("colors");t&&t.reset()}_prepareChildren(){if(super._prepareChildren(),this._lLabels=[],this._rLabels=[],this._hLabels=[],this._valuesDirty){let t=0,e=0,i=0,s=1/0,n=0;F(this._dataItems,(i=>{let s=i.get("valueWorking",0);t+=s,e+=Math.abs(s)})),F(this._dataItems,(t=>{let r=t.get("valueWorking",0);r>i&&(i=r),r<s&&(s=r),n++;let a=r/e;0==e&&(a=0),t.setRaw("valuePercentTotal",100*a)})),this.setPrivateRaw("valueLow",s),this.setPrivateRaw("valueHigh",i),this.setPrivateRaw("valueSum",t),this.setPrivateRaw("valueAverage",t/n),this.setPrivateRaw("valueAbsoluteSum",e)}}show(t){const e=Object.create(null,{show:{get:()=>super.show}});return St(this,void 0,void 0,(function*(){let i=[];i.push(e.show.call(this,t)),i.push(this._sequencedShowHide(!0,t)),yield Promise.all(i)}))}hide(t){const e=Object.create(null,{hide:{get:()=>super.hide}});return St(this,void 0,void 0,(function*(){let i=[];i.push(e.hide.call(this,t)),i.push(this._sequencedShowHide(!1,t)),yield Promise.all(i)}))}_updateChildren(){super._updateChildren(),this._valuesDirty&&F(this._dataItems,(t=>{t.get("label").text.markDirtyText()})),(this.isDirty("legendLabelText")||this.isDirty("legendValueText"))&&F(this._dataItems,(t=>{this.updateLegendValue(t)})),this._arrange()}_arrange(){this._arrangeDown(this._lLabels),this._arrangeUp(this._lLabels),this._arrangeDown(this._rLabels),this._arrangeUp(this._rLabels),this._arrangeLeft(this._hLabels),this._arrangeRight(this._hLabels),F(this.dataItems,(t=>{this._updateTick(t)}))}_afterChanged(){super._afterChanged(),this._arrange()}processDataItem(t){if(super.processDataItem(t),null==t.get("fill")){let e=this.get("colors");e&&t.setRaw("fill",e.next())}}showDataItem(t,e){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return St(this,void 0,void 0,(function*(){const s=[i.showDataItem.call(this,t,e)];ct(e)||(e=this.get("stateAnimationDuration",0));const n=this.get("stateAnimationEasing");let r=t.get("value");const a=t.animate({key:"valueWorking",to:r,duration:e,easing:n});a&&s.push(a.waitForStop());const o=t.get("tick");o&&s.push(o.show(e));const l=t.get("label");l&&s.push(l.show(e));const h=t.get("slice");h&&s.push(h.show(e)),h.get("active")&&h.states.applyAnimate("active"),yield Promise.all(s)}))}hideDataItem(t,e){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return St(this,void 0,void 0,(function*(){const s=[i.hideDataItem.call(this,t,e)],n=this.states.create("hidden",{});ct(e)||(e=n.get("stateAnimationDuration",this.get("stateAnimationDuration",0)));const r=n.get("stateAnimationEasing",this.get("stateAnimationEasing")),a=t.animate({key:"valueWorking",to:0,duration:e,easing:r});a&&s.push(a.waitForStop());const o=t.get("tick");o&&s.push(o.hide(e));const l=t.get("label");l&&s.push(l.hide(e));const h=t.get("slice");h.hideTooltip(),h&&s.push(h.hide(e)),yield Promise.all(s)}))}disposeDataItem(t){super.disposeDataItem(t);let e=t.get("label");e&&(this.labels.removeValue(e),e.dispose());let i=t.get("tick");i&&(this.ticks.removeValue(i),i.dispose());let s=t.get("slice");s&&(this.slices.removeValue(s),s.dispose())}hoverDataItem(t){const e=t.get("slice");e&&!e.isHidden()&&e.hover()}unhoverDataItem(t){const e=t.get("slice");e&&e.unhover()}updateLegendMarker(t){if(t){const e=t.get("slice");if(e){const i=t.get("legendDataItem");if(i){const t=i.get("markerRectangle");F(Di,(i=>{null!=e.get(i)&&t.set(i,e.get(i))}))}}}}_arrangeDown(t){if(t){let e=this._getNextDown();t.sort(((t,e)=>t.y>e.y?1:t.y<e.y?-1:0)),F(t,(t=>{const i=t.label.adjustedLocalBounds();let s=i.top;t.y+s<e&&(t.y=e-s),t.label.set("y",t.y),e=t.y+i.bottom}))}}_getNextUp(){return this.labelsContainer.maxHeight()}_getNextDown(){return 0}_arrangeUp(t){if(t){let e=this._getNextUp();t.sort(((t,e)=>t.y<e.y?1:t.y>e.y?-1:0)),F(t,(t=>{const i=t.label.adjustedLocalBounds();let s=i.bottom;t.y+s>e&&(t.y=e-s),t.label.set("y",t.y),e=t.y+i.top}))}}_arrangeRight(t){if(t){let e=0;t.sort(((t,e)=>t.y>e.y?1:t.y<e.y?-1:0)),F(t,(t=>{const i=t.label.adjustedLocalBounds();let s=i.left;t.y+s<e&&(t.y=e-s),t.label.set("x",t.y),e=t.y+i.right}))}}_arrangeLeft(t){if(t){let e=this.labelsContainer.maxWidth();t.sort(((t,e)=>t.y<e.y?1:t.y>e.y?-1:0)),F(t,(t=>{const i=t.label.adjustedLocalBounds();let s=i.right;t.y+s>e&&(t.y=e-s),t.label.set("x",t.y),e=t.y+i.left}))}}_updateSize(){super._updateSize(),this.markDirty()}_updateTick(t){}_dispose(){super._dispose();const t=this.chart;t&&t.series.removeValue(this)}}function er(t){return function(){return t}}Object.defineProperty(tr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PercentSeries"}),Object.defineProperty(tr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:fn.classNames.concat([tr.className])});const ir=Math.abs,sr=Math.atan2,nr=Math.cos,rr=Math.max,ar=Math.min,or=Math.sin,lr=Math.sqrt,hr=1e-12,ur=Math.PI,pr=ur/2,cr=2*ur;function dr(t){return t>1?0:t<-1?ur:Math.acos(t)}function gr(t){return t>=1?pr:t<=-1?-pr:Math.asin(t)}const fr=Math.PI,mr=2*fr,yr=1e-6,br=mr-yr;function vr(t){this._+=t[0];for(let e=1,i=t.length;e<i;++e)this._+=arguments[e]+t[e]}function _r(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return vr;const i=10**e;return function(t){this._+=t[0];for(let e=1,s=t.length;e<s;++e)this._+=Math.round(arguments[e]*i)/i+t[e]}}class xr{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?vr:_r(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,i,s){this._append`Q${+t},${+e},${this._x1=+i},${this._y1=+s}`}bezierCurveTo(t,e,i,s,n,r){this._append`C${+t},${+e},${+i},${+s},${this._x1=+n},${this._y1=+r}`}arcTo(t,e,i,s,n){if(t=+t,e=+e,i=+i,s=+s,n=+n,n<0)throw new Error(`negative radius: ${n}`);let r=this._x1,a=this._y1,o=i-t,l=s-e,h=r-t,u=a-e,p=h*h+u*u;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(p>yr)if(Math.abs(u*o-l*h)>yr&&n){let c=i-r,d=s-a,g=o*o+l*l,f=c*c+d*d,m=Math.sqrt(g),y=Math.sqrt(p),b=n*Math.tan((fr-Math.acos((g+p-f)/(2*m*y)))/2),v=b/y,_=b/m;Math.abs(v-1)>yr&&this._append`L${t+v*h},${e+v*u}`,this._append`A${n},${n},0,0,${+(u*c>h*d)},${this._x1=t+_*o},${this._y1=e+_*l}`}else this._append`L${this._x1=t},${this._y1=e}`;else;}arc(t,e,i,s,n,r){if(t=+t,e=+e,i=+i,r=!!r,i<0)throw new Error(`negative radius: ${i}`);let a=i*Math.cos(s),o=i*Math.sin(s),l=t+a,h=e+o,u=1^r,p=r?s-n:n-s;null===this._x1?this._append`M${l},${h}`:(Math.abs(this._x1-l)>yr||Math.abs(this._y1-h)>yr)&&this._append`L${l},${h}`,i&&(p<0&&(p=p%mr+mr),p>br?this._append`A${i},${i},0,1,${u},${t-a},${e-o}A${i},${i},0,1,${u},${this._x1=l},${this._y1=h}`:p>yr&&this._append`A${i},${i},0,${+(p>=fr)},${u},${this._x1=t+i*Math.cos(n)},${this._y1=e+i*Math.sin(n)}`)}rect(t,e,i,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${i=+i}v${+s}h${-i}Z`}toString(){return this._}}function wr(){return new xr}function Pr(t){let e=3;return t.digits=function(i){if(!arguments.length)return e;if(null==i)e=null;else{const t=Math.floor(i);if(!(t>=0))throw new RangeError(`invalid digits: ${i}`);e=t}return t},()=>new xr(e)}function Or(t){return t.innerRadius}function kr(t){return t.outerRadius}function Dr(t){return t.startAngle}function Tr(t){return t.endAngle}function Sr(t){return t&&t.padAngle}function Cr(t,e,i,s,n,r,a,o){var l=i-t,h=s-e,u=a-n,p=o-r,c=p*l-u*h;if(!(c*c<hr))return c=(u*(e-r)-p*(t-n))/c,[t+c*l,e+c*h]}function Mr(t,e,i,s,n,r,a){var o=t-i,l=e-s,h=(a?r:-r)/lr(o*o+l*l),u=h*l,p=-h*o,c=t+u,d=e+p,g=i+u,f=s+p,m=(c+g)/2,y=(d+f)/2,b=g-c,v=f-d,_=b*b+v*v,x=n-r,w=c*f-g*d,P=(v<0?-1:1)*lr(rr(0,x*x*_-w*w)),O=(w*v-b*P)/_,k=(-w*b-v*P)/_,D=(w*v+b*P)/_,T=(-w*b+v*P)/_,S=O-m,C=k-y,M=D-m,I=T-y;return S*S+C*C>M*M+I*I&&(O=D,k=T),{cx:O,cy:k,x01:-u,y01:-p,x11:O*(n/x-1),y11:k*(n/x-1)}}function Ir(){var t=Or,e=kr,i=er(0),s=null,n=Dr,r=Tr,a=Sr,o=null,l=Pr(h);function h(){var h,u,p=+t.apply(this,arguments),c=+e.apply(this,arguments),d=n.apply(this,arguments)-pr,g=r.apply(this,arguments)-pr,f=ir(g-d),m=g>d;if(o||(o=h=l()),c<p&&(u=c,c=p,p=u),c>hr)if(f>cr-hr)o.moveTo(c*nr(d),c*or(d)),o.arc(0,0,c,d,g,!m),p>hr&&(o.moveTo(p*nr(g),p*or(g)),o.arc(0,0,p,g,d,m));else{var y,b,v=d,_=g,x=d,w=g,P=f,O=f,k=a.apply(this,arguments)/2,D=k>hr&&(s?+s.apply(this,arguments):lr(p*p+c*c)),T=ar(ir(c-p)/2,+i.apply(this,arguments)),S=T,C=T;if(D>hr){var M=gr(D/p*or(k)),I=gr(D/c*or(k));(P-=2*M)>hr?(M*=m?1:-1,x+=M,w-=M):(P=0,x=w=(d+g)/2),(O-=2*I)>hr?(I*=m?1:-1,v+=I,_-=I):(O=0,v=_=(d+g)/2)}var j=c*nr(v),E=c*or(v),L=p*nr(w),A=p*or(w);if(T>hr){var F,R=c*nr(_),V=c*or(_),B=p*nr(x),N=p*or(x);if(f<ur)if(F=Cr(j,E,B,N,R,V,L,A)){var H=j-F[0],z=E-F[1],W=R-F[0],Y=V-F[1],G=1/or(dr((H*W+z*Y)/(lr(H*H+z*z)*lr(W*W+Y*Y)))/2),X=lr(F[0]*F[0]+F[1]*F[1]);S=ar(T,(p-X)/(G-1)),C=ar(T,(c-X)/(G+1))}else S=C=0}O>hr?C>hr?(y=Mr(B,N,j,E,c,C,m),b=Mr(R,V,L,A,c,C,m),o.moveTo(y.cx+y.x01,y.cy+y.y01),C<T?o.arc(y.cx,y.cy,C,sr(y.y01,y.x01),sr(b.y01,b.x01),!m):(o.arc(y.cx,y.cy,C,sr(y.y01,y.x01),sr(y.y11,y.x11),!m),o.arc(0,0,c,sr(y.cy+y.y11,y.cx+y.x11),sr(b.cy+b.y11,b.cx+b.x11),!m),o.arc(b.cx,b.cy,C,sr(b.y11,b.x11),sr(b.y01,b.x01),!m))):(o.moveTo(j,E),o.arc(0,0,c,v,_,!m)):o.moveTo(j,E),p>hr&&P>hr?S>hr?(y=Mr(L,A,R,V,p,-S,m),b=Mr(j,E,B,N,p,-S,m),o.lineTo(y.cx+y.x01,y.cy+y.y01),S<T?o.arc(y.cx,y.cy,S,sr(y.y01,y.x01),sr(b.y01,b.x01),!m):(o.arc(y.cx,y.cy,S,sr(y.y01,y.x01),sr(y.y11,y.x11),!m),o.arc(0,0,p,sr(y.cy+y.y11,y.cx+y.x11),sr(b.cy+b.y11,b.cx+b.x11),m),o.arc(b.cx,b.cy,S,sr(b.y11,b.x11),sr(b.y01,b.x01),!m))):o.arc(0,0,p,w,x,m):o.lineTo(L,A)}else o.moveTo(0,0);if(o.closePath(),h)return o=null,h+""||null}return h.centroid=function(){var i=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,s=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2-ur/2;return[nr(s)*i,or(s)*i]},h.innerRadius=function(e){return arguments.length?(t="function"===typeof e?e:er(+e),h):t},h.outerRadius=function(t){return arguments.length?(e="function"===typeof t?t:er(+t),h):e},h.cornerRadius=function(t){return arguments.length?(i="function"===typeof t?t:er(+t),h):i},h.padRadius=function(t){return arguments.length?(s=null==t?null:"function"===typeof t?t:er(+t),h):s},h.startAngle=function(t){return arguments.length?(n="function"===typeof t?t:er(+t),h):n},h.endAngle=function(t){return arguments.length?(r="function"===typeof t?t:er(+t),h):r},h.padAngle=function(t){return arguments.length?(a="function"===typeof t?t:er(+t),h):a},h.context=function(t){return arguments.length?(o=null==t?null:t,h):o},h}wr.prototype=xr.prototype;class jr extends Ti{constructor(){super(...arguments),Object.defineProperty(this,"ix",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"iy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_generator",{enumerable:!0,configurable:!0,writable:!0,value:Ir()})}_getTooltipPoint(){let t=this.get("tooltipX"),e=this.get("tooltipY"),i=0,s=0;ct(t)&&(i=t),ct(e)&&(s=e);let n=this.get("radius",0),r=this.get("innerRadius",0),a=this.get("dRadius",0),o=this.get("dInnerRadius",0);return n+=a,r+=o,r<0&&(r=n+r),t instanceof wt&&(i=this.ix*(r+(n-r)*t.value)),e instanceof wt&&(s=this.iy*(r+(n-r)*e.value)),this.get("arc")>=360&&0==r&&(i=0,s=0),{x:i,y:s}}_beforeChanged(){super._beforeChanged(),(this.isDirty("radius")||this.isDirty("arc")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("dRadius")||this.isDirty("dInnerRadius")||this.isDirty("cornerRadius"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){let t=this.get("startAngle",0),e=this.get("arc",0);const i=this._generator;e<0&&(t+=e,e*=-1),e>.1&&i.cornerRadius(this.get("cornerRadius",0)),i.context(this._display);let s=this.get("radius",0),n=this.get("innerRadius",0),r=this.get("dRadius",0),a=this.get("dInnerRadius",0);s+=r,n+=a,n<0&&(n=s+n),i({innerRadius:n,outerRadius:s,startAngle:(t+90)*ui,endAngle:(t+e+90)*ui});let o=t+e/2;this.ix=mi(o),this.iy=fi(o)}if(this.isDirty("shiftRadius")){const t=this.get("shiftRadius",0);this.setRaw("dx",this.ix*t),this.setRaw("dy",this.iy*t),this.markDirtyPosition()}}}Object.defineProperty(jr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Slice"}),Object.defineProperty(jr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ti.classNames.concat([jr.className])});class Er extends Ni{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeRadialText("",this.textStyle)})}_afterNew(){super._afterNew()}_beforeChanged(){super._beforeChanged(),this._display.clear(),this.isDirty("textType")&&(this._display.textType=this.get("textType"),this.markDirtyBounds()),this.isDirty("radius")&&(this._display.radius=this.get("radius"),this.markDirtyBounds()),this.isDirty("startAngle")&&(this._display.startAngle=(this.get("startAngle",0)+90)*ui,this.markDirtyBounds()),this.isDirty("inside")&&(this._display.inside=this.get("inside"),this.markDirtyBounds()),this.isDirty("orientation")&&(this._display.orientation=this.get("orientation"),this.markDirtyBounds()),this.isDirty("kerning")&&(this._display.kerning=this.get("kerning"),this.markDirtyBounds())}}Object.defineProperty(Er,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialText"}),Object.defineProperty(Er,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ni.classNames.concat([Er.className])});class Lr extends Ui{constructor(){super(...arguments),Object.defineProperty(this,"_flipped",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this._textKeys.push("textType","kerning"),super._afterNew()}_makeText(){this._text=this.children.push(Er["new"](this._root,{}))}baseRadius(){const t=this.getPrivate("radius",0),e=this.getPrivate("innerRadius",0),i=this.get("baseRadius",0);return e+qt(i,t-e)}radius(){const t=this.get("inside",!1);return this.baseRadius()+this.get("radius",0)*(t?-1:1)}_updateChildren(){if(super._updateChildren(),this.isDirty("baseRadius")||this.isPrivateDirty("radius")||this.isPrivateDirty("innerRadius")||this.isDirty("labelAngle")||this.isDirty("radius")||this.isDirty("inside")||this.isDirty("orientation")||this.isDirty("textType")){const t=this.get("textType","adjusted"),e=this.get("inside",!1),i=this.get("orientation");let s=yi(this.get("labelAngle",0));this._text.set("startAngle",this.get("labelAngle",0)),this._text.set("inside",e);const n=fi(s),r=mi(s);let a=this.baseRadius(),o=this.radius();if(this._display.angle=0,"circular"==t)this.setAll({paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}),this._text.set("orientation",i),this._text.set("radius",o);else{0==a&&(s=0,o=0);let e=o*r,l=o*n;"radial"==t?(this.setRaw("x",e),this.setRaw("y",l),s<90||s>270||"auto"!=i?(this._display.angle=s,this._flipped=!1):(this._display.angle=s+180,this._flipped=!0),this._dirty.rotation=!1):"adjusted"==t?(this.setRaw("centerX",kt),this.setRaw("centerY",kt),this.setRaw("x",e),this.setRaw("y",l)):"regular"==t&&(this.setRaw("x",e),this.setRaw("y",l))}this.markDirtyPosition(),this.markDirtyBounds()}}_updatePosition(){const t=this.get("textType","regular"),e=this.get("inside",!1);let i=0,s=0,n=this.get("labelAngle",0),r=this.localBounds(),a=r.right-r.left,o=r.bottom-r.top;if("radial"==t){if(this._flipped){let t=this.get("centerX");t instanceof wt&&(a*=1-2*t.value),i=a*mi(n),s=a*fi(n)}}else e||"adjusted"!=t||(i=a/2*mi(n),s=o/2*fi(n));this.setRaw("dx",i),this.setRaw("dy",s),super._updatePosition()}get text(){return this._text}}Object.defineProperty(Lr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialLabel"}),Object.defineProperty(Lr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ui.classNames.concat([Lr.className])});class Ar extends tr{_makeSlices(){return new _t(li["new"]({}),(()=>jr._new(this._root,{themeTags:Pe(this.slices.template.get("themeTags",[]),["pie","series"])},[this.slices.template])))}_makeLabels(){return new _t(li["new"]({}),(()=>Lr._new(this._root,{themeTags:Pe(this.labels.template.get("themeTags",[]),["pie","series"])},[this.labels.template])))}_makeTicks(){return new _t(li["new"]({}),(()=>Cn._new(this._root,{themeTags:Pe(this.ticks.template.get("themeTags",[]),["pie","series"])},[this.ticks.template])))}processDataItem(t){super.processDataItem(t);const e=this.makeSlice(t);e.on("scale",(()=>{this._updateTick(t)})),e.on("shiftRadius",(()=>{this._updateTick(t)})),e.events.on("positionchanged",(()=>{this._updateTick(t)}));const i=this.makeLabel(t);i.events.on("positionchanged",(()=>{this._updateTick(t)})),this.makeTick(t),e.events.on("positionchanged",(()=>{i.markDirty()}))}_getNextUp(){const t=this.chart;return t?t._maxRadius:this.labelsContainer.maxHeight()/2}_getNextDown(){const t=this.chart;return t?-t._maxRadius:-this.labelsContainer.maxHeight()/2}_prepareChildren(){super._prepareChildren();const t=this.chart;if(t){if(this.isDirty("alignLabels")){let t=this.labels.template;if(this.get("alignLabels"))t.set("textType","aligned");else{let e=t.get("textType");null!=e&&"aligned"!=e||t.set("textType","adjusted")}}if(this._valuesDirty||this.isDirty("radius")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("endAngle")||this.isDirty("alignLabels")){this.markDirtyBounds();const e=this.get("startAngle",t.get("startAngle",-90)),i=this.get("endAngle",t.get("endAngle",270)),s=i-e;let n=e;const r=t.radius(this);this.setPrivateRaw("radius",r);let a=t.innerRadius(this)*t.getPrivate("irModifyer",1);a<0&&(a=r+a),F(this._dataItems,(t=>{this.updateLegendValue(t);let e=s*t.get("valuePercentTotal")/100;const i=t.get("slice");if(i){i.set("radius",r),i.set("innerRadius",a),i.set("startAngle",n),i.set("arc",e);const s=t.get("fill");i._setDefault("fill",s),i._setDefault("stroke",s)}let o=yi(n+e/2);const l=t.get("label");if(l&&(l.setPrivate("radius",r),l.setPrivate("innerRadius",a),l.set("labelAngle",o),"aligned"==l.get("textType"))){let t=r+l.get("radius",0),e=r*fi(o);o>90&&o<=270?(l.isHidden()||l.isHiding()||this._lLabels.push({label:l,y:e}),t*=-1,t-=this.labelsContainer.get("paddingLeft",0),l.set("centerX",Ot),l.setPrivateRaw("left",!0)):(l.isHidden()||l.isHiding()||this._rLabels.push({label:l,y:e}),t+=this.labelsContainer.get("paddingRight",0),l.set("centerX",0),l.setPrivateRaw("left",!1)),l.set("x",t),l.set("y",r*fi(o))}n+=e,this._updateTick(t)}))}}}_updateTick(t){const e=t.get("tick"),i=t.get("label"),s=t.get("slice"),n=e.get("location",1);if(e&&i&&s){const t=(s.get("shiftRadius",0)+s.get("radius",0))*s.get("scale",1)*n,r=i.get("labelAngle",0),a=mi(r),o=fi(r),l=this.labelsContainer,h=l.get("paddingLeft",0),u=l.get("paddingRight",0);let p=0,c=0;if(p=i.x(),c=i.y(),"circular"==i.get("textType")){const t=i.radius()-i.get("paddingBottom",0),e=i.get("labelAngle",0);p=t*mi(e),c=t*fi(e)}let d=-u;i.getPrivate("left")&&(d=h),e.set("points",[{x:s.x()+t*a,y:s.y()+t*o},{x:p+d,y:c},{x:p,y:c}])}}_positionBullet(t){const e=t.get("sprite");if(e){const i=e.dataItem,s=i.get("slice");if(s){const i=s.get("innerRadius",0),n=s.get("radius",0),r=s.get("startAngle",0),a=s.get("arc",0),o=t.get("locationX",.5),l=t.get("locationY",.5),h=r+a*o,u=i+(n-i)*l;e.setAll({x:mi(h)*u,y:fi(h)*u})}}}}Object.defineProperty(Ar,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PieSeries"}),Object.defineProperty(Ar,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:tr.classNames.concat([Ar.className])});var Fr={name:"schools",mounted(){let t=on["new"](this.$refs.chartdiv);t._logo.dispose(),t.setThemes([Yn["new"](t)]);let e=t.container.children.push(Qn["new"](t,{layout:t.verticalLayout,innerRadius:Pt(50)})),i=e.series.push(Ar["new"](t,{valueField:"value",categoryField:"category",alignLabels:!1}));i.slices.template.setAll({tooltipText:"{name}, {value}"}),i.slices.template.setAll({strokeWidth:3,stroke:Te(16777215)}),i.labels.template.setAll({textType:"circular",centerX:0,centerY:0});e.seriesContainer.children.push(Ui["new"](t,{text:"3116",centerX:Pt(50),centerY:Pt(50),fontSize:30,fontWeight:"bold"}));i.data.setAll([{value:1505,category:"ШУС",name:"Шинжлэх ухааны сургууль"},{value:6,category:"ЭС",name:"Эрдэнэт сургууль"},{value:475,category:"БС",name:"Бизнесийн сургууль"},{value:139,category:"ХЗС",name:"Хууль зүйн сургууль"},{value:841,category:"ХШУИС",name:"Хэрэглээний шинжлэх ухаан, инженерчлэлийн сургууль"},{value:150,category:"ОУХНУС",name:"Олон улсын харилцаа, нийтийн удирдлагын сургууль"}]);let s=e.children.push(yn["new"](t,{centerX:Pt(50),x:Pt(50),marginTop:15,marginBottom:15}));s.data.setAll(i.dataItems),i.appear(1e3,100)}};const Rr=(0,Xn.Z)(Fr,[["render",qn]]);var Vr=Rr;const Br={ref:"chartdiv",id:"chartdiv"};function Nr(t,e,i,n,r,a){return(0,s.wg)(),(0,s.iD)("div",Br,null,512)}var Hr={name:"schools",mounted(){let t=on["new"](this.$refs.chartdiv);t._logo.dispose(),t.setThemes([Yn["new"](t)]);let e=t.container.children.push(Pn["new"](t,{panX:!1,layout:t.horizontalLayout}));const i=[{category:"2020 он",value2:635.3},{category:"2021 он",value2:645.1},{category:"2022 он",value2:643.7}];let s=e.xAxes.push(kn["new"](t,{renderer:Fn["new"](t,{}),min:400,max:800,strictMinMax:!0})),n=e.yAxes.push(An["new"](t,{renderer:Ln["new"](t,{}),categoryField:"category"}));n.data.setAll(i);let r=e.series.push(Hn["new"](t,{name:"Дундаж",xAxis:s,yAxis:n,valueXField:"value2",categoryYField:"category"}));r.columns.template.setAll({tooltipText:"{name}: {valueX}",height:Pt(40),tooltipX:0}),r.data.setAll(i),e.set("cursor",zn["new"](t,{})),this.root=t}};const zr=(0,Xn.Z)(Hr,[["render",Nr],["__scopeId","data-v-4e168819"]]);var Wr=zr,Yr=i(9242);const Gr={ref:"chartdiv",id:"chartdiv"},Xr=["value"],Ur=(0,s._)("div",{id:"chart-div"},null,-1);function Kr(t,e,i,r,a,o){return(0,s.wg)(),(0,s.iD)("div",Gr,[(0,s.wy)((0,s._)("select",{class:"form-select mb-4","aria-label":"Default select example","onUpdate:modelValue":e[0]||(e[0]=t=>r.selectedOption=t),onChange:e[1]||(e[1]=t=>r.updateChart())},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.chartDataOptions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.value},(0,n.zw)(t.label),9,Xr)))),128))],544),[[Yr.bM,r.selectedOption]]),Ur],512)}var Zr=i(4870),qr={name:"schools",setup(){const t=(0,Zr.iH)(null);let e=null;const i=(0,Zr.iH)(0),n=[{label:"2022 он",value:0},{label:"2021 он",value:1},{label:"2020 он",value:2}],r=()=>{const i=on["new"](t.value);i._logo.dispose(),i.setThemes([Yn["new"](i)]),e=i.container.children.push(Pn["new"](i,{panX:!0,panY:!0,wheelX:"panX"}));const s=[{category:"Англи хэл",value:628.7},{category:"Биологи",value:613.3},{category:"Газарзүй",value:628.3},{category:"Математик",value:631.7},{category:"Монгол улсын түүх",value:641},{category:"Монгол хэл",value:638.7},{category:"Нийгмийн тухай мэдлэг",value:643.5},{category:"Орос хэл",value:750.3},{category:"Физик",value:633.7},{category:"Хими",value:622.3}],n=e.set("cursor",zn["new"](i,{}));n.lineY.set("visible",!1);const r=Fn["new"](i,{minGridDistance:30});r.labels.template.setAll({rotation:-90,centerY:kt,centerX:Ot,paddingRight:15}),r.grid.template.setAll({location:1});const a=e.xAxes.push(An["new"](i,{maxDeviation:.3,categoryField:"category",renderer:r,tooltip:Zi["new"](i,{})})),o=e.yAxes.push(kn["new"](i,{maxDeviation:.3,min:0,max:800,renderer:Ln["new"](i,{strokeOpacity:.1})})),l=e.series.push(Hn["new"](i,{name:"Series 1",xAxis:a,yAxis:o,valueYField:"value",sequencedInterpolation:!0,categoryXField:"category",tooltip:Zi["new"](i,{labelText:"{valueY}"})}));l.columns.template.setAll({cornerRadiusTL:5,cornerRadiusTR:5,strokeOpacity:0}),l.columns.template.adapters.add("fill",(function(t,i){return e.get("colors").getIndex(l.columns.indexOf(i))})),l.columns.template.adapters.add("stroke",(function(t,i){return e.get("colors").getIndex(l.columns.indexOf(i))})),a.data.setAll(s),l.data.setAll(s),l.appear(1e3),e.appear(1e3,100)},a=()=>{if(console.log("selected option"+i.value),e)switch(i.value){case 0:e.series.each((t=>{t.data.setAll([{category:"Англи хэл",value:628.7},{category:"Биологи",value:613.3},{category:"Газарзүй",value:628.3},{category:"Математик",value:631.7},{category:"Монгол улсын түүх",value:641},{category:"Монгол хэл",value:638.7},{category:"Нийгмийн тухай мэдлэг",value:643.5},{category:"Орос хэл",value:750.3},{category:"Физик",value:633.7},{category:"Хими",value:622.3}])}));break;case 1:e.series.each((t=>{t.data.setAll([{category:"Англи хэл",value:625},{category:"Биологи",value:609.8},{category:"Газарзүй",value:631},{category:"Математик",value:634.8},{category:"Монгол улсын түүх",value:644.8},{category:"Монгол хэл",value:642.6},{category:"Нийгмийн тухай мэдлэг",value:649.1},{category:"Орос хэл",value:735.2},{category:"Физик",value:637.7},{category:"Хими",value:638.6}])}));break;case 2:e.series.each((t=>{t.data.setAll([{category:"Англи хэл",value:622.6},{category:"Биологи",value:602},{category:"Газарзүй",value:613.5},{category:"Математик",value:623.7},{category:"Монгол улсын түүх",value:636.9},{category:"Монгол хэл",value:633.5},{category:"Нийгмийн тухай мэдлэг",value:640},{category:"Орос хэл",value:729.5},{category:"Физик",value:630.8},{category:"Хими",value:627.6}])}));break}};return(0,s.bv)((()=>{r()})),(0,s.Ah)((()=>{e&&e.dispose()})),{chartdiv:t,selectedOption:i,chartDataOptions:n,updateChart:a}}};const $r=(0,Xn.Z)(qr,[["render",Kr]]);var Jr=$r;const Qr=t=>((0,s.dD)("data-v-046c5f4c"),t=t(),(0,s.Cn)(),t),ta={ref:"chartdiv",id:"chartdiv"},ea=Qr((()=>(0,s._)("div",{id:"chart-tooltip"},null,-1))),ia=[ea];function sa(t,e,i,n,r,a){return(0,s.wg)(),(0,s.iD)("div",ta,ia,512)}class na extends ns{setupDefaultRules(){super.setupDefaultRules();const t=this._root.interfaceColors,e=this._root.gridLayout,i=this.rule.bind(this);i("Hierarchy").setAll({legendLabelText:"{category}",legendValueText:"{sum.formatNumber('#.#')}",width:Ot,height:Ot,colors:bn["new"](this._root,{step:2}),downDepth:1,initialDepth:5,singleBranchOnly:!0,maskContent:!0,animationEasing:We(ze)}),i("HierarchyNode").setAll({toggleKey:"disabled",setStateOnChildren:!0,position:"absolute",isMeasured:!1,cursorOverStyle:"pointer",tooltipText:"{category}: {sum}"}),i("HierarchyNode",["last"]).setAll({cursorOverStyle:"default"});{const e=i("Label",["hierarchy","node"]);e.setAll({centerX:kt,centerY:kt,position:"absolute",paddingBottom:1,paddingTop:1,paddingRight:4,paddingLeft:4,text:"{category}",populateText:!0,oversizedBehavior:"fit",minScale:.3}),rs(e,"fill",t,"alternativeText")}{const e=i("HierarchyLink");e.setAll({isMeasured:!1,position:"absolute",strokeWidth:1,strokeOpacity:1,strength:.9,distance:1.1}),rs(e,"stroke",t,"grid")}i("Circle",["linkedhierarchy","shape"]).setAll({position:"absolute",fillOpacity:1,strokeOpacity:0,radius:15,tooltipY:0}),i("Circle",["linkedhierarchy","shape","outer"]).setAll({position:"absolute",opacity:1,fillOpacity:0,strokeDasharray:0,strokeOpacity:1,radius:15,scale:1.1,interactive:!1}),i("Circle",["linkedhierarchy","shape","outer"]).states.create("disabled",{opacity:1,scale:1.1,strokeDasharray:2}),i("Circle",["linkedhierarchy","shape","outer"]).states.create("hoverDisabled",{scale:1.2,opacity:1,strokeDasharray:2}),i("Circle",["linkedhierarchy","shape","outer"]).states.create("hover",{scale:1.05,strokeDasharray:0}),i("Circle",["linkedhierarchy","shape","outer"]).states.create("hidden",{opacity:0,strokeDasharray:0}),i("BreadcrumbBar").setAll({paddingLeft:8,layout:e});{const e=i("Label",["breadcrumb"]);e.setAll({paddingRight:4,paddingLeft:4,cursorOverStyle:"pointer",populateText:!0,text:"{category}:"}),rs(e,"fill",t,"primaryButton")}{const e=i("Label",["breadcrumb"]).states.create("hover",{});rs(e,"fill",t,"primaryButtonHover")}{const e=i("Label",["breadcrumb"]).states.create("down",{stateAnimationDuration:0});rs(e,"fill",t,"primaryButtonDown")}{const e=i("Label",["breadcrumb","last"]);e.setAll({populateText:!0,text:"{category}",fontWeight:"bold",cursorOverStyle:"default"}),rs(e,"fill",t,"primaryButton")}{const e=i("RoundedRectangle",["breadcrumb","label","background"]);e.setAll({fillOpacity:0}),rs(e,"fill",t,"background")}i("Partition").setAll({downDepth:1,upDepth:0,initialDepth:5}),i("HierarchyNode",["partition"]).setAll({setStateOnChildren:!1}),i("HierarchyNode",["partition"]).states.create("hidden",{opacity:1,visible:!0});{const e=i("Label",["partition","node"]);e.setAll({x:kt,y:kt,centerY:kt,centerX:kt,paddingBottom:1,paddingTop:1,paddingLeft:1,paddingRight:1,rotation:90,populateText:!0,text:"{category}",oversizedBehavior:"fit",minScale:.4}),rs(e,"fill",t,"alternativeText")}i("Label",["horizontal","partition","node"]).setAll({rotation:0});{const e=i("RoundedRectangle",["partition","node","shape"]);e.setAll({strokeOpacity:1,strokeWidth:1,cornerRadiusBR:0,cornerRadiusTR:0,cornerRadiusBL:0,cornerRadiusTL:0}),rs(e,"stroke",t,"background")}i("RoundedRectangle",["partition","node","shape","last"]).setAll({fillOpacity:.75}),i("Sunburst").setAll({singleBranchOnly:!0}),i("HierarchyNode",["sunburst"]).setAll({setStateOnChildren:!1}),i("HierarchyNode",["sunburst"]).states.create("hidden",{opacity:0,visible:!1});{const e=i("Slice",["sunburst","node","shape"]);e.setAll({strokeOpacity:1,strokeWidth:1,cornerRadius:0}),rs(e,"stroke",t,"background")}i("Slice",["sunburst","node","shape","last"]).setAll({fillOpacity:.75});{const e=i("RadialLabel",["sunburst","node"]);e.setAll({x:0,y:0,textType:"radial",paddingBottom:1,paddingTop:1,paddingLeft:1,paddingRight:1,centerX:kt,populateText:!0,text:"{category}",oversizedBehavior:"fit",minScale:.4,baseRadius:kt,rotation:0}),rs(e,"fill",t,"alternativeText")}i("ForceDirected").setAll({minRadius:Pt(1),maxRadius:Pt(8),initialFrames:500,centerStrength:.8,manyBodyStrength:-14,velocityDecay:.5,linkWithStrength:.5,showOnFrame:10,singleBranchOnly:!1,upDepth:1/0,downDepth:1,initialDepth:5,topDepth:0}),i("Tree").setAll({orientation:"vertical",paddingLeft:20,paddingRight:20,paddingTop:20,paddingBottom:20,singleBranchOnly:!1,upDepth:1/0,downDepth:1,initialDepth:5,topDepth:0}),i("Pack").setAll({paddingLeft:20,paddingTop:20,paddingBottom:20,paddingRight:20,nodePadding:0});{const e=i("Label",["pack","node"]);e.setAll({centerY:kt,centerX:kt,paddingBottom:1,paddingTop:1,paddingLeft:1,paddingRight:1,populateText:!0,text:"{category}",oversizedBehavior:"fit",minScale:.4}),rs(e,"fill",t,"alternativeText")}{const e=i("Circle",["pack","node","shape"]);e.setAll({strokeOpacity:.5,fillOpacity:.8,strokeWidth:1}),rs(e,"stroke",t,"background")}i("LinkedHierarchyNode").setAll({draggable:!0}),i("LinkedHierarchyNode").states.create("hidden",{scale:0,opacity:0,visible:!1}),i("Treemap").setAll({upDepth:0,layoutAlgorithm:"squarify"});{const e=i("Label",["treemap","node"]);e.setAll({x:kt,y:kt,centerY:kt,centerX:kt,paddingBottom:1,paddingTop:1,paddingLeft:1,paddingRight:1,populateText:!0,text:"{category}",oversizedBehavior:"fit",minScale:.4}),rs(e,"fill",t,"alternativeText")}i("HierarchyNode",["treemap","node"]).setAll({tooltipY:Pt(40),isMeasured:!1,position:"absolute"});{const e=i("RoundedRectangle",["treemap","node","shape"]);e.setAll({strokeOpacity:1,strokeWidth:1,cornerRadiusBR:0,cornerRadiusTR:0,cornerRadiusBL:0,cornerRadiusTL:0,fillOpacity:1}),rs(e,"stroke",t,"background")}}}class ra extends Bi{constructor(){super(...arguments),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_clickDisposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNew(),this.states.create("disabled",{}),this.states.create("hover",{}),this.states.create("hoverDisabled",{}),this.on("disabled",(()=>{const t=this.dataItem;if(!t.get("children"))return void this.set("disabled",!0);const e=this.get("disabled"),i=this.series;t&&i&&t.get("disabled")!=e&&(e?i.disableDataItem(t):i.enableDataItem(t,i.get("downDepth",1),0))}))}_changed(){if(super._changed(),this.isDirty("toggleKey")){const t=this.get("toggleKey");"disabled"==t?this._clickDisposer=this.events.on("click",(()=>{if(!this._isDragging){let t=this.series;t&&t.selectDataItem(this.dataItem)}})):this._clickDisposer&&this._clickDisposer.dispose()}}}function aa(t){var e=0,i=t.children,s=i&&i.length;if(s)while(--s>=0)e+=i[s].value;else e=1;t.value=e}function oa(){return this.eachAfter(aa)}function la(t,e){let i=-1;for(const s of this)t.call(e,s,++i,this);return this}function ha(t,e){var i,s,n=this,r=[n],a=-1;while(n=r.pop())if(t.call(e,n,++a,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function ua(t,e){var i,s,n,r=this,a=[r],o=[],l=-1;while(r=a.pop())if(o.push(r),i=r.children)for(s=0,n=i.length;s<n;++s)a.push(i[s]);while(r=o.pop())t.call(e,r,++l,this);return this}function pa(t,e){let i=-1;for(const s of this)if(t.call(e,s,++i,this))return s}function ca(t){return this.eachAfter((function(e){var i=+t(e.data)||0,s=e.children,n=s&&s.length;while(--n>=0)i+=s[n].value;e.value=i}))}function da(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))}function ga(t){var e=this,i=fa(e,t),s=[e];while(e!==i)e=e.parent,s.push(e);var n=s.length;while(t!==i)s.splice(n,0,t),t=t.parent;return s}function fa(t,e){if(t===e)return t;var i=t.ancestors(),s=e.ancestors(),n=null;t=i.pop(),e=s.pop();while(t===e)n=t,t=i.pop(),e=s.pop();return n}function ma(){var t=this,e=[t];while(t=t.parent)e.push(t);return e}function ya(){return Array.from(this)}function ba(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t}function va(){var t=this,e=[];return t.each((function(i){i!==t&&e.push({source:i.parent,target:i})})),e}function*_a(){var t,e,i,s,n=this,r=[n];do{t=r.reverse(),r=[];while(n=t.pop())if(yield n,e=n.children)for(i=0,s=e.length;i<s;++i)r.push(e[i])}while(r.length)}function xa(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=Oa)):void 0===e&&(e=Pa);var i,s,n,r,a,o=new Ta(t),l=[o];while(i=l.pop())if((n=e(i.data))&&(a=(n=Array.from(n)).length))for(i.children=n,r=a-1;r>=0;--r)l.push(s=n[r]=new Ta(n[r])),s.parent=i,s.depth=i.depth+1;return o.eachBefore(Da)}function wa(){return xa(this).eachBefore(ka)}function Pa(t){return t.children}function Oa(t){return Array.isArray(t)?t[1]:null}function ka(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function Da(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Ta(t){this.data=t,this.depth=this.height=0,this.parent=null}Object.defineProperty(ra,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HierarchyNode"}),Object.defineProperty(ra,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Bi.classNames.concat([ra.className])}),Ta.prototype=xa.prototype={constructor:Ta,count:oa,each:la,eachAfter:ua,eachBefore:ha,find:pa,sum:ca,sort:da,path:ga,ancestors:ma,descendants:ya,leaves:ba,links:va,copy:wa,[Symbol.iterator]:_a};class Sa extends fn{constructor(){super(...arguments),Object.defineProperty(this,"nodesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Bi["new"](this._root,{isMeasured:!1}))}),Object.defineProperty(this,"_rootNode",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_treeData",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_index",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tag",{enumerable:!0,configurable:!0,writable:!0,value:"hierarchy"}),Object.defineProperty(this,"nodes",{enumerable:!0,configurable:!0,writable:!0,value:new _t(li["new"]({}),(()=>ra["new"](this._root,{themeTags:Pe(this.nodes.template.get("themeTags",[]),[this._tag,"hierarchy","node"])},this.nodes.template)))}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:new _t(li["new"]({}),(()=>Ui["new"](this._root,{themeTags:Pe(this.labels.template.get("themeTags",[]),[this._tag])},this.labels.template)))}),Object.defineProperty(this,"_currentDownDepth",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}makeNode(t){const e=t.get("childData"),i=this.nodes.make();i.series=this,i._setDataItem(t),this.nodes.push(i),t.setRaw("node",i);const s=this.labels.make();s._setDataItem(t),t.setRaw("label",s),this.labels.push(s),e&&0!=e.length||i.addTag("last");const n=t.get("depth");return i.addTag("depth"+n),this.nodesContainer.children.push(i),i.children.push(s),i}_afterNew(){this._defaultThemes.push(na["new"](this._root)),this.fields.push("category","childData","disabled","fill"),this.children.push(this.bulletsContainer),super._afterNew()}_prepareChildren(){if(super._prepareChildren(),this._valuesDirty){this._treeData={};const t=this.dataItems[0];if(t&&(this._makeHierarchyData(this._treeData,t),this._index=0,this._rootNode=xa(this._treeData),this._rootNode)){this._rootNode.sum((t=>t.value));const t=this.get("sort");"descending"==t?this._rootNode.sort(((t,e)=>e.value-t.value)):"ascending"==t&&this._rootNode.sort(((t,e)=>t.value-e.value)),this.setPrivateRaw("valueLow",1/0),this.setPrivateRaw("valueHigh",-1/0),this.setPrivateRaw("maxDepth",0),this._updateValues(this._rootNode)}}if((this._valuesDirty||this._sizeDirty)&&this._updateVisuals(),this._sizeDirty){const t=this.get("selectedDataItem");t&&this._zoom(t)}}_changed(){super._changed(),this.isDirty("selectedDataItem")&&this._selectDataItem(this.get("selectedDataItem"))}_updateVisuals(){this._rootNode&&this._updateNodes(this._rootNode)}_updateNodes(t){const e=t.data.dataItem;if(e){this._updateNode(e),this.bullets.length>0&&!e.bullets&&this._makeBullets(e);const i=t.children;i&&F(i,(t=>{this._updateNodes(t)}))}}_updateNode(t){}getDataItemById(t){return this._getDataItemById(this.dataItems,t)}_getDataItemById(t,e){let i;return F(t,(t=>{t.get("id")==e&&(i=t);const s=t.get("children");if(s){let t=this._getDataItemById(s,e);t&&(i=t)}})),i}_handleBullets(t){F(t,(t=>{const e=t.bullets;e&&(F(e,(t=>{t.dispose()})),t.bullets=void 0);const i=t.get("children");i&&this._handleBullets(i)})),this._updateVisuals()}_onDataClear(){super._onDataClear();const t=this.get("colors");t&&t.reset()}processDataItem(t){super.processDataItem(t);const e=t.get("childData"),i=this.get("colors"),s=this.get("topDepth",0);t.get("parent")||(t.setRaw("depth",0),i&&0==s&&null==t.get("fill")&&t.setRaw("fill",i.next()));let n=t.get("depth");const r=this.get("initialDepth",1);if(this.makeNode(t),this._processDataItem(t),e){const s=[];t.setRaw("children",s),F(e,(e=>{const r=new hn(this,e,this._makeDataItem(e));s.push(r),r.setRaw("parent",t),r.setRaw("depth",n+1),1==this.dataItems.length&&0==n?i&&null==r.get("fill")&&r.setRaw("fill",i.next()):null==r.get("fill")&&r.setRaw("fill",t.get("fill")),this.processDataItem(r)}))}const a=t.get("children");if(!a||0==a.length){const e=t.get("node");e.setAll({toggleKey:void 0})}null==t.get("disabled")&&n>=s+r&&this.disableDataItem(t,0)}_processDataItem(t){}_updateValues(t){const e=t.data.dataItem;if(t.depth>this.getPrivate("maxDepth")&&this.setPrivateRaw("maxDepth",t.depth),e){e.setRaw("d3HierarchyNode",t),t.index=this._index,this._index++,e.get("node").set("disabled",e.get("disabled"));let i=t.data.value,s=t.value;if(null!=i&&(s=i,t["value"]=s),ct(s)){e.setRaw("sum",s),e.setRaw("valuePercentTotal",s/this.dataItems[0].get("sum")*100);let t=100;const i=e.get("parent");i&&(t=s/i.get("sum")*100),e.get("label").text.markDirtyText(),e.setRaw("valuePercent",t),this.getPrivate("valueLow")>s&&this.setPrivateRaw("valueLow",s),this.getPrivate("valueHigh")<s&&this.setPrivateRaw("valueHigh",s)}this.updateLegendValue(e)}const i=t.children;i&&F(i,(t=>{this._updateValues(t)}))}_makeHierarchyData(t,e){t.dataItem=e;const i=e.get("children");if(i){const s=[];t.children=s,F(i,(t=>{const e={};s.push(e),this._makeHierarchyData(e,t)}));const n=e.get("valueWorking");ct(n)&&(t.value=n)}else{const i=e.get("valueWorking");ct(i)&&(t.value=i)}}disposeDataItem(t){super.disposeDataItem(t);const e=t.get("node");e&&(this.nodes.removeValue(e),e.dispose());const i=t.get("label");i&&(this.labels.removeValue(i),i.dispose());const s=t.get("children");s&&F(s,(t=>{this.disposeDataItem(t)}))}hideDataItem(t,e){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return St(this,void 0,void 0,(function*(){const s=[i.hideDataItem.call(this,t,e)],n=this.states.create("hidden",{});if(!ct(e)){const t="stateAnimationDuration";e=n.get(t,this.get(t,0))}const r="stateAnimationEasing",a=n.get(r,this.get(r)),o=t.get("children");o&&0!=o.length||!ct(t.get("value"))||s.push(t.animate({key:"valueWorking",to:0,duration:e,easing:a}).waitForStop());const l=t.get("node");l.hide(),l.hideTooltip(),o&&F(o,(t=>{s.push(this.hideDataItem(t))})),yield Promise.all(s)}))}showDataItem(t,e){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return St(this,void 0,void 0,(function*(){const s=[i.showDataItem.call(this,t,e)];ct(e)||(e=this.get("stateAnimationDuration",0));const n=this.get("stateAnimationEasing"),r=t.get("children");r&&0!=r.length||!ct(t.get("value"))||s.push(t.animate({key:"valueWorking",to:t.get("value"),duration:e,easing:n}).waitForStop());const a=t.get("node");a.show(),r&&F(r,(t=>{s.push(this.showDataItem(t))})),yield Promise.all(s)}))}enableDataItem(t,e,i,s){null==i&&(i=0),null==e&&(e=1),t.set("disabled",!1),t.get("node").set("disabled",!1),t.isHidden()||t.get("node").show(s);const n=this.get("topDepth",0);if(t.get("depth")<n&&t.get("node").hide(0),0==i){const e=this.get("upDepth",1/0);let i=t,s=0;while(void 0!==i)s>e&&i.get("node").hide(),i=i.get("parent"),s++}let r=t.get("children");r&&F(r,i<e-1?t=>{const n=this.get("disabledField");if(n){const r=t.dataContext;1!=r[n]?this.enableDataItem(t,e,i+1,s):this.disableDataItem(t)}else this.enableDataItem(t,e,i+1,s)}:t=>{t.isHidden()||(t.get("node").show(s),t.get("node").states.applyAnimate("disabled"),t.set("disabled",!0),this.disableDataItem(t))})}disableDataItem(t,e){t.set("disabled",!0);let i=t.get("children");i&&F(i,(t=>{this.disableDataItem(t,e),t.get("node").hide(e)}))}_selectDataItem(t,e,i){if(t){if(!i){const e="dataitemselected";this.events.dispatch(e,{type:e,target:this,dataItem:t})}let s=this.getPrivate("maxDepth",1);const n=this.get("topDepth",0);null==e&&(e=Math.min(this.get("downDepth",1),s-t.get("depth"))),this.inited||(e=Math.min(this.get("initialDepth",1),s-n)),this._currentDownDepth=e;const r=t.get("d3HierarchyNode");let a=r.depth;a+e>s&&(e=s-a),a<n&&(e+=n-a,a=n);const o=t.get("children");o&&o.length>0?(e>0?this.enableDataItem(t,e):(t.get("node").show(),F(o,(t=>{t.get("node").hide()}))),r.depth<n&&t.get("node").hide(0),this.get("singleBranchOnly")&&this._handleSingle(t)):this.enableDataItem(this.dataItems[0],e,0),this._zoom(t)}}_zoom(t){}_handleSingle(t){const e=t.get("parent");if(e){const i=e.get("children");i&&F(i,(e=>{e!=t&&this.disableDataItem(e)}))}}selectDataItem(t){const e=t.get("parent"),i=this.getPrivate("maxDepth",1);if(this.get("selectedDataItem")==t)if(e)this.set("selectedDataItem",e);else{let e=Math.min(this.get("downDepth",1),i-t.get("depth"));this._currentDownDepth==e&&(e=Math.min(this.get("initialDepth",1),i-this.get("topDepth",0))),this._selectDataItem(t,e)}else this.set("selectedDataItem",t)}_makeBullet(t,e,i){const s=super._makeBullet(t,e,i);if(s){const e=s.get("sprite"),i=t.get("node");e&&(i.children.push(e),i.on("width",(()=>{this._positionBullet(s)})),i.on("height",(()=>{this._positionBullet(s)})))}return s}_positionBullet(t){const e=t.get("sprite");if(e){const i=e.dataItem,s=t.get("locationX",.5),n=t.get("locationY",.5),r=i.get("node");e.set("x",r.width()*s),e.set("y",r.height()*n)}}hoverDataItem(t){const e=t.get("node");e&&!e.isHidden()&&e.hover()}unhoverDataItem(t){const e=t.get("node");e&&e.unhover()}}Object.defineProperty(Sa,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Hierarchy"}),Object.defineProperty(Sa,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:fn.classNames.concat([Sa.className])});class Ca extends ra{_afterNew(){super._afterNew(),this.states.create("disabled",{}),this.states.create("hover",{}),this.states.create("hoverDisabled",{})}_updateLinks(t){const e=this.dataItem;if(e){let i=e.get("links");F(i,(e=>{let i=e.get("source"),s=e.get("target");i&&s&&(i.get("node").isHidden()||s.get("node").isHidden()?e.hide(t):e.show(t))}))}}_prepareChildren(){super._prepareChildren(),this.isDirty("disabled")&&this._updateLinks()}_onHide(t){super._onHide(t),this._updateLinks(t)}_onShow(t){super._onShow(t),this._updateLinks(t)}}Object.defineProperty(Ca,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LinkedHierarchyNode"}),Object.defineProperty(Ca,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ra.classNames.concat([Ca.className])});class Ma extends Ti{_changed(){if(super._changed(),this._clear){let t=this.get("source"),e=this.get("target");if(t&&e){const i=t.get("node"),s=e.get("node");this._display.moveTo(i.x(),i.y()),this._display.lineTo(s.x(),s.y())}}}_beforeChanged(){if(super._beforeChanged(),this.isDirty("source")){const t=this.get("source");if(t){const e=t.get("node");e.events.on("positionchanged",(()=>{this._markDirtyKey("stroke")}))}}if(this.isDirty("target")){const t=this.get("target");if(t){const e=t.get("node");e.events.on("positionchanged",(()=>{this._markDirtyKey("stroke")}))}}}}Object.defineProperty(Ma,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HierarchyLink"}),Object.defineProperty(Ma,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ti.classNames.concat([Ma.className])});class Ia extends Ti{_beforeChanged(){super._beforeChanged(),this.isDirty("radius")&&(this._clear=!0)}_changed(){super._changed(),this._clear&&this._display.drawCircle(0,0,this.get("radius",10))}}Object.defineProperty(Ia,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Circle"}),Object.defineProperty(Ia,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ti.classNames.concat([Ia.className])});class ja extends Sa{constructor(){super(...arguments),Object.defineProperty(this,"nodes",{enumerable:!0,configurable:!0,writable:!0,value:new _t(li["new"]({}),(()=>Ca._new(this._root,{themeTags:Pe(this.nodes.template.get("themeTags",[]),[this._tag,"linkedhierarchy","hierarchy","node"]),x:this.width()/2,y:this.height()/2},[this.nodes.template])))}),Object.defineProperty(this,"circles",{enumerable:!0,configurable:!0,writable:!0,value:new _t(li["new"]({}),(()=>Ia._new(this._root,{themeTags:Pe(this.circles.template.get("themeTags",[]),[this._tag,"shape"])},[this.circles.template])))}),Object.defineProperty(this,"outerCircles",{enumerable:!0,configurable:!0,writable:!0,value:new _t(li["new"]({}),(()=>Ia._new(this._root,{themeTags:Pe(this.outerCircles.template.get("themeTags",[]),[this._tag,"outer","shape"])},[this.outerCircles.template])))}),Object.defineProperty(this,"links",{enumerable:!0,configurable:!0,writable:!0,value:new _t(li["new"]({}),(()=>Ma._new(this._root,{themeTags:Pe(this.links.template.get("themeTags",[]),[this._tag,"linkedhierarchy","hierarchy","link"])},[this.links.template])))}),Object.defineProperty(this,"linksContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.moveValue(Bi["new"](this._root,{}),0)})}_afterNew(){this.fields.push("linkWith","x","y"),super._afterNew()}makeNode(t){const e=super.makeNode(t),i=e.children.moveValue(this.circles.make(),0);this.circles.push(i),e.setPrivate("tooltipTarget",i),t.setRaw("circle",i);const s=e.children.moveValue(this.outerCircles.make(),0);this.outerCircles.push(s),t.setRaw("outerCircle",s);const n=t.get("label");i.on("radius",(()=>{const t=2*i.get("radius",this.width());n.setAll({maxWidth:t,maxHeight:t}),s.set("radius",t/2),this._handleRadiusChange()}));const r=2*i.get("radius",this.width());return n.setAll({maxWidth:r,maxHeight:r}),i._setDataItem(t),s._setDataItem(t),e}_handleRadiusChange(){}processDataItem(t){t.setRaw("childLinks",[]),t.setRaw("links",[]),super.processDataItem(t)}_processDataItem(t){super._processDataItem(t);const e=t.get("parent");if(e&&e.get("depth")>=this.get("topDepth")){const i=this.linkDataItems(e,t);t.setRaw("parentLink",i)}const i=t.get("node");this.updateLinkWith(this.dataItems),i._updateLinks(0)}updateLinkWith(t){F(t,(t=>{const e=t.get("linkWith");e&&F(e,(e=>{const i=this._getDataItemById(this.dataItems,e);i&&this.linkDataItems(t,i)}));const i=t.get("children");i&&this.updateLinkWith(i)}))}_getPoint(t){return{x:t.x,y:t.y}}_animatePositions(t){const e=t.get("node"),i=t.get("d3HierarchyNode"),s=this._getPoint(i),n=this.get("animationDuration",0),r=this.get("animationEasing");e.animate({key:"x",to:s.x,duration:n,easing:r}),e.animate({key:"y",to:s.y,duration:n,easing:r})}_updateNode(t){super._updateNode(t),this._animatePositions(t);const e=t.get("d3HierarchyNode"),i=e.children;i&&F(i,(t=>{this._updateNodes(t)}));const s=t.get("fill"),n=t.get("circle"),r=t.get("children");n&&(n._setDefault("fill",s),n._setDefault("stroke",s));const a=t.get("outerCircle");a&&(a._setDefault("fill",s),a._setDefault("stroke",s),r&&0!=r.length||a.setPrivate("visible",!1))}linkDataItems(t,e,i){let s;const n=t.get("links");n&&F(n,(t=>{t.get("target")==e&&(s=t)}));const r=e.get("links");return r&&F(r,(e=>{e.get("target")==t&&(s=e)})),s||(s=this.links.make(),this.links.push(s),this.linksContainer.children.push(s),s.set("source",t),s.set("target",e),s._setDataItem(t),s.set("stroke",t.get("fill")),null!=i&&s.set("strength",i),t.get("childLinks").push(s),H(t.get("links"),s),H(e.get("links"),s),this._processLink(s,t,e)),s}unlinkDataItems(t,e){let i;const s=t.get("links");s&&F(s,(t=>{t&&t.get("target")==e&&(i=t,B(s,i))}));const n=e.get("links");n&&F(n,(e=>{e&&e.get("target")==t&&(i=e,B(n,i))})),i&&this._disposeLink(i),this._handleUnlink()}_handleUnlink(){}_disposeLink(t){this.links.removeValue(t),t.dispose()}areLinked(t,e){const i=t.get("links");let s=!1;i&&F(i,(t=>{t.get("target")==e&&(s=!0)}));const n=e.get("links");return n&&F(n,(e=>{e.get("target")==t&&(s=!0)})),s}_processLink(t,e,i){}disposeDataItem(t){super.disposeDataItem(t);const e=t.get("links");e&&F(e,(t=>{this._disposeLink(t)}))}selectDataItem(t){const e=t.get("parent");if(t.get("disabled")){if(e){this.setRaw("selectedDataItem",e);const i="dataitemselected";this.events.dispatch(i,{type:i,target:this,dataItem:e}),this.disableDataItem(t)}}else this.set("selectedDataItem",t)}}Object.defineProperty(ja,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LinkedHierarchy"}),Object.defineProperty(ja,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Sa.classNames.concat([ja.className])});var Ea={value:()=>{}};function La(){for(var t,e=0,i=arguments.length,s={};e<i;++e){if(!(t=arguments[e]+"")||t in s||/[\s.]/.test(t))throw new Error("illegal type: "+t);s[t]=[]}return new Aa(s)}function Aa(t){this._=t}function Fa(t,e){return t.trim().split(/^|\s+/).map((function(t){var i="",s=t.indexOf(".");if(s>=0&&(i=t.slice(s+1),t=t.slice(0,s)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}}))}function Ra(t,e){for(var i,s=0,n=t.length;s<n;++s)if((i=t[s]).name===e)return i.value}function Va(t,e,i){for(var s=0,n=t.length;s<n;++s)if(t[s].name===e){t[s]=Ea,t=t.slice(0,s).concat(t.slice(s+1));break}return null!=i&&t.push({name:e,value:i}),t}Aa.prototype=La.prototype={constructor:Aa,on:function(t,e){var i,s=this._,n=Fa(t+"",s),r=-1,a=n.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);while(++r<a)if(i=(t=n[r]).type)s[i]=Va(s[i],t.name,e);else if(null==e)for(i in s)s[i]=Va(s[i],t.name,null);return this}while(++r<a)if((i=(t=n[r]).type)&&(i=Ra(s[i],t.name)))return i},copy:function(){var t={},e=this._;for(var i in e)t[i]=e[i].slice();return new Aa(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var i,s,n=new Array(i),r=0;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,i){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var s=this._[t],n=0,r=s.length;n<r;++n)s[n].value.apply(e,i)}};var Ba,Na,Ha=La,za=0,Wa=0,Ya=0,Ga=1e3,Xa=0,Ua=0,Ka=0,Za="object"===typeof performance&&performance.now?performance:Date,qa="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function $a(){return Ua||(qa(Ja),Ua=Za.now()+Ka)}function Ja(){Ua=0}function Qa(){this._call=this._time=this._next=null}function to(t,e,i){var s=new Qa;return s.restart(t,e,i),s}function eo(){$a(),++za;var t,e=Ba;while(e)(t=Ua-e._time)>=0&&e._call.call(void 0,t),e=e._next;--za}function io(){Ua=(Xa=Za.now())+Ka,za=Wa=0;try{eo()}finally{za=0,no(),Ua=0}}function so(){var t=Za.now(),e=t-Xa;e>Ga&&(Ka-=e,Xa=t)}function no(){var t,e,i=Ba,s=1/0;while(i)i._call?(s>i._time&&(s=i._time),t=i,i=i._next):(e=i._next,i._next=null,i=t?t._next=e:Ba=e);Na=t,ro(s)}function ro(t){if(!za){Wa&&(Wa=clearTimeout(Wa));var e=t-Ua;e>24?(t<1/0&&(Wa=setTimeout(io,t-Za.now()-Ka)),Ya&&(Ya=clearInterval(Ya))):(Ya||(Xa=Za.now(),Ya=setInterval(so,Ga)),za=1,qa(io))}}Qa.prototype=to.prototype={constructor:Qa,restart:function(t,e,i){if("function"!==typeof t)throw new TypeError("callback is not a function");i=(null==i?$a():+i)+(null==e?0:+e),this._next||Na===this||(Na?Na._next=this:Ba=this,Na=this),this._call=t,this._time=i,ro()},stop:function(){this._call&&(this._call=null,this._time=1/0,ro())}};const ao=1664525,oo=1013904223,lo=4294967296;function ho(){let t=1;return()=>(t=(ao*t+oo)%lo)/lo}function uo(t){return t.x}function po(t){return t.y}var co=10,go=Math.PI*(3-Math.sqrt(5));function fo(t){var e,i=1,s=.001,n=1-Math.pow(s,1/300),r=0,a=.6,o=new Map,l=to(p),h=Ha("tick","end"),u=ho();function p(){c(),h.call("tick",e),i<s&&(l.stop(),h.call("end",e))}function c(s){var l,h,u=t.length;void 0===s&&(s=1);for(var p=0;p<s;++p)for(i+=(r-i)*n,o.forEach((function(t){t(i)})),l=0;l<u;++l)h=t[l],null==h.fx?h.x+=h.vx*=a:(h.x=h.fx,h.vx=0),null==h.fy?h.y+=h.vy*=a:(h.y=h.fy,h.vy=0);return e}function d(){for(var e,i=0,s=t.length;i<s;++i){if(e=t[i],e.index=i,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var n=co*Math.sqrt(.5+i),r=i*go;e.x=n*Math.cos(r),e.y=n*Math.sin(r)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function g(e){return e.initialize&&e.initialize(t,u),e}return null==t&&(t=[]),d(),e={tick:c,restart:function(){return l.restart(p),e},stop:function(){return l.stop(),e},nodes:function(i){return arguments.length?(t=i,d(),o.forEach(g),e):t},alpha:function(t){return arguments.length?(i=+t,e):i},alphaMin:function(t){return arguments.length?(s=+t,e):s},alphaDecay:function(t){return arguments.length?(n=+t,e):+n},alphaTarget:function(t){return arguments.length?(r=+t,e):r},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},randomSource:function(t){return arguments.length?(u=t,o.forEach(g),e):u},force:function(t,i){return arguments.length>1?(null==i?o.delete(t):o.set(t,g(i)),e):o.get(t)},find:function(e,i,s){var n,r,a,o,l,h=0,u=t.length;for(null==s?s=1/0:s*=s,h=0;h<u;++h)o=t[h],n=e-o.x,r=i-o.y,a=n*n+r*r,a<s&&(l=o,s=a);return l},on:function(t,i){return arguments.length>1?(h.on(t,i),e):h.on(t)}}}function mo(t){const e=+this._x.call(null,t),i=+this._y.call(null,t);return yo(this.cover(e,i),e,i,t)}function yo(t,e,i,s){if(isNaN(e)||isNaN(i))return t;var n,r,a,o,l,h,u,p,c,d=t._root,g={data:s},f=t._x0,m=t._y0,y=t._x1,b=t._y1;if(!d)return t._root=g,t;while(d.length)if((h=e>=(r=(f+y)/2))?f=r:y=r,(u=i>=(a=(m+b)/2))?m=a:b=a,n=d,!(d=d[p=u<<1|h]))return n[p]=g,t;if(o=+t._x.call(null,d.data),l=+t._y.call(null,d.data),e===o&&i===l)return g.next=d,n?n[p]=g:t._root=g,t;do{n=n?n[p]=new Array(4):t._root=new Array(4),(h=e>=(r=(f+y)/2))?f=r:y=r,(u=i>=(a=(m+b)/2))?m=a:b=a}while((p=u<<1|h)===(c=(l>=a)<<1|o>=r));return n[c]=d,n[p]=g,t}function bo(t){var e,i,s,n,r=t.length,a=new Array(r),o=new Array(r),l=1/0,h=1/0,u=-1/0,p=-1/0;for(i=0;i<r;++i)isNaN(s=+this._x.call(null,e=t[i]))||isNaN(n=+this._y.call(null,e))||(a[i]=s,o[i]=n,s<l&&(l=s),s>u&&(u=s),n<h&&(h=n),n>p&&(p=n));if(l>u||h>p)return this;for(this.cover(l,h).cover(u,p),i=0;i<r;++i)yo(this,a[i],o[i],t[i]);return this}function vo(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var i=this._x0,s=this._y0,n=this._x1,r=this._y1;if(isNaN(i))n=(i=Math.floor(t))+1,r=(s=Math.floor(e))+1;else{var a,o,l=n-i||1,h=this._root;while(i>t||t>=n||s>e||e>=r)switch(o=(e<s)<<1|t<i,a=new Array(4),a[o]=h,h=a,l*=2,o){case 0:n=i+l,r=s+l;break;case 1:i=n-l,r=s+l;break;case 2:n=i+l,s=r-l;break;case 3:i=n-l,s=r-l;break}this._root&&this._root.length&&(this._root=h)}return this._x0=i,this._y0=s,this._x1=n,this._y1=r,this}function _o(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t}function xo(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function wo(t,e,i,s,n){this.node=t,this.x0=e,this.y0=i,this.x1=s,this.y1=n}function Po(t,e,i){var s,n,r,a,o,l,h,u=this._x0,p=this._y0,c=this._x1,d=this._y1,g=[],f=this._root;f&&g.push(new wo(f,u,p,c,d)),null==i?i=1/0:(u=t-i,p=e-i,c=t+i,d=e+i,i*=i);while(l=g.pop())if(!(!(f=l.node)||(n=l.x0)>c||(r=l.y0)>d||(a=l.x1)<u||(o=l.y1)<p))if(f.length){var m=(n+a)/2,y=(r+o)/2;g.push(new wo(f[3],m,y,a,o),new wo(f[2],n,y,m,o),new wo(f[1],m,r,a,y),new wo(f[0],n,r,m,y)),(h=(e>=y)<<1|t>=m)&&(l=g[g.length-1],g[g.length-1]=g[g.length-1-h],g[g.length-1-h]=l)}else{var b=t-+this._x.call(null,f.data),v=e-+this._y.call(null,f.data),_=b*b+v*v;if(_<i){var x=Math.sqrt(i=_);u=t-x,p=e-x,c=t+x,d=e+x,s=f.data}}return s}function Oo(t){if(isNaN(r=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,i,s,n,r,a,o,l,h,u,p,c,d=this._root,g=this._x0,f=this._y0,m=this._x1,y=this._y1;if(!d)return this;if(d.length)while(1){if((h=r>=(o=(g+m)/2))?g=o:m=o,(u=a>=(l=(f+y)/2))?f=l:y=l,e=d,!(d=d[p=u<<1|h]))return this;if(!d.length)break;(e[p+1&3]||e[p+2&3]||e[p+3&3])&&(i=e,c=p)}while(d.data!==t)if(s=d,!(d=d.next))return this;return(n=d.next)&&delete d.next,s?(n?s.next=n:delete s.next,this):e?(n?e[p]=n:delete e[p],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(i?i[c]=d:this._root=d),this):(this._root=n,this)}function ko(t){for(var e=0,i=t.length;e<i;++e)this.remove(t[e]);return this}function Do(){return this._root}function To(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t}function So(t){var e,i,s,n,r,a,o=[],l=this._root;l&&o.push(new wo(l,this._x0,this._y0,this._x1,this._y1));while(e=o.pop())if(!t(l=e.node,s=e.x0,n=e.y0,r=e.x1,a=e.y1)&&l.length){var h=(s+r)/2,u=(n+a)/2;(i=l[3])&&o.push(new wo(i,h,u,r,a)),(i=l[2])&&o.push(new wo(i,s,u,h,a)),(i=l[1])&&o.push(new wo(i,h,n,r,u)),(i=l[0])&&o.push(new wo(i,s,n,h,u))}return this}function Co(t){var e,i=[],s=[];this._root&&i.push(new wo(this._root,this._x0,this._y0,this._x1,this._y1));while(e=i.pop()){var n=e.node;if(n.length){var r,a=e.x0,o=e.y0,l=e.x1,h=e.y1,u=(a+l)/2,p=(o+h)/2;(r=n[0])&&i.push(new wo(r,a,o,u,p)),(r=n[1])&&i.push(new wo(r,u,o,l,p)),(r=n[2])&&i.push(new wo(r,a,p,u,h)),(r=n[3])&&i.push(new wo(r,u,p,l,h))}s.push(e)}while(e=s.pop())t(e.node,e.x0,e.y0,e.x1,e.y1);return this}function Mo(t){return t[0]}function Io(t){return arguments.length?(this._x=t,this):this._x}function jo(t){return t[1]}function Eo(t){return arguments.length?(this._y=t,this):this._y}function Lo(t,e,i){var s=new Ao(null==e?Mo:e,null==i?jo:i,NaN,NaN,NaN,NaN);return null==t?s:s.addAll(t)}function Ao(t,e,i,s,n,r){this._x=t,this._y=e,this._x0=i,this._y0=s,this._x1=n,this._y1=r,this._root=void 0}function Fo(t){var e={data:t.data},i=e;while(t=t.next)i=i.next={data:t.data};return e}var Ro=Lo.prototype=Ao.prototype;function Vo(t){return function(){return t}}function Bo(t){return 1e-6*(t()-.5)}function No(t){return t.x+t.vx}function Ho(t){return t.y+t.vy}function zo(t){var e,i,s,n=1,r=1;function a(){for(var t,a,l,h,u,p,c,d=e.length,g=0;g<r;++g)for(a=Lo(e,No,Ho).visitAfter(o),t=0;t<d;++t)l=e[t],p=i[l.index],c=p*p,h=l.x+l.vx,u=l.y+l.vy,a.visit(f);function f(t,e,i,r,a){var o=t.data,d=t.r,g=p+d;if(!o)return e>h+g||r<h-g||i>u+g||a<u-g;if(o.index>l.index){var f=h-o.x-o.vx,m=u-o.y-o.vy,y=f*f+m*m;y<g*g&&(0===f&&(f=Bo(s),y+=f*f),0===m&&(m=Bo(s),y+=m*m),y=(g-(y=Math.sqrt(y)))/y*n,l.vx+=(f*=y)*(g=(d*=d)/(c+d)),l.vy+=(m*=y)*g,o.vx-=f*(g=1-g),o.vy-=m*g)}}}function o(t){if(t.data)return t.r=i[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function l(){if(e){var s,n,r=e.length;for(i=new Array(r),s=0;s<r;++s)n=e[s],i[n.index]=+t(n,s,e)}}return"function"!==typeof t&&(t=Vo(null==t?1:+t)),a.initialize=function(t,i){e=t,s=i,l()},a.iterations=function(t){return arguments.length?(r=+t,a):r},a.strength=function(t){return arguments.length?(n=+t,a):n},a.radius=function(e){return arguments.length?(t="function"===typeof e?e:Vo(+e),l(),a):t},a}function Wo(t){return t.index}function Yo(t,e){var i=t.get(e);if(!i)throw new Error("node not found: "+e);return i}function Go(t){var e,i,s,n,r,a,o=Wo,l=p,h=Vo(30),u=1;function p(t){return 1/Math.min(n[t.source.index],n[t.target.index])}function c(s){for(var n=0,o=t.length;n<u;++n)for(var l,h,p,c,d,g,f,m=0;m<o;++m)l=t[m],h=l.source,p=l.target,c=p.x+p.vx-h.x-h.vx||Bo(a),d=p.y+p.vy-h.y-h.vy||Bo(a),g=Math.sqrt(c*c+d*d),g=(g-i[m])/g*s*e[m],c*=g,d*=g,p.vx-=c*(f=r[m]),p.vy-=d*f,h.vx+=c*(f=1-f),h.vy+=d*f}function d(){if(s){var a,l,h=s.length,u=t.length,p=new Map(s.map(((t,e)=>[o(t,e,s),t])));for(a=0,n=new Array(h);a<u;++a)l=t[a],l.index=a,"object"!==typeof l.source&&(l.source=Yo(p,l.source)),"object"!==typeof l.target&&(l.target=Yo(p,l.target)),n[l.source.index]=(n[l.source.index]||0)+1,n[l.target.index]=(n[l.target.index]||0)+1;for(a=0,r=new Array(u);a<u;++a)l=t[a],r[a]=n[l.source.index]/(n[l.source.index]+n[l.target.index]);e=new Array(u),g(),i=new Array(u),f()}}function g(){if(s)for(var i=0,n=t.length;i<n;++i)e[i]=+l(t[i],i,t)}function f(){if(s)for(var e=0,n=t.length;e<n;++e)i[e]=+h(t[e],e,t)}return null==t&&(t=[]),c.initialize=function(t,e){s=t,a=e,d()},c.links=function(e){return arguments.length?(t=e,d(),c):t},c.id=function(t){return arguments.length?(o=t,c):o},c.iterations=function(t){return arguments.length?(u=+t,c):u},c.strength=function(t){return arguments.length?(l="function"===typeof t?t:Vo(+t),g(),c):l},c.distance=function(t){return arguments.length?(h="function"===typeof t?t:Vo(+t),f(),c):h},c}function Xo(t){var e,i,s,n=Vo(.1);function r(t){for(var n,r=0,a=e.length;r<a;++r)n=e[r],n.vx+=(s[r]-n.x)*i[r]*t}function a(){if(e){var r,a=e.length;for(i=new Array(a),s=new Array(a),r=0;r<a;++r)i[r]=isNaN(s[r]=+t(e[r],r,e))?0:+n(e[r],r,e)}}return"function"!==typeof t&&(t=Vo(null==t?0:+t)),r.initialize=function(t){e=t,a()},r.strength=function(t){return arguments.length?(n="function"===typeof t?t:Vo(+t),a(),r):n},r.x=function(e){return arguments.length?(t="function"===typeof e?e:Vo(+e),a(),r):t},r}function Uo(t){var e,i,s,n=Vo(.1);function r(t){for(var n,r=0,a=e.length;r<a;++r)n=e[r],n.vy+=(s[r]-n.y)*i[r]*t}function a(){if(e){var r,a=e.length;for(i=new Array(a),s=new Array(a),r=0;r<a;++r)i[r]=isNaN(s[r]=+t(e[r],r,e))?0:+n(e[r],r,e)}}return"function"!==typeof t&&(t=Vo(null==t?0:+t)),r.initialize=function(t){e=t,a()},r.strength=function(t){return arguments.length?(n="function"===typeof t?t:Vo(+t),a(),r):n},r.y=function(e){return arguments.length?(t="function"===typeof e?e:Vo(+e),a(),r):t},r}function Ko(){var t,e,i,s,n,r=Vo(-30),a=1,o=1/0,l=.81;function h(i){var n,r=t.length,a=Lo(t,uo,po).visitAfter(p);for(s=i,n=0;n<r;++n)e=t[n],a.visit(c)}function u(){if(t){var e,i,s=t.length;for(n=new Array(s),e=0;e<s;++e)i=t[e],n[i.index]=+r(i,e,t)}}function p(t){var e,i,s,r,a,o=0,l=0;if(t.length){for(s=r=a=0;a<4;++a)(e=t[a])&&(i=Math.abs(e.value))&&(o+=e.value,l+=i,s+=i*e.x,r+=i*e.y);t.x=s/l,t.y=r/l}else{e=t,e.x=e.data.x,e.y=e.data.y;do{o+=n[e.data.index]}while(e=e.next)}t.value=o}function c(t,r,h,u){if(!t.value)return!0;var p=t.x-e.x,c=t.y-e.y,d=u-r,g=p*p+c*c;if(d*d/l<g)return g<o&&(0===p&&(p=Bo(i),g+=p*p),0===c&&(c=Bo(i),g+=c*c),g<a&&(g=Math.sqrt(a*g)),e.vx+=p*t.value*s/g,e.vy+=c*t.value*s/g),!0;if(!(t.length||g>=o)){(t.data!==e||t.next)&&(0===p&&(p=Bo(i),g+=p*p),0===c&&(c=Bo(i),g+=c*c),g<a&&(g=Math.sqrt(a*g)));do{t.data!==e&&(d=n[t.data.index]*s/g,e.vx+=p*d,e.vy+=c*d)}while(t=t.next)}}return h.initialize=function(e,s){t=e,i=s,u()},h.strength=function(t){return arguments.length?(r="function"===typeof t?t:Vo(+t),u(),h):r},h.distanceMin=function(t){return arguments.length?(a=t*t,h):Math.sqrt(a)},h.distanceMax=function(t){return arguments.length?(o=t*t,h):Math.sqrt(o)},h.theta=function(t){return arguments.length?(l=t*t,h):Math.sqrt(l)},h}Ro.copy=function(){var t,e,i=new Ao(this._x,this._y,this._x0,this._y0,this._x1,this._y1),s=this._root;if(!s)return i;if(!s.length)return i._root=Fo(s),i;t=[{source:s,target:i._root=new Array(4)}];while(s=t.pop())for(var n=0;n<4;++n)(e=s.source[n])&&(e.length?t.push({source:e,target:s.target[n]=new Array(4)}):s.target[n]=Fo(e));return i},Ro.add=mo,Ro.addAll=bo,Ro.cover=vo,Ro.data=_o,Ro.extent=xo,Ro.find=Po,Ro.remove=Oo,Ro.removeAll=ko,Ro.root=Do,Ro.size=To,Ro.visit=So,Ro.visitAfter=Co,Ro.x=Io,Ro.y=Eo;class Zo extends ja{constructor(){super(...arguments),Object.defineProperty(this,"_tag",{enumerable:!0,configurable:!0,writable:!0,value:"forcedirected"}),Object.defineProperty(this,"d3forceSimulation",{enumerable:!0,configurable:!0,writable:!0,value:fo()}),Object.defineProperty(this,"collisionForce",{enumerable:!0,configurable:!0,writable:!0,value:zo(20)}),Object.defineProperty(this,"linkForce",{enumerable:!0,configurable:!0,writable:!0,value:Go()}),Object.defineProperty(this,"_nodes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_links",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_tick",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_nodesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){super._afterNew(),this.d3forceSimulation.on("tick",(()=>{this._tick++,this.updateNodePositions()}))}_prepareChildren(){if(super._prepareChildren(),this.isDirty("showOnFrame")){const t=this.get("showOnFrame");t>this._tick&&(this.nodesContainer.setPrivate("visible",!1),this.linksContainer.setPrivate("visible",!1))}const t=this.d3forceSimulation;this.isDirty("velocityDecay")&&t.velocityDecay(this.get("velocityDecay",0)),this.isDirty("initialFrames")&&t.alphaDecay(1-Math.pow(.001,1/this.get("initialFrames",500)))}restartSimulation(t){const e=this.d3forceSimulation;e.alpha()<.25&&(e.alpha(t),e.restart())}_handleRadiusChange(){this._updateForces()}processDataItem(t){const e={index:this._index,x:this.innerWidth()/2,y:this.innerHeight()/2,dataItem:t},i=this._nodes.push(e)-1;e.index=i,this.d3forceSimulation.nodes(this._nodes),t.set("d3ForceNode",e),super.processDataItem(t);const s=t.get("node");s.set("x",-1e4),s.on("scale",(()=>{this._updateForces()})),s.events.on("dragged",(()=>{e.fx=s.x(),e.fy=s.y(),this._updateForces()})),s.events.on("dragstop",(()=>{null==t.get("x")&&(e.fx=void 0),null==t.get("y")&&(e.fy=void 0)}))}_updateValues(t){super._updateValues(t),this._nodesDirty=!0;const e=this.d3forceSimulation;e.force("collision",this.collisionForce),e.nodes(this._nodes),this.linkForce=Go(this._links),e.force("link",this.linkForce)}_updateVisuals(){super._updateVisuals(),this.restartSimulation(.3)}_updateChildren(){super._updateChildren();const t=this.d3forceSimulation;if(this._sizeDirty){let e=Math.max(50,this.innerWidth()),i=Math.max(50,this.innerHeight()),s=this.get("paddingTop",0),n=this.get("paddingLeft",0),r=this.get("centerStrength",1);t.force("x",Xo().x(e/2+n).strength(100*r/e)),t.force("y",Uo().y(i/2+s).strength(100*r/i))}this._nodesDirty&&this._updateForces()}_updateForces(){const t=this.d3forceSimulation;t.force("manybody",Ko().strength((t=>{let e=t.dataItem,i=e.get("node"),s=e.get("circle"),n=this.get("manyBodyStrength",-15);return s?s.get("radius",1)*i.get("scale",1)*n:0}))),this.collisionForce.radius((t=>{let e=t.dataItem,i=e.get("node"),s=e.get("circle"),n=e.get("outerCircle");if(s&&n){let t=s.get("radius",1);return n.isHidden()||(t*=n.get("scale",1.1)),t*=i.get("scale",1),t+this.get("nodePadding",0)}})),this.restartSimulation(.3)}_animatePositions(t){}_clearDirty(){super._clearDirty(),this._nodesDirty=!1}updateNodePositions(){const t=this.linkForce;t&&(t.distance((t=>this.getDistance(t))),t.strength((t=>this.getStrength(t)))),this._tick==this.get("showOnFrame")&&(this.nodesContainer.setPrivate("visible",!0),this.linksContainer.setPrivate("visible",!0));let e=this.d3forceSimulation.nodes();F(e,(t=>{const e=t.dataItem,i=e.get("node");i.set("x",t.x),i.set("y",t.y)}))}updateLinkWith(t){F(t,(t=>{const e=t.get("linkWith");e&&F(e,(e=>{const i=this._getDataItemById(this.dataItems,e);i&&this.linkDataItems(t,i,this.get("linkWithStrength"))}));const i=t.get("children");i&&this.updateLinkWith(i)}))}getDistance(t){let e=t.sourceDataItem,i=t.targetDataItem,s=0;if(e&&i){const n=i.get("node");if(n.isHidden())return 0;let r=t.link;r&&(s=r.get("distance",1));const a=e.get("node");return n.isHidden()&&(s=1),s*(e.get("circle").get("radius",1)*a.get("scale",1)+i.get("circle").get("radius",1)*n.get("scale",1))}return s}getStrength(t){let e=0,i=t.link;i&&(e=i.get("strength",1));const s=t.targetDataItem;return e*=s.get("node").get("scale"),e}_updateNode(t){super._updateNode(t),this._updateRadius(t);const e=t.get("x"),i=t.get("y"),s=t.get("d3ForceNode");s.fx=null!=e?qt(e,this.innerWidth()):void 0,null!=i?s.fy=qt(i,this.innerHeight()):s.fx=void 0}_updateRadius(t){let e=(this.innerWidth()+this.innerHeight())/2,i=qt(this.get("minRadius",1),e),s=qt(this.get("maxRadius",5),e),n=t.get("sum"),r=s;const a=this.getPrivate("valueLow",0),o=this.getPrivate("valueHigh",0);o>0&&(r=i+(n-a)/(o-a)*(s-i)),ct(r)||(r=i);const l=this.get("animationDuration",0),h=this.get("animationEasing");t.get("circle").animate({key:"radius",to:r,duration:l,easing:h})}_processLink(t,e,i){const s={link:t,source:e.get("d3ForceNode").index,target:i.get("d3ForceNode").index,sourceDataItem:e,targetDataItem:i};this._links.push(s),t.setPrivate("d3Link",s),this.linkForce=Go(this._links),this.d3forceSimulation.force("link",this.linkForce),this.restartSimulation(.5)}_disposeLink(t){super._disposeLink(t),B(this._links,t.getPrivate("d3Link"))}_handleUnlink(){this.restartSimulation(.5)}_onDataClear(){super._onDataClear(),this._nodes=[],this._links=[]}}Object.defineProperty(Zo,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ForceDirected"}),Object.defineProperty(Zo,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ja.classNames.concat([Zo.className])});var qo={name:"schools",data(){return{schoolvalue:100,schoolsalbarvalue:75,salbarvalue:50}},mounted(){let t=on["new"](this.$refs.chartdiv);t.setThemes([Yn["new"](t)]);let e={value:0,children:[{name:"Бизнесийн сургууль",children:[{name:"Нягтлан бодох бүртгэл",value:1},{name:"Санхүү",value:1},{name:"Банк",value:1},{name:"Даатгал",value:1},{name:"Маркетинг",value:1},{name:"Менежмент",value:1},{name:"Худалдаа",value:1},{name:"Зочлох үйлчилгээ",value:1}],value:this.schoolvalue},{name:"Дорнод аймаг дахь сургууль",children:[{name:"Ашигт малтмалын баяжуулалтын технологи",value:1},{name:"Гадаад хэлний орчуулга (Хятад)",value:1},{name:"Түүх",value:1},{name:"Нягтлан бодох бүртгэл",value:1},{name:"Бизнесийн удирдлага",value:1},{name:"Газрын тосны инженерчлэл",value:1},{name:"Нийгмийн ажил",value:1},{name:"Аялал жуулчлал",value:1},{name:"Сэтгэл судлал",value:1},{name:"Мэдээллийн технологи",value:1},{name:"Багш, дизайн технологийн боловсрол",value:1},{name:"Багш, дизайн зураг зүйн боловсрол",value:1},{name:"Багш, дүрслэх урлагийн боловсрол",value:1},{name:"Багш, биеийн тамирын боловсрол",value:1},{name:"Багш, сургуулийн өмнөх боловсрол",value:1},{name:"Багш, хөгжмийн боловсрол",value:1},{name:"Багш, мэдээлэл зүйн боловсрол",value:1},{name:"Багш, математикийн боловсрол",value:1},{name:"Багш, физикийн боловсрол",value:1},{name:"Багш, монгол хэл, уран зохиолын боловсрол",value:1},{name:"Багш, гадаад хэлний боловсрол (Англи)",value:1},{name:"Багш, бага боловсрол",value:1}],value:this.schoolsalbarvalue},{name:"Завхан сургууль",children:[{name:"Нягтлан бодох бүртгэл",value:1},{name:"Санхүү",value:1},{name:"Банк",value:1},{name:"Маркетинг",value:1},{name:"Менежмент",value:1}],value:this.schoolsalbarvalue},{name:"Олон улсын харилцаа, нийтийн удирдлагын сургууль",children:[{name:"Нийтийн удирдлага (Завхан сургууль болон ОУХНУС-ийн `2+2` жилийн хамтарсан хөтөлбөр)"},{name:"Олон улсын харилцаа",value:1},{name:"Нийтийн удирдлага",value:1}],value:this.schoolvalue},{name:"Ховд сургууль",children:[{name:"Нягтлан бодох бүртгэл",value:1},{name:"Санхүү",value:1},{name:"Эрх зүй",value:1},{name:"Программ хангамж",value:1},{name:"Барилгын инженерчлэл",value:1},{name:"Цахилгааны инженер",value:1},{name:"Уул уурхайн ашиглалтын технологи",value:1},{name:"Геологи",value:1},{name:"Газар зохион байгуулалт",value:1},{name:"Химийн боловсруулалтын технологи",value:1},{name:"Аялал жуулчлал",value:1},{name:"Бизнесийн удирдлага",value:1},{name:"Гадаад хэлний орчуулга (Англи)",value:1},{name:"Гадаад хэлний орчуулга (Хятад)",value:1},{name:"Нийгмийн ажил",value:1},{name:"Нийгмийн эрүүл мэнд",value:1},{name:"Нийтийн удирдлага",value:1},{name:"Ойн аж ахуй",value:1},{name:"Сэтгэл судлал",value:1},{name:"Экологи",value:1},{name:"Багш, дүрслэх урлагийн боловсрол",value:1},{name:"Багш, дизайн технологийн боловсрол",value:1},{name:"Багш, дизайн зураг зүйн боловсрол",value:1},{name:"Багш, биеийн тамирын боловсрол",value:1},{name:"Үндэсний язгуур урлаг",value:1},{name:"Багш, сургуулийн өмнөх боловсрол",value:1},{name:"Багш, хөгжмийн боловсрол",value:1},{name:"Багш, бага боловсрол",value:1},{name:"Багш, мэдээлэл зүйн боловсрол",value:1},{name:"Багш, математикийн боловсрол",value:1},{name:"Багш, физикийн боловсрол",value:1},{name:"Багш, биологийн боловсрол",value:1},{name:"Багш, гадаад хэлний боловсрол (Англи)",value:1},{name:"Багш, гадаад хэлний боловсрол (Орос)",value:1},{name:"Багш, газар зүйн боловсрол",value:1},{name:"Багш, монгол хэл, уран зохиолын боловсрол",value:1},{name:"Багш, нийгмийн ухааны боловсрол",value:1},{name:"Багш, химийн боловсрол",value:1}],value:this.schoolsalbarvalue},{name:"Хууль зүйн сургууль",children:[{name:"Эрх зүй",value:1}],value:this.schoolvalue},{name:"Хэрэглээний шинжлэх ухаан, инженерчлэлийн сургууль",children:[{name:"Компьютерын ухаан",value:1},{name:"Мэдээллийн технологи",value:1},{name:"Программ хангамж",value:1},{name:"Мультимедиа технологи",value:1},{name:"Мэдээллийн систем",value:1},{name:"Хэрэглээний математик",value:1},{name:"Электроникийн инженерчлэл",value:1},{name:"Компьютерын сүлжээ",value:1},{name:"Сэргээгдэх эрчим хүч",value:1},{name:"Холбооны технологи",value:1},{name:"Цөмийн инженерчлэл",value:1},{name:"Био-инженерчлэл",value:1},{name:"Материал судлал, инженерчлэл ",value:1},{name:"Нано шинжлэх ухаан, инженерчлэл",value:1},{name:"Химийн инженерчлэл",value:1},{name:"Хүрээлэн буй орчны инженерчлэл",value:1},{name:"Ус судлал",value:1},{name:"Цаг уур судлал",value:1},{name:"Химийн боловсруулалтын технологи",value:1},{name:"Хүрээлэн буй орчин судлал",value:1},{name:"Ойн аж ахуй",value:1},{name:"Хүрээлэн буй орчин судлал (Завхан сургууль болон ХШУИС-ийн `1+3` дотоодын хамтарсан хөтөлбөр)",value:1},{name:"Ойн аж ахуй (Завхан сургууль болон ХШУИС-ийн `1+3` дотоодын хамтарсан хөтөлбөр)",value:1}],value:this.schoolvalue},{name:"Шинжлэх ухааны сургууль",children:[{name:"Байгалийн ухааны салбар",children:[{name:"Физик электроник",value:1},{name:"Аялал жуулчлал",value:1},{name:"Байгаль орчны зайнаас тандан судлал",value:1},{name:"Биохими",value:1},{name:"Биотехнологи",value:1},{name:"Биологи",value:1},{name:"Математик",value:1},{name:"Физик",value:1},{name:"Хими",value:1},{name:"Газарзүй",value:1},{name:"Геологи",value:1},{name:"Хот ба бүс нутгийн төлөвлөлт",value:1},{name:"Газар зохион байгуулалт",value:1},{name:"Геофизик",value:1},{name:"Биологийн нөөц судлал",value:1},{name:"Экологи",value:1},{name:"Микробиологи",value:1},{name:"Хэрэглээний хими",value:1},{name:"Багш, математикийн боловсрол",value:1},{name:"Багш, физикийн боловсрол",value:1},{name:"Багш, химийн боловсрол",value:1},{name:"Багш, биологийн боловсрол",value:1},{name:"Багш, газарзүйн боловсрол",value:1}],value:this.salbarvalue},{name:"Нийгмийн ухааны салбар",children:[{name:"Антропологи",value:1},{name:"Археологи",value:1},{name:"Хүн ам зүй",value:1},{name:"Нийгмийн ажил",value:1},{name:"Социологи",value:1},{name:"Сэтгүүл зүй",value:1},{name:"Сэтгэл судлал",value:1},{name:"Улс төр судлал",value:1},{name:"Эдийн засаг",value:1}],value:this.salbarvalue},{name:"Хүмүүнлэгийн ухааны салбар",children:[{name:"Гадаад хэлний орчуулга (Англи)",value:1},{name:"Гадаад хэлний орчуулга (Орос)",value:1},{name:"Гадаад хэлний орчуулга (Солонгос)",value:1},{name:"Гадаад хэлний орчуулга (Хятад)",value:1},{name:"Гадаад хэлний орчуулга (Япон)",value:1},{name:"Орон судлал (Америк)",value:1},{name:"Орон судлал (Испани)",value:1},{name:"Орон судлал (Итали)",value:1},{name:"Орон судлал (Их британи)",value:1},{name:"Орон судлал (Польш)",value:1},{name:"Орон судлал (Солонгос)",value:1},{name:"Орон судлал (Турк)",value:1},{name:"Орон судлал (Франц)",value:1},{name:"Орон судлал (Хятад)",value:1},{name:"Орон судлал (Чех)",value:1},{name:"Орон судлал (Япон)",value:1},{name:"Утга зохиол судлал",value:1},{name:"Урлаг судлал",value:1},{name:"Хэл, уран зохиол (Монгол хэл)",value:1},{name:"Хэл шинжлэл (Монгол хэл)",value:1},{name:"Хэл шинжлэл (Хятад)",value:1},{name:"Багш, гадаад хэлний боловсрол (Англи)",value:1},{name:"Багш, гадаад хэлний боловсрол (Орос)",value:1},{name:"Түүх",value:1},{name:"Философи",value:1},{name:"Шашин судлал",value:1},{name:"Багш, монгол хэл, уран зохиолын боловсрол",value:1},{name:"Багш, нийгмийн ухааны боловсрол (Түүх)",value:1}],value:this.salbarvalue}],value:this.schoolvalue}]},i=t.container.children.push(Bi["new"](t,{width:Pt(100),height:Pt(100),layout:t.verticalLayout})),s=i.children.push(Zo["new"](t,{singleBranchOnly:!1,downDepth:2,topDepth:1,initialDepth:2,valueField:"value",categoryField:"name",childDataField:"children",idField:"name",linkWithField:"linkWith",manyBodyStrength:-10,centerStrength:1,legendValueText:""}));s.links.template.set("strength",.5),s.labels.template.setAll({text:"{category} [bold][/]",fontSize:14,wrap:!0,maxWidth:30}),s.nodes.template.set("tooltipText","{category}"),s.data.setAll([e]),s.set("selectedDataItem",s.dataItems[0]),s.appear(1e3,100);let n=i.children.push(yn["new"](t,{width:Pt(100),centerX:Pt(50),x:Pt(50),marginTop:20,marginBottom:20}));n.data.setAll(s.dataItems[0].get("children"))}};const $o=(0,Xn.Z)(qo,[["render",sa],["__scopeId","data-v-046c5f4c"]]);var Jo=$o;const Qo=t=>((0,s.dD)("data-v-2a634c0a"),t=t(),(0,s.Cn)(),t),tl={id:"chart-container",ref:"chartdiv"},el=Qo((()=>(0,s._)("div",{id:"chart-tooltip"},null,-1))),il=[el];function sl(t,e,i,n,r,a){return(0,s.wg)(),(0,s.iD)("div",tl,il,512)}var nl=function(){function t(t){this._value=t}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value/100},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"percent",{get:function(){return this._value},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this._value+"%"},t}();function rl(t){return new nl(t)}function al(t){return t instanceof nl}function ol(t){return Number(t)!==t}function ll(t){return{}.toString.call(t)}function hl(t){if("string"===typeof t)return t;if("number"===typeof t)return""+t;throw new Error("Expected a string or number but got "+ll(t))}function ul(t){return!!t}function pl(t){if(gl(t)&&!vl(t)){var e=Number(t);return ol(e)&&bl(t)&&""!=t?pl(t.replace(/[^0-9.\-]+/g,"")):e}return t}function cl(t){if(gl(t)&&!bl(t)){if(vl(t))return hl(t);if(_l(t))return t.toString()}return t}function dl(t){return!gl(t)||vl(t)||al(t)?t:bl(t)&&-1!=t.indexOf("%")?rl(pl(t)):pl(t)}function gl(t){return null!=t}function fl(t){if(gl(t))return t;throw new Error("Value doesn't exist")}function ml(t,e){return gl(t)?t:e}function yl(t){return"[object Date]"===ll(t)}function bl(t){return"string"===typeof t}function vl(t){return"number"===typeof t&&Number(t)==t}function _l(t){return"object"===typeof t&&null!=t}function xl(t){return Array.isArray(t)}var wl=Math.PI,Pl=wl/2,Ol=wl/180,kl=180/wl;function Dl(t,e,i){return gl(t)?(t=pl(t),Cl(t,e,i)):t}function Tl(t,e,i){if(!vl(e)||e<=0){var s=Math.round(t);return i&&s-t==.5&&s--,s}var n=Math.pow(10,e);return Math.round(t*n)/n}function Sl(t,e){if(!vl(e)||e<=0)return Math.ceil(t);var i=Math.pow(10,e);return Math.ceil(t*i)/i}function Cl(t,e,i){if(vl(e)){if(vl(i)&&i<e){var s=i;i=e,e=s}t<e&&(t=e)}return vl(i)&&t>i&&(t=i),t}function Ml(t){return Tl(Math.sin(Ol*t),10)}function Il(t){return Tl(Math.cos(Ol*t),10)}function jl(t,e){return vl(t)?vl(e)&&e>t?e:t:vl(e)?e:null}function El(t,e){return vl(t)?vl(e)&&e<t?e:t:vl(e)?e:null}function Ll(t,e){var i=fl(t.start),s=fl(e.start),n=fl(t.end),r=fl(e.end);return Math.max(i,s)<=Math.min(n,r)}function Al(t,e){var i=fl(t.start),s=fl(e.start),n=fl(t.end),r=fl(e.end),a=Math.max(i,s),o=Math.min(n,r);return o<a?void 0:{start:a,end:o}}function Fl(t,e){return t?(e||(e={x:0,y:0}),Math.sqrt(Math.pow(Math.abs(t.x-e.x),2)+Math.pow(Math.abs(t.y-e.y),2))):0}function Rl(t,e,i,s,n){if(!t)return 0;e||(e={x:0,y:0});var r=0,a=t;if(n>0)for(var o=0;o<=n;o++){var l=Wl(t,e,i,s,o/n);r+=Fl(a,l),a=l}return r}function Vl(t,e,i,s){var n=Fl(e,s),r=Fl(t,i);return Math.abs(r/n)}function Bl(t,e,i){return vl(i)||(i=.5),{x:t.x+(e.x-t.x)*i,y:t.y+(e.y-t.y)*i}}function Nl(t,e){e||(e={x:2*t.x,y:2*t.y});var i=e.x-t.x,s=e.y-t.y,n=Math.atan2(s,i)*kl;return n<0&&(n+=360),Ul(n)}function Hl(t){if(t){var e=t.length;if(0!==e){for(var i,s=void 0,n=void 0,r=void 0,a=0;a<e;a++){var o=t[a];(!vl(n)||o.x>n)&&(n=o.x),(!vl(s)||o.x<s)&&(s=o.x),(!vl(i)||o.y<i)&&(i=o.y),(!vl(r)||o.y>r)&&(r=o.y)}return{x:s,y:i,width:n-s,height:r-i}}}return{x:0,y:0,width:0,height:0}}function zl(t){var e=t.length;if(0!==e){for(var i=void 0,s=void 0,n=void 0,r=void 0,a=0;a<e;a++){var o=t[a];i=El(o.x,i),s=El(o.y,s),n=jl(o.x+o.width,n),r=jl(o.y+o.height,r)}return{x:i,y:s,width:n-i,height:r-s}}}function Wl(t,e,i,s,n){var r={x:0,y:0},a=1-n,o=a*a,l=o*a;return r.x=t.x*l+3*i.x*o*n+3*s.x*a*n*n+e.x*n*n*n,r.y=t.y*l+3*i.y*o*n+3*s.y*a*n*n+e.y*n*n*n,r}function Yl(t,e,i,s,n,r){return n=Xl(n),r=Xl(r),{x:(-t.x+e.x/n+i.x)*n,y:(-t.y+e.y/r+i.y)*r}}function Gl(t,e,i,s,n,r){return n=Xl(n),r=Xl(r),{x:(e.x+i.x/n-s.x)*n,y:(e.y+i.y/r-s.y)*r}}function Xl(t){return 1-t+1e-5}function Ul(t){return 360==t?360:t%360}function Kl(t,e,i){var s=Number.MAX_VALUE,n=Number.MAX_VALUE,r=-Number.MAX_VALUE,a=-Number.MAX_VALUE,o=[];vl(i)||(i=1),o.push(Zl(i,t)),o.push(Zl(i,e));for(var l=Math.min(90*Math.floor(t/90),90*Math.floor(e/90)),h=Math.max(90*Math.ceil(t/90),90*Math.ceil(e/90)),u=l;u<=h;u+=90)u>=t&&u<=e&&o.push(Zl(i,u));for(var p=0;p<o.length;p++){var c=o[p];c.x<s&&(s=c.x),c.y<n&&(n=c.y),c.x>r&&(r=c.x),c.y>a&&(a=c.y)}return{x:s,y:n,width:r-s,height:a-n}}function Zl(t,e){return{x:t*Il(e),y:t*Ml(e)}}function ql(t,e){return t.x>=e.x&&t.x<=e.x+e.width&&t.y>=e.y&&t.y<=e.y+e.height}function $l(t,e){for(var i=t.length,s=0;s<i;++s)if(t[s]===e)return s;return-1}function Jl(t,e){for(var i=t.length,s=0;s<i;++s)if(e(t[s]))return!0;return!1}function Ql(t,e){for(var i=t.length,s=new Array(i),n=0;n<i;++n)s[n]=e(t[n],n);return s}function th(t,e){for(var i=t.length,s=0;s<i;++s)e(t[s],s)}function eh(t,e){var i=t.length;while(i--)e(t[i],i)}function ih(t,e){for(var i=t.length,s=0;s<i;++s)if(!e(t[s],s))break}function sh(t,e){for(var i=t.length,s=e;s<i;++s)t[s-e]=t[s];t.length=i-e}function nh(t,e){for(var i=e.length,s=0;s<i;++s)t.push(e[s])}function rh(t,e){var i=!1,s=t.indexOf(e);if(-1!==s){i=!0,t.splice(s,1);var n=t.length;while(s<n)t[s]===e?(t.splice(s,1),--n):++s}return i}function ah(t,e,i){var s=$l(t,e);-1!==s&&ch(t,s),null==i?t.push(e):ph(t,i,e)}function oh(t,e,i){vl(i)?0===i?t.unshift(e):t.splice(i,0,e):t.push(e)}function lh(t,e,i){var s=t.indexOf(e);-1!==s&&t.splice(s,1),vl(i)?t.splice(i,0,e):t.push(e)}function hh(t){return Array.isArray(t)?t:[t]}function uh(t){for(var e=t.length,i=new Array(e),s=0;s<e;++s)i[s]=t[s];return i}function ph(t,e,i){t.splice(e,0,i)}function ch(t,e){t.splice(e,1)}function dh(t,e,i){var s=0,n=t.length,r=!1;while(s<n){var a=s+n>>1,o=e(i,t[a]);o<0?n=a:0===o?(r=!0,s=a+1):s=a+1}return{found:r,index:r?s-1:s}}function gh(t,e){for(var i=t.length,s=0;s<i;++s)if(e(t[s],s))return s;return-1}function fh(t,e){var i=gh(t,e);if(-1!==i)return t[i]}function mh(t,e){var i=t.length,s=0;while(s<i)e(t[s])?++s:(t.splice(s,1),--i)}var yh=function(){function t(t){this._disposed=!1,this._dispose=t}return t.prototype.isDisposed=function(){return this._disposed},t.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._dispose())},t}(),bh=function(t){function e(e){return t.call(this,(function(){th(e,(function(t){t.dispose()}))}))||this}return Tt(e,t),e}(yh),vh=function(t){function e(){var e=t.call(this,(function(){gl(e._disposer)&&(e._disposer.dispose(),e._disposer=void 0)}))||this;return e}return Tt(e,t),e.prototype.get=function(){return this._value},e.prototype.set=function(t,e){gl(this._disposer)&&this._disposer.dispose(),this._disposer=e,this._value=t},e.prototype.reset=function(){this.set(void 0,void 0)},e}(yh),_h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._counter=0,e}return Tt(e,t),e.prototype.increment=function(){var t=this;return++this._counter,new yh((function(){--t._counter,0===t._counter&&t.dispose()}))},e}(yh),xh=!1,wh=[],Ph=[],Oh=[],kh=[],Dh=1e3/60,Th="function"===typeof requestAnimationFrame?function(t){requestAnimationFrame(t)}:function(t){setTimeout(t,Dh)};function Sh(){for(var t=Date.now(),e=wh.length,i=0;i<e;++i)wh[i](t);sh(wh,e);for(i=0;i<Ph.length;++i)Ph[i](t);Ph.length=0;for(i=0;i<Oh.length;++i)Oh[i](t);Oh.length=0,0===wh.length&&0===Ph.length?xh=!1:Th(Sh)}function Ch(){xh||(xh=!0,Th(Sh))}function Mh(t){Ph.push(t),Ch()}function Ih(t){Oh.push(t),Ch()}function jh(t){kh.push(t)}function Eh(){for(var t=Date.now(),e=kh.length,i=0;i<e;++i)kh.shift()(t)}var Lh=function(){function t(){this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1}return t.prototype.isDisposed=function(){return this._disposed},t.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var t=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{th(t,(function(t){t.disposer.dispose()}))}finally{this._killed=null,this._iterating=null}}},t.prototype.hasListeners=function(){return 0!==this._listeners.length},t.prototype.hasListenersByType=function(t){return Jl(this._listeners,(function(e){return(null===e.type||e.type===t)&&!e.killed}))},t.prototype.enable=function(){this._enabled=!0},t.prototype.disable=function(){this._enabled=!1},t.prototype.enableType=function(t){delete this._disabled[t]},t.prototype.disableType=function(t,e){void 0===e&&(e=1/0),this._disabled[t]=e},t.prototype._removeListener=function(t){if(0===this._iterating){var e=this._listeners.indexOf(t);if(-1===e)throw new Error("Invalid state: could not remove listener");this._listeners.splice(e,1)}else this._killed.push(t)},t.prototype._removeExistingListener=function(t,e,i,s){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener((function(n){n.once!==t||n.type!==e||null!=i&&n.callback!==i||n.context!==s||n.disposer.dispose()}))},t.prototype.isEnabled=function(t){if(this._disposed)throw new Error("EventDispatcher is disposed");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(t)&&null==this._disabled[t]},t.prototype.has=function(t,e,i){var s=gh(this._listeners,(function(s){return!0!==s.once&&s.type===t&&(null==e||s.callback===e)&&s.context===i}));return-1!==s},t.prototype._shouldDispatch=function(t){if(this._disposed)throw new Error("EventDispatcher is disposed");var e=this._disabled[t];return vl(e)?(e<=1?delete this._disabled[t]:--this._disabled[t],!1):this._enabled},t.prototype._eachListener=function(t){var e=this;++this._iterating;try{th(this._listeners,t)}finally{--this._iterating,0===this._iterating&&0!==this._killed.length&&(th(this._killed,(function(t){e._removeListener(t)})),this._killed.length=0)}},t.prototype.dispatchImmediately=function(t,e){this._shouldDispatch(t)&&this._eachListener((function(i){i.killed||null!==i.type&&i.type!==t||i.dispatch(t,e)}))},t.prototype.dispatch=function(t,e){this._shouldDispatch(t)&&this._eachListener((function(i){i.killed||null!==i.type&&i.type!==t||jh((function(){i.killed||i.dispatch(t,e)}))}))},t.prototype._on=function(t,e,i,s,n,r){var a=this;if(this._disposed)throw new Error("EventDispatcher is disposed");this._removeExistingListener(t,e,i,s);var o={type:e,callback:i,context:s,shouldClone:n,dispatch:r,killed:!1,once:t,disposer:new yh((function(){o.killed=!0,a._removeListener(o)}))};return this._listeners.push(o),o},t.prototype.onAll=function(t,e,i){return void 0===i&&(i=!0),this._on(!1,null,t,e,i,(function(i,s){return t.call(e,i,s)})).disposer},t.prototype.on=function(t,e,i,s){return void 0===s&&(s=!0),this._on(!1,t,e,i,s,(function(t,s){return e.call(i,s)})).disposer},t.prototype.once=function(t,e,i,s){void 0===s&&(s=!0);var n=this._on(!0,t,e,i,s,(function(t,s){n.disposer.dispose(),e.call(i,s)}));return n.disposer},t.prototype.off=function(t,e,i){this._removeExistingListener(!1,t,e,i)},t.prototype.copyFrom=function(t){var e=this;if(this._disposed)throw new Error("EventDispatcher is disposed");if(t===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");th(t._listeners,(function(t){!t.killed&&t.shouldClone&&(null===t.type?e.onAll(t.callback,t.context):t.once?e.once(t.type,t.callback,t.context):e.on(t.type,t.callback,t.context))}))},t}(),Ah=function(t){function e(e){var i=t.call(this)||this;return i.target=e,i}return Tt(e,t),e.prototype.copyFrom=function(t){var e=this;if(this._disposed)throw new Error("EventDispatcher is disposed");if(t===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");th(t._listeners,(function(i){i.context!==t.target&&!i.killed&&i.shouldClone&&(null===i.type?e.onAll(i.callback,i.context):i.once?e.once(i.type,i.callback,i.context):e.on(i.type,i.callback,i.context))}))},e}(Lh);function Fh(t){return function(e){for(var i in t)if(Bh(t,i)&&!e([i,t[i]]))break}}function Rh(t){var e=[];for(var i in t)Bh(t,i)&&e.push(i);return e}function Vh(t,e){return Rh(t).sort(e)}function Bh(t,e){return{}.hasOwnProperty.call(t,e)}function Nh(t,e){for(var i in t)if(Bh(t,i)&&!e(i,t[i]))break}function Hh(t,e){Nh(t,(function(t,i){return e(t,i),!0}))}function zh(t,e,i){th(Vh(t,i),(function(i){e(i,t[i])}))}function Wh(t,e){return Object.assign({},t,e)}function Yh(t){return JSON.parse(JSON.stringify(t))}function Gh(t,e,i){th(i,(function(i){gl(t[i])&&(e[i]=t[i])}))}function Xh(t,e){Gh(t,e,Rh(t))}function Uh(t){return function(e){for(var i=t.length,s=0;s<i;++s)if(!e(t[s]))break}}function Kh(t){var e=[];return t((function(t){return e.push(t),!0})),e}function Zh(t,e){t(e)}function qh(t,e){t((function(t){return e(t),!0}))}function $h(t,e){return Uh(Kh(t).sort(e))}function Jh(t,e){return function(i){return t((function(t){return i(e(t))}))}}function Qh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){for(var i=!0,s=function(t){return i=e(t)},n=t.length,r=0;r<n;++r)if(t[r](s),!i)break}}function tu(t){return function(e){var i=!0,s=function(t){return i=e(t)};t((function(t){return t(s),i}))}}function eu(t){return function(e){var i=0;t((function(t){return e([i++,t])}))}}function iu(t,e){var i;return t((function(t){return!e(t)||(i=t,!1)})),i}function su(t,e){var i=!1;return t((function(t){return!e(t)||(i=!0,!1)})),i}var nu=function(){function t(t,e){this.createNewItems=!1,this.list=t,this._create=e,this.reset()}return t.prototype.reset=function(){this._listCopy=Kh(this.list.iterator())},t.prototype.clear=function(){this._listCopy.length=0},t.prototype.getFirst=function(){return this.returnItem(0)},t.prototype.getLast=function(){return this.returnItem(this._listCopy.length-1)},t.prototype.find=function(t){var e=gh(this._listCopy,t);if(-1!==e){var i=this._listCopy[e];return rh(this._listCopy,i),i}return this.getLast()},t.prototype.removeItem=function(t){return rh(this._listCopy,t)},t.prototype.returnItem=function(t){if(t>=0&&t<this._listCopy.length){var e=this._listCopy[t];return rh(this._listCopy,e),e}if(this.createNewItems)return this._create()},t.prototype.iterator=function(){return Uh(this._listCopy)},t}();function ru(t,e){return t===e?0:t<e?-1:1}function au(t,e){return new Array(e+1).join(t)}function ou(t){for(var e="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=0;s<t;s++)e+=i.charAt(Math.floor(Math.random()*i.length));return e}var lu=function(t){function e(e){var i=this,s=e.events.on("removed",(function(t){t.oldValue.dispose()}),void 0,!1);return i=t.call(this,(function(){s.dispose(),qh(e.iterator(),(function(t){var e=t[1];e.dispose()}))}))||this,i}return Tt(e,t),e}(yh),hu=function(){function t(){this.events=new Lh,this._dictionary={}}return t.prototype.hasKey=function(t){return Bh(this._dictionary,t)},t.prototype.getKey=function(t){return this._dictionary[t]},t.prototype.insertKey=function(t,e){if(Bh(this._dictionary,t))throw new Error("Key "+t+" already exists in dictionary");this._dictionary[t]=e,this.events.isEnabled("insertKey")&&this.events.dispatchImmediately("insertKey",{type:"insertKey",target:this,key:t,newValue:e})},t.prototype.setKey=function(t,e){if(Bh(this._dictionary,t)){var i=this._dictionary[t];i!==e&&(this._dictionary[t]=e,this.events.isEnabled("setKey")&&this.events.dispatchImmediately("setKey",{type:"setKey",target:this,key:t,oldValue:i,newValue:e}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:i}))}else this._dictionary[t]=e,this.events.isEnabled("insertKey")&&this.events.dispatchImmediately("insertKey",{type:"insertKey",target:this,key:t,newValue:e})},t.prototype.updateKey=function(t,e){if(!Bh(this._dictionary,t))throw new Error("Key "+t+" doesn't exist in dictionary");var i=this._dictionary[t],s=e(i);i!==s&&(this._dictionary[t]=s,this.events.isEnabled("setKey")&&this.events.dispatchImmediately("setKey",{type:"setKey",target:this,key:t,oldValue:i,newValue:s}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:i}))},t.prototype.removeKey=function(t){if(Bh(this._dictionary,t)){var e=this._dictionary[t];delete this._dictionary[t],this.events.isEnabled("removeKey")&&this.events.dispatchImmediately("removeKey",{type:"removeKey",target:this,key:t,oldValue:e}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:e})}},t.prototype.insertKeyIfEmpty=function(t,e){return this.hasKey(t)||this.insertKey(t,e()),this.getKey(t)},t.prototype.clear=function(){var t=this;this.events.isEnabled("removed")&&Hh(this._dictionary,(function(e,i){t.events.dispatchImmediately("removed",{type:"removed",target:t,oldValue:i})})),this._dictionary={},this.events.isEnabled("cleared")&&this.events.dispatchImmediately("cleared",{type:"cleared",target:this})},t.prototype.copyFrom=function(t){var e=this;qh(t.iterator(),(function(t){e.setKey(t[0],t[1])}))},t.prototype.iterator=function(){return Fh(this._dictionary)},t.prototype[Symbol.iterator]=function(){var t,e,i,s;return Ct(this,(function(n){switch(n.label){case 0:for(e in t=[],this._dictionary)t.push(e);i=0,n.label=1;case 1:return i<t.length?(s=t[i],Bh(this._dictionary,s)?[4,[s,this._dictionary[s]]]:[3,3]):[3,4];case 2:n.sent(),n.label=3;case 3:return i++,[3,1];case 4:return[2]}}))},t.prototype.each=function(t){qh(this.iterator(),(function(e){var i=It(e,2),s=i[0],n=i[1];return t(s,n)}))},t.prototype.sortedIterator=function(){return $h(this.iterator(),(function(t,e){return ru(t[0],e[0])}))},t}(),uu=function(t){function e(e){var i=t.call(this)||this;return i.template=e,i}return Tt(e,t),Object.defineProperty(e.prototype,"template",{get:function(){return this._template},set:function(t){t.isTemplate=!0,this._template=t},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(t){var e=this;qh(t.iterator(),(function(t){e.setKey(t[0],t[1].clone())}))},e.prototype.create=function(t){var e=this;return this.insertKeyIfEmpty(t,(function(){return e.template.clone()}))},e}(hu),pu=function(){function t(){this._storage=new hu,this.ttl=1e3}return t.prototype.set=function(t,e,i,s){var n=this._storage.insertKeyIfEmpty(t,(function(){return new hu})),r={touched:(new Date).getTime(),ttl:vl(s)?s:this.ttl,value:i};n.setKey(e,r)},t.prototype.get=function(t,e,i){if(void 0===i&&(i=void 0),this._storage.hasKey(t)){var s=this._storage.getKey(t);if(s.hasKey(e)){var n=s.getKey(e);return n.ttl&&n.touched+n.ttl<(new Date).getTime()&&(n.expired=!0),n.expired?(s.removeKey(e),i):n.value}return i}return i},t.prototype.clear=function(t){t?this._storage.removeKey(t):this._storage.clear()},t}(),cu=new pu,du=function(){function t(){var t=this;this.events=new Lh,this.themes=[],this.loadedThemes={},this._uidCount=0,this.registeredClasses={},this._placeholders={},this.invalidSprites={},this.invalidDatas={},this.invalidRawDatas=[],this.invalidDataItems=[],this.invalidDataRange=[],this.invalidPositions={},this.invalidLayouts={},this.baseSprites=[],this.baseSpritesByUid={},this.queue=[],this.deferred=[],this.uid=this.getUniqueId(),this.invalidSprites.noBase=[],this.invalidDatas.noBase=[],this.invalidLayouts.noBase=[],this.invalidPositions.noBase=[],"undefined"!==typeof addEventListener&&(addEventListener("beforeprint",(function(){th(t.baseSprites,(function(t){var e=t.paper.svg;e.setAttribute("viewBox","0 0 "+e.clientWidth+" "+e.clientHeight)}))})),addEventListener("afterprint",(function(){th(t.baseSprites,(function(t){var e=t.paper.svg;e.removeAttribute("viewBox")}))})))}return t.prototype.getUniqueId=function(){var t=this._uidCount;return this._uidCount+=1,"id-"+t},Object.defineProperty(t.prototype,"map",{get:function(){return this._map||(this._map=new hu),this._map},enumerable:!0,configurable:!0}),t.prototype.setCache=function(t,e,i){cu.set(this.uid,t,e,i)},t.prototype.getCache=function(t,e){return void 0===e&&(e=void 0),cu.get(this.uid,t,e)},t.prototype.dispatch=function(t,e){this.events.isEnabled(t)&&(e?(e.type=t,e.target=e.target||this,this.events.dispatch(t,{type:t,target:this})):this.events.dispatch(t,{type:t,target:this}))},t.prototype.dispatchImmediately=function(t,e){this.events.isEnabled(t)&&(e?(e.type=t,e.target=e.target||this,this.events.dispatchImmediately(t,e)):this.events.dispatchImmediately(t,{type:t,target:this}))},t.prototype.getPlaceholder=function(t){return gl(this._placeholders[t])||(this._placeholders[t]="__amcharts_"+t+"_"+ou(8)+"__"),this._placeholders[t]},t.prototype.addToInvalidComponents=function(t){t.baseId?ah(this.invalidDatas[t.baseId],t):ah(this.invalidDatas["noBase"],t)},t.prototype.removeFromInvalidComponents=function(t){t.baseId&&rh(this.invalidDatas[t.baseId],t),rh(this.invalidDatas["noBase"],t)},t.prototype.addToInvalidSprites=function(t){t.baseId?oh(this.invalidSprites[t.baseId],t):oh(this.invalidSprites["noBase"],t)},t.prototype.removeFromInvalidSprites=function(t){t.baseId&&rh(this.invalidSprites[t.baseId],t),rh(this.invalidSprites["noBase"],t)},t.prototype.addToInvalidPositions=function(t){t.baseId?oh(this.invalidPositions[t.baseId],t):oh(this.invalidPositions["noBase"],t)},t.prototype.removeFromInvalidPositions=function(t){t.baseId&&rh(this.invalidPositions[t.baseId],t),rh(this.invalidPositions["noBase"],t)},t.prototype.addToInvalidLayouts=function(t){t.baseId?oh(this.invalidLayouts[t.baseId],t):oh(this.invalidLayouts["noBase"],t)},t.prototype.removeFromInvalidLayouts=function(t){t.baseId&&rh(this.invalidLayouts[t.baseId],t),rh(this.invalidLayouts["noBase"],t)},t}(),gu=new du;function fu(t,e){var i=gu.registeredClasses[e];return null!=i&&t instanceof i}var mu=function(){function t(t,e,i){this._array=t,this._start=e,this._end=i}return t.prototype.iterator=function(){var t=this;return function(e){if(t._start!==t._end)if(t._start<t._end){for(var i=t._start;i<t._end;++i)if(!e(t._array[i]))break}else for(i=t._start-1;i>=t._end;--i)if(!e(t._array[i]))break}},t.prototype.backwards=function(){return new t(this._array,this._end,this._start)},t.prototype.range=function(e,i){if(e<=i){if(this._start===this._end)return this;if(this._start<this._end){var s=i-e;return e=Math.max(this._start+e,this._start),i=Math.min(e+s,this._end),new t(this._array,e,i)}s=i-e;return e=Math.max(this._start-e,this._end),i=Math.max(e-s,this._end),new t(this._array,e,i)}throw new Error("Start index must be lower than end index")},t}(),yu=(function(t){function e(e,i,s){var n=t.call(this,[e.events.on("inserted",(function(t){var i=t.newValue,s=n._getKey(i),r=0;Zh(e.iterator(),(function(t){return t!==i&&(n._getKey(t)===s&&++r,!0)})),n._insert(i,s,r)}),void 0,!1),e.events.on("removed",(function(t){n._remove(t.oldValue)}),void 0,!1)])||this;return n._keys=[],n._groups={},n._getKey=i,n._sort=s,qh(e.iterator(),(function(t){n._insert(t,i(t))})),n}Tt(e,t),e.prototype._insert=function(t,e,i){if(null==this._groups[e]){this._groups[e]=[];var s=dh(this._keys,this._sort,e),n=s.found,r=s.index;if(n)throw new Error("Key already exists: "+e);ph(this._keys,r,e)}null==i?this._groups[e].push(t):ph(this._groups[e],i,t)},e.prototype._remove=function(t){var e=this._getKey(t),i=this._groups[e];if(null!=i&&(rh(i,t),0===i.length)){delete this._groups[e];var s=dh(this._keys,this._sort,e),n=s.found,r=s.index;if(!n)throw new Error("Key doesn't exist: "+e);ch(this._keys,r)}},e.prototype.iterator=function(){var t=this;return tu(Jh(Uh(this._keys),(function(e){return Uh(t._groups[e])})))}}(bh),function(t){function e(e,i){void 0===i&&(i=!0);var s=this;if(i){var n=e.events.on("removed",(function(t){t.oldValue.dispose()}),void 0,!1);s=t.call(this,(function(){n.dispose(),qh(e.iterator(),(function(t){t.dispose()}))}))||this}else s=t.call(this,(function(){qh(e.iterator(),(function(t){t.dispose()}))}))||this;return s}return Tt(e,t),e}(yh));function bu(t,e){if(!(t>=0&&t<e))throw new Error("Index out of bounds: "+t)}var vu=function(){function t(t){void 0===t&&(t=[]),this.events=new Lh,this._values=t}return Object.defineProperty(t.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),t.prototype.contains=function(t){return-1!==this._values.indexOf(t)},t.prototype.removeValue=function(t){var e=0,i=this._values.length;while(e<i)this._values[e]===t?(this.removeIndex(e),--i):++e},t.prototype.indexOf=function(t){return $l(this._values,t)},Object.defineProperty(t.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),t.prototype.hasIndex=function(t){return t>=0&&t<this._values.length},t.prototype.getIndex=function(t){return this._values[t]},t.prototype.setIndex=function(t,e){bu(t,this._values.length);var i=this._values[t];return i!==e&&(this._values[t]=e,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:t,oldValue:i,newValue:e}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:i}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:e})),i},t.prototype.insertIndex=function(t,e){bu(t,this._values.length+1),ph(this._values,t,e),this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:t,newValue:e}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:e})},t.prototype._sortQuicksort=function(t,e,i){if(t<e){var s=this._sortPartition(t,e,i);this._sortQuicksort(t,s,i),this._sortQuicksort(s+1,e,i)}},t.prototype._sortPartition=function(t,e,i){for(var s=this._values,n=s[t],r=t-1,a=e+1;;){do{++r}while(i(s[r],n)<0);do{--a}while(i(s[a],n)>0);if(r>=a)return a;this.swap(r,a)}},t.prototype.sort=function(t){this._sortQuicksort(0,this._values.length-1,t)},t.prototype.swap=function(t,e){var i=this._values.length;if(bu(t,i),bu(e,i),t!==e){var s=this._values[t],n=this._values[e];this._values[t]=n,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:t,oldValue:s,newValue:n}),this._values[e]=s,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:e,oldValue:n,newValue:s})}},t.prototype.removeIndex=function(t){bu(t,this._values.length);var e=this._values[t];return ch(this._values,t),this.events.isEnabled("removeIndex")&&this.events.dispatchImmediately("removeIndex",{type:"removeIndex",target:this,index:t,oldValue:e}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:e}),e},t.prototype.moveValue=function(t,e){var i=this.indexOf(t);if(-1!==i){var s=this._values[i];ch(this._values,i),this.events.isEnabled("removeIndex")&&this.events.dispatchImmediately("removeIndex",{type:"removeIndex",target:this,index:i,oldValue:s})}null==e?(e=this._values.length,this._values.push(t)):ph(this._values,e,t),this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:e,newValue:t}),-1===i&&this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:t})},t.prototype.push=function(t){var e=this._values.push(t)-1;return this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:e,newValue:t}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:t}),t},t.prototype.unshift=function(t){this.insertIndex(0,t)},t.prototype.pushAll=function(t){var e=this;th(t,(function(t){e.push(t)}))},t.prototype.copyFrom=function(t){this.pushAll(t._values)},t.prototype.pop=function(){var t=this._values.length-1;return t<0?void 0:this.removeIndex(this._values.length-1)},t.prototype.shift=function(){return this._values.length?this.removeIndex(0):void 0},t.prototype.setAll=function(t){var e=this,i=uh(this._values);this._values.length=0,th(t,(function(t){e._values.push(t)})),this.events.isEnabled("setAll")&&this.events.dispatchImmediately("setAll",{type:"setAll",target:this,oldArray:i,newArray:this._values}),this.events.isEnabled("removed")&&th(i,(function(t){e.events.dispatchImmediately("removed",{type:"removed",target:e,oldValue:t})})),this.events.isEnabled("inserted")&&th(this._values,(function(t){e.events.dispatchImmediately("inserted",{type:"inserted",target:e,newValue:t})}))},t.prototype.clear=function(){this.setAll([])},t.prototype.iterator=function(){return Uh(this._values)},t.prototype[Symbol.iterator]=function(){var t,e;return Ct(this,(function(i){switch(i.label){case 0:t=this._values.length,e=0,i.label=1;case 1:return e<t?[4,this._values[e]]:[3,4];case 2:i.sent(),i.label=3;case 3:return++e,[3,1];case 4:return[2]}}))},t.prototype.each=function(t){th(this._values,t)},t.prototype.range=function(t,e){if(t<=e){var i=e-t;return t=Math.max(t,0),e=Math.min(t+i,this._values.length),new mu(this._values,t,e)}throw new Error("Start index must be lower than end index")},t.prototype.backwards=function(){return new mu(this._values,this._values.length,0)},t}(),_u=function(t){function e(e){var i=t.call(this)||this;return i.template=e,i}return Tt(e,t),Object.defineProperty(e.prototype,"template",{get:function(){return this._template},set:function(t){t.isTemplate=!0,this._template=t},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(t){var e=this;qh(t.iterator(),(function(t){e.push(t.clone())}))},e.prototype.create=function(t){var e=null!=t?new t:this.template.clone();return this.push(e),e},e.prototype.clone=function(){for(var t=new e(this.template),i=this.values,s=i.length,n=0;n<s;++n)t.push(i[n].clone());return t},e}(vu),xu=function(){function t(t){this._values=[],this.events=new Lh,null!=t&&this.setAll(t)}return Object.defineProperty(t.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),t.prototype._insert=function(t){return this._values.push(t),this._values.length-1},Object.defineProperty(t.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return $l(this._values,t)},t.prototype.contains=function(t){return-1!==this.indexOf(t)},t.prototype.getIndex=function(t){return this._values[t]},Object.defineProperty(t.prototype,"first",{get:function(){return this._values[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this._values[this._values.length-1]},enumerable:!0,configurable:!0}),t.prototype.insert=function(t){var e=this._insert(t);this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,index:e,newValue:t})},t.prototype.remove=function(t){var e=this.indexOf(t);if(-1!==e){var i=this._values[e];ch(this._values,e),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,index:e,oldValue:i})}},t.prototype.setAll=function(t){var e=this;eh(this._values,(function(t,i){e._values.pop(),e.events.isEnabled("removed")&&e.events.dispatchImmediately("removed",{type:"removed",target:e,index:i,oldValue:t})})),th(t,(function(t){e.insert(t)}))},t.prototype.clear=function(){this.setAll([])},t.prototype.slice=function(e,i){var s=new t;return s._values=this._values.slice(e,i),s},t.prototype.findClosestIndex=function(t,e,i){void 0===i&&(i="any");var s,n,r=-1,a=0;return Zh(this.iterator(),(function(o){var l=e(o);if("any"===i){if(l===t)return r=a,!1;var h=Math.abs(t-l);(!gl(n)||n>h)&&(r=a,s=l,n=h)}else"left"===i&&l<t?(!gl(s)||s<l)&&(r=a,s=l):"right"===i&&l>=t&&(!gl(s)||s>=l)&&(r=a,s=l);return++a,!0})),-1===r&&("left"===i?r=0:"right"===i&&(r=this.length-1)),r},t.prototype.iterator=function(){return Uh(this._values)},t.prototype[Symbol.iterator]=function(){var t,e;return Ct(this,(function(i){switch(i.label){case 0:t=this._values.length,e=0,i.label=1;case 1:return e<t?[4,this._values[e]]:[3,4];case 2:i.sent(),i.label=3;case 3:return++e,[3,1];case 4:return[2]}}))},t.prototype.each=function(t){th(this._values,t)},t}(),wu=function(t){function e(e){var i=t.call(this)||this;return i._ordering=e,i}return Tt(e,t),e.prototype._insert=function(t){var e=dh(this._values,this._ordering,t).index;return ph(this._values,e,t),e},e.prototype.indexOf=function(t){var e=dh(this._values,this._ordering,t),i=e.found,s=e.index;return i?s:-1},e.prototype.update=function(t){var e=$l(this._values,t);if(-1!==e){var i=this._values.length-1;(0===e||this._ordering(this._values[e-1],t)<0)&&(e===i||this._ordering(t,this._values[e+1])<0)||(ch(this._values,e),this._insert(t))}},e}(xu),Pu=function(t){function e(e){var i=t.call(this)||this;return i.template=e,i}return Tt(e,t),Object.defineProperty(e.prototype,"template",{get:function(){return this._template},set:function(t){t.isTemplate=!0,this._template=t},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(t){var e=this;qh(t.iterator(),(function(t){e.insert(t.clone())}))},e.prototype.slice=function(t,i){var s=new e(this.template);return s._values=this._values.slice(t,i),s},e.prototype.create=function(t){var e=null!=t?new t:this.template.clone();return this.insert(e),e},e}(xu),Ou=function(t){function e(e,i){var s=t.call(this,i)||this;return s.template=e,s}return Tt(e,t),Object.defineProperty(e.prototype,"template",{get:function(){return this._template},set:function(t){t.isTemplate=!0,this._template=t},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(t){var e=this;qh(t.iterator(),(function(t){e.insert(t.clone())}))},e.prototype.create=function(t){var e=null!=t?new t:this.template.clone();return this.insert(e),e},e}(wu);function ku(t,e){return t===e?0:t<e?-1:1}function Du(t,e){return 0===t?e:t}var Tu=function(){function t(){this._callbackId=0,this._callbacks=new wu((function(t,e){return Du(ku(t.priority,e.priority),ku(t.id,e.id))}))}return t.prototype.addAll=function(t,e,i,s,n){void 0===s&&(s=0),this._callbacks.insert({id:++this._callbackId,key:e,callback:i,priority:s,scope:n,type:t})},t.prototype.isEnabled=function(t,e){return Jl(this._callbacks.values,(function(i){return i.key===e&&t instanceof i.type}))},t.prototype.applyAll=function(t,e,i){var s=this._callbacks.values,n=s.length;if(0==n)return i;for(var r=0;r<n;++r){var a=s[r];a.key===e&&t instanceof a.type&&(i=a.callback.call(a.scope,i,t,e))}return i},t}(),Su=new Tu,Cu=function(){function t(t){this._callbackId=0,this._callbacks=new wu((function(t,e){return Du(ku(t.priority,e.priority),ku(t.id,e.id))})),this._disabled={},this.object=t,this.events=this._callbacks.events}return t.prototype.add=function(t,e,i,s){void 0===i&&(i=0),this._callbacks.insert({id:++this._callbackId,key:t,callback:e,priority:i,scope:s})},t.prototype.has=function(t,e,i,s){return void 0===i&&(i=0),su(this._callbacks.iterator(),(function(n){return n.key===t&&n.callback===e&&n.priority===i&&n.scope===s}))},t.prototype.remove=function(t,e){var i=this;th(Kh(this._callbacks.iterator()),(function(s){s.key!==t||vl(e)&&e!==s.priority||i._callbacks.remove(s)}))},t.prototype.enableKey=function(t){delete this._disabled[t]},t.prototype.disableKey=function(t,e){void 0===e&&(e=1/0),this._disabled[t]=e},t.prototype._hasListenersByType=function(t){return Jl(this._callbacks.values,(function(e){return e.key===t}))},t.prototype.isEnabled=function(t){return null==this._disabled[t]&&(this._hasListenersByType(t)||Su.isEnabled(this.object,t))},t.prototype._shouldDispatch=function(t){var e=this._disabled[t];return!vl(e)||(e<=1?delete this._disabled[t]:--this._disabled[t],!1)},t.prototype.apply=function(t,e){if(this._shouldDispatch(t)){var i=this._callbacks.values,s=i.length;if(s>0)for(var n=0;n<s;++n){var r=i[n];r.key===t&&(e=r.callback.call(r.scope,e,this.object,t))}return e=Su.applyAll(this.object,t,e),e}return e},t.prototype.keys=function(){return Kh(Jh(this._callbacks.iterator(),(function(t){return t.key})))},t.prototype.copyFrom=function(t){var e=this;qh(t._callbacks.iterator(),(function(t){e.add(t.key,t.callback,t.priority,t.scope)})),Hh(t._disabled,(function(t,i){e._disabled[t]=i}))},t.prototype.clear=function(){this._callbacks.clear()},t}(),Mu={aliceblue:{r:240,g:248,b:255},antiquewhite:{r:250,g:235,b:215},aqua:{r:0,g:255,b:255},aquamarine:{r:127,g:255,b:212},azure:{r:240,g:255,b:255},beige:{r:245,g:245,b:220},bisque:{r:255,g:228,b:196},black:{r:0,g:0,b:0},blanchedalmond:{r:255,g:235,b:205},blue:{r:0,g:0,b:255},blueviolet:{r:138,g:43,b:226},brown:{r:165,g:42,b:42},burlywood:{r:222,g:184,b:135},cadetblue:{r:95,g:158,b:160},chartreuse:{r:127,g:255,b:0},chocolate:{r:210,g:105,b:30},coral:{r:255,g:127,b:80},cornflowerblue:{r:100,g:149,b:237},cornsilk:{r:255,g:248,b:220},crimson:{r:220,g:20,b:60},cyan:{r:0,g:255,b:255},darkblue:{r:0,g:0,b:139},darkcyan:{r:0,g:139,b:139},darkgoldenrod:{r:184,g:134,b:11},darkgray:{r:169,g:169,b:169},darkgrey:{r:169,g:169,b:169},darkgreen:{r:0,g:100,b:0},darkkhaki:{r:189,g:183,b:107},darkmagenta:{r:139,g:0,b:139},darkolivegreen:{r:85,g:107,b:47},darkorange:{r:255,g:140,b:0},darkorchid:{r:153,g:50,b:204},darkred:{r:139,g:0,b:0},darksalmon:{r:233,g:150,b:122},darkseagreen:{r:143,g:188,b:143},darkslateblue:{r:72,g:61,b:139},darkslategray:{r:47,g:79,b:79},darkslategrey:{r:47,g:79,b:79},darkturquoise:{r:0,g:206,b:209},darkviolet:{r:148,g:0,b:211},deeppink:{r:255,g:20,b:147},deepskyblue:{r:0,g:191,b:255},dimgray:{r:105,g:105,b:105},dimgrey:{r:105,g:105,b:105},dodgerblue:{r:30,g:144,b:255},firebrick:{r:178,g:34,b:34},floralwhite:{r:255,g:250,b:240},forestgreen:{r:34,g:139,b:34},fuchsia:{r:255,g:0,b:255},gainsboro:{r:220,g:220,b:220},ghostwhite:{r:248,g:248,b:255},gold:{r:255,g:215,b:0},goldenrod:{r:218,g:165,b:32},gray:{r:128,g:128,b:128},grey:{r:128,g:128,b:128},green:{r:0,g:128,b:0},greenyellow:{r:173,g:255,b:47},honeydew:{r:240,g:255,b:240},hotpink:{r:255,g:105,b:180},indianred:{r:205,g:92,b:92},indigo:{r:75,g:0,b:130},ivory:{r:255,g:255,b:240},khaki:{r:240,g:230,b:140},lavender:{r:230,g:230,b:250},lavenderblush:{r:255,g:240,b:245},lawngreen:{r:124,g:252,b:0},lemonchiffon:{r:255,g:250,b:205},lightblue:{r:173,g:216,b:230},lightcoral:{r:240,g:128,b:128},lightcyan:{r:224,g:255,b:255},lightgoldenrodyellow:{r:250,g:250,b:210},lightgray:{r:211,g:211,b:211},lightgrey:{r:211,g:211,b:211},lightgreen:{r:144,g:238,b:144},lightpink:{r:255,g:182,b:193},lightsalmon:{r:255,g:160,b:122},lightseagreen:{r:32,g:178,b:170},lightskyblue:{r:135,g:206,b:250},lightslategray:{r:119,g:136,b:153},lightslategrey:{r:119,g:136,b:153},lightsteelblue:{r:176,g:196,b:222},lightyellow:{r:255,g:255,b:224},lime:{r:0,g:255,b:0},limegreen:{r:50,g:205,b:50},linen:{r:250,g:240,b:230},magenta:{r:255,g:0,b:255},maroon:{r:128,g:0,b:0},mediumaquamarine:{r:102,g:205,b:170},mediumblue:{r:0,g:0,b:205},mediumorchid:{r:186,g:85,b:211},mediumpurple:{r:147,g:112,b:219},mediumseagreen:{r:60,g:179,b:113},mediumslateblue:{r:123,g:104,b:238},mediumspringgreen:{r:0,g:250,b:154},mediumturquoise:{r:72,g:209,b:204},mediumvioletred:{r:199,g:21,b:133},midnightblue:{r:25,g:25,b:112},mintcream:{r:245,g:255,b:250},mistyrose:{r:255,g:228,b:225},moccasin:{r:255,g:228,b:181},navajowhite:{r:255,g:222,b:173},navy:{r:0,g:0,b:128},oldlace:{r:253,g:245,b:230},olive:{r:128,g:128,b:0},olivedrab:{r:107,g:142,b:35},orange:{r:255,g:165,b:0},orangered:{r:255,g:69,b:0},orchid:{r:218,g:112,b:214},palegoldenrod:{r:238,g:232,b:170},palegreen:{r:152,g:251,b:152},paleturquoise:{r:175,g:238,b:238},palevioletred:{r:219,g:112,b:147},papayawhip:{r:255,g:239,b:213},peachpuff:{r:255,g:218,b:185},peru:{r:205,g:133,b:63},pink:{r:255,g:192,b:203},plum:{r:221,g:160,b:221},powderblue:{r:176,g:224,b:230},purple:{r:128,g:0,b:128},rebeccapurple:{r:102,g:51,b:153},red:{r:255,g:0,b:0},rosybrown:{r:188,g:143,b:143},royalblue:{r:65,g:105,b:225},saddlebrown:{r:139,g:69,b:19},salmon:{r:250,g:128,b:114},sandybrown:{r:244,g:164,b:96},seagreen:{r:46,g:139,b:87},seashell:{r:255,g:245,b:238},sienna:{r:160,g:82,b:45},silver:{r:192,g:192,b:192},skyblue:{r:135,g:206,b:235},slateblue:{r:106,g:90,b:205},slategray:{r:112,g:128,b:144},slategrey:{r:112,g:128,b:144},snow:{r:255,g:250,b:250},springgreen:{r:0,g:255,b:127},steelblue:{r:70,g:130,b:180},tan:{r:210,g:180,b:140},teal:{r:0,g:128,b:128},thistle:{r:216,g:191,b:216},tomato:{r:255,g:99,b:71},turquoise:{r:64,g:224,b:208},violet:{r:238,g:130,b:238},wheat:{r:245,g:222,b:179},white:{r:255,g:255,b:255},whitesmoke:{r:245,g:245,b:245},yellow:{r:255,g:255,b:0},yellowgreen:{r:154,g:205,b:50}};function Iu(t,e){var i;return Mu[t]?i=Mu[t]:"#"===t.charAt(0)?i=ju(t):t.match(/^rgba?\(/)&&(i=Lu(t)),i||(i={r:0,g:0,b:0,a:1}),gl(e)&&(i.a=e),i}function ju(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,(function(t,e,i,s){return e+e+i+i+s+s}));var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:Eu(t)}function Eu(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,(function(t,e,i,s,n){return e+e+i+i+s+s+n+n}));var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16),a:parseInt(i[4],16)/256}:void 0}function Lu(t){t=t.replace(/[ ]/g,"");var e=t.match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(e)e.push("1");else if(e=t.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i),!e)return;return{r:parseInt(e[1]),g:parseInt(e[2]),b:parseInt(e[3]),a:parseFloat(e[4])}}function Au(t){return"#"+Ru(t.r.toString(16))+Ru(t.g.toString(16))+Ru(t.b.toString(16))}function Fu(t){return gl(t.a)&&1!==t.a?"rgba("+t.r+","+t.g+","+t.b+","+t.a+")":"rgb("+t.r+","+t.g+","+t.b+")"}function Ru(t){return 1==t.length?"0"+t:""+t}function Vu(t,e,i){return i=Cl(i,0,1),t?e?{r:t.r+Math.round((e.r-t.r)*i),g:t.g+Math.round((e.g-t.g)*i),b:t.b+Math.round((e.b-t.b)*i),a:(t.a||1)+Math.round(((e.a||1)-(t.a||1))*i)}:t:e||t}function Bu(t,e){return t?{r:Math.max(0,Math.min(255,t.r+Nu(t.r,e))),g:Math.max(0,Math.min(255,t.g+Nu(t.g,e))),b:Math.max(0,Math.min(255,t.b+Nu(t.b,e))),a:t.a}:t}function Nu(t,e){var i=e>0?255-t:t;return Math.round(i*e)}function Hu(t,e){if(t){var i=Math.min(Math.max(t.r,t.g,t.b),230),s=Nu(i,e);return{r:Math.max(0,Math.min(255,Math.round(t.r+s))),g:Math.max(0,Math.min(255,Math.round(t.g+s))),b:Math.max(0,Math.min(255,Math.round(t.b+s))),a:t.a}}return t}function zu(t,e){if(null==t||1==e)return t;var i=Yu(t);return i.s=e,Wu(i)}function Wu(t){var e,i,s,n=t.h,r=t.s,a=t.l;if(0==r)e=i=s=a;else{var o=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},l=a<.5?a*(1+r):a+r-a*r,h=2*a-l;e=o(h,l,n+1/3),i=o(h,l,n),s=o(h,l,n-1/3)}return{r:Math.round(255*e),g:Math.round(255*i),b:Math.round(255*s)}}function Yu(t){var e=t.r/255,i=t.g/255,s=t.b/255,n=Math.max(e,i,s),r=Math.min(e,i,s),a=0,o=0,l=(n+r)/2;if(n===r)a=o=0;else{var h=n-r;switch(o=l>.5?h/(2-n-r):h/(n+r),n){case e:a=(i-s)/h+(i<s?6:0);break;case i:a=(s-e)/h+2;break;case s:a=(e-i)/h+4;break}a/=6}return{h:a,s:o,l:l}}function Gu(t){return(299*t.r+587*t.g+114*t.b)/1e3>=128}var Xu=function(){function t(t){this._value=t}return Object.defineProperty(t.prototype,"rgb",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hex",{get:function(){return this._value?Au(this._value):"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rgba",{get:function(){return this._value?Fu(this._value):"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return null!=this._value&&null!=this._value.a?this._value.a:1},set:function(t){this._value&&(this._value.a=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lightColor",{get:function(){return this._lightColor||(this._lightColor=new t({r:255,g:255,b:255})),this._lightColor},set:function(t){this._lightColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"darkColor",{get:function(){return this._darkColor||(this._darkColor=new t({r:0,g:0,b:0})),this._darkColor},set:function(t){this._darkColor=t},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.alpha<1?this.rgba:this.hex},t.prototype.lighten=function(e){return new t(Bu(this.rgb,e))},t.prototype.brighten=function(e){return new t(Hu(this.rgb,e))},t.prototype.saturate=function(e){return new t(zu(this.rgb,e))},Object.defineProperty(t.prototype,"alternative",{get:function(){if(null!=this.rgb)return Gu(this.rgb)?this.darkColor:this.lightColor;throw new Error("Color does not exist")},enumerable:!0,configurable:!0}),t}();function Uu(t,e){if(!gl(t))return new Xu(void 0);if("string"==typeof t){var i="_color_"+t+"_"+(e||"1"),s=gu.getCache(i);if(s)return new Xu({r:s.r,g:s.g,b:s.b,a:s.a});var n=Iu(t,e);return gu.setCache(i,n),new Xu(n)}return t instanceof Xu?(gl(e)&&(t.alpha=e),t):new Xu(t)}function Ku(t){return t instanceof Xu}function Zu(t){return Uu(t)}function qu(t){return gl(t)&&!Ku(t)?Zu(t):t}var $u=function(){function t(){this._disposed=!1,this._disposers=[],this.className="BaseObject"}return t.prototype.debug=function(){},Object.defineProperty(t.prototype,"uid",{get:function(){return this._uid||(this._uid=gu.getUniqueId(),gu.map.setKey(this._uid,this)),this._uid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"map",{get:function(){return this._map||(this._map=new hu),this._map},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delayedMap",{get:function(){return this._delayedMap||(this._delayedMap=new hu),this._delayedMap},enumerable:!0,configurable:!0}),t.prototype.addDelayedMap=function(t,e){var i=this.delayedMap;i.hasKey(e)||i.setKey(e,[]);var s=i.getKey(e);s.push({property:t,target:this})},t.prototype.processDelayedMap=function(){var t=this;this.delayedMap.each((function(e,i){if(t.map.hasKey(e)){var s=t.map.getKey(e);th(i,(function(t){t.target[t.property]=s})),t.delayedMap.removeKey(e)}}))},t.prototype.applyTheme=function(){var t=this;if(gu){var e=this.getCurrentThemes();e&&th(e,(function(e,i){e(t)}))}},Object.defineProperty(t.prototype,"themes",{get:function(){return this._themes},set:function(t){this._themes=t},enumerable:!0,configurable:!0}),t.prototype.getCurrentThemes=function(){return this.themes||gu.themes},t.prototype.isDisposed=function(){return this._disposed},t.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var t=this._disposers;this._disposers=null;while(0!==t.length){var e=t.shift();e.dispose()}this.clearCache(),this.clonedFrom&&this.clonedFrom.clones.removeValue(this);var i=this._uid;null!=i&&gu.map.removeKey(i)}},t.prototype.addDisposer=function(t){this._disposers.push(t)},t.prototype.removeDispose=function(t){if(!this._disposed){var e=$l(this._disposers,t);e>-1&&this._disposers.splice(e,1)}t.dispose()},t.prototype.clone=function(t){t||(t="clone-"+gu.getUniqueId());var e=new this.constructor;return e.cloneId=t,e.copyFrom(this),e},Object.defineProperty(t.prototype,"clones",{get:function(){return this._clones||(this._clones=new vu),this._clones},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){t.clones.push(this),this.clonedFrom=t},Object.defineProperty(t.prototype,"className",{get:function(){return this._className},set:function(t){this._className=t},enumerable:!0,configurable:!0}),t.prototype.setCache=function(t,e,i){cu.set(this.uid,t,e,i)},t.prototype.getCache=function(t,e){return void 0===e&&(e=void 0),cu.get(this.uid,t,e)},t.prototype.clearCache=function(){cu.clear(this.uid)},t.prototype.setTimeout=function(t,e){var i=this,s=setTimeout((function(){i.removeDispose(n),t()}),e),n=new yh((function(){clearTimeout(s)}));return this._disposers.push(n),n},t.prototype.setInterval=function(t,e){var i=this,s=setInterval((function(){i.removeDispose(n),t()}),e),n=new yh((function(){clearTimeout(s)}));return this._disposers.push(n),n},Object.defineProperty(t.prototype,"config",{set:function(t){try{this.processConfig(t)}catch(e){this.raiseCriticalError(e)}},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(e){var i=this;if(e){var s=this;if(zh(e,(function(e,n){var r,a=n;if("callback"==e&&"function"==typeof n&&n.call(s),i.hasProperty(e))if(!_l(a)||!gl(a["type"])||_l(s[e])&&gl(s[e].className)&&!a["forceCreate"]&&s[e].className==a["type"]||i.asIs(e)?r=s[e]:(r=i.createClassInstance(a["type"]),r?s[e]=r:r=s[e]),r instanceof Cu)i.processAdapters(r,a);else if(r instanceof Lh)i.processEvents(r,a);else if("locale"==e&&bl(a))window["am4lang_"+a]&&(s[e]=window["am4lang_"+a]);else if("parent"==e&&bl(a)){var o=i.map.getKey(a);o?s[e]=o:i.addDelayedMap("parent",a)}else if(i.asIs(e))s[e]=a;else if(i.asFunction(e)&&bl(a)){if(!gl(gu.registeredClasses[a]))throw Error("Invalid easing function: "+a);s[e]=gu.registeredClasses[a]}else if(a instanceof t)s[e]=a;else if(r instanceof t)r.config=a;else if(r instanceof _u||r instanceof Pu||r instanceof Ou){if(xl(a))r instanceof _u?i.processListTemplate(a,r):i.processOrderedTemplate(a,r);else if(_l(a))if(a instanceof t)r.template=a;else{var l=void 0;l=gl(a.template)?a.template:a,r.template instanceof t?r.template.config=l:Hh(l,(function(e,s){var n=r.template[e];n instanceof Cu?i.processAdapters(n,s):n instanceof Lh?i.processEvents(n,s):n instanceof uu?i.processDictionaryTemplate(n,s):r.template[e]instanceof t?r.template[e].config=s:_l(s)&&gl(s["type"])?(n=i.createClassInstance(s["type"]),n?(n instanceof t&&(n.config=s),r.template[e]=n):r.template[e]=s):n instanceof vu?i.processList(s,n):r.template[e]=i.maybeColorOrPercent(s)})),gl(a.values)&&(r instanceof _u?i.processListTemplate(a.values,r):i.processOrderedTemplate(a.values,r))}}else r instanceof vu?"children"==e?i.processList(a,r,i):i.processList(a,r):r instanceof uu?i.processDictionaryTemplate(r,a):r instanceof hu?i.processDictionary(r,a):r instanceof Xu||r instanceof nl?s[e]=i.maybeColorOrPercent(a):_l(r)&&_l(a)?Xh(a,r):(a=i.maybeColorOrPercent(a),s[e]=a);else i.isReserved(e)||(s[e]=a)}),this.configOrder),this.processingErrors.length){var n=this.processingErrors.join("\n");throw this._processingErrors=[],Error(n)}}},t.prototype.maybeColorOrPercent=function(t){if(bl(t)){if(t.match(/^[\-]?[0-9.]+\%$/))return rl(pl(t));if(t.match(/^\#[0-9abcdef]{3,}$/i))return Uu(t)}return t},t.prototype.processAdapters=function(t,e){var i=this;xl(e)?th(e,(function(e,s){t.add(e.key,e.callback,e.priority||0,i)})):_l(e)&&Hh(e,(function(e,i){t.has(e,i)||t.add(e,i)}))},t.prototype.processEvents=function(t,e){var i=this;xl(e)?th(e,(function(e,s){t.on(e.type,e.callback,i)})):_l(e)&&Hh(e,(function(e,i){t.has(e,i)||t.on(e,i)}))},t.prototype.processDictionaryTemplate=function(e,i){_l(i)&&Hh(i,(function(i,s){var n;n="template"==i?e.template:e.hasKey(i)?e.getKey(i):e.create(i),n instanceof t?n.config=s:_l(n)&&_l(s)?Xh(s,n):n.setKey(i,s)}))},t.prototype.processDictionary=function(t,e){_l(e)&&Hh(e,(function(e,i){t.setKey(e,i)}))},t.prototype.processListTemplate=function(e,i){var s=this;th(e,(function(e,n){var r,a=s.getConfigEntryType(e);if(i.hasIndex(n)&&!e["forceCreate"])r=i.getIndex(n);else{if(e instanceof t)return void i.push(e);r=a?i.create(a):i.create()}e===r||_l(e)&&(r instanceof t?r.config=e:_l(r)&&_l(e)?Xh(e,r):i.setIndex(i.indexOf(r),e))}));while(e.length>i.length)i.pop()},t.prototype.processOrderedTemplate=function(e,i){var s=this;th(e,(function(e,n){var r,a=s.getConfigEntryType(e);r=a?i.create(a):i.create(),_l(e)&&(r instanceof t?r.config=e:_l(r)&&_l(e)?Xh(e,r):i.insert(e))}))},t.prototype.processList=function(e,i,s){var n=this;xl(e)||(e=[e]);var r=i.length,a=0;th(e,(function(e,o){if(_l(e)){var l=void 0;if(o<r&&!e["forceCreate"])l=i.getIndex(o);else{if(e instanceof t)return void i.push(e);a++,l=n.createEntryInstance(e),s?l.parent=s:i.push(l)}l instanceof t?l.config=e:_l(l)&&_l(e)&&Xh(e,l)}else i.hasIndex(o)?i.setIndex(o,e):i.push(e)}));while(!s&&e.length+a<i.length)i.pop()},t.prototype.configOrder=function(t,e){return t==e?0:"language"==t?-1:"language"==e?1:0},t.prototype.asIs=function(t){return-1!=$l(["locale"],t)},t.prototype.asFunction=function(t){return!1},t.prototype.createClassInstance=function(t){if(gl(gu.registeredClasses[t]))return new gu.registeredClasses[t];throw Error('Invalid type: "'+t+'".')},t.prototype.createEntryInstance=function(t){var e;return gl(t["type"])&&(e=this.createClassInstance(t["type"])),e||t},t.prototype.getConfigEntryType=function(t){if(gl(t["type"])){if(gl(gu.registeredClasses[t["type"]]))return gu.registeredClasses[t["type"]];throw Error('Invalid type: "'+t["type"]+'".')}},t.prototype.hasProperty=function(t){return t in this},t.prototype.isReserved=function(t){return-1!==["type","forceCreate"].indexOf(t)},Object.defineProperty(t.prototype,"processingErrors",{get:function(){return this._processingErrors||(this._processingErrors=[]),this._processingErrors},enumerable:!0,configurable:!0}),t}(),Ju=function(t){function e(){var e=t.call(this)||this;return e.className="BaseObjectEvents",e}return Tt(e,t),Object.defineProperty(e.prototype,"events",{get:function(){return this._eventDispatcher||(this._eventDispatcher=new Lh,this._disposers.push(this._eventDispatcher)),this._eventDispatcher},enumerable:!0,configurable:!0}),e.prototype.dispatch=function(t,e){this._eventDispatcher&&this.events.isEnabled(t)&&(e?(e.type=t,e.target=e.target||this,this.events.dispatch(t,{type:t,target:this})):this.events.dispatch(t,{type:t,target:this}))},e.prototype.dispatchImmediately=function(t,e){this._eventDispatcher&&this.events.isEnabled(t)&&(e?(e.type=t,e.target=e.target||this,this.events.dispatchImmediately(t,e)):this.events.dispatchImmediately(t,{type:t,target:this}))},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),e._eventDispatcher&&this.events.copyFrom(e._eventDispatcher)},e}($u);function Qu(){return/apple/i.test(navigator.vendor)}function tp(){return/MSIE |Trident\//.test(navigator.userAgent)}var ep="string",ip="number",sp="date",np="duration",rp="__§§§__",ap="__§§§§__";function op(t){}function lp(t,e){return Hh(t,(function(t,i){gl(i)&&(e[t]=i)})),e}function hp(t){return/^[^#]*/.exec(t)[0]}function up(){var t="#";if(Qu()){var e=document.baseURI;if(e){e=hp(e);var i=hp(location.href);e!==i&&(t=i+t)}}return t}function pp(t,e){return Hh(t,(function(t,i){gl(i)&&!gl(e[t])&&(e[t]=i)})),e}function cp(t,e){return Hh(t,(function(t,i){e[t]=i})),e}function dp(t){return gl(t)&&""!==t.toString()}function gp(t,e){return vl(t)?t:null!=t&&vl(t.value)&&vl(e)?e*t.value:0}function fp(){var t=window.devicePixelRatio||1;return t}function mp(t){return JSON.stringify(t)}function yp(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function bp(t,e,i,s,n){if(t.length<=e)return[t];var r=[];if(i){for(var a=-1,o=t.replace(/([,;:!?\\\/]+|[\s])/g,rp+"$1"+rp),l=o.split(rp),h=1;h<l.length;h++){var u=l[h];"."!=u&&","!=u||!l[h-1].match(/[\w]+$/)||(l[h-1]+=u,l[h]="")}for(h=0;h<l.length;h++){u=l[h];var p=u.length;if(0!==p){if(p>e&&(!0!==i||0!=n)){s&&(u=Pp(u));var c=u.match(new RegExp(".{1,"+e+"}","g"));if(c){if(s)for(var d=0;d<c.length;d++)c[d]=Pp(c[d]);r=r.concat(c)}}else-1===a&&(r.push(""),a=0),r[a].length+p+1>e&&""!==r[a]&&(r.push(""),a++),r[a]+=u;a=r.length-1}}}else{c=t.match(new RegExp(".{1,"+e+"}","g"));if(c){if(s)for(d=0;d<c.length;d++)s||(c[d]=Pp(c[d]));r=c}}return 1==r.length&&i&&n&&r[0].length>e&&(r=[]),r}function vp(t,e,i,s,n){if(t.length<=e)return t;e-=i.length,e<1&&(e=1);var r=bp(t,e,s,n);return(r[0]||"")+i}function _p(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function xp(t){return t.replace(/[\s\uFEFF\xA0]+$/g,"")}function wp(t){return t.replace(/^[\s\uFEFF\xA0]+/g,"")}function Pp(t){return t.split("").reverse().join("")}function Op(t,e,i){return void 0===e&&(e=0),void 0===i&&(i="0"),"string"!==typeof t&&(t=t.toString()),e>t.length?Array(e-t.length+1).join(i)+t:t}function kp(t){if("undefined"===typeof t)return ep;t=t.toLowerCase().replace(/^\[[^\]]*\]/,""),t=t.replace(/\[[^\]]+\]/,""),t=t.trim();var e=t.match(/\/(date|number|duration)$/);return e?e[1]:t===ip?ip:t===sp?sp:t===np?np:t.match(/[#0]/)?ip:t.match(/[ymwdhnsqaxkzgtei]/)?sp:ep}function Dp(t){return t.replace(/\/(date|number|duration)$/i,"")}function Tp(t){return t?t.replace(/<[^>]*>/g,""):t}function Sp(t){return t?Tp((""+t).replace(/[\n\r]+/g,". ")):t}function Cp(t){if(ol(t))return"NaN";if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(0===t&&1/t===-1/0)return"-0";var e=t<0;t=Math.abs(t);var i,s=fl(/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+t)),n=s[1],r=s[2]||"";if(null==s[3])i=""===r?n:n+"."+r;else{var a=+s[3];if(t<1){var o=a-1;i="0."+au("0",o)+n+r}else{o=a-r.length;i=0===o?n+r:o<0?n+r.slice(0,o)+"."+r.slice(o):n+r+au("0",o)}}return e?"-"+i:i}function Mp(t){if(yl(t)){var e=new Date(t);return e.setMilliseconds(t.getMilliseconds()),e}if(vl(t))return new Date(t);var i=Number(t);return vl(i)?new Date(i):new Date(t)}function Ip(t){if(yl(t))return t.getTime();if(vl(t))return t;if(bl(t)){var e=Number(t);return vl(e)?e:void 0}}function jp(t,e){void 0===e&&(e=!1);var i=new Date(t.getFullYear(),0,0),s=t.getTime()-i.getTime()+60*(i.getTimezoneOffset()-t.getTimezoneOffset())*1e3,n=864e5;return Math.floor(s/n)}function Ep(t,e){void 0===e&&(e=!1);var i=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),s=i.getUTCDay()||7;i.setUTCDate(i.getUTCDate()+4-s);var n=new Date(Date.UTC(i.getUTCFullYear(),0,1));return Math.ceil(((i.getTime()-n.getTime())/864e5+1)/7)}function Lp(t,e){void 0===e&&(e=!1);var i=Ep(new Date(t.getFullYear(),t.getMonth(),1),e),s=Ep(t,e);return 1==s&&(s=53),s-i+1}function Ap(t,e,i,s){void 0===i&&(i=1),void 0===s&&(s=!1);var n=new Date(e,0,4,0,0,0,0);s&&n.setUTCFullYear(e);var r=7*t+i-((n.getDay()||7)+3);return r}function Fp(t,e){return t>12?t-=12:0===t&&(t=12),gl(e)?t+(e-1):t}function Rp(t,e,i,s){if(void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===s&&(s=!1),s)return e?"Coordinated Universal Time":"UTC";var n=t.toLocaleString("UTC"),r=t.toLocaleString("UTC",{timeZoneName:e?"long":"short"}).substr(n.length);return!1===i&&(r=r.replace(/ (standard|daylight|summer|winter) /i," ")),r}function Vp(t,e,i){return t>i?i:t<e?e:t}function Bp(t,e,i){var s=i-e;return(t>i||t<e)&&(t=e+(t-s*Math.floor(t/s))),t}function Np(t,e){var i=t.x,s=t.y,n=[];if(e){while(gl(e.parent))n.push(e),e=e.parent;n.reverse();for(var r=0;r<n.length;r++){var a=n[r],o=a.rotation,l=i-a.pixelX-a.ex,h=s-a.pixelY-a.ey;a.dx&&(i-=a.dx),a.dy&&(s-=a.dy);var u=a.scale;a.group&&(u=a.group.scale),i=(Il(-o)*l-Ml(-o)*h)/u-a.pixelPaddingLeft,s=(Il(-o)*h+Ml(-o)*l)/u-a.pixelPaddingTop}}return{x:i,y:s}}function Hp(t,e){var i=t.x,s=t.y;if(e)while(gl(e.parent)){var n=e.rotation;i+=e.pixelPaddingLeft+e.ex,s+=e.pixelPaddingTop+e.ey;var r=e.scale;e.group&&(r=e.group.scale);var a=e.pixelX+(i*Il(n)-s*Ml(n))*r,o=e.pixelY+(i*Ml(n)+s*Il(n))*r;e.dx&&(a+=e.dx),e.dy&&(o+=e.dy),i=a,s=o,e=e.parent}return{x:i,y:s}}function zp(t,e,i){return Np(Hp(t,e),i)}function Wp(t,e){var i=Hp(t,e),s=Hp({x:t.x+t.width,y:t.y+t.height},e);return{x:i.x,y:i.y,width:s.x-i.x,height:s.y-i.y}}function Yp(t,e,i){try{var s=e.getBoundingClientRect();return vl(i)||(i=1),{x:(t.x-s.left)/i,y:(t.y-s.top)/i}}catch(n){return t}}function Gp(t,e){try{var i=e.getBoundingClientRect();return{x:t.x+i.left,y:t.y+i.top}}catch(s){return t}}function Xp(t,e){if(e&&e.htmlContainer){var i=Yp(t,fl(e.htmlContainer),e.svgContainer.cssScale);return Np(i,e)}return t}function Up(t,e){if(e&&e.htmlContainer){var i=Hp(t,e);return Gp(i,fl(e.htmlContainer))}return t}function Kp(t){var e=getComputedStyle(t),i=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),s=parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth);return t.clientWidth-i-s}function Zp(t){var e=getComputedStyle(t),i=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),s=parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth);return t.clientHeight-i-s}function qp(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0}var $p=/^([a-zA-Z][a-zA-Z0-9\+\.\-]*:)?(?:(\/\/)([^\@]+\@)?([^\/\?\#\:]*)(\:[0-9]+)?)?([^\?\#]*)(\?[^\#]*)?(\#.*)?$/;function Jp(t){var e=$p.exec(t);return{protocol:e&&e[1]||"",separator:e&&e[2]||"",authority:e&&e[3]||"",domain:e&&e[4]||"",port:e&&e[5]||"",path:e&&e[6]||"",query:e&&e[7]||"",hash:e&&e[8]||""}}function Qp(t){return t.protocol+t.separator+t.authority+t.domain+t.port+t.path+t.query+t.hash}function tc(t){return""===t.protocol&&""===t.separator&&""===t.authority&&""===t.domain&&""===t.port}function ec(t,e){var i=Jp(t),s=Jp(e);if(tc(i))throw new Error("Left URL is not absolute");if(tc(s)){if(""!==s.path)if("/"===s.path[0])i.path=s.path;else{var n=i.path.split(/\//),r=s.path.split(/\//);if(0===n.length?0!==r.length&&n.push(""):n.length>1&&n.pop(),nh(n,r),i.path=n.join("/"),""!==i.path&&"/"!==i.path[0])throw new Error("URL path must start with /")}return i.query=s.query,i.hash=s.hash,Qp(i)}return Qp(s)}function ic(){return!!window.MSInputMethodContext&&!!document.documentMode}function sc(t){return+t}function nc(t){return t*t}function rc(t){return t*(2-t)}function ac(t){return t*=2,(t<=1?t*t:--t*(2-t)+1)/2}function oc(t,e){return Math.pow(t,e)}function lc(t,e){return 1-Math.pow(1-t,e)}function hc(t,e){return t*=2,(t<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}function uc(t){return oc(t,3)}function pc(t){return lc(t,3)}function cc(t){return hc(t,3)}function dc(t){return Math.pow(2,10*t-10)}function gc(t){return 1-Math.pow(2,-10*t)}function fc(t){return t*=2,(t<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function mc(t){return 1-Math.cos(t*Pl)}function yc(t){return Math.sin(t*Pl)}function bc(t){return(1-Math.cos(wl*t))/2}function vc(t){return t*t*t}function _c(t){return--t*t*t+1}function xc(t){return t*=2,(t<=1?t*t*t:(t-=2)*t*t+2)/2}function wc(t){return 1-Math.sqrt(1-t*t)}function Pc(t){return Math.sqrt(1- --t*t)}function Oc(t){return t*=2,(t<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}gu.registeredClasses["ease.linear"]=sc,gu.registeredClasses["ease.quadIn"]=nc,gu.registeredClasses["ease.quadOut"]=rc,gu.registeredClasses["ease.quadInOut"]=ac,gu.registeredClasses["ease.polyIn"]=oc,gu.registeredClasses["ease.polyOut"]=lc,gu.registeredClasses["ease.polyInOut"]=hc,gu.registeredClasses["ease.polyIn3"]=uc,gu.registeredClasses["ease.polyOut3"]=pc,gu.registeredClasses["ease.polyInOut3"]=cc,gu.registeredClasses["ease.expIn"]=dc,gu.registeredClasses["ease.expOut"]=gc,gu.registeredClasses["ease.expInOut"]=fc,gu.registeredClasses["ease.sinIn"]=mc,gu.registeredClasses["ease.sinOut"]=yc,gu.registeredClasses["ease.sinInOut"]=bc,gu.registeredClasses["ease.cubicIn"]=vc,gu.registeredClasses["ease.cubicOut"]=_c,gu.registeredClasses["ease.cubicInOut"]=xc,gu.registeredClasses["ease.circleIn"]=wc,gu.registeredClasses["ease.circleOut"]=Pc,gu.registeredClasses["ease.circleInOut"]=Oc;var kc=4/11,Dc=6/11,Tc=8/11,Sc=3/4,Cc=9/11,Mc=10/11,Ic=15/16,jc=21/22,Ec=63/64,Lc=1/kc/kc;function Ac(t){return 1-Fc(1-t)}function Fc(t){return t=+t,t<kc?Lc*t*t:t<Tc?Lc*(t-=Dc)*t+Sc:t<Mc?Lc*(t-=Cc)*t+Ic:Lc*(t-=jc)*t+Ec}function Rc(t){return t*=2,(t<=1?1-Fc(1-t):Fc(t-1)+1)/2}gu.registeredClasses["ease.bounceIn"]=Ac,gu.registeredClasses["ease.bounceOut"]=Fc,gu.registeredClasses["ease.bounceInOut"]=Rc;var Vc=2*Math.PI,Bc=1,Nc=.3/Vc,Hc=Math.asin(1/Bc)*Nc;function zc(t){return Bc*Math.pow(2,10*--t)*Math.sin((Hc-t)/Nc)}function Wc(t){return 1-Bc*Math.pow(2,-10*(t=+t))*Math.sin((t+Hc)/Nc)}function Yc(t){return t=2*t-1,(t<0?Bc*Math.pow(2,10*t)*Math.sin((Hc-t)/Nc):2-Bc*Math.pow(2,-10*t)*Math.sin((Hc+t)/Nc))/2}gu.registeredClasses["ease.elasticIn"]=zc,gu.registeredClasses["ease.elasticOut"]=Wc,gu.registeredClasses["ease.elasticInOut"]=Yc;var Gc=function(t){function e(){var e=t.call(this)||this;return e.transitionDuration=0,e.transitionEasing=_c,e.properties={},e.propertyFields={},e.filters=new vu,e.isTemplate=!1,e.className="SpriteState",e._disposers.push(new yu(e.filters)),e.applyTheme(),e}return Tt(e,t),Object.defineProperty(e.prototype,"adapter",{get:function(){var t=this;return this._adapterO||(this._adapterO=new Cu(this),this._adapterO.events.on("inserted",(function(e){t[e.newValue.key]=t[e.newValue.key]}),void 0,!1),this._adapterO.events.on("removed",(function(e){t[e.newValue.key]=t[e.newValue.key]}),void 0,!1)),this._adapterO},enumerable:!0,configurable:!0}),e.prototype.getPropertyValue=function(t){var e=this.properties[t],i=this.sprite;if(i){var s=this.propertyFields[t];if(gl(s)&&(i.dataItem&&(e=i.dataItem.dataContext[s]),void 0==e&&(e="__unset")),gl(e))this._adapterO&&(e=this._adapterO.apply(t,e));else{var n=i.getPropertyValue(t);e=this._adapterO?this._adapterO.apply(t,n):n,e==n&&(e=void 0)}}return e},e.prototype.copyFrom=function(t){t&&t!=this&&(this.transitionDuration=t.transitionDuration,this.transitionEasing=t.transitionEasing,lp(t.properties,this.properties),lp(t.propertyFields,this.propertyFields),this.filters.copyFrom(t.filters),t._adapterO&&this.adapter.copyFrom(t._adapterO))},Object.defineProperty(e.prototype,"allValues",{get:function(){var t=this,e={};if(Hh(this.properties,(function(i,s){e[i]=t.getPropertyValue(i)})),this._adapterO){var i=this._adapterO.keys();Hh(i,(function(i,s){var n=t.getPropertyValue(s);e[s]=n}))}var s=this.propertyFields;return Hh(s,(function(i){var s=t.getPropertyValue(i);e[i]=s})),e},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this.properties={},this.filters.clear()},e.prototype.processConfig=function(e){gl(e)&&gl(e["properties"])&&Hh(e["properties"],(function(t,i){bl(i)&&(i.match(/^[0-9.\-]+\%$/)?e["properties"][t]=rl(pl(i)):i.match(/^\#[0-9abcdef]{3,}$/i)&&(e["properties"][t]=qu(i)))})),t.prototype.processConfig.call(this,e)},e.prototype.asFunction=function(e){return"transitionEasing"==e||t.prototype.asIs.call(this,e)},e}($u);gu.registeredClasses.SpriteState=Gc;var Xc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._interactionEvents=new hu,e}return Tt(e,t),e.prototype._dispatchSpriteEvent=function(t){if(!this.target.disabled&&!this.target.isTemplate&&this.target.events.isEnabled(t.type)){var e=Wh(t,{target:this.target});this.target.events.dispatchImmediately(e.type,e)}},e.prototype._dispatchSpritePointEvent=function(t){if(!this.target.disabled&&!this.target.isTemplate&&this.target.events.isEnabled(t.type)){var e=Wh(t,{target:this.target,spritePoint:t.point?Xp(t.point,this.target):void 0,svgPoint:this.target.getSvgPoint(t.point)});this.target.events.dispatchImmediately(e.type,e)}},e.prototype._addInteractionObjectEvent=function(t,e,i,s){var n=this,r=s+"-"+t,a=this._interactionEvents.insertKeyIfEmpty(r,(function(){var a=n.target.interactions.events.on(t,e,i,s);return new _h((function(){n._interactionEvents.removeKey(r),a.dispose()}))}));return a.increment()},e.prototype._on=function(e,i,s,n,r,a){var o=t.prototype._on.call(this,e,i,s,n,r,a),l=[o.disposer];switch(i){case"hit":case"track":case"doublehit":case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":l.push(this._addInteractionObjectEvent(i,this._dispatchSpritePointEvent,this,r));break;case"rightclick":case"down":case"up":case"drag":case"dragged":case"dragstart":case"dragstop":case"over":case"out":case"swipe":case"swipeleft":case"swiperight":case"resize":case"focus":case"blur":case"toggled":l.push(this._addInteractionObjectEvent(i,this._dispatchSpriteEvent,this,r));break}switch(i){case"hit":case"doublehit":case"rightclick":case"down":case"up":this.target.clickable=!0;break;case"toggled":this.target.togglable=!0;break;case"drag":case"dragstart":case"dragstop":this.target.draggable=!0;break;case"track":this.target.trackable=!0;break;case"resize":this.target.resizable=!0;break;case"swipe":case"swipeleft":case"swiperight":this.target.swipeable=!0;break;case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":this.target.wheelable=!0;break;case"over":this.target.hoverable=!0;case"out":this.target.hoverable=!0;break;case"focus":case"blur":this.target.focusable=!0;break}return o.disposer=new bh(l),o},e}(Ah),Uc=function(){function t(){}return t.opacity=1,t.strokeOpacity=1,t.strokeWidth=1,t.fillOpacity=1,t.fill=Uu("#000000"),t.stroke=Uu("#000000"),t.focusable=void 0,t.tabindex=0,t}(),Kc={verbose:!0,commercialLicense:!1,classNamePrefix:"amcharts-",autoSetClassName:!1,minPolylineStep:.5,onlyShowOnViewport:!1,queue:!1,autoDispose:!1,licenses:[],suppressErrors:!1,suppressWarnings:!1,animationsEnabled:!0,nonce:"",deferredDelay:100,disableHoverOnTransform:"never",pixelPerfectPrecision:0};function Zc(t,e,i){return e+(i-e)*t}function qc(t,e,i){return new nl(Zc(t,e.percent,i.percent))}function $c(t,e,i){var s=new Xu(Vu(e.rgb,i.rgb,t));return e.alpha!=i.alpha&&(s.alpha=e.alpha+(i.alpha-e.alpha)*t),s}function Jc(t,e){return e+t.charAt(0).toUpperCase()+t.substr(1)}var Qc,td=function(){function t(t){this._disposer=new yh((function(){while(0!==t.length)t[0].dispose()}))}return t.prototype.isDisposed=function(){return this._disposer.isDisposed()},t.prototype.dispose=function(){this._disposer.dispose()},t}(),ed=function(t){function e(e,i,s,n){var r=t.call(this)||this;return r.duration=0,r.easing=sc,r.progress=0,r._loop=0,r._pause=!1,r._delayTimeout=null,r._time=0,r._isFinished=!1,r.className="Animation",!1===Kc.animationsEnabled&&(s=0),r.object=e,r.animationOptions=hh(i),r.duration=s,n&&(r.easing=n),r.applyTheme(),r}return Tt(e,t),e.prototype.debug=function(){},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.pause()},e.prototype.delay=function(t){var e=this;if(t>0){this.pause(),ah(this.object.animations,this);var i=setTimeout((function(){e._delayTimeout=null,e.start()}),t);this._delayTimeout=new yh((function(){clearTimeout(i)}))}return this},e.prototype._start=function(){this._isFinished=!1,this._delayTimeout&&(this.removeDispose(this._delayTimeout),this._delayTimeout=null),this.stopSameAnimations(),this._pause=!1,ah(Fg.animations,this),ah(this.object.animations,this),Fg.requestFrame()},e.prototype.start=function(){this._start(),this._startTime=Date.now(),this._time=0,this.staticOptions=[];for(var t=this.animationOptions.length-1;t>=0;t--){var e=this.animationOptions[t];if(gl(e.from)||(e.childObject?e.from=e.childObject[e.property]:(e.from=this.object[e.property],gl(e.from)||(e.from=Uc[e.property]))),e.from==e.to)rh(this.animationOptions,e);else if(!gl(e.from)||!(e.from instanceof nl)&&e.to instanceof nl||e.from instanceof nl&&!(e.to instanceof nl))this.staticOptions.push(e),rh(this.animationOptions,e);else if(vl(e.to))if(e.updateMethod=Zc,e.from instanceof nl){var i=this.object[Jc(e.property,"pixel")];isNaN(i)?(this.staticOptions.push(e),rh(this.animationOptions,e)):e.from=i}else isNaN(e.from)&&(this.staticOptions.push(e),rh(this.animationOptions,e));else if(e.to instanceof Xu)e.from?e.updateMethod=$c:(this.staticOptions.push(e),rh(this.animationOptions,e));else if(e.to instanceof nl){if(e.updateMethod=qc,!isNaN(e.from)){i=this.object[Jc(e.property,"relative")];isNaN(i)||(e.from=rl(100*i))}}else this.staticOptions.push(e),rh(this.animationOptions,e)}if(this.applyStaticOptions(),this.events.isEnabled("animationstarted")){var s={type:"animationstarted",target:this,progress:this.progress};this.events.dispatchImmediately("animationstarted",s)}return this.update(),0===this.duration&&this.end(),this},e.prototype.loop=function(t){return vl(t)||(t=1/0),this._loop=t,this},e.prototype.pause=function(){return this._pause=!0,this._delayTimeout&&(this.removeDispose(this._delayTimeout),this._delayTimeout=null),rh(Fg.animations,this),rh(this.object.animations,this),this},e.prototype.resume=function(){return this._start(),this._startTime=Date.now()-this._time,this},e.prototype.end=function(){if(0==this._loop&&this.pause(),this.setProgress(1),this.applyStaticOptions(),this.events.isEnabled("animationended")){var t={type:"animationended",target:this,progress:this.progress};this.events.dispatchImmediately("animationended",t)}return this._loop>0?(this._loop--,this.start()):(this.stop(),this._isFinished=!0),this},e.prototype.kill=function(){this.pause(),this._isFinished=!0},e.prototype.isFinished=function(){return this._isFinished},e.prototype.applyStaticOptions=function(){var t=this;th(this.staticOptions,(function(e){e.childObject?e.childObject[e.property]=1==t.progress?e.to:e.from:t.object[e.property]=1==t.progress?e.to:e.from}))},e.prototype.stop=function(t){if(this.pause(),!t&&this.events.isEnabled("animationstopped")){var e={type:"animationstopped",target:this,progress:this.progress};this.events.dispatchImmediately("animationstopped",e)}return this},e.prototype.setProgress=function(t){var e=this;if(this._time=this.duration*t,th(this.animationOptions,(function(i){if(i.updateMethod&&gl(i.from)){var s=i.updateMethod(t,i.from,i.to);i.childObject?i.childObject[i.property]=s:e.object[i.property]=s}})),this.progress=t,this.events.isEnabled("animationprogress")){var i={type:"animationprogress",target:this,progress:this.progress};this.events.dispatchImmediately("animationprogress",i)}Fg.requestFrame()},e.prototype.update=function(){if(!this._pause){var t=void 0;this._time=Cl(Date.now()-this._startTime,0,this.duration);var e=this._time/this.duration;t=this.easing(e),(0==this.duration||!vl(t)||e>=1)&&(t=1),this.setProgress(t),1==Tl(this._time/this.duration,6)&&this.end()}return this},Object.defineProperty(e.prototype,"delayed",{get:function(){return!!this._delayTimeout},enumerable:!0,configurable:!0}),e.prototype.stopSameAnimations=function(){var t=this;th(uh(this.object.animations),(function(e){if(e!==t&&!e.delayed){var i=[];th(t.animationOptions,(function(t){th(e.animationOptions,(function(s){t.property==s.property&&t.childObject==s.childObject&&(i.push(s),0==e.animationOptions.length&&e.kill())}))})),th(i,(function(t){rh(e.animationOptions,t)}))}}))},e.prototype.asFunction=function(e){return"easing"==e||t.prototype.asIs.call(this,e)},e}(Ju),id="http://www.w3.org/2000/svg",sd="http://www.w3.org/2000/xmlns/",nd="http://www.w3.org/1999/xlink";function rd(t,e,i,s){return t.addEventListener(e,i,s||!1),new yh((function(){t.removeEventListener(e,i,s||!1)}))}function ad(t){if(bl(t)){var e=document.getElementById(t);if(null==e&&(e=document.getElementsByClassName(t)[0]),e instanceof HTMLElement)return e}else if(t instanceof HTMLElement)return t}function od(t,e){if(t)if(t.classList){var i=e.split(" ");th(i,(function(e){t.classList.add(e)}))}else{var s=t.getAttribute("class");s?t.setAttribute("class",s.split(" ").filter((function(t){return t!==e})).join(" ")+" "+e):t.setAttribute("class",e)}}function ld(t,e){if(t)if(t.classList)t.classList.remove(e);else{var i=t.getAttribute("class");i&&t.setAttribute("class",i.split(" ").filter((function(t){return t!==e})).join(" "))}}function hd(t,e,i){t.style[e]=i}function ud(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)}function pd(){if(document.activeElement&&document.activeElement!=document.body)if(document.activeElement.blur)document.activeElement.blur();else{var t=document.createElement("button");t.style.position="fixed",t.style.top="0px",t.style.left="-10000px",document.body.appendChild(t),t.focus(),t.blur(),document.body.removeChild(t)}}function cd(t,e){var i=e;while(1){if(t===i)return!0;if(null==i.parentNode){if(null==i.host)return!1;i=i.host}else i=i.parentNode}}function dd(t){var e=t;while(1){if(null==e.parentNode)return null!=e.host?e:null;e=e.parentNode}}function gd(t){var e=t.ownerDocument,i=t;while(1){if(null==i.parentNode)return i===e||null!=i.host?i:null;i=i.parentNode}}function fd(t){return"function"===typeof t.composedPath?t.composedPath()[0]:t.target}function md(t){Mh((function(){try{var e=t.getBoundingClientRect(),i=e.left-Math.round(e.left),s=e.top-Math.round(e.top);0!==i&&Ih((function(){t.style.left=i+"px"})),0!==s&&Ih((function(){t.style.top=s+"px"}))}catch(n){}}))}function yd(t){if(null==t){if(!gl(Qc)){var e=document.createElement("style");e.type="text/css",""!=Kc.nonce&&e.setAttribute("nonce",Kc.nonce),document.head.appendChild(e),Qc=e.sheet}return Qc}e=document.createElement("style");return e.type="text/css",""!=Kc.nonce&&e.setAttribute("nonce",Kc.nonce),t.appendChild(e),e.sheet}function bd(t,e){var i=t.cssRules.length;return t.insertRule(e+"{}",i),t.cssRules[i]}var vd=function(t){function e(e,i,s){var n=this,r=yd(e);return n=t.call(this,(function(){var t=$l(r.cssRules,n._rule);if(-1===t)throw new Error("Could not dispose StyleRule");r.deleteRule(t)}))||this,n._rule=bd(r,i),Hh(s,(function(t,e){n.setStyle(t,e)})),n}return Tt(e,t),Object.defineProperty(e.prototype,"selector",{get:function(){return this._rule.selectorText},set:function(t){this._rule.selectorText=t},enumerable:!0,configurable:!0}),e.prototype._setVendorPrefixName=function(t,e){var i=this._rule.style;i.setProperty("-webkit-"+t,e,""),i.setProperty("-moz-"+t,e,""),i.setProperty("-ms-"+t,e,""),i.setProperty("-o-"+t,e,""),i.setProperty(t,e,"")},e.prototype.setStyle=function(t,e){"transition"===t?this._setVendorPrefixName(t,e):this._rule.style.setProperty(t,e,"")},e}(yh),_d=0;(function(t){function e(e,i,s){var n=this,r=gl(s)?s:"__style_"+ ++_d+"__";return n=t.call(this,e,"."+r,i)||this,n._className=r,n}Tt(e,t),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},set:function(t){this._className=t,this.selector="."+t},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this._className}})(vd);function xd(t){if("loading"!==document.readyState)t();else{var e=function(){"loading"!==document.readyState&&(document.removeEventListener("readystatechange",e),t())};document.addEventListener("readystatechange",e)}}function wd(t){var e=ud(t,"font-family");if(e)return e;var i=t.parentElement||t.parentNode;return i?wd(i):void 0}function Pd(t){var e=ud(t,"font-size");if(e)return e;var i=t.parentElement||t.parentNode;return i?Pd(i):void 0}function Od(t,e){var i=t.getBoundingClientRect(),s=xl(e)?e:e?[e]:[];if(s.length){for(var n=0;n<s.length;n++){var r=s[n];if(!Od(r))return!1;var a=r.getBoundingClientRect();if(i.top>=0&&i.left>=0&&i.top<=a.top+a.height&&i.left<=a.left+a.width)return!0}return!1}return i.top>=0&&i.left>=0&&i.top<=(window.innerHeight||document.documentElement.clientHeight)&&i.left<=(window.innerWidth||document.documentElement.clientWidth)}var kd=function(){function t(t){this._isDisposed=!1,this._x=0,this._y=0,this._rotationY=0,this._rotationX=0,this._rotation=0,this._scale=1,this.node="string"===typeof t?document.createElementNS(id,t):t}return t.prototype.removeNode=function(){this.node&&this.node.parentNode&&this.node.parentNode.removeChild(this.node)},Object.defineProperty(t.prototype,"transformString",{get:function(){if(this.node)return this._transformString},enumerable:!0,configurable:!0}),t.prototype.transform=function(){var t="translate("+this._x+","+this._y+")";if(1!=this._scale&&(t+=(t?" ":"")+"scale("+this._scale+")"),0!=this._rotation){var e="rotate("+this._rotation+")";this._rotationX&&this._rotationY&&(e="rotate("+this._rotation+" "+this._rotationX+" "+this._rotationY+")"),t+=(t?" ":"")+e}this._transformString=t,this.node.setAttribute("transform",t)},t.prototype.getBBox=function(){var t={width:0,height:0,x:0,y:0};if(this.node&&this.node.parentNode)try{var e=this.node.getBBox();t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height}catch(i){}return t},t.prototype.moveTo=function(t){if(t){var e=t.x,i=t.y;this._x==e&&this._y==i||(this._x=e,this._y=i,this.transform())}},Object.defineProperty(t.prototype,"content",{get:function(){return this.node.innerHTML||""},set:function(t){this.node.innerHTML=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textContent",{get:function(){return this.node.textContent||""},set:function(t){this.node.textContent=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x!=t&&(this._x=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y!=t&&(this._y=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!=t&&(this._rotation=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotationX",{get:function(){return this._rotationX},set:function(t){this._rotationX!=t&&(this._rotationX=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotationY",{get:function(){return this._rotationY},set:function(t){this._rotationY!=t&&(this._rotationY=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this._scale},set:function(t){this._scale!=t&&(this._scale=t,this.transform())},enumerable:!0,configurable:!0}),t.prototype.removeAttr=function(t){this.node.removeAttribute(t)},t.prototype.attr=function(t){var e=this;return Hh(t,(function(t,i){gl(i)?e.node.setAttribute(t,i):e.node.removeAttribute(t)})),this},t.prototype.getAttr=function(t){return this.node.getAttribute(t)},t.prototype.attrNS=function(t,e,i){return this.node.setAttributeNS(t,e,i),this},t.prototype.getAttrNS=function(t,e){return this.node.getAttributeNS(t,e)},t.prototype.removeStyle=function(t){this.node.style[t]=null,delete this.node.style[t]},t.prototype.getStyle=function(t){return this.node.style[t]},t.prototype.addStyle=function(t){var e=this;return Hh(t,(function(t,i){gl(i)?e.node.style[t]=i:e.removeStyle(t)})),this},t.prototype.addClass=function(t){od(this.node,t)},t.prototype.removeClass=function(t){ld(this.node,t)},t.prototype.setClass=function(t){this.node.setAttribute("class",t)},t.prototype.removeChildNodes=function(){while(this.node.childNodes.length>0)this.node.removeChild(this.node.firstChild)},t.prototype.isDisposed=function(){return this._isDisposed},t.prototype.dispose=function(){this.removeNode()},t}(),Dd=function(t){function e(e){return t.call(this,e)||this}return Tt(e,t),e.prototype.add=function(t){t&&this.node.appendChild(t.node)},e.prototype.addToBack=function(t){if(t){var e=this.node.childNodes[0];e?e!=t.node&&this.node.insertBefore(t.node,e):this.node.appendChild(t.node)}},e.prototype.removeElement=function(t){if(t)try{t.node&&t.node.parentNode==this.node&&this.node.removeChild(t.node)}catch(e){}},e.prototype.hasChild=function(t){for(var e=0;e<this.node.childNodes.length;e++)if(this.node.childNodes[e]==t.node)return!0;return!1},Object.defineProperty(e.prototype,"content",{get:function(){return this.node.innerHTML},set:function(t){this.node.innerHTML=t},enumerable:!0,configurable:!0}),e.prototype.removeChildren=function(){if(this.node.childNodes)while(this.node.childNodes.length>0){var t=this.node.firstChild;t&&t.parentNode&&t.parentNode.removeChild(t)}},e.prototype.removeChildrenByTag=function(t){if(this.node.childNodes)for(var e=this.node.getElementsByTagName(t),i=0;i<e.length;i++)this.node.removeChild(e[i])},e}(kd),Td=function(t){function e(){var e=t.call(this)||this;return e._purposes={stroke:Uu("#e5e5e5"),fill:Uu("#f3f3f3"),primaryButton:Uu("#6794dc"),primaryButtonHover:Uu("#6771dc"),primaryButtonDown:Uu("#68dc75"),primaryButtonActive:Uu("#68dc75"),primaryButtonText:Uu("#FFFFFF"),primaryButtonStroke:Uu("#FFFFFF"),secondaryButton:Uu("#d9d9d9"),secondaryButtonHover:Uu("#d9d9d9").brighten(-.25),secondaryButtonDown:Uu("#d9d9d9").brighten(-.35),secondaryButtonActive:Uu("#d9d9d9").brighten(.35),secondaryButtonText:Uu("#000000"),secondaryButtonStroke:Uu("#FFFFFF"),grid:Uu("#000000"),background:Uu("#ffffff"),alternativeBackground:Uu("#000000"),text:Uu("#000000"),alternativeText:Uu("#FFFFFF"),disabledBackground:Uu("#999999"),positive:Uu("#67dc75"),negative:Uu("#dc6788")},e.className="InterfaceColorSet",e.applyTheme(),e}return Tt(e,t),e.prototype.debug=function(){},e.prototype.getFor=function(t){return this._purposes[t]},e.prototype.setFor=function(t,e){this._purposes[t]=e},e}($u);gu.registeredClasses.InterfaceColorSet=Td;var Sd=new hu;function Cd(t,e){e||(e="ampopup");var i=new Td,s=i.getFor("text"),n=i.getFor("background");n.alpha=.8;var r=i.getFor("alternativeBackground");r.alpha=.05;var a=Sd.insertKeyIfEmpty(e,(function(){var i=new bh([new vd(t,"."+e,{overflow:"visible",position:"absolute",top:"0",left:"0","z-index":"2000"}),new vd(t,"."+e+"-curtain",{width:"100%",height:"100%",position:"absolute",top:"0",left:"0","z-index":"2001","background-color":n.hex,opacity:"0.5"}),new vd(t,"."+e+"-header",{display:"block",width:"100%","min-height":"1.8em",background:r.rgba}),new vd(t,"."+e+"-title",{"font-weight":"bold","font-size":"110%",padding:"0.5em 1.2em 0.5em 1em"}),new vd(t,"."+e+"-content",{background:n.hex,"background-color":n.rgba,color:s.hex,display:"inline-block",position:"absolute",top:"0",left:"0","max-width":"90%","max-height":"90%",overflow:"auto","z-index":"2002"}),new vd(t,"."+e+"-inside",{padding:"1em"}),new vd(t,"."+e+"-close",{display:"block",position:"absolute",top:"0.3em",right:"0.3em","background-color":"rgb(100, 100, 100)",background:"rgba(100, 100, 100, 0.1) url(data:image/svg+xml;charset=utf-8;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgdmVyc2lvbj0iMSIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ0NS4yIDEwOS4ybC00Mi40LTQyLjRMMjU2IDIxMy42IDEwOS4yIDY2LjhsLTQyLjQgNDIuNEwyMTMuNiAyNTYgNjYuOCA0MDIuOGw0Mi40IDQyLjRMMjU2IDI5OC40bDE0Ni44IDE0Ni44IDQyLjQtNDIuNEwyOTguNCAyNTYiLz48L3N2Zz4=) no-repeat center","background-size":"80%",width:"1.2em",height:"1.2em",cursor:"pointer"})]);return new _h((function(){Sd.removeKey(e),i.dispose()}))}));return a.increment()}var Md=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._domEvents={},e}return Tt(e,t),e.prototype._addDOMEvent=function(t,e,i,s){var n=this;if(!this._domEvents[t]){var r=function(t){i.call(s,e,t)};this.target.element.addEventListener(t,r,!1),this._domEvents[t]=new _h((function(){delete n._domEvents[t],n.target.element.removeEventListener(t,r,!1)}))}return this._domEvents[t].increment()},e.prototype._dispatchKeyboardEvent=function(t,e){this.target.events.isEnabled(t)&&this.target.events.dispatchImmediately(t,{type:t,target:this.target,event:e})},e.prototype._on=function(e,i,s,n,r,a){var o=t.prototype._on.call(this,e,i,s,n,r,a),l=[o.disposer];switch(i){case"hit":case"doublehit":case"rightclick":case"down":case"up":this.target.clickable=!0;break;case"drag":case"dragstart":case"dragstop":this.target.draggable=!0;break;case"track":this.target.trackable=!0;break;case"resize":this.target.resizable=!0;break;case"swipe":case"swipeleft":case"swiperight":this.target.swipeable=!0;break;case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":this.target.wheelable=!0;break;case"over":case"out":this.target.hoverable=!0;break;case"focus":case"blur":case"focusin":case"focusout":this.target.focusable=!0;break;case"keydown":l.push(this._addDOMEvent(i,i,this._dispatchKeyboardEvent,this));break;case"keyup":l.push(this._addDOMEvent(i,i,this._dispatchKeyboardEvent,this));break;case"keypress":l.push(this._addDOMEvent(i,i,this._dispatchKeyboardEvent,this));break;case"input":l.push(this._addDOMEvent(i,i,this._dispatchKeyboardEvent,this));break}return o.disposer=new bh(l),o},e}(Ah),Id=function(t){function e(e){var i=t.call(this)||this;return i._eventDispatcher=new Md(i),i.eventDisposers=new hu,i.replacedStyles=new hu,i._clickable=!1,i._contextMenuDisabled=!1,i._hoverable=!1,i._trackable=!1,i._draggable=!1,i._swipeable=!1,i._resizable=!1,i._wheelable=!1,i._inert=!1,i._isHover=!1,i.isRealHover=!1,i._isHoverByTouch=!1,i._isDown=!1,i._isFocused=!1,i._isTouchProtected=!1,i._inertiaOptions=new hu,i.inertias=new hu,i._hitOptions={},i._hoverOptions={},i._swipeOptions={},i._keyboardOptions={},i._mouseOptions={},i._cursorOptions={defaultStyle:[{property:"cursor",value:"default"}]},i._disposers.push(i._eventDispatcher),i._element=e,i.className="InteractionObject",i._disposers.push(new lu(i.inertias)),i._disposers.push(new lu(i.eventDisposers)),i.applyTheme(),i}return Tt(e,t),Object.defineProperty(e.prototype,"events",{get:function(){return this._eventDispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHover",{get:function(){return this._isHover},set:function(t){this.isHover!=t&&(this._isHover=t,t?zd().overObjects.moveValue(this):(this.isRealHover=!1,zd().overObjects.removeValue(this)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHoverByTouch",{get:function(){return this._isHoverByTouch},set:function(t){this.isHoverByTouch!=t&&(this._isHoverByTouch=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overPointers",{get:function(){return this._overPointers||(this._overPointers=new vu),this._overPointers},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDown",{get:function(){return this._isDown},set:function(t){this.isDown!=t&&(this._isDown=t,t?zd().downObjects.moveValue(this):zd().downObjects.removeValue(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"downPointers",{get:function(){return this._downPointers||(this._downPointers=new vu),this._downPointers},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFocused",{get:function(){return this._isFocused},set:function(t){this.isFocused!=t&&(this._isFocused=t,zd().focusedObject=t?this:void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTouchProtected",{get:function(){return this._isTouchProtected},set:function(t){this._isTouchProtected!=t&&(this._isTouchProtected=t,t?zd().unprepElement(this):(this.draggable||this.swipeable||this.trackable||this.resizable)&&zd().prepElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clickable",{get:function(){return this._clickable},set:function(t){this._clickable!==t&&(this._clickable=t,zd().processClickable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contextMenuDisabled",{get:function(){return this._contextMenuDisabled},set:function(t){this._contextMenuDisabled!==t&&(this._contextMenuDisabled=t,zd().processContextMenu(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hoverable",{get:function(){return this._hoverable},set:function(t){this._hoverable!==t&&(this._hoverable=t,zd().processHoverable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trackable",{get:function(){return this._trackable},set:function(t){this._trackable!==t&&(this._trackable=t,zd().processTrackable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"draggable",{get:function(){return this._draggable},set:function(t){this._draggable!==t&&(this._draggable=t,zd().processDraggable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"swipeable",{get:function(){return this._swipeable},set:function(t){this._swipeable!==t&&(this._swipeable=t,zd().processSwipeable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resizable",{get:function(){return this._resizable},set:function(t){this._resizable!==t&&(this._resizable=t,zd().processResizable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wheelable",{get:function(){return this._wheelable},set:function(t){this._wheelable!==t&&(this._wheelable=t,zd().processWheelable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inert",{get:function(){return this._inert},set:function(t){this._inert!==t&&(this._inert=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focusable",{get:function(){return this._focusable},set:function(t){this._focusable!==t&&(this._focusable=t,this._focusable&&-1==this.tabindex&&(this._tabindex=1),zd().processFocusable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabindex",{get:function(){return ml(this._tabindex,-1)},set:function(t){this._tabindex!==t&&(this._tabindex=t,t>-1&&(this.focusable=!0),zd().processFocusable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},set:function(t){this._element=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalPosition",{get:function(){return this._originalPosition||{x:0,y:0}},set:function(t){this._originalPosition=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalScale",{get:function(){return ml(this._originalScale,1)},set:function(t){this._originalScale!==t&&(this._originalScale=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalAngle",{get:function(){return ml(this._originalAngle,0)},set:function(t){this._originalAngle!==t&&(this._originalAngle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inertiaOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("inertiaOptions",this._inertiaOptions):this._inertiaOptions},set:function(t){this._inertiaOptions=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hitOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("hitOptions",this._hitOptions):this._hitOptions},set:function(t){this._hitOptions=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hoverOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("hoverOptions",this._hoverOptions):this._hoverOptions},set:function(t){this._hoverOptions=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"swipeOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("swipeOptions",this._swipeOptions):this._swipeOptions},set:function(t){this._swipeOptions=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keyboardOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("keyboardOptions",this._keyboardOptions):this._keyboardOptions},set:function(t){this._keyboardOptions=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mouseOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("mouseOptions",this._mouseOptions):this._mouseOptions},set:function(t){this._mouseOptions=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursorOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("cursorOptions",this._cursorOptions):this._cursorOptions},set:function(t){this._cursorOptions=t},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.inertiaOptions=e.inertiaOptions,this.hitOptions=e.hitOptions,this.hoverOptions=e.hoverOptions,this.swipeOptions=e.swipeOptions,this.keyboardOptions=e.keyboardOptions,this.cursorOptions=e.cursorOptions,this.contextMenuDisabled=e.contextMenuDisabled,zd().applyCursorOverStyle(this)},e.prototype.setEventDisposer=function(t,e,i){var s=this.eventDisposers.getKey(t);e?null==s&&this.eventDisposers.setKey(t,i()):null!=s&&(s.dispose(),this.eventDisposers.removeKey(t))},e.prototype.dispose=function(){t.prototype.dispose.call(this);var e=zd();e.overObjects.removeValue(this),e.downObjects.removeValue(this),e.trackedObjects.removeValue(this),e.transformedObjects.removeValue(this),this.isHover&&this.wheelable&&e.unlockWheel(),e.focusedObject===this&&(e.focusedObject=void 0)},e}(Ju),jd=function(){function t(t,e){this._disposed=!1,this.directionX=0,this.directionY=0,this.interaction=t,this.keyboardEvent=e,this._startedOn=(new Date).getTime(),zd().processDragStart(t),Fg.animations.push(this),this.update()}return t.prototype.update=function(){var t=this.interaction,e=zd().getKeyboardOption(t,"speed"),i=zd().getKeyboardOption(t,"accelleration"),s=zd().getKeyboardOption(t,"accellerationDelay"),n={x:0,y:0};this.keyboardEvent.shiftKey?(e*=.5,i=1):this.keyboardEvent.ctrlKey&&(e*=2);var r=(new Date).getTime()-this._startedOn,a=r-s;if(i>0&&a>0){var o=r/s;r=s,n.x+=this.directionX*(e*i*o*a),n.y+=this.directionY*(e*i*o*a)}n.x+=this.directionX*(e*r),n.y+=this.directionY*(e*r),zd().handleTransformMove(t,n,{x:0,y:0},this.keyboardEvent,!0,!1)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.dispose=function(){this._disposed||(zd().processDragStop(this.interaction),rh(Fg.animations,this))},t}(),Ed=function(t){function e(e,i,s,n){var r=t.call(this)||this;return r.animations=[],r.className="Inertia",r.interaction=e,r.type=i,r.point=s,r.startPoint=n,r._disposers.push(new td(r.animations)),r}return Tt(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this.point.x},set:function(t){vl(t)&&(this.point.x=t,this.handleMove())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.point.y},set:function(t){vl(t)&&(this.point.y=t,this.handleMove())},enumerable:!0,configurable:!0}),e.prototype.handleMove=function(){if(this.interaction.events.isEnabled("drag")){var t={type:"drag",target:this.interaction,shift:{x:this.x-this.startPoint.x,y:this.y-this.startPoint.y},startPoint:this.startPoint,point:{x:this.x,y:this.y},touch:!1};this.interaction.events.dispatchImmediately("drag",t)}},e.prototype.done=function(){this.interaction.inertias.removeKey(this.type),"move"===this.type&&zd().processDragStop(this.interaction),this.dispose()},e}($u),Ld=function(){function t(){}return t.prototype.getEventKey=function(t){var e,i=t.keyCode||t.which;switch(i){case 38:e="up";break;case 40:e="down";break;case 37:e="left";break;case 39:e="right";break;case 13:e="enter";break;case 27:e="esc";break;case 36:e="home";break;case 35:e="end";break;case 9:e="tab";break;case 17:e="ctrl";break;case 18:e="alt";break;case 16:e="shift";break;case 32:e="space";break;case 36:e="home";break;case 35:e="end";break;case 33:e="pgup";break;case 34:e="pgdn";break;case 45:e="ins";break;case 46:e="del";break;case 107:e="plus";break;case 109:e="minus";break;default:e="other";break}return e},t.prototype.isKey=function(t,e){var i=this.getEventKey(t);return bl(e)&&(e=[e]),-1!==e.indexOf(i)},t.prototype.shiftKey=function(t){return t.shiftKey},t.prototype.ctrlKey=function(t){return t.ctrlKey},t.prototype.altKey=function(t){return t.altKey},t.prototype.metaKey=function(t){return t.metaKey},t}(),Ad=new Ld;function Fd(){return new Date}function Rd(){return Fd().getTime()}function Vd(t,e){var i=new Date(t.toLocaleString("en-US",{timeZone:e}));return i}function Bd(t){var e=new Date;e.setHours(0,0,0,0);var i=Vd(e,t);return i.getMinutes()}var Nd=function(t){function e(){var i=t.call(this)||this;return i._globalEventsAdded=!1,i._pointerEvents={pointerdown:"mousedown",pointerup:"mouseup",pointermove:"mousemove",pointercancel:"mouseup",pointerover:"mouseover",pointerout:"mouseout",wheel:"wheel"},i._usePointerEventsOnly=!1,i._useTouchEventsOnly=!1,i._addHoverEvents=!0,i._passiveSupported=!1,i._delayedEvents={out:[]},i.overObjects=new vu,i.downObjects=new vu,i.trackedObjects=new vu,i.transformedObjects=new vu,i.pointers=new hu,i.inertiaOptions=new hu,i.hitOptions={doubleHitTime:300,hitTolerance:10,noFocus:!0},i.hoverOptions={touchOutBehavior:"leave",touchOutDelay:1e3},i.swipeOptions={time:500,verticalThreshold:75,horizontalThreshold:30},i.keyboardOptions={speed:.1,accelleration:1.2,accellerationDelay:2e3},i.mouseOptions={sensitivity:1},i.className="Interaction",i.body=i.getInteraction(document.body),i._disposers.push(i.body),window.hasOwnProperty("PointerEvent")?(i._pointerEvents.pointerdown="pointerdown",i._pointerEvents.pointerup="pointerup",i._pointerEvents.pointermove="pointermove",i._pointerEvents.pointercancel="pointercancel",i._pointerEvents.pointerover="pointerover",i._pointerEvents.pointerout="pointerout"):window.hasOwnProperty("MSPointerEvent")?(i._pointerEvents.pointerdown="MSPointerDown",i._pointerEvents.pointerup="MSPointerUp",i._pointerEvents.pointermove="MSPointerMove",i._pointerEvents.pointercancel="MSPointerUp",i._pointerEvents.pointerover="MSPointerOver",i._pointerEvents.pointerout="MSPointerOut"):"undefined"!==typeof matchMedia&&matchMedia("(pointer:fine)").matches?"ontouchstart"in window&&(i._addHoverEvents=!1,i._useTouchEventsOnly=!0):window.navigator.userAgent.match(/MSIE /)||i.fullFF()?i._usePointerEventsOnly=!0:i._useTouchEventsOnly=!0,"onwheel"in document.createElement("div")?i._pointerEvents.wheel="wheel":gl(document.onmousewheel)&&(i._pointerEvents.wheel="mousewheel"),i.inertiaOptions.setKey("move",{time:100,duration:500,factor:1,easing:pc}),i.inertiaOptions.setKey("resize",{time:100,duration:500,factor:1,easing:pc}),i._passiveSupported=e.passiveSupported,i.applyTheme(),i}return Tt(e,t),e.prototype.fullFF=function(){return window.navigator.userAgent.match(/Firefox/)&&!window.navigator.userAgent.match(/Android/)},e.prototype.debug=function(){},e.prototype.addGlobalEvents=function(){var t=this;this._globalEventsAdded||(this._useTouchEventsOnly||(this._disposers.push(rd(document,this._pointerEvents.pointerdown,(function(e){t.handleGlobalPointerDown(e)}))),this._disposers.push(rd(document,this._pointerEvents.pointermove,(function(e){t.handleGlobalPointerMove(e)}))),this._disposers.push(rd(document,this._pointerEvents.pointerup,(function(e){t.handleGlobalPointerUp(e)}))),this._disposers.push(rd(document,this._pointerEvents.pointercancel,(function(e){t.handleGlobalPointerUp(e,!0)}))),this._disposers.push(rd(document,"mouseenter",(function(e){gl(e.relatedTarget)||0!=e.buttons&&0!=e.which||t.handleDocumentLeave(e)})))),this._usePointerEventsOnly||(this._disposers.push(rd(document,"touchstart",(function(e){t.handleGlobalTouchStart(e)}))),this._disposers.push(rd(document,"touchmove",(function(e){t.handleGlobalTouchMove(e)}))),this._disposers.push(rd(document,"touchend",(function(e){t.handleGlobalTouchEnd(e)})))),this._disposers.push(rd(document,"keydown",(function(e){t.handleGlobalKeyDown(e)}))),this._disposers.push(rd(document,"keyup",(function(e){t.handleGlobalKeyUp(e)}))),this._globalEventsAdded=!0)},e.prototype.processClickable=function(t){this.processTouchable(t)},e.prototype.processContextMenu=function(t){t.contextMenuDisabled?t.eventDisposers.hasKey("contextMenuDisabled")||t.eventDisposers.setKey("contextMenuDisabled",rd(t.element,"contextmenu",(function(t){t.preventDefault()}))):t.eventDisposers.hasKey("contextMenuDisabled")&&t.eventDisposers.getKey("contextMenuDisabled").dispose()},e.prototype.processHoverable=function(t){var e=this;if(t.hoverable||t.trackable)this.addGlobalEvents(),this.applyCursorOverStyle(t),!t.eventDisposers.hasKey("hoverable")&&this._addHoverEvents&&t.eventDisposers.setKey("hoverable",new bh([rd(t.element,this._pointerEvents.pointerout,(function(i){return e.handlePointerOut(t,i)})),rd(t.element,this._pointerEvents.pointerover,(function(i){return e.handlePointerOver(t,i)}))])),t.trackable;else{var i=t.eventDisposers.getKey("hoverable");null!=i&&(i.dispose(),t.eventDisposers.removeKey("hoverable"))}this.processTouchable(t)},e.prototype.processMovable=function(t){(t.draggable||t.swipeable||t.trackable||t.resizable)&&(this.isGlobalElement(t)||t.isTouchProtected||this.prepElement(t),this.applyCursorOverStyle(t)),this.processTouchable(t)},e.prototype.processTrackable=function(t){this.processHoverable(t),this.processMovable(t),t.trackable?this.trackedObjects.moveValue(t):this.trackedObjects.removeValue(t)},e.prototype.processDraggable=function(t){this.processMovable(t)},e.prototype.processSwipeable=function(t){this.processMovable(t)},e.prototype.processResizable=function(t){this.processMovable(t)},e.prototype.processWheelable=function(t){var e=this;if(t.wheelable)t.eventDisposers.hasKey("wheelable")||t.eventDisposers.setKey("wheelable",new bh([rd(t.element,this._pointerEvents.wheel,(function(i){return e.handleMouseWheel(t,i)}),!!this._passiveSupported&&{passive:!1}),t.events.on("out",(function(i){t.wheelable&&e.unlockWheel()})),t.events.on("over",(function(i){t.wheelable&&e.lockWheel()}))]));else{var i=t.eventDisposers.getKey("wheelable");null!=i&&(i.dispose(),t.eventDisposers.removeKey("wheelable"))}},e.prototype.processFocusable=function(t){var e=this;if(!0===t.focusable&&t.tabindex>-1&&!this._useTouchEventsOnly)t.eventDisposers.hasKey("focusable")||t.eventDisposers.setKey("focusable",new bh([rd(t.element,"focus",(function(i){return e.handleFocus(t,i)})),rd(t.element,"blur",(function(i){return e.handleBlur(t,i)})),rd(t.element,this._pointerEvents.pointerdown,(function(i){return e.handleFocusBlur(t,i)})),rd(t.element,"touchstart",(function(i){return e.handleFocusBlur(t,i)}),!!this._passiveSupported&&{passive:!1})]));else{var i=t.eventDisposers.getKey("focusable");null!=i&&(i.dispose(),t.eventDisposers.removeKey("focusable"))}},e.prototype.processTouchable=function(t){var e=this;if(t.clickable||t.hoverable||t.trackable||t.draggable||t.swipeable||t.resizable)this.addGlobalEvents(),t.eventDisposers.hasKey("touchable")||(this._useTouchEventsOnly||this._usePointerEventsOnly?this._useTouchEventsOnly?this._usePointerEventsOnly||t.eventDisposers.setKey("touchable",rd(t.element,"touchstart",(function(i){return e.handleTouchDown(t,i)}),!!this._passiveSupported&&{passive:!1})):t.eventDisposers.setKey("touchable",rd(t.element,this._pointerEvents.pointerdown,(function(i){return e.handlePointerDown(t,i)}))):t.eventDisposers.setKey("touchable",new bh([rd(t.element,this._pointerEvents.pointerdown,(function(i){return e.handlePointerDown(t,i)})),rd(t.element,"touchstart",(function(i){return e.handleTouchDown(t,i)}),!!this._passiveSupported&&{passive:!1})])));else{var i=t.eventDisposers.getKey("touchable");null!=i&&(i.dispose(),t.eventDisposers.removeKey("touchable"))}},e.prototype.handleFocus=function(t,e){if(t.focusable){if(t.isFocused=!0,t.events.isEnabled("focus")&&!Fg.isPaused){var i={type:"focus",target:t,event:e};t.events.dispatchImmediately("focus",i)}}else e.preventDefault()},e.prototype.handleFocusBlur=function(t,e){!1!==t.focusable&&this.getHitOption(t,"noFocus")&&t.events.once("focus",(function(){t.events.disableType("blur"),pd(),t.sprite&&t.sprite.handleBlur(),t.events.enableType("blur")}))},e.prototype.handleBlur=function(t,e){if(t.focusable){if(t.isFocused=!1,t.events.isEnabled("blur")&&!Fg.isPaused){var i={type:"blur",target:t,event:e};t.events.dispatchImmediately("blur",i)}}else e.preventDefault()},e.prototype.handleGlobalKeyDown=function(t){if(this.focusedObject)if(Ad.isKey(t,"esc"))pd();else if(this.focusedObject.draggable&&Ad.isKey(t,["up","down","left","right"])){t.preventDefault();var e=this.focusedObject,i="interactionKeyboardObject";if(e.eventDisposers.hasKey(i))return;var s=new jd(e,t);switch(e.eventDisposers.setKey(i,s),Ad.getEventKey(t)){case"up":s.directionY=-1;break;case"down":s.directionY=1;break;case"left":s.directionX=-1;break;case"right":s.directionX=1;break}}},e.prototype.handleGlobalKeyUp=function(t){var e="interactionKeyboardObject";if(this.focusedObject){var i=this.focusedObject.eventDisposers.getKey(e);null!=i&&(t.preventDefault(),i.dispose(),this.focusedObject.eventDisposers.removeKey(e));var s=this.focusedObject.sprite;Ad.isKey(t,"enter")&&s&&(s.events.isEnabled("hit")||s.events.isEnabled("toggled")?this.focusedObject.dispatchImmediately("hit"):"hit"==s.showTooltipOn&&this.focusedObject.dispatchImmediately("up"))}},e.prototype.handleGlobalPointerMove=function(t){var e=this.getPointer(t);if(e.point=this.getPointerPoint(t),this.events.isEnabled("track")&&!Fg.isPaused){var i={type:"track",target:this,event:t,pointer:e,touch:e.touch};this.events.dispatchImmediately("track",i)}this.addBreadCrumb(e,e.point),this.handleGlobalMove(e,t)},e.prototype.handleGlobalPointerDown=function(t){this.processDelayed();var e=this.getPointer(t);if(this.events.isEnabled("down")&&!Fg.isPaused){var i={type:"down",target:this,event:t,pointer:e,touch:e.touch};this.events.dispatchImmediately("down",i)}},e.prototype.preventTouchAction=function(t){t.defaultPrevented||t.preventDefault()},e.prototype.handleGlobalPointerUp=function(t,e){void 0===e&&(e=!1);var i=this.getPointer(t);if(this.events.isEnabled("up")&&!Fg.isPaused){var s={type:"up",target:this,event:t,pointer:i,touch:i.touch};this.events.dispatchImmediately("up",s)}this.handleGlobalUp(i,t,e)},e.prototype.handleGlobalTouchMove=function(t){for(var e=0;e<t.changedTouches.length;e++){var i=this.getPointer(t.changedTouches[e]);if(i.point=this.getPointerPoint(t.changedTouches[e]),this.events.isEnabled("track")&&!Fg.isPaused){var s={type:"track",target:this,event:t,pointer:i,touch:i.touch};this.events.dispatchImmediately("track",s)}this.addBreadCrumb(i,i.point),this.handleGlobalMove(i,t)}},e.prototype.handleGlobalTouchStart=function(t){this.processDelayed();for(var e=0;e<t.changedTouches.length;e++){var i=this.getPointer(t.changedTouches[e]);if(!this._usePointerEventsOnly&&this.events.isEnabled("down")&&!Fg.isPaused){var s={type:"down",target:this,event:t,pointer:i,touch:i.touch};this.events.dispatchImmediately("down",s)}}},e.prototype.handleGlobalTouchEnd=function(t){for(var e=0;e<t.changedTouches.length;e++){var i=this.getPointer(t.changedTouches[e]);if(this.events.isEnabled("up")&&!Fg.isPaused){var s={type:"up",target:this,event:t,pointer:i,touch:i.touch};this.events.dispatchImmediately("up",s)}this.handleGlobalUp(i,t)}},e.prototype.handlePointerDown=function(t,e){var i=this.getPointer(e);(i.touch||1==e.which||3==e.which)&&(i.button=e.which,this.resetPointer(i,e),this.handleDown(t,i,e))},e.prototype.handlePointerOver=function(t,e){var i=this.getPointer(e);this.handleOver(t,i,e)},e.prototype.handlePointerOut=function(t,e){var i=this.getPointer(e);this.handleOut(t,i,e)},e.prototype.handleMouseWheel=function(t,e){var i=this.getPointer(e);i.point=this.getPointerPoint(e);var s=0,n=0,r=1;if(1==e.deltaMode&&(r=50),r*=this.getMouseOption(t,"sensitivity"),!(e instanceof WheelEvent))throw new Error("Invalid event type");s=Math.round(-1*e.wheelDeltaX||e.deltaX*r),n=Math.round(-1*e.wheelDeltaY||e.deltaY*r),this.handleWheel(t,i,s,n,e)},e.prototype.handleTouchDown=function(t,e){for(var i=0;i<e.changedTouches.length;i++){var s=this.getPointer(e.changedTouches[i]);this.maybePreventDefault(t,e,s),this.resetPointer(s,e.changedTouches[i]),this.handleDown(t,s,e)}},e.prototype.handleHit=function(t,e,i){var s=Rd();if(t.lastHit&&t.lastHit>=s-this.getHitOption(t,"doubleHitTime")){if(s-t.lastHit<100)return;if(t.lastHit=void 0,t.lastHitPointer=void 0,t.events.isEnabled("doublehit")&&!Fg.isPaused){var n={type:"doublehit",target:t,point:e.point,event:i,touch:e.touch};t.events.dispatchImmediately("doublehit",n)}}else if(t.lastHit=s,t.lastHitPointer=e,3===e.button){if(t.events.isEnabled("rightclick")&&!Fg.isPaused){n={type:"rightclick",target:t,event:i};t.events.dispatchImmediately("rightclick",n)}}else if(t.events.isEnabled("hit")&&!Fg.isPaused){n={type:"hit",target:t,event:i,point:e.point,touch:e.touch};t.events.dispatchImmediately("hit",n)}},e.prototype.handleOver=function(t,e,i,s){if(void 0===s&&(s=!1),t.hoverable){var n=!1;if(this.shouldCancelHovers(e)&&this.areTransformed()&&this.moved(e,this.getHitOption(t,"hitTolerance"))&&(n=!0,this.cancelAllHovers(i)),this.processDelayed(),t.overPointers.moveValue(e),!t.isRealHover&&(n||(t.isHover=!0,t.isRealHover=!0,this.overObjects.moveValue(t)),this.handleTrack(this.body,e,i,!0),t.events.isEnabled("over")&&!Fg.isPaused&&!n)){var r={type:"over",target:t,event:i,pointer:e,touch:e.touch};t.events.dispatchImmediately("over",r)}}},e.prototype.handleOut=function(t,e,i,s,n){var r=this;if(void 0===s&&(s=!1),void 0===n&&(n=!1),t.hoverable&&(t.overPointers.removeValue(e),t.isHover&&(!t.hasDelayedOut||n))){if(s&&t.overPointers.length)return;if(e&&e.touch&&!n&&!this.old(e)){var a=this.getHoverOption(t,"touchOutBehavior");if("leave"==a)return this._delayedEvents.out.push({type:"out",io:t,pointer:e,event:i,keepUntil:Rd()+500}),void(t.hasDelayedOut=!0);if("delay"==a&&this.getHoverOption(t,"touchOutDelay"))return void this._delayedEvents.out.push({type:"out",io:t,pointer:e,event:i,keepUntil:Rd()+500,timeout:this.setTimeout((function(){r.handleOut(t,e,i,!0)}),this.getHoverOption(t,"touchOutDelay"))})}if(t.isHover=!1,this.overObjects.removeValue(t),!t.isDisposed()&&t.events.isEnabled("out")&&!Fg.isPaused){var o={type:"out",target:t,event:i,pointer:e,touch:e.touch};t.events.dispatchImmediately("out",o)}t.overPointers.clear(),t.hasDelayedOut=!1}},e.prototype.processDelayed=function(){var t;while(1){if(t=this._delayedEvents.out.pop(),!t)break;t.timeout&&t.timeout.dispose(),this.handleOut(t.io,t.pointer,t.event,!1,!0)}},e.prototype.handleDown=function(t,e,i){if(this.maybePreventDefault(t,i,e),t.inert&&this.stopInertia(t),this.handleOver(t,e,i,!0),t.downPointers.moveValue(e),this.applyCursorDownStyle(t,e),t.isDown||(!1!==t.focusable&&this.getHitOption(t,"noFocus")&&this.focusedObject&&pd(),t.isDown=!0,this.downObjects.moveValue(t),t.draggable&&this.processDragStart(t,e,i),t.resizable&&this.processResizeStart(t,e,i)),t.events.isEnabled("down")&&!Fg.isPaused){var s={type:"down",target:t,event:i,pointer:e,touch:e.touch};t.events.dispatchImmediately("down",s)}},e.prototype.handleGlobalUp=function(t,e,i){var s=this;void 0===i&&(i=!1);var n=this.downObjects.values.slice();n.sort((function(t,e){if(t&&e){var i=t.element.compareDocumentPosition(e.element);return i&Node.DOCUMENT_POSITION_CONTAINED_BY?1:i&Node.DOCUMENT_POSITION_CONTAINS?-1:0}return 0})),th(n,(function(n){n&&n.downPointers.contains(t)&&s.handleUp(n,t,e,i)}))},e.prototype.handleDocumentLeave=function(t){var e=this;qh(this.downObjects.backwards().iterator(),(function(i){i.downPointers.each((function(s){e.handleUp(i,s,t)}))}))},e.prototype.handleUp=function(t,e,i,s){if(void 0===s&&(s=!1),this.restoreCursorDownStyle(t,e),t.downPointers.removeValue(e),(e&&e.touch||this._useTouchEventsOnly)&&this.handleOut(t,e,i,!0),t.isDown){if(0==t.downPointers.length&&(t.isDown=!1,this.downObjects.removeValue(t)),t.events.isEnabled("up")&&!Fg.isPaused&&e){var n={type:"up",target:t,event:i,pointer:e,touch:e.touch};t.events.dispatchImmediately("up",n)}s||(t.swipeable&&this.swiped(t,e)?this.handleSwipe(t,e,i):(t.clickable&&!this.moved(e,this.getHitOption(t,"hitTolerance"))&&this.handleHit(t,e,i),t.inert&&this.moved(e,this.getHitOption(t,"hitTolerance"))?this.handleInertia(t,e):t.draggable&&this.processDragStop(t,e,i),t.resizable&&this.processResizeStop(t,e,i)))}},e.prototype.maybePreventDefault=function(t,e,i){!gl(e)||!(t.draggable||t.swipeable||t.trackable||t.resizable)||this.isGlobalElement(t)||!1===e.cancelable||t.isTouchProtected&&i&&i.touch||e.preventDefault()},e.prototype.cancelAllHovers=function(t){var e=this;qh(this.overObjects.backwards().iterator(),(function(i){if(i){var s=i.overPointers.getIndex(0);e.handleOut(i,s,t,!0,!0)}}))},e.prototype.shouldCancelHovers=function(t){return"always"==Kc.disableHoverOnTransform||"touch"==Kc.disableHoverOnTransform&&t.touch},e.prototype.handleGlobalMove=function(t,e){var i=this;if(!t.touch){var s=fd(t.lastEvent);qh(this.overObjects.backwards().iterator(),(function(n){if(n&&n.overPointers.contains(t)&&n.hoverable){var r=!1;n.element&&t.lastEvent&&cd(n.element,s)||(r=!0),r&&i.handleOut(n,t,e,!0)}}))}qh(this.transformedObjects.backwards().iterator(),(function(s){!s.downPointers.contains(t)||s.swipeable&&i.swiping(s,t)||!s.draggable&&!s.resizable||i.handleTransform(s,e)})),qh(this.trackedObjects.backwards().iterator(),(function(s){s.overPointers.contains(t)||i.handleTrack(s,t,e)}))},e.prototype.handleTrack=function(t,e,i,s){if(void 0===s&&(s=!1),(s||this.moved(e,0))&&t.events.isEnabled("track")&&!Fg.isPaused){var n={type:"track",target:t,event:i,point:e.point,pointer:e,touch:e.touch};t.events.dispatchImmediately("track",n)}},e.prototype.handleSwipe=function(t,e,i){if(t.events.isEnabled("swipe")&&!Fg.isPaused){var s={type:"swipe",target:t,event:i,touch:e.touch};t.events.dispatchImmediately("swipe",s)}if(e.startPoint.x<e.point.x){if(t.events.isEnabled("swiperight")&&!Fg.isPaused){s={type:"swiperight",target:t,event:i,touch:e.touch};t.events.dispatchImmediately("swiperight",s)}}else if(t.events.isEnabled("swipeleft")&&!Fg.isPaused){s={type:"swipeleft",target:t,event:i,touch:e.touch};t.events.dispatchImmediately("swipeleft",s)}},e.prototype.handleWheel=function(t,e,i,s,n){var r={x:i,y:s};t.events.isEnabled("wheel")&&!Fg.isPaused&&t.events.dispatchImmediately("wheel",{type:"wheel",target:t,event:n,point:e.point,shift:r}),i<0?t.events.isEnabled("wheelleft")&&!Fg.isPaused&&t.events.dispatchImmediately("wheelleft",{type:"wheelleft",target:t,event:n,point:e.point,shift:r}):i>0?t.events.isEnabled("swiperight")&&!Fg.isPaused&&t.events.dispatchImmediately("wheelright",{type:"wheelright",target:t,event:n,point:e.point,shift:r}):s<0?t.events.isEnabled("wheelup")&&!Fg.isPaused&&t.events.dispatchImmediately("wheelup",{type:"wheelup",target:t,event:n,point:e.point,shift:r}):s>0&&t.events.isEnabled("wheeldown")&&!Fg.isPaused&&t.events.dispatchImmediately("wheeldown",{type:"wheeldown",target:t,event:n,point:e.point,shift:r})},e.prototype.handleInertia=function(t,e){t.draggable&&0===t.downPointers.length&&this.handleMoveInertia(t,e),t.resizable&&t.downPointers.length>1&&this.handleResizeInertia(t,e)},e.prototype.handleMoveInertia=function(t,e){var i=t,s="move",n={x:e.point.x,y:e.point.y},r={x:e.startPoint.x,y:e.startPoint.y},a=new Ed(i,s,n,r),o=this.getTrailPoint(e,Rd()-this.getInertiaOption(t,"move","time"));if("undefined"!==typeof o){var l=this.getInertiaOption(t,"move","factor"),h=[{to:e.point.x+(e.point.x-o.point.x)*l,property:"x"},{to:e.point.y+(e.point.y-o.point.y)*l,property:"y"}],u=new ed(a,h,this.getInertiaOption(t,"move","duration"),this.getInertiaOption(t,"move","easing")).start();this._disposers.push(u.events.on("animationended",(function(t){a.done()}))),t.inertias.setKey("move",a)}else this.processDragStop(t,e,e.lastUpEvent)},e.prototype.handleResizeInertia=function(t,e){},e.prototype.handleTransform=function(t,e){var i,s,n,r=t.downPointers.getIndex(0),a=null,o=null;r&&(a=r.point,o=r.startPoint),s={x:t.originalPosition.x,y:t.originalPosition.y},n=s;for(var l=!0,h=1;h<t.downPointers.length;h++){var u=t.downPointers.getIndex(h);if(o.x!=u.startPoint.x&&o.y!=u.startPoint.y){l=!1,i=u,s=i.point,n=i.startPoint;break}}var p=r&&this.moved(r,0);if(t.draggable&&r&&r.dragStartEvents&&r.dragStartEvents.length&&p&&t.events.isEnabled("dragstart")&&!Fg.isPaused&&t.events.dispatchImmediately("dragstart",r.dragStartEvents.shift()),l&&t.draggable)this.handleTransformMove(t,a,o,e,p,r.touch),this.shouldCancelHovers(r)&&this.moved(r,this.getHitOption(t,"hitTolerance"))&&this.cancelAllHovers(e);else{var c=i&&this.moved(i,0);(this.shouldCancelHovers(r)&&this.moved(r,this.getHitOption(t,"hitTolerance"))||this.shouldCancelHovers(i)&&this.moved(i,this.getHitOption(t,"hitTolerance")))&&this.cancelAllHovers(e),t.draggable&&t.resizable?(this.handleTransformMove(t,a,o,e,p&&c,r.touch),this.handleTransformResize(t,a,o,s,n,e,p&&c,r.touch)):(t.draggable&&this.handleTransformMove(t,a,o,e,p,r.touch),!t.resizable||l&&!e.ctrlKey||this.handleTransformResize(t,a,o,s,n,e,p&&c,r.touch))}},e.prototype.handleTransformMove=function(t,e,i,s,n,r){if(n&&t.events.isEnabled("drag")&&!Fg.isPaused&&(!t.isTouchProtected||!r)){var a={type:"drag",target:t,event:s,shift:{x:e.x-i.x,y:e.y-i.y},startPoint:i,point:e,touch:r};t.events.dispatchImmediately("drag",a)}},e.prototype.handleTransformResize=function(t,e,i,s,n,r,a,o){if(t.events.isEnabled("resize")&&!Fg.isPaused&&(!t.isTouchProtected||!o)){var l={type:"resize",target:t,event:r,scale:Vl(e,i,s,n),startPoint1:i,point1:e,startPoint2:n,point2:s,touch:o};t.events.dispatchImmediately("resize",l)}},e.prototype.processDragStart=function(t,e,i){this.transformedObjects.moveValue(t),this.shouldCancelHovers(e)&&this.cancelAllHovers(i);var s={type:"dragstart",target:t,event:i,touch:!!e&&e.touch};e&&(e.dragTarget=t),e&&e.dragStartEvents?e.dragStartEvents.push(s):Fg.isPaused||t.dispatchImmediately("dragstart",s)},e.prototype.processDragStop=function(t,e,i){if(e||(e=this.getDragPointer(t)),e&&(e.dragTarget=void 0),this.transformedObjects.removeValue(t),(!e||this.moved(e,0))&&t.events.isEnabled("dragstop")&&!Fg.isPaused){var s={type:"dragstop",target:t,touch:!!e&&e.touch};t.events.dispatchImmediately("dragstop",s)}},e.prototype.processResizeStart=function(t,e,i){this.transformedObjects.moveValue(t)},e.prototype.processResizeStop=function(t,e,i){this.transformedObjects.removeValue(t)},e.prototype.dragStart=function(t,e){e||(e=this.getDragPointer(t)),e&&this.handleDown(t,e,e.lastDownEvent)},e.prototype.dragStop=function(t,e,i){e||(e=this.getDragPointer(t)),e&&!i&&this.handleGlobalUp(e,e.lastUpEvent,i)},e.prototype.getDragPointer=function(t){return t?t.downPointers.getIndex(0):this.transformedObjects.length?this.getDragPointer(this.transformedObjects.getIndex(0)):void 0},e.prototype.getPointerId=function(t){var e="";return e=gl(t.identifier)?""+t.identifier:gl(t.pointerId)?""+t.pointerId:"m",e.replace("-","")},e.prototype.getPointerPoint=function(t){return{x:t.clientX,y:t.clientY}},e.prototype.getPointer=function(t){var e,i=this.getPointerId(t),s=this.getPointerPoint(t);return this.pointers.hasKey(i)?(e=this.pointers.getKey(i),e.touch=this.isPointerTouch(t)):(e={id:i,touch:this.isPointerTouch(t),startPoint:s,startTime:Rd(),point:s,track:[],swipeCanceled:!1,dragStartEvents:[]},this.addBreadCrumb(e,s),this.pointers.setKey(i,e)),e.lastEvent=t,this.lastPointer=e,e},e.prototype.isPointerTouch=function(t){if("undefined"!==typeof Touch&&t instanceof Touch)return!0;if("undefined"!==typeof PointerEvent&&t instanceof PointerEvent&&gl(t.pointerType))switch(t.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(t instanceof MouseEvent)}else if(gl(t.type)&&t.type.match(/^mouse/))return!1;return!0},e.prototype.resetPointer=function(t,e){var i=this.getPointerPoint(e);t.startTime=Rd(),t.startPoint={x:i.x,y:i.y},t.point={x:i.x,y:i.y},t.track=[],t.swipeCanceled=!1},e.prototype.addBreadCrumb=function(t,e){t.track.push({timestamp:Rd(),point:e})},e.prototype.lockDocument=function(){this.prepElement(this.body)},e.prototype.unlockDocument=function(){0==this.transformedObjects.length&&this.restoreAllStyles(this.body)},e.prototype.lockElement=function(t){this.prepElement(t)},e.prototype.unlockElement=function(t){this.restoreAllStyles(t)},e.prototype.lockWheel=function(){window.addEventListener(this._pointerEvents.wheel,this.wheelLockEvent,!!this._passiveSupported&&{passive:!1})},e.prototype.unlockWheel=function(){window.removeEventListener(this._pointerEvents.wheel,this.wheelLockEvent)},e.prototype.isLocalElement=function(t,e,i){var s=this.getCache("local_pointer_"+t.id);if(gl(s))return s;var n=gd(e)||document;if(n.elementFromPoint){var r=n.elementFromPoint(t.point.x,t.point.y),a=r&&cd(e,r);return this.setCache("local_pointer_"+t.id+"_"+i,a,100),a}return!1},e.prototype.wheelLockEvent=function(t){return t.preventDefault(),!1},e.prototype.prepElement=function(t){var e=t.element;if(e){for(var i=["touchAction","webkitTouchAction","MozTouchAction","MSTouchAction","msTouchAction","oTouchAction","userSelect","webkitUserSelect","MozUserSelect","MSUserSelect","msUserSelect","oUserSelect","touchSelect","webkitTouchSelect","MozTouchSelect","MSTouchSelect","msTouchSelect","oTouchSelect","touchCallout","webkitTouchCallout","MozTouchCallout","MSTouchCallout","msTouchCallout","oTouchCallout","contentZooming","webkitContentZooming","MozContentZooming","MSContentZooming","msContentZooming","oContentZooming","userDrag","webkitUserDrag","MozUserDrag","MSUserDrag","msUserDrag","oUserDrag"],s=0;s<i.length;s++)i[s]in e.style&&this.setTemporaryStyle(t,i[s],"none");this.setTemporaryStyle(t,"tapHighlightColor","rgba(0, 0, 0, 0)")}},e.prototype.unprepElement=function(t){var e=t.element;if(e){for(var i=["touchAction","webkitTouchAction","MozTouchAction","MSTouchAction","msTouchAction","oTouchAction","userSelect","webkitUserSelect","MozUserSelect","MSUserSelect","msUserSelect","oUserSelect","touchSelect","webkitTouchSelect","MozTouchSelect","MSTouchSelect","msTouchSelect","oTouchSelect","touchCallout","webkitTouchCallout","MozTouchCallout","MSTouchCallout","msTouchCallout","oTouchCallout","contentZooming","webkitContentZooming","MozContentZooming","MSContentZooming","msContentZooming","oContentZooming","userDrag","webkitUserDrag","MozUserDrag","MSUserDrag","msUserDrag","oUserDrag"],s=0;s<i.length;s++)i[s]in e.style&&this.restoreStyle(t,i[s]);this.restoreStyle(t,"tapHighlightColor")}},e.prototype.getHitOption=function(t,e){var i=t.hitOptions[e];return"undefined"===typeof i&&(i=this.hitOptions[e]),i},e.prototype.getHoverOption=function(t,e){var i=t.hoverOptions[e];return"undefined"===typeof i&&(i=this.hoverOptions[e]),i},e.prototype.getSwipeOption=function(t,e){var i=t.swipeOptions[e];return"undefined"===typeof i&&(i=this.swipeOptions[e]),i},e.prototype.getKeyboardOption=function(t,e){var i=t.keyboardOptions[e];return"undefined"===typeof i&&(i=this.keyboardOptions[e]),i},e.prototype.getMouseOption=function(t,e){var i=t.mouseOptions[e];return"undefined"===typeof i&&(i=this.mouseOptions[e]),i},e.prototype.getInertiaOption=function(t,e,i){var s,n=t.inertiaOptions.getKey(e);return s=n&&gl(n[i])?n[i]:this.inertiaOptions.getKey(e)[i],s},e.prototype.stopInertia=function(t){for(var e,i=["move","resize"],s=0;s<i.length;s++)if(e=i[s],t.inertias.hasKey(e)){var n=t.inertias.getKey(e);if(n){n.dispose();continue}}},e.prototype.swiping=function(t,e){var i=Rd();return!(e.swipeCanceled||!t.swipeable)&&(Math.abs(e.startPoint.y-e.point.y)<this.getSwipeOption(t,"verticalThreshold")&&e.startTime>i-this.getSwipeOption(t,"time"))},e.prototype.swiped=function(t,e){var i=Rd();return!e.swipeCanceled&&(Math.abs(e.startPoint.x-e.point.x)>this.getSwipeOption(t,"horizontalThreshold")&&Math.abs(e.startPoint.y-e.point.y)<this.getSwipeOption(t,"verticalThreshold")&&e.startTime>i-this.getSwipeOption(t,"time"))},e.prototype.applyCursorOverStyle=function(t){var e=t.cursorOptions;if(gl(e.overStyle))for(var i=0;i<e.overStyle.length;i++)hd(t.element,e.overStyle[i].property,e.overStyle[i].value)},e.prototype.applyCursorDownStyle=function(t,e){if(!e||!e.touch){var i=t.cursorOptions.downStyle;if(t.downPointers.contains(e)&&gl(i))for(var s=0;s<i.length;s++)this.setTemporaryStyle(this.body,i[s].property,i[s].value),this.setTemporaryStyle(t,i[s].property,i[s].value)}},e.prototype.restoreCursorDownStyle=function(t,e){if(!e||!e.touch){var i=t.cursorOptions.downStyle;if(t.downPointers.contains(e)&&gl(i))for(var s=0;s<i.length;s++)this.restoreStyle(this.body,i[s].property),this.restoreStyle(t,i[s].property)}},e.prototype.setGlobalStyle=function(t){for(var e=zd().body,i=xl(t)?t:[t],s=0;s<i.length;s++)this.setTemporaryStyle(e,i[s].property,i[s].value)},e.prototype.restoreGlobalStyle=function(t){for(var e=zd().body,i=xl(t)?t:[t],s=0;s<i.length;s++)this.restoreStyle(e,i[s].property)},e.prototype.isGlobalElement=function(t){return document.body===t.element},e.prototype.moved=function(t,e,i){void 0===i&&(i=300);var s=this.getShift(t);return Math.abs(s.x)>e||Math.abs(s.y)>e},e.prototype.old=function(t,e){return void 0===e&&(e=300),Rd()-t.startTime>e},e.prototype.getShift=function(t){return{x:t.startPoint.x-t.point.x,y:t.startPoint.y-t.point.y}},e.prototype.getTrailPoint=function(t,e){for(var i,s=0;s<t.track.length;s++)if(t.track[s].timestamp>=e){i=t.track[s];break}return i},e.prototype.pointerExists=function(t,e){var i=!1;return t.each((function(t){t!=e&&(i=t.point.x==e.point.x&&t.point.y==e.point.y)})),i},e.prototype.getInteraction=function(t){return new Id(t)},e.prototype.setTemporaryStyle=function(t,e,i){var s=t.element;gl(s.style[e])&&!t.replacedStyles.hasKey(e)&&t.replacedStyles.setKey(e,s.style[e]),hd(s,e,i)},e.prototype.restoreStyle=function(t,e){t.replacedStyles.hasKey(e)?(t.element.style[e]=t.replacedStyles.getKey(e),t.replacedStyles.removeKey(e)):delete t.element.style[e]},e.prototype.restoreAllStyles=function(t){qh(t.replacedStyles.iterator(),(function(e){var i=e[0],s=e[1];t.element.style[i]=s,t.replacedStyles.removeKey(i)}))},e.prototype.dispose=function(){this.isDisposed()||(t.prototype.dispose.call(this),this.restoreAllStyles(this.body),this.unlockWheel())},e.prototype.log=function(t,e,i){var s=!0;if(s){if(e.changedTouches){for(var n=0;n<e.changedTouches.length;n++)this.logTouch(t,e.type,e.changedTouches[n]);return}var r="";if(e.pointerType)switch(e.pointerType){case 2:r="touch";break;case 4:r="mouse";break;default:r=e.pointerType;break}else r="undefined"!=typeof TouchEvent&&e instanceof TouchEvent?"touch":e.type.match(/^mouse/)?"mouse":"???";var a="";a=gl(e.identifier)?e.identifier:gl(e.pointerId)?e.pointerId:"???",i?console.log(t+" ("+i.uid+")  "+e.type+"  "+r+"  "+a):console.log(t+"  "+e.type+"  "+r+"  "+a)}},e.prototype.areTransformed=function(t){var e=this.transformedObjects.length;if(t)for(var i=xl(t)?t:[t],s=0;s<i.length;s++)this.transformedObjects.contains(i[s])&&e--;return e>0},e.prototype.logTouch=function(t,e,i){console.log(t+"  "+e+"  touch  "+i.identifier)},Object.defineProperty(e,"passiveSupported",{get:function(){var t=this;if(null==this._passiveSupported)try{var e=Object.defineProperty({},"passive",{get:function(){t._passiveSupported=!0}});window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(i){this._passiveSupported=!1}return this._passiveSupported},enumerable:!0,configurable:!0}),e}(Ju),Hd=null;function zd(){return null==Hd&&(Hd=new Nd),Hd}var Wd=function(t){function e(){var e=t.call(this)||this;return e.adapter=new Cu(e),e._elements={},e._IOs={},e._content="",e._title="",e._classPrefix="ampopup",e._defaultStyles=!0,e._showCurtain=!1,e._draggable=!0,e._align="center",e._dynamicResize=!0,e._verticalAlign="middle",e._shift={x:0,y:0},e._tempShift={x:0,y:0},e._readerTitle="",e._closable=!0,e._cssLoaded=!1,e._fitTo="window",e.isTemplate=!1,e._sized=!1,e.className="Popup",e}return Tt(e,t),e.prototype.open=function(){this.container&&(this._elements.wrapper&&this.container.appendChild(this._elements.wrapper),this._elements.curtain&&(this.container.appendChild(this._elements.curtain),this.showCurtain=this.showCurtain),this.positionElement(),this.dispatchImmediately("opened"))},e.prototype.close=function(){this._elements.wrapper&&this._elements.wrapper.parentElement&&this._elements.wrapper.parentElement.removeChild(this._elements.wrapper),this._elements.curtain&&this._elements.curtain.parentElement&&this._elements.curtain.parentElement.removeChild(this._elements.curtain),this.dispatchImmediately("closed"),this.releasePointers()},e.prototype.dispose=function(){this.close(),t.prototype.dispose.call(this)},e.prototype.positionElement=function(t){var e=this;void 0===t&&(t=!0),this._elements.wrapper&&setTimeout((function(){if(e._elements.wrapper){if(t||!e._sized){e._elements.wrapper.style.opacity="0.01",e._elements.wrapper.style.left="0",e._elements.wrapper.style.top="0",e._elements.wrapper.style.margin="0 0 0 0",e._elements.wrapper.style.width="",e._elements.wrapper.style.height="";var i=e._elements.wrapper.getBoundingClientRect();e._elements.wrapper.style.width=i.width+"px",e._elements.wrapper.style.height=i.height+"px",e._sized=!0}if(e.dynamicResize)for(var s=e._elements.wrapper.getElementsByTagName("img"),n=0;n<s.length;n++){var r=s[n];if(!r.complete){r.addEventListener("load",(function(){e.positionElement(!0)}));break}}setTimeout((function(){if(e._elements.wrapper){var i;switch(!t&&e._sized||!e._bbox?(i=e._elements.wrapper.getBoundingClientRect(),e._elements.wrapper.style.opacity=""):i=e._bbox,e.align){case"left":e._elements.wrapper.style.left="0",e._elements.wrapper.style.right="auto",e._elements.wrapper.style.marginLeft=e.toStyle(e._shift.x+e._tempShift.x);break;case"center":e._elements.wrapper.style.left="50%",e._elements.wrapper.style.right="auto",e._elements.wrapper.style.marginLeft=e.toStyle(Math.round(-i.width/2)+(e._shift.x+e._tempShift.x));break;case"right":e._elements.wrapper.style.left="auto",e._elements.wrapper.style.right="0",e._elements.wrapper.style.marginLeft=e.toStyle(e._shift.x+e._tempShift.x);break;default:e._elements.wrapper.style.left=e.toStyle(e.left)||"auto",e._elements.wrapper.style.right=e.toStyle(e.right)||"auto",e._elements.wrapper.style.marginLeft=e.toStyle(e._shift.x+e._tempShift.x);break}switch(e.verticalAlign){case"top":e._elements.wrapper.style.top="0",e._elements.wrapper.style.bottom="auto",e._elements.wrapper.style.marginTop=e.toStyle(e._shift.y+e._tempShift.y);break;case"middle":e._elements.wrapper.style.top="50%",e._elements.wrapper.style.bottom="auto",e._elements.wrapper.style.marginTop=e.toStyle(Math.round(-i.height/2)+(e._shift.y+e._tempShift.y));break;case"bottom":e._elements.wrapper.style.top="auto",e._elements.wrapper.style.bottom="0",e._elements.wrapper.style.marginTop=e.toStyle(e._shift.y+e._tempShift.y);break;default:e._elements.wrapper.style.top=e.toStyle(e.top)||"auto",e._elements.wrapper.style.bottom=e.toStyle(e.bottom)||"auto",e._elements.wrapper.style.marginTop=e.toStyle(e._shift.y+e._tempShift.y);break}}}),1)}}),1)},e.prototype.setupDragging=function(){var t=this;this.draggable?(this._IOs.header.events.has("drag")||this._IOs.header.events.on("drag",(function(e){t._tempShift.x=e.shift.x,t._tempShift.y=e.shift.y,t.positionElement(!1)})),this._IOs.header.events.has("dragstop")||this._IOs.header.events.on("dragstop",(function(e){t._shift.x+=t._tempShift.x,t._shift.y+=t._tempShift.y,t._tempShift.x=0,t._tempShift.y=0,t.positionElement(!1)}))):this._IOs.header&&(zd().unprepElement(this._IOs.header),this._IOs.header.events.has("drag")&&this._IOs.header.events.off("drag"),this._IOs.header.events.has("dragstop")&&this._IOs.header.events.off("dragstop"))},e.prototype.toStyle=function(t){return gl(t)?vl(t)?t+"px":t.toString():null},Object.defineProperty(e.prototype,"classPrefix",{get:function(){return this.adapter.apply("classPrefix",this._classPrefix)},set:function(t){this._classPrefix=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classPrefixRaw",{get:function(){return this._classPrefix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this.adapter.apply("content",this._content)},set:function(t){this._content!=t&&(this._content=t,this._elements.content||this.createContentElement(),this._elements.content.innerHTML=t,this.positionElement())},enumerable:!0,configurable:!0}),e.prototype.getClassNames=function(){return this.adapter.apply("classNames",{wrapperClass:this.classPrefix+"",headerClass:this.classPrefix+"-header",titleClass:this.classPrefix+"-title",contentClass:this.classPrefix+"-content",insideClass:this.classPrefix+"-inside",curtainClass:this.classPrefix+"-curtain",closeClass:this.classPrefix+"-close"})},e.prototype.createContentElement=function(){if(!this._elements.wrapper){var t=this.getClassNames(),e=document.createElement("div");e.className=t.contentClass,e.style.opacity="0.01";var i=document.createElement("a");i.className=t.closeClass;var s=document.createElement("div");s.className=t.headerClass;var n=document.createElement("div");n.innerHTML=this.title,n.className=t.titleClass,this.title||(n.style.display="none");var r=document.createElement("div");r.className=t.insideClass,r.innerHTML=this.content,this._IOs.wrapper=zd().getInteraction(e),this._IOs.header=zd().getInteraction(s),this._disposers.push(this._IOs.wrapper),this._IOs.wrapper.events.on("over",this.disablePointers,this),this._IOs.wrapper.events.on("out",this.releasePointers,this),this._IOs.close=zd().getInteraction(i),this._disposers.push(this._IOs.close),i.style.visibility="hidden",e.setAttribute("role","dialog"),s.appendChild(i),s.appendChild(n),e.appendChild(s),e.appendChild(r),this.container.appendChild(e),this._elements.wrapper=e,this._elements.header=s,this._elements.content=r,this._elements.title=n,this._elements.close=i,this.defaultStyles&&this.loadDefaultCSS(),this.createCurtainElement(),this.applyEvents(),this.applyReaderSettings(),this.setupDragging()}},Object.defineProperty(e.prototype,"title",{get:function(){return this.adapter.apply("title",this._title)},set:function(t){this._title!=t&&(this._title=t,this._elements.content||this.createContentElement(),this._elements.title.innerHTML=t,this.positionElement(),this.applyReaderSettings())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readerTitle",{get:function(){return this.adapter.apply("readerTitle",""!=this._readerTitle?this._readerTitle:this.title)},set:function(t){this._readerTitle!=t&&(this._readerTitle=t,this.applyReaderSettings())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closable",{get:function(){return this.adapter.apply("closable",this._closable)},set:function(t){t!==this._closable&&(this._closable=t,this.applyEvents())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fitTo",{get:function(){return this.adapter.apply("fitTo",this._fitTo)},set:function(t){t!=this._fitTo&&(this._fitTo=t,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultStyles",{get:function(){return this.adapter.apply("defaultStyles",this._defaultStyles)},set:function(t){this._defaultStyles!=t&&(this._defaultStyles=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showCurtain",{get:function(){return this.adapter.apply("showCurtain",this._showCurtain)},set:function(t){this._showCurtain!=t&&(this._showCurtain=t,this._elements.curtain&&(this._elements.curtain.style.display=t?"block":"none"))},enumerable:!0,configurable:!0}),e.prototype.createCurtainElement=function(){var t=this.getClassNames(),e=document.createElement("div");e.className=t.curtainClass,this.container.appendChild(e),this._IOs.curtain=zd().getInteraction(e),this._disposers.push(this._IOs.curtain),this._IOs.curtain.events.on("over",this.disablePointers,this),this._IOs.curtain.events.on("out",this.releasePointers,this),e.style.display=this.showCurtain?"block":"none",this._elements.curtain=e},Object.defineProperty(e.prototype,"draggable",{get:function(){return this.adapter.apply("draggable",this._draggable)},set:function(t){this._draggable!=t&&(this._draggable=t,this.setupDragging())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dynamicResize",{get:function(){return this.adapter.apply("dynamicResize",this._dynamicResize)},set:function(t){this._dynamicResize!=t&&(this._dynamicResize=t,this.positionElement(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this.adapter.apply("align",this._align)},set:function(t){this._align!=t&&(this._align=t,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalAlign",{get:function(){return this.adapter.apply("verticalAlign",this._verticalAlign)},set:function(t){this._verticalAlign!=t&&(this._verticalAlign=t,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.adapter.apply("left",this._left)},set:function(t){this.left!=t&&(this._left=t,this._align="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.adapter.apply("right",this._right)},set:function(t){this.right!=t&&(this._right=t,this._align="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.adapter.apply("top",this._top)},set:function(t){this.top!=t&&(this._top=t,this._verticalAlign="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.adapter.apply("bottom",this._bottom)},set:function(t){this.bottom!=t&&(this._bottom=t,this._verticalAlign="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),e.prototype.loadDefaultCSS=function(){this._cssLoaded||(this._disposers.push(Cd(dd(this.container),this.classPrefix)),Hh(this._elements,(function(t,e){e.style.display=""})),this._cssLoaded=!0)},e.prototype.applyEvents=function(){var t=this;if(this._IOs.close)if(this.closable){this._IOs.close.element.style.visibility="visible";var e=[zd().body.events.on("keyup",(function(e){Ad.isKey(e.event,"esc")&&t.closable&&t.close()})),this._IOs.close.events.on("hit",(function(e){t.close()}))];e.push(this._IOs.curtain.events.on("hit",(function(e){t.showCurtain&&t.closable&&t.close()}))),this._disposers.push(new bh(e))}else this._IOs.close.element.style.visibility="hidden"},e.prototype.disablePointers=function(){this.sprite&&(this._spriteInteractionsEnabled=this.sprite.interactionsEnabled,this.sprite.interactionsEnabled=!1)},e.prototype.releasePointers=function(){gl(this._spriteInteractionsEnabled)&&(this.sprite.interactionsEnabled=this._spriteInteractionsEnabled,this._spriteInteractionsEnabled=void 0)},e.prototype.applyReaderSettings=function(){this.elements.wrapper.setAttribute("aria-label",this.readerTitle)},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.container=e.container,this.sprite=e.sprite,this.classPrefix=e.classPrefixRaw,this.content=e.content,this.title=e.title,this.readerTitle=e.readerTitle,this.defaultStyles=e.defaultStyles,this.showCurtain=e.showCurtain,this.align=e.align,this.verticalAlign=e.verticalAlign,this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.adapter.copyFrom(e.adapter)},e}(Ju),Yd=function(t){function e(){var e=t.call(this)||this;return e.adapter=new Cu(e),e.className="Modal",e.showCurtain=!0,e.draggable=!1,e}return Tt(e,t),e}(Wd);function Gd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Kc.verbose&&console&&console.log.apply(console,jt(t))}function Xd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Kc.suppressWarnings||console&&console.warn.apply(console,jt(t))}var Ud=function(){function t(){var t=this;this._targets=[],this._observer=new ResizeObserver((function(e){th(e,(function(e){th(t._targets,(function(t){t.target===e.target&&t.callback()}))}))}))}return t.prototype.addTarget=function(t,e){this._observer.observe(t,{box:"content-box"}),this._targets.push({target:t,callback:e})},t.prototype.removeTarget=function(t){this._observer.unobserve(t),mh(this._targets,(function(e){return e.target!==t}))},t}(),Kd=function(){function t(){this._targets=[]}return t.prototype.addTarget=function(e,i){var s=this;if(0===this._targets.length){var n=null,r=function(){var e=Date.now();(null===n||e>n+t.delay)&&(n=e,th(s._targets,(function(t){var e=t.target.getBoundingClientRect();e.width===t.size.width&&e.height===t.size.height||(t.size=e,t.callback())}))),s._timer=requestAnimationFrame(r)};this._timer=requestAnimationFrame(r)}var a=e.getBoundingClientRect();this._targets.push({target:e,callback:i,size:a})},t.prototype.removeTarget=function(t){mh(this._targets,(function(e){return e.target!==t})),0===this._targets.length&&cancelAnimationFrame(this._timer)},t.delay=200,t}(),Zd=null;function qd(){return null===Zd&&(Zd="undefined"!==typeof ResizeObserver?new Ud:new Kd),Zd}var $d=function(){function t(t,e){this._disposed=!1,this._sensor=qd(),this._element=t,this._sensor.addTarget(t,e)}return t.prototype.isDisposed=function(){return this._disposed},t.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element))},Object.defineProperty(t.prototype,"sensor",{get:function(){return this._sensor},enumerable:!0,configurable:!0}),t.prototype.reset=function(){Xd("resizeSensor.reset() is no longer needed and can be removed")},t}(),Jd=[],Qd=function(){function t(t,e){var i=this;this._disposed=!1,this.autoResize=!0,this.nonExportableSprites=[],this._disposers=[],this.cssScale=1,this._printing=!1,this.htmlElement=t,e||(this._printing=!1,this.initSensor(),this._disposers.push(rd(window,"beforeprint",(function(){i._printing=!0}))),this._disposers.push(rd(window,"afterprint",(function(){i._printing=!1})))),Jd.push(this);var s=document.createElement("div"),n=s.style;n.width="100%",n.height="100%",n.position="relative",t.appendChild(s),this.SVGContainer=s}return t.prototype.initSensor=function(){var t=this;this.resizeSensor&&this.resizeSensor.dispose();var e=function(){t.autoResize&&!t._printing&&t.measure()};this.resizeSensor=new $d(this.htmlElement,e),this._disposers.push(this.resizeSensor)},t.prototype.measure=function(){var t=Kp(this.htmlElement),e=Zp(this.htmlElement),i=this.container;i&&(this.width==t&&this.height==e||(this.width=t,this.height=e,t>0&&(i.maxWidth=t),e>0&&(i.maxHeight=e),md(this.SVGContainer)),i.maxWidth||(i.maxWidth=0),i.maxHeight||(i.maxHeight=0),this.cssScale=1,this.checkTransform(this.htmlElement))},Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(t){this._container=t,this.measure()},enumerable:!0,configurable:!0}),t.prototype.isDisposed=function(){return this._disposed},t.prototype.dispose=function(){this._disposed||rh(Jd,this),th(this._disposers,(function(t){t.dispose()}))},Object.defineProperty(t.prototype,"hideOverflow",{set:function(t){this.SVGContainer.style.overflow=t?"hidden":""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modal",{get:function(){return gl(this._modal)||(this._modal=new Yd,this._modal.container=this.SVGContainer,this._disposers.push(this._modal)),this._modal},enumerable:!0,configurable:!0}),t.prototype.openModal=function(t,e){this.closeModal();var i=this.modal;return i.content=t,i.readerTitle=e||"",i.title=e||"",i.open(),i},t.prototype.closeModal=function(){this._modal&&this.modal.close()},Object.defineProperty(t.prototype,"popups",{get:function(){if(!gl(this._popups)){var t=new Wd;t.container=this.SVGContainer,this._popups=new _u(t),this._disposers.push(new yu(this._popups)),this._disposers.push(this._popups.template)}return this._popups},enumerable:!0,configurable:!0}),t.prototype.openPopup=function(t,e){var i=this.popups.create();return i.content=t,gl(e)&&(i.title=e),i.open(),i},t.prototype.closeAllPopups=function(){this.popups.each((function(t){t.close()}))},Object.defineProperty(t.prototype,"readerAlertElement",{get:function(){if(!gl(this._readerAlertElement)){var t=document.createElement("div");t.setAttribute("role","alert"),t.style.zIndex="-100000",t.style.opacity="0",t.style.position="absolute",t.style.top="0",this.SVGContainer.appendChild(t),this._readerAlertElement=t}return this._readerAlertElement},enumerable:!0,configurable:!0}),t.prototype.readerAlert=function(t){this.readerAlertElement.innerHTML=t},t.prototype.checkTransform=function(t){if(window.getComputedStyle){if(t&&t.style){var e=window.getComputedStyle(t,null);if(e){var i=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("-moz-transform")||e.getPropertyValue("-ms-transform")||e.getPropertyValue("-o-transform")||e.getPropertyValue("transform");if(i&&"none"!==i){var s=i.split("(")[1].split(")")[0].split(","),n=Number(s[0]),r=Number(s[1]),a=Math.sqrt(n*n+r*r);isNaN(a)||(this.cssScale*=a)}}}t.parentNode&&t.parentNode instanceof HTMLElement&&this.checkTransform(t.parentNode)}},t}(),tg=function(){function t(t,e){this.container=t,this.id=e;var i=document.createElementNS(id,"svg");i.setAttribute("version","1.1"),i.setAttributeNS(sd,"xmlns",id),i.setAttributeNS(sd,"xmlns:xlink",nd),i.setAttribute("role","group"),this.container.appendChild(i),this.defs=document.createElementNS(id,"defs"),i.appendChild(this.defs),i.style.width="100%",i.style.height="100%",i.style.overflow="visible",this.svg=i}return t.prototype.add=function(t){return new kd(t)},t.prototype.addGroup=function(t){return new Dd(t)},t.prototype.append=function(t){t&&this.svg.appendChild(t.node)},t.prototype.appendDef=function(t){t&&this.defs.appendChild(t.node)},t.prototype.foreignObject=function(){var t=new kd("foreignObject");return t},t.prototype.supportsForeignObject=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Extensibility","1.1")},t}(),eg=null;function ig(){if(null===eg){var t=document.createElement("div");t.hidden=!0,t.style.width="1px",t.style.height="1px",t.style.position="absolute",t.style.zIndex="-1000000",document.body.appendChild(t);var e=new Qd(t,!0);eg=new tg(e.SVGContainer,"ghost")}return eg}var sg=function(t){function e(){var e=t.call(this)||this;e._elements=new vu,e.properties={},e.className="Pattern",e.width=10,e.height=10,e.x=0,e.y=0,e.patternUnits="userSpaceOnUse";var i=new Td;return e.backgroundFill=i.getFor("background"),e.backgroundOpacity=0,e.fillOpacity=1,e.fill=i.getFor("alternativeBackground"),e.stroke=i.getFor("alternativeBackground"),e.strokeOpacity=1,e.strokeWidth=1,e.shapeRendering="crispEdges",e.rotation=0,e.element=e.paper.addGroup("pattern"),e.id="pattern-"+gu.getUniqueId(),e.element.attr({id:e.id}),e._disposers.push(e.element),e._disposers.push(new yu(e._elements)),e.patternUnits=e.patternUnits,e.width=e.width,e.height=e.height,e.applyTheme(),e}return Tt(e,t),e.prototype.draw=function(){var t=this,e=this.element;if(e){e.removeChildNodes();var i=this.paper.add("rect");i.attr({width:this.width,height:this.height,"shape-rendering":"crispEdges",fill:this.backgroundFill.hex,"fill-opacity":this.backgroundOpacity,stroke:this.backgroundFill.hex,"stroke-opacity":0}),e.add(i),e.attr({x:this.x,y:this.y,width:this.width,height:this.height,stroke:this.stroke.hex,fill:this.fill.hex,"fill-opacity":this.fillOpacity,"stroke-opacity":this.strokeOpacity,"stroke-width":this.strokeWidth,"shape-rendering":this.shapeRendering,patternUnits:this.patternUnits,"stroke-dasharray":this.strokeDasharray}),qh(this._elements.iterator(),(function(e){e.rotation=t.rotation,e.rotationX=t.properties["rotationX"],e.rotationY=t.properties["rotationY"],t.element.add(e)}))}},e.prototype.animate=function(t,e,i){return new ed(this,t,e,i).start()},e.prototype.addElement=function(t){this._elements.push(t),this._disposers.push(t)},e.prototype.removeElement=function(t){this._elements.removeValue(t),this.removeDispose(t)},Object.defineProperty(e.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillOpacity",{get:function(){return this.properties["fillOpacity"]},set:function(t){this.properties["fillOpacity"]=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this.properties["fill"]},set:function(t){this.properties["fill"]=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backgroundFill",{get:function(){return this.properties["backgroundFill"]},set:function(t){this.properties["backgroundFill"]=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backgroundOpacity",{get:function(){return this.properties["backgroundOpacity"]},set:function(t){this.properties["backgroundOpacity"]=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this.properties["stroke"]},set:function(t){this.properties["stroke"]=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeOpacity",{get:function(){return this.properties["strokeOpacity"]},set:function(t){this.properties["strokeOpacity"]=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return this.properties["strokeWidth"]},set:function(t){this.properties["strokeWidth"]=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shapeRendering",{get:function(){return this.properties["shapeRendering"]},set:function(t){this.properties["shapeRendering"]=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.properties["rotation"]},set:function(t){this.properties["rotation"]=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"patternUnits",{get:function(){return this.properties["patternUnits"]},set:function(t){this.properties["patternUnits"]=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.properties["width"]},set:function(t){this.properties["width"]=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.properties["height"]},set:function(t){this.properties["height"]=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.properties["x"]},set:function(t){this.properties["x"]=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.properties["y"]},set:function(t){this.properties["y"]=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paper",{get:function(){return this._paper?this._paper:ig()},set:function(t){this._paper!=t&&(this._paper=t,this.draw(),t.appendDef(this.element))},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){var i=this;t.prototype.copyFrom.call(this,e),Hh(e.properties,(function(t,e){i[t]=e}))},Object.defineProperty(e.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new td(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeDasharray",{get:function(){return this.properties["strokeDashArray"]},set:function(t){this.properties["strokeDashArray"]=t,this.draw()},enumerable:!0,configurable:!0}),e.prototype.processConfig=function(e){if(e&&gl(e.elements)&&xl(e.elements))for(var i=0,s=e.elements.length;i<s;i++){var n=e.elements[i];if(gl(n["type"])){var r=this.createEntryInstance(n);r instanceof $u&&(r.config=n),this.addElement(gl(n["typeProperty"])?r[n["typeProperty"]]:r.element)}}t.prototype.processConfig.call(this,e)},e}($u);gu.registeredClasses.Pattern=sg;var ng=function(t){function e(){var e=t.call(this)||this;return e._stops=new vu,e._rotation=0,e.className="LinearGradient",e._stops.events.on("setIndex",e.validate,e),e._stops.events.on("inserted",e.validate,e),e.element=e.paper.addGroup("linearGradient"),e.id="gradient-"+gu.getUniqueId(),e.element.attr({id:e.id}),e._disposers.push(e.element),e.applyTheme(),e}return Tt(e,t),e.prototype.validate=function(){var t=this,e=(this._rotation+90)*Ol,i=Math.round(50+50*Math.sin(e+Math.PI))+"%",s=Math.round(50+50*Math.cos(e))+"%",n=Math.round(50+50*Math.sin(e))+"%",r=Math.round(50+50*Math.cos(e+Math.PI))+"%",a=this.element;a.removeChildNodes(),a.attr({x1:i,x2:n,y1:s,y2:r}),qh(eu(this._stops.iterator()),(function(e){var i=e[0],s=e[1],n=s.offset;vl(n)||(n=i/(t._stops.length-1));var r=t.paper.add("stop");gl(s.color)&&r.attr({"stop-color":s.color.toString()}),vl(s.opacity)&&r.attr({"stop-opacity":s.opacity}),vl(n)&&r.attr({offset:n}),a.add(r)}))},e.prototype.clear=function(){this._stops.clear()},e.prototype.addColor=function(t,e,i){this._stops.push({color:t,opacity:e,offset:i})},Object.defineProperty(e.prototype,"stops",{get:function(){return this._stops},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paper",{get:function(){return this._paper?this._paper:ig()},set:function(t){this._paper!=t&&(this._paper=t,this.validate(),t.appendDef(this.element))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation=t,this.validate()},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.stops.copyFrom(e.stops),this._rotation=e.rotation},Object.defineProperty(e.prototype,"gradientUnits",{set:function(t){this.element.attr({gradientUnits:t})},enumerable:!0,configurable:!0}),e}($u);gu.registeredClasses.LinearGradient=ng;var rg=function(t){function e(){var e=t.call(this)||this;return e._stops=new vu,e.element=e.paper.addGroup("radialGradient"),e.id="gradient-"+gu.getUniqueId(),e.element.attr({id:e.id}),e._disposers.push(e.element),e.applyTheme(),e}return Tt(e,t),e.prototype.draw=function(){var t=this,e=this.element;if(vl(this.cx)){var i=this.cx;i instanceof nl&&(i=i.percent+"%"),e.attr({cx:i})}if(vl(this.cy)){i=this.cy;i instanceof nl&&(i=i.percent+"%"),e.attr({cy:i})}if(this.fx){i=this.fx;i instanceof nl&&(i=i.percent+"%"),e.attr({fx:i})}if(this.fy){i=this.fy;i instanceof nl&&(i=i.percent+"%"),e.attr({fy:i})}e.removeChildNodes(),qh(eu(this._stops.iterator()),(function(i){var s=i[0],n=i[1],r=n.offset;vl(r)||(r=s/(t._stops.length-1));var a=t.paper.add("stop");gl(n.color)&&a.attr({"stop-color":n.color.toString()}),vl(n.opacity)&&a.attr({"stop-opacity":n.opacity}),vl(r)&&a.attr({offset:r}),e.add(a)}))},e.prototype.addColor=function(t,e,i){this._stops.push({color:t,opacity:e,offset:i}),this.draw()},Object.defineProperty(e.prototype,"paper",{get:function(){return this._paper?this._paper:ig()},set:function(t){this._paper!=t&&(this._paper=t,this.draw(),t.appendDef(this.element))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cx",{get:function(){return this._cx},set:function(t){this._cx=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cy",{get:function(){return this._cy},set:function(t){this._cy=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fx",{get:function(){return this._fx},set:function(t){this._fx=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fy",{get:function(){return this._fy},set:function(t){this._fy=t,this.draw()},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.stops.copyFrom(e.stops),this.cx=e.cx,this.cy=e.cy,this.fx=e.fx,this.fy=e.fy},Object.defineProperty(e.prototype,"stops",{get:function(){return this._stops},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this._stops.clear()},e}($u);gu.registeredClasses.RadialGradient=rg;var ag,og=function(){function t(){}return t.grab=[{property:"cursor",value:"move"},{property:"cursor",value:"grab"},{property:"cursor",value:"-webkit-grab"}],t.grabbing=[{property:"cursor",value:"move"},{property:"cursor",value:"grabbing"},{property:"cursor",value:"-webkit-grabbing"}],t.pointer=[{property:"cursor",value:"pointer"}],t.default=[{property:"cursor",value:"default"}],t.horizontalResize=[{property:"cursor",value:"ew-resize"}],t.verticalResize=[{property:"cursor",value:"ns-resize"}],t.notAllowed=[{property:"cursor",value:"not-allowed"}],t.text=[{property:"cursor",value:"text"}],t}(),lg={_decimalSeparator:".",_thousandSeparator:",",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"μ",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_second:"HH:mm:ss",_date_minute:"HH:mm",_date_hour:"HH:mm",_date_day:"MMM dd",_date_week:"ww",_date_month:"MMM",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(t){var e="th";if(t<11||t>13)switch(t%10){case 1:e="st";break;case 2:e="nd";break;case 3:e="rd";break}return e},"Zoom Out":"",Play:"",Stop:"",Legend:"","Click, tap or press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Click, tap or press ENTER to open":"","Click, tap or press ENTER to print.":"","Click, tap or press ENTER to export as %1.":"",'To save the image, right-click this link and choose "Save picture as..."':"",'To save the image, right-click thumbnail on the left and choose "Save picture as..."':"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:""},hg=function(t){function e(){var e=t.call(this)||this;return e.adapter=new Cu(e),e._locale=lg,e._defaultLocale=lg,e.className="Language",gl(Kc.defaultLocale)&&(e.locale=Kc.defaultLocale),e.applyTheme(),e}return Tt(e,t),e.prototype.getLocale=function(t){return null==t&&(t=this._locale),this.adapter.apply("locale",{locale:t}).locale},e.prototype.translate=function(t,e){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];e=this.getLocale(e);var n=t,r=this.getTranslations(e),a=r[t];if(null===a)n="";else if(gl(a))a&&(n=a);else if(e!==this._defaultLocale)return this.translate.apply(this,jt([t,this._defaultLocale],i));if(i.length)for(var o=i.length,l=0;l<o;++l)n=n.split("%"+(l+1)).join(i[l]);return this.adapter.apply("translate",{translation:n,locale:e}).translation},e.prototype.translateAny=function(t,e){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];return this.translate.apply(this,jt([t,e],i))},e.prototype.setTranslationAny=function(t,e,i){var s=i||this.locale;s[t]=e},e.prototype.translateEmpty=function(t,e){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var n=this.translate.apply(this,jt([t,e],i));return n==t?"":n},e.prototype.translateFunc=function(t,e){e=this.getLocale(e);var i=this.getTranslations(e),s=i[t];return null!=s?s:e!==this._defaultLocale?this.translateFunc(t,this._defaultLocale):function(){return""}},e.prototype.translateAll=function(t,e){var i=this;return this.isDefault()?t:Ql(t,(function(t){return i.translate(t,e)}))},e.prototype.isDefault=function(){return this._defaultLocale===this._locale},Object.defineProperty(e.prototype,"locale",{get:function(){return this._locale},set:function(t){if(this._locale!=t&&(this._locale=t,this.events.isEnabled("localechanged"))){var e={type:"localechanged",locale:t,target:this};this.events.dispatchImmediately("localechanged",e)}},enumerable:!0,configurable:!0}),e.prototype.getTranslations=function(t){return this.adapter.apply("translations",{translations:t,locale:t}).translations},e}(Ju),ug=function(t){function e(){var e=t.call(this)||this;return e.adapter=new Cu(e),e.className="TextFormatter",e.applyTheme(),e}return Tt(e,t),e.prototype.debug=function(){},e.prototype.format=function(t,e){gl(e)||(e="svg");var i="";t=this.escape(t);var s=t.match(/\[([^\]]*?)\]/gm);if(!s)return this.wrap(t,"",e);for(var n=t.split(/\[[^\[\]]*\]/),r=0,a=n.length;r<a;r++){var o=n[r];if(""!==o){o=this.adapter.apply("chunk",o);var l="";r>0&&(l=s[r-1].replace("[","").replace("]","")),i+=this.wrap(o,l,e)}}return i=this.unescape(i),this.cleanUp(i)},e.prototype.escape=function(t){return t.replace(/\[\[/g,gu.getPlaceholder("1")).replace(/([^\/\]]{1})\]\]/g,"$1"+gu.getPlaceholder("2")).replace(/\]\]/g,gu.getPlaceholder("2")).replace(/\{\{/g,gu.getPlaceholder("3")).replace(/\}\}/g,gu.getPlaceholder("4")).replace(/\'\'/g,gu.getPlaceholder("5"))},e.prototype.unescape=function(t){return t.replace(new RegExp(gu.getPlaceholder("1"),"g"),"[[").replace(new RegExp(gu.getPlaceholder("2"),"g"),"]]").replace(new RegExp(gu.getPlaceholder("3"),"g"),"{{").replace(new RegExp(gu.getPlaceholder("4"),"g"),"}}").replace(new RegExp(gu.getPlaceholder("5"),"g"),"''")},e.prototype.cleanUp=function(t){return t.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")},e.prototype.wrap=function(t,e,i){switch(""!==e&&"/"!==e||(e=""),i){case"html":return this.wrapHtml(t,this.translateStyleShortcuts(e));default:return this.wrapSvg(t,this.translateStyleShortcuts(e))}},e.prototype.wrapSvg=function(t,e){return""===e?"<tspan>"+t+"</tspan>":"<tspan style='"+e+"'>"+t+"</tspan>"},e.prototype.getSvgElement=function(t,e){var i=new kd("tspan");return i.textContent=t,e&&i.node.setAttribute("style",e),i},e.prototype.wrapHtml=function(t,e){return""===e?"<span>"+t+"</span>":"<span style='"+this.styleSvgToHtml(e)+"'>"+t+"</span>"},e.prototype.getHtmlElement=function(t,e){var i=document.createElement("span");return i.innerHTML=t,e&&i.setAttribute("style",e),i},e.prototype.styleSvgToHtml=function(t){return t=t.replace(/fill:/,"color:"),t},e.prototype.translateStyleShortcuts=function(t){if(""==t||"[ ]"==t)return"";var e=gu.getCache("translateStyleShortcuts_"+t);if(e)return e;var i=t.match(/('[^']*')|("[^"]*")/gi);if(i)for(var s=0;s<i.length;s++)t=t.replace(i[s],i[s].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));var n=t.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w]+)|(\/)/gi);if(!n)return t;for(s=0;s<n.length;s++)n[s].match(/^bold$/i)?n[s]="font-weight:"+n[s]:"/"==n[s]?n[s]="":n[s].match(/:/)?n[s]=n[s].replace(/\+/g," "):n[s]="fill:"+n[s];var r=n.join(";");return gu.setCache("translateStyleShortcuts_"+t,r),r},e.prototype.chunk=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var s=[];t=this.escape(t);for(var n=e?t.split("'"):[t],r=0;r<n.length;r++){var a=n[r];if(""!==a)if(r%2===0){a=a.replace(/\]\[/g,"]"+rp+"["),a=a.replace(/\[\]/g,"[ ]");for(var o=a.split(/[\[\]]+/),l=0;l<o.length;l++){var h=this.cleanUp(this.unescape(o[l]));h!==rp&&(""!==h&&(l%2===0?s.push({type:"value",text:this.adapter.apply("chunk",h)}):s.push({type:i?"value":"format",text:"["+h+"]"})))}}else for(o=a.split(/[\[\]]+/),l=0;l<o.length;l++){h=this.cleanUp(this.unescape(o[l]));""!==h&&(l%2===0?s.push({type:"text",text:h}):this.isImage(h)?s.push({type:"image",text:"["+h+"]"}):s.push({type:"format",text:"["+h+"]"}))}}return s},e.prototype.isImage=function(t){return!!t.match(/img[ ]?:/)},e}($u);function pg(){return null==ag&&(ag=new ug),ag}gu.registeredClasses.TextFormatter=ug;var cg=function(t){function e(){var e=t.call(this)||this;return e._negativeBase=0,e._numberFormat="#,###.#####",e._outputFormat="svg",e._smallNumberThreshold=1,e._forceLTR=!1,e.className="NumberFormatter",e.applyTheme(),e}return Tt(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this),this.language&&this.language.dispose()},Object.defineProperty(e.prototype,"language",{get:function(){return this._language||(this.sprite?this._language=this.sprite.language:this._language=new hg),this._language},set:function(t){this._language=t},enumerable:!0,configurable:!0}),e.prototype.format=function(t,e,i){var s;("undefined"===typeof e||bl(e)&&"number"===e.toLowerCase())&&(e=this._numberFormat);var n=Number(t);if(_l(e))try{return this.intlLocales?new Intl.NumberFormat(this.intlLocales,e).format(n):new Intl.NumberFormat(void 0,e).format(n)}catch(o){return"Invalid"}else{e=Dp(e);var r=this.parseFormat(e,this.language),a=void 0;a=n>this._negativeBase?r.positive:n<this._negativeBase?r.negative:r.zero,gl(i)&&!a.mod&&(a=Yh(a),a.decimals.active=0==n?0:i),s=a.template.split(rp).join(this.applyFormat(n,a))}return this.forceLTR&&(s="‎"+s),s},e.prototype.parseFormat=function(t,e){var i=this,s=this.getCache(t);if(gl(s))return s;var n={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:e.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:e.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:e.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:e.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:e.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:e.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1}};t=t.replace("||",ap);var r=t.split("|");return n.positive.source=r[0],"undefined"===typeof r[2]?n.zero=n.positive:n.zero.source=r[2],"undefined"===typeof r[1]?n.negative=n.positive:n.negative.source=r[1],Hh(n,(function(t,e){if(!e.parsed)if("undefined"===typeof i.getCache(e.source)){var s=e.source;"number"===s.toLowerCase()&&(s=bl(i._numberFormat)?i._numberFormat:"#,###.#####");for(var r=pg().chunk(s,!0),a=0;a<r.length;a++){var o=r[a];if(o.text=o.text.replace(ap,"|"),"value"===o.type){var l=o.text.match(/[#0.,]+[ ]?[abespABESP%!]?[abespABESP‰!]?/);if(l)if(null===l||""===l[0])e.template+=o.text;else{var h=l[0].match(/[abespABESP%‰!]{2}|[abespABESP%‰]{1}$/);h&&(e.mod=h[0].toLowerCase(),e.modSpacing=!!l[0].match(/[ ]{1}[abespABESP%‰!]{1}$/));var u=l[0].split(".");if(""===u[0]);else{e.thousands.active=(u[0].match(/0/g)||[]).length,e.thousands.passive=(u[0].match(/\#/g)||[]).length+e.thousands.active;var p=u[0].split(",");1===p.length||(e.thousands.interval=fl(p.pop()).length,0===e.thousands.interval&&(e.thousands.interval=-1))}"undefined"===typeof u[1]||(e.decimals.active=(u[1].match(/0/g)||[]).length,e.decimals.passive=(u[1].match(/\#/g)||[]).length+e.decimals.active),e.template+=o.text.split(l[0]).join(rp)}}else e.template+=o.text}i.setCache(e.source,e),e.parsed=!0}else n[t]=i.getCache(e.source)})),this.setCache(t,n),n},e.prototype.applyFormat=function(t,e){var i=t<0;t=Math.abs(t);var s="",n="",r=e.mod?e.mod.split(""):[];if(-1!==r.indexOf("b")){var a=this.applyPrefix(t,this.bytePrefixes,-1!==r.indexOf("!"));t=a[0],s=a[1],n=a[2],e.modSpacing&&(n=" "+n)}else if(-1!==r.indexOf("a")){var o=this.applyPrefix(t,t<this.smallNumberThreshold?this.smallNumberPrefixes:this.bigNumberPrefixes,-1!==r.indexOf("!"));t=o[0],s=o[1],n=o[2],e.modSpacing&&(n=" "+n)}else if(-1!==r.indexOf("p")){var l=Math.min(t.toString().length+2,21);t=parseFloat(t.toPrecision(l)),s=this.language.translate("_percentPrefix")||"",n=this.language.translate("_percentSuffix")||"",""==s&&""==n&&(n="%")}else if(-1!==r.indexOf("%")){l=El(t.toString().length+2,21);t*=100,t=parseFloat(t.toPrecision(l)),n="%"}else if(-1!==r.indexOf("‰")){l=El(t.toString().length+3,21);t*=1e3,t=parseFloat(t.toPrecision(l)),n="‰"}if(-1!==r.indexOf("e")){var h=void 0;h=e.decimals.passive>=0?t.toExponential(e.decimals.passive).split("e"):t.toExponential().split("e"),t=Number(h[0]),n="e"+h[1],e.modSpacing&&(n=" "+n)}else if(0===e.decimals.passive)t=Math.round(t);else if(e.decimals.passive>0){var u=Math.pow(10,e.decimals.passive);t=Math.round(t*u)/u}var p="",c=Cp(t).split("."),d=c[0];if(d.length<e.thousands.active&&(d=Array(e.thousands.active-d.length+1).join("0")+d),e.thousands.interval>0){for(var g=[],f=d.split("").reverse().join(""),m=0,y=d.length;m<=y;m+=e.thousands.interval){var b=f.substr(m,e.thousands.interval).split("").reverse().join("");""!==b&&g.unshift(b)}d=g.join(e.thousands.separator)}p+=d,1===c.length&&c.push("");var v=c[1];return v.length<e.decimals.active&&(v+=Array(e.decimals.active-v.length+1).join("0")),""!==v&&(p+=e.decimals.separator+v),""===p&&(p="0"),0!==t&&i&&-1===r.indexOf("s")&&(p="-"+p),s&&(p=s+p),n&&(p+=n),p},e.prototype.applyPrefix=function(t,e,i){void 0===i&&(i=!1);for(var s=t,n="",r="",a=!1,o=1,l=0,h=e.length;l<h;l++)e[l].number<=t&&(0===e[l].number?s=0:(s=t/e[l].number,o=e[l].number),n=e[l].prefix,r=e[l].suffix,a=!0);return!a&&i&&e.length&&0!=t&&(s=t/e[0].number,n=e[0].prefix,r=e[0].suffix,a=!0),a&&(s=parseFloat(s.toPrecision(El(o.toString().length+Math.floor(s).toString().replace(/[^0-9]*/g,"").length,21)))),[s,n,r]},e.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},Object.defineProperty(e.prototype,"numberFormat",{get:function(){return this._numberFormat},set:function(t){this._numberFormat=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"intlLocales",{get:function(){return this._intlLocales},set:function(t){this._intlLocales=t,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"negativeBase",{get:function(){return this._negativeBase},set:function(t){this._negativeBase=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bigNumberPrefixes",{get:function(){return gl(this._bigNumberPrefixes)||(this._bigNumberPrefixes=[{number:1e3,suffix:this.language.translate("_big_number_suffix_3")},{number:1e6,suffix:this.language.translate("_big_number_suffix_6")},{number:1e9,suffix:this.language.translate("_big_number_suffix_9")},{number:1e12,suffix:this.language.translate("_big_number_suffix_12")},{number:1e15,suffix:this.language.translate("_big_number_suffix_15")},{number:1e18,suffix:this.language.translate("_big_number_suffix_18")},{number:1e21,suffix:this.language.translate("_big_number_suffix_21")},{number:1e24,suffix:this.language.translate("_big_number_suffix_24")}]),this._bigNumberPrefixes},set:function(t){this._bigNumberPrefixes=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"smallNumberPrefixes",{get:function(){return gl(this._smallNumberPrefixes)||(this._smallNumberPrefixes=[{number:1e-24,suffix:this.language.translate("_small_number_suffix_24")},{number:1e-21,suffix:this.language.translate("_small_number_suffix_21")},{number:1e-18,suffix:this.language.translate("_small_number_suffix_18")},{number:1e-15,suffix:this.language.translate("_small_number_suffix_15")},{number:1e-12,suffix:this.language.translate("_small_number_suffix_12")},{number:1e-9,suffix:this.language.translate("_small_number_suffix_9")},{number:1e-6,suffix:this.language.translate("_small_number_suffix_6")},{number:.001,suffix:this.language.translate("_small_number_suffix_3")}]),this._smallNumberPrefixes},set:function(t){this._smallNumberPrefixes=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"smallNumberThreshold",{get:function(){return this._smallNumberThreshold},set:function(t){this._smallNumberThreshold=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bytePrefixes",{get:function(){return gl(this._bytePrefixes)||(this._bytePrefixes=[{number:1,suffix:this.language.translate("_byte_suffix_B")},{number:1024,suffix:this.language.translate("_byte_suffix_KB")},{number:1048576,suffix:this.language.translate("_byte_suffix_MB")},{number:1073741824,suffix:this.language.translate("_byte_suffix_GB")},{number:1099511627776,suffix:this.language.translate("_byte_suffix_TB")},{number:0x4000000000000,suffix:this.language.translate("_byte_suffix_PB")}]),this._bytePrefixes},set:function(t){this._bytePrefixes=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(t){this._outputFormat=t.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"forceLTR",{get:function(){return this._forceLTR},set:function(t){this._forceLTR=t,this.invalidateSprite()},enumerable:!0,configurable:!0}),e.prototype.escape=function(t){return t.replace("||",ap)},e.prototype.unescape=function(t){return t.replace(ap,"|")},e}($u);gu.registeredClasses.NumberFormatter=cg;var dg=function(t){function e(){var e=t.call(this)||this;return e._dateFormat="yyyy-MM-dd",e._inputDateFormat="yyyy-MM-dd",e._utc=!1,e.timezoneMinutes=0,e._firstDayOfWeek=1,e.months=["January","February","March","April","May","June","July","August","September","October","November","December"],e.monthsShort=["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e.weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],e.weekdaysShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],e._outputFormat="svg",e.capitalize=!0,e.className="DateFormatter",e.applyTheme(),e}return Tt(e,t),Object.defineProperty(e.prototype,"language",{get:function(){return this._language},set:function(t){this._language=t,this.dateFormat=this._language.translate("_date")},enumerable:!0,configurable:!0}),e.prototype.format=function(t,e,i){var s,n;if(this.language||(this.sprite?this.language=this.sprite.language:this.language=new hg),"undefined"!==typeof e&&""!==e||(e=this._dateFormat),n=bl(t)?this.parse(t):Mp(t),_l(e))try{return this.intlLocales?new Intl.DateTimeFormat(this.intlLocales,e).format(n):new Intl.DateTimeFormat(void 0,e).format(n)}catch(a){return"Invalid"}else{e=Dp(e);var r=this.parseFormat(e);if(gl(this.timezoneOffset)?n.setMinutes(n.getMinutes()+n.getTimezoneOffset()-this.timezoneOffset):gl(this.timezone)&&!1!==i&&(n=Vd(n,this.timezone)),!vl(n.getTime()))return this.language.translate("Invalid date");s=this.applyFormat(n,r,this.language),this.capitalize&&(s=s.replace(/^.{1}/,s.substr(0,1).toUpperCase()))}return s},e.prototype.parseFormat=function(t){var e=this.getCache(t);if(gl(e))return e;for(var i={template:"",parts:[]},s=pg().chunk(t,!0),n=0;n<s.length;n++){var r=s[n];if("value"===r.type){r.text.match(/^date$/i)&&bl(this._dateFormat)&&(r.text=this._dateFormat);var a=r.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(a)for(var o=0;o<a.length;o++)i.parts.push(a[o]),r.text=r.text.replace(a[o],rp)}i.template+=r.text}return this.setCache(t,i),i},e.prototype.applyFormat=function(t,e,i){var s,n,r,a,o,l,h,u,p=e.template,c=t.getTimezoneOffset(),d=t.getTime();this.utc?(s=t.getUTCFullYear(),n=t.getUTCMonth(),r=t.getUTCDay(),a=t.getUTCDate(),o=t.getUTCHours(),l=t.getUTCMinutes(),h=t.getUTCSeconds(),u=t.getUTCMilliseconds()):(s=t.getFullYear(),n=t.getMonth(),r=t.getDay(),a=t.getDate(),o=t.getHours(),l=t.getMinutes(),h=t.getSeconds(),u=t.getMilliseconds());for(var g=0,f=e.parts.length;g<f;g++){var m="";switch(e.parts[g]){case"G":m=i.translate(s<0?"_era_bc":"_era_ad");break;case"yyyy":m=Math.abs(s).toString(),s<0&&(m+=i.translate("_era_bc"));break;case"yyy":case"yy":case"y":m=Math.abs(s).toString().substr(-e.parts[g].length),s<0&&(m+=i.translate("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":var y=Ep(t),b=s;1==y&&r>4&&b--,m="YYYY"==e.parts[g]?Math.abs(b).toString():Math.abs(b).toString().substr(-e.parts[g].length),b<0&&(m+=i.translate("_era_bc"));break;case"u":break;case"q":m=""+Math.ceil((t.getMonth()+1)/3);break;case"MMMMM":m=i.translate(this.months[n]).substr(0,1);break;case"MMMM":m=i.translate(this.months[n]);break;case"MMM":m=i.translate(this.monthsShort[n]);break;case"MM":m=Op(n+1,2,"0");break;case"M":m=(n+1).toString();break;case"ww":m=Op(Ep(t,this.utc),2,"0");break;case"w":m=Ep(t,this.utc).toString();break;case"W":m=Lp(t,this.utc).toString();break;case"dd":m=Op(a,2,"0");break;case"d":m=a.toString();break;case"DD":case"DDD":m=Op(jp(t,this.utc).toString(),e.parts[g].length,"0");break;case"D":m=jp(t,this.utc).toString();break;case"F":break;case"g":break;case"t":m=i.translateFunc("_dateOrd").call(this,a);break;case"E":m=(r||7).toString();break;case"EE":m=Op((r||7).toString(),2,"0");break;case"EEE":case"eee":m=i.translate(this.weekdaysShort[r]);break;case"EEEE":case"eeee":m=i.translate(this.weekdays[r]);break;case"EEEEE":case"eeeee":m=i.translate(this.weekdays[r]).substr(0,1);break;case"e":case"ee":m=(r-this.firstDayOfWeek+1).toString(),"ee"==e.parts[g]&&(m=Op(m,2,"0"));break;case"a":m=o>=12?i.translate("PM"):i.translate("AM");break;case"aa":m=o>=12?i.translate("P.M."):i.translate("A.M.");break;case"aaa":m=o>=12?i.translate("P"):i.translate("A");break;case"h":m=Fp(o).toString();break;case"hh":m=Op(Fp(o),2,"0");break;case"H":m=o.toString();break;case"HH":m=Op(o,2,"0");break;case"K":m=Fp(o,0).toString();break;case"KK":m=Op(Fp(o,0),2,"0");break;case"k":m=(o+1).toString();break;case"kk":m=Op(o+1,2,"0");break;case"m":m=l.toString();break;case"mm":m=Op(l,2,"0");break;case"s":m=h.toString();break;case"ss":m=Op(h,2,"0");break;case"S":case"SS":case"SSS":m=Math.round(u/1e3*Math.pow(10,e.parts[g].length)).toString();break;case"x":m=d.toString();break;case"n":case"nn":case"nnn":m=Op(u,e.parts[g].length,"0");break;case"z":m=Rp(t,!1,!1,this.utc);break;case"zz":m=Rp(t,!0,!1,this.utc);break;case"zzz":m=Rp(t,!1,!0,this.utc);break;case"zzzz":m=Rp(t,!0,!0,this.utc);break;case"Z":case"ZZ":var v=Math.abs(c)/60,_=Math.floor(v),x=60*v-60*_;this.utc&&(_=0,x=0),"Z"==e.parts[g]?(m="GMT",m+=c>0?"-":"+",m+=Op(_,2)+":"+Op(x,2)):(m=c>0?"-":"+",m+=Op(_,2)+Op(x,2));break;case"i":m=t.toISOString();break;case"I":m=t.toUTCString();break}p=p.replace(rp,m)}return p},e.prototype.parse=function(t,e){if(gl(e)||(e=this.inputDateFormat),t instanceof Date)return t;if("number"===typeof t)return new Date(t);var i;"string"!==typeof t&&(t=t.toString()),this.language||(this.sprite?this.language=this.sprite.language:this.language=new hg);var s="";e=Dp(e),e=e.substr(0,t.length);for(var n=this.parseFormat(e),r={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},a={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:this.utc},o=0,l=0,h=0;h<n.parts.length;h++){switch(l=h+o+1,n.parts[h]){case"yyyy":case"YYYY":s+="([0-9]{4})",r.year=l;break;case"yyy":case"YYY":s+="([0-9]{3})",r.year3=l;break;case"yy":case"YY":s+="([0-9]{2})",r.year2=l;break;case"y":case"Y":s+="([0-9]{1})",r.year1=l;break;case"MMMM":s+="("+this.getStringList(this.months).join("|")+")",r.monthLong=l;break;case"MMM":s+="("+this.getStringList(this.monthsShort).join("|")+")",r.monthShort=l;break;case"MM":case"M":s+="([0-9]{2}|[0-9]{1})",r.month=l;break;case"ww":case"w":s+="([0-9]{2}|[0-9]{1})",r.week=l;break;case"dd":case"d":s+="([0-9]{2}|[0-9]{1})",r.day=l;break;case"DDD":case"DD":case"D":s+="([0-9]{3}|[0-9]{2}|[0-9]{1})",r.yearDay=l;break;case"dddd":s+="("+this.getStringList(this.weekdays).join("|")+")",r.weekdayLong=l;break;case"ddd":s+="("+this.getStringList(this.weekdaysShort).join("|")+")",r.weekdayShort=l;break;case"aaa":case"aa":case"a":s+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",r.am=l;break;case"hh":case"h":s+="([0-9]{2}|[0-9]{1})",r.hour12Base1=l;break;case"HH":case"H":s+="([0-9]{2}|[0-9]{1})",r.hourBase0=l;break;case"KK":case"K":s+="([0-9]{2}|[0-9]{1})",r.hour12Base0=l;break;case"kk":case"k":s+="([0-9]{2}|[0-9]{1})",r.hourBase1=l;break;case"mm":case"m":s+="([0-9]{2}|[0-9]{1})",r.minute=l;break;case"ss":case"s":s+="([0-9]{2}|[0-9]{1})",r.second=l;break;case"SSS":case"SS":case"S":s+="([0-9]{3}|[0-9]{2}|[0-9]{1})",r.millisecond=l,r.millisecondDigits=n.parts[h].length;break;case"nnn":case"nn":case"n":s+="([0-9]{3}|[0-9]{2}|[0-9]{1})",r.millisecond=l;break;case"x":s+="([0-9]{1,})",r.timestamp=l;break;case"Z":s+="GMT([-+]+[0-9]{2}:[0-9]{2})",r.zone=l;break;case"ZZ":s+="([\\-+]+[0-9]{2}[0-9]{2})",r.zone=l;break;case"i":s+="([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2}).?([0-9]{0,3})([zZ]|[+-][0-9]{2}:?[0-9]{2}|$)",r.iso=l,o+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":o--;break}s+="[^0-9]*"}var u=new RegExp(s),p=t.match(u);if(p){if(r.year>-1&&(a.year=parseInt(p[r.year])),r.year3>-1){var c=parseInt(p[r.year3]);c+=1e3,a.year=c}if(r.year2>-1){c=parseInt(p[r.year2]);c+=c>50?1e3:2e3,a.year=c}if(r.year1>-1){c=parseInt(p[r.year1]);c=10*Math.floor((new Date).getFullYear()/10)+c,a.year=c}if(r.monthLong>-1&&(a.month=this.resolveMonth(p[r.monthLong])),r.monthShort>-1&&(a.month=this.resolveShortMonth(p[r.monthShort])),r.month>-1&&(a.month=parseInt(p[r.month])-1),r.week>-1&&-1===r.day&&(a.month=0,a.day=Ap(parseInt(p[r.week]),a.year,1,this.utc)),r.day>-1&&(a.day=parseInt(p[r.day])),r.yearDay>-1&&(a.month=0,a.day=parseInt(p[r.yearDay])),r.hourBase0>-1&&(a.hour=parseInt(p[r.hourBase0])),r.hourBase1>-1&&(a.hour=parseInt(p[r.hourBase1])-1),r.hour12Base0>-1){c=parseInt(p[r.hour12Base0]);11==c&&(c=0),r.am>-1&&!this.isAm(p[r.am])&&(c+=12),a.hour=c}if(r.hour12Base1>-1){c=parseInt(p[r.hour12Base1]);12==c&&(c=0),r.am>-1&&!this.isAm(p[r.am])&&(c+=12),a.hour=c}if(r.minute>-1&&(a.minute=parseInt(p[r.minute])),r.second>-1&&(a.second=parseInt(p[r.second])),r.millisecond>-1){c=parseInt(p[r.millisecond]);2==r.millisecondDigits?c*=10:1==r.millisecondDigits&&(c*=100),a.millisecond=c}if(r.timestamp>-1){a.timestamp=parseInt(p[r.timestamp]);var d=new Date(a.timestamp);a.year=d.getUTCFullYear(),a.month=d.getUTCMonth(),a.day=d.getUTCDate(),a.hour=d.getUTCHours(),a.minute=d.getUTCMinutes(),a.second=d.getUTCSeconds(),a.millisecond=d.getUTCMilliseconds()}r.zone>-1&&(a.offset=this.resolveTimezoneOffset(new Date(a.year,a.month,a.day),p[r.zone])),r.iso>-1&&(a.year=pl(p[r.iso+0]),a.month=pl(p[r.iso+1])-1,a.day=pl(p[r.iso+2]),a.hour=pl(p[r.iso+3]),a.minute=pl(p[r.iso+4]),a.second=pl(p[r.iso+5]),a.millisecond=pl(p[r.iso+6]),"Z"==p[r.iso+7]||"z"==p[r.iso+7]?a.utc=!0:""!=p[r.iso+7]&&(a.offset=this.resolveTimezoneOffset(new Date(a.year,a.month,a.day),p[r.iso+7]))),i=a.utc?new Date(Date.UTC(a.year,a.month,a.day,a.hour,a.minute,a.second,a.millisecond)):new Date(a.year,a.month,a.day,a.hour,a.minute+a.offset,a.second,a.millisecond)}else i=new Date(t);return i},e.prototype.resolveTimezoneOffset=function(t,e){var i=e.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/);if(i){var s=fl(e.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)),n=s[1],r=s[2],a=s[3],o=60*parseInt(r)+parseInt(a);"+"==n&&(o*=-1);var l=(t||new Date).getTimezoneOffset(),h=o-l;return h}return 0},e.prototype.resolveMonth=function(t){var e=this.months.indexOf(t);return e>-1||this.language&&!this.language.isDefault()&&(e=this.language.translateAll(this.months).indexOf(t),e>-1)?e:0},e.prototype.resolveShortMonth=function(t){var e=this.monthsShort.indexOf(t);return e>-1?e:(e=this.months.indexOf(t),e>-1||this.language&&!this.language.isDefault()&&(e=this.language.translateAll(this.monthsShort).indexOf(t),e>-1)?e:0)},e.prototype.isAm=function(t){var e=this.getStringList(["AM","A.M.","A"]);return e.indexOf(t.toUpperCase())>-1},e.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},e.prototype.getStringList=function(t){for(var e=[],i=0;i<t.length;i++)this.language?e.push(yp(this.language.translate(t[i]))):e.push(yp(t[i]));return e},Object.defineProperty(e.prototype,"dateFormat",{get:function(){return this._dateFormat},set:function(t){this._dateFormat=t,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputDateFormat",{get:function(){return this._inputDateFormat},set:function(t){this._inputDateFormat=t,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"intlLocales",{get:function(){return this._intlLocales},set:function(t){this._intlLocales=t,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"utc",{get:function(){return this._utc},set:function(t){this._utc=t,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timezoneOffset",{get:function(){return this._timezoneOffset},set:function(t){this._timezoneOffset!=t&&(this._timezoneOffset=t,this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timezone",{get:function(){return this._timezone},set:function(t){this._timezone!=t&&(this._timezone=t,this.timezoneMinutes=Bd(t),this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstDayOfWeek",{get:function(){return this._firstDayOfWeek},set:function(t){this._firstDayOfWeek=t,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(t){this._outputFormat=t.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),e}($u);gu.registeredClasses.DateFormatter=dg;var gg=function(t){function e(){var e=t.call(this)||this;return e._negativeBase=0,e._baseUnit="second",e._outputFormat="svg",e._unitValues={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6},e._unitAliases={Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"},e.className="DurationFormatter",e.applyTheme(),e}return Tt(e,t),e.prototype.format=function(t,e,i){this.language||(this.sprite?this.language=this.sprite.language:this.language=new hg);var s=i||this._baseUnit;"undefined"!==typeof e&&""!==e||(e=gl(this.durationFormat)?this.durationFormat:this.getFormat(pl(t),null,s)),e=Dp(e);var n,r=this.parseFormat(e,s),a=Number(t);n=a>this._negativeBase?r.positive:a<this._negativeBase?r.negative:r.zero;var o=this.applyFormat(a,n);return""!==n.color&&("svg"===this._outputFormat?o="<tspan fill='"+n.color+"'>"+o+"</tspan>":"html"===this._outputFormat&&(o="<span style='color: "+n.color+";'>"+o+"</span>")),o},e.prototype.parseFormat=function(t,e){var i=this,s=this.getCache(t);if(gl(s))return s;var n=e||this._baseUnit,r={positive:{color:"",template:"",parts:[],source:"",baseUnit:n,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:n,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:n,parsed:!1,absolute:!1}};t=t.replace("||",ap);var a=t.split("|");return r.positive.source=a[0],"undefined"===typeof a[2]?r.zero=r.positive:r.zero.source=a[2],"undefined"===typeof a[1]?r.negative=r.positive:r.negative.source=a[1],Hh(r,(function(t,e){if(!e.parsed)if("undefined"===typeof i.getCache(e.source)){var s=e.source,n=[];n=e.source.match(/^\[([^\]]*)\]/),n&&n.length&&""!==n[0]&&(s=e.source.substr(n[0].length),e.color=n[1]);for(var a=pg().chunk(s,!0),o=0;o<a.length;o++){var l=a[o];if(l.text=l.text.replace(ap,"|"),"value"===l.type){l.text.match(/[yYMdDwhHKkmsSn]+a/)&&(e.absolute=!0,l.text=l.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));var h=l.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(h)for(var u=0;u<h.length;u++)gl(h[u])||(h[u]=i._unitAliases[h[u]]),e.parts.push(h[u]),l.text=l.text.replace(h[u],rp)}e.template+=l.text}i.setCache(e.source,e),e.parsed=!0}else r[t]=i.getCache(e.source)})),this.setCache(t,r),r},e.prototype.applyFormat=function(t,e){var i=!e.absolute&&t<this._negativeBase;t=Math.abs(t);for(var s=this.toTimeStamp(t,e.baseUnit),n=e.template,r=0,a=e.parts.length;r<a;r++){var o=e.parts[r],l=this.toTimeUnit(o.substr(0,1)),h=o.length,u=Math.floor(s/this._unitValues[l]);n=n.replace(rp,Op(u,h,"0")),s-=u*this._unitValues[l]}return i&&(n="-"+n),n},e.prototype.toTimeStamp=function(t,e){return t*this._unitValues[e]},e.prototype.toTimeUnit=function(t){switch(t){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}},e.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},Object.defineProperty(e.prototype,"baseUnit",{get:function(){return this._baseUnit},set:function(t){this._baseUnit=t,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(t){this._outputFormat=t.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),e.prototype.getFormat=function(t,e,i){if(gl(this.durationFormat))return this.durationFormat;if(i||(i=this.baseUnit),gl(e)&&t!=e){t=Math.abs(t),e=Math.abs(e);var s=this.getValueUnit(jl(t,e),i);return this.durationFormats[i][s]}var n=this.getValueUnit(t,i);return this.durationFormats[i][n]},e.prototype.getValueUnit=function(t,e){var i;e||(e=this.baseUnit);var s=this.getMilliseconds(t,e);return Nh(this._unitValues,(function(t,n){if(t==e||i){var r=s/n;if(r<=1)return i||(i=t),!1;i=t}return!0})),i},e.prototype.getMilliseconds=function(t,e){return e||(e=this.baseUnit),t*this._unitValues[e]},Object.defineProperty(e.prototype,"durationFormat",{get:function(){return this._durationFormat},set:function(t){this._durationFormat!=t&&(this._durationFormat=t,this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"durationFormats",{get:function(){return this._durationFormats||(this._durationFormats={millisecond:{millisecond:this.language.translate("_duration_millisecond"),second:this.language.translate("_duration_millisecond_second"),minute:this.language.translate("_duration_millisecond_minute"),hour:this.language.translate("_duration_millisecond_hour"),day:this.language.translate("_duration_millisecond_day"),week:this.language.translate("_duration_millisecond_week"),month:this.language.translate("_duration_millisecond_month"),year:this.language.translate("_duration_millisecond_year")},second:{second:this.language.translate("_duration_second"),minute:this.language.translate("_duration_second_minute"),hour:this.language.translate("_duration_second_hour"),day:this.language.translate("_duration_second_day"),week:this.language.translate("_duration_second_week"),month:this.language.translate("_duration_second_month"),year:this.language.translate("_duration_second_year")},minute:{minute:this.language.translate("_duration_minute"),hour:this.language.translate("_duration_minute_hour"),day:this.language.translate("_duration_minute_day"),week:this.language.translate("_duration_minute_week"),month:this.language.translate("_duration_minute_month"),year:this.language.translate("_duration_minute_year")},hour:{hour:this.language.translate("_duration_hour"),day:this.language.translate("_duration_hour_day"),week:this.language.translate("_duration_hour_week"),month:this.language.translate("_duration_hour_month"),year:this.language.translate("_duration_hour_year")},day:{day:this.language.translate("_duration_day"),week:this.language.translate("_duration_day_week"),month:this.language.translate("_duration_day_month"),year:this.language.translate("_duration_day_year")},week:{week:this.language.translate("_duration_week"),month:this.language.translate("_duration_week_month"),year:this.language.translate("_duration_week_year")},month:{month:this.language.translate("_duration_month"),year:this.language.translate("_duration_month_year")},year:{year:this.language.translate("_duration_year")}}),this._durationFormats},set:function(t){this._durationFormats=t,this.invalidateSprite()},enumerable:!0,configurable:!0}),e}($u);gu.registeredClasses.DurationFormatter=gg;i(2801),i(3767),i(8585),i(8696);var fg=new hu;function mg(t,e){var i=e||"amexport",s=new Td,n=fg.insertKeyIfEmpty(i,(function(){var e=new bh([new vd(t,"."+i+"-menu *",{"box-sizing":"border-box"}),new vd(t,"."+i+"-menu-level-0",{position:"absolute",top:"5px",right:"5px"}),new vd(t,"."+i+"-menu-level-0."+i+"-left",{right:"auto",left:"5px"}),new vd(t,"."+i+"-menu-level-0."+i+"-right",{right:"5px",left:"auto"}),new vd(t,"."+i+"-menu-level-0."+i+"-top",{top:"5px",bottom:"auto"}),new vd(t,"."+i+"-menu-level-0."+i+"-bottom",{top:"auto",bottom:"5px"}),new vd(t,"."+i+"-item."+i+"-item-level-0",{opacity:"0.3",width:"30px","min-height":"30px",transition:"all 100ms ease-in-out"}),new vd(t,"div:hover > div > ."+i+"-menu ."+i+"-item."+i+"-item-level-0, ."+i+"-item."+i+"-item-level-0.active",{opacity:"0.9"}),new vd(t,"."+i+"-item."+i+"-item-level-0 > a",{padding:"0","text-align":"center",overflow:"hidden"}),new vd(t,"."+i+"-item."+i+"-item-level-0:before",{display:"block"}),new vd(t,"."+i+"-item",{position:"relative",display:"block",opacity:"0","z-index":"1","border-radius":"3px","background-color":s.getFor("secondaryButton").hex,padding:"0",margin:"1px 1px 0 0",color:s.getFor("secondaryButton").alternative.hex,transition:"all 100ms ease-in-out, opacity 0.5s ease 0.5s"}),new vd(t,"."+i+"-left ."+i+"-item",{margin:"1px 0 0 1px"}),new vd(t,"."+i+"-item:hover, ."+i+"-item.active",{background:s.getFor("secondaryButtonHover").hex,color:s.getFor("secondaryButtonText").hex}),new vd(t,"."+i+"-item > ."+i+"-menu",{position:"absolute",top:"-1px",right:"0","margin-right":"100%"}),new vd(t,"."+i+"-left ."+i+"-item > ."+i+"-menu",{left:"0",right:"auto","margin-left":"100%","margin-right":"auto"}),new vd(t,"."+i+"-right ."+i+"-item > ."+i+"-menu",{left:"auto",right:"0","margin-left":"auto","margin-right":"100%"}),new vd(t,"."+i+"-top ."+i+"-item > ."+i+"-menu",{top:"-1px",bottom:"auto"}),new vd(t,"."+i+"-bottom ."+i+"-item > ."+i+"-menu",{top:"auto",bottom:"0"}),new vd(t,"."+i+"-item > ."+i+"-menu",{display:"none"}),new vd(t,"."+i+"-item:hover > ."+i+"-menu, ."+i+"-item.active > ."+i+"-menu",{display:"block"}),new vd(t,"."+i+"-item:hover > ."+i+"-menu > ."+i+"-item, ."+i+"-item.active > ."+i+"-menu > ."+i+"-item",{opacity:"1"}),new vd(t,"."+i+"-menu",{display:"block","list-style":"none",margin:"0",padding:"0"}),new vd(t,"."+i+"-label",{display:"block",cursor:"default",padding:"0.5em 1em"}),new vd(t,"."+i+"-icon",{display:"block",cursor:"default",padding:"0.2em 0.4em",width:"1.2em",height:"1.2em","min-width":"32px","min-height":"32px",margin:"auto auto","border-radius":"3px"}),new vd(t,"."+i+"-item-level-0 > ."+i+"-icon",{padding:"0.1em 0.2em"}),new vd(t,"."+i+"-clickable",{cursor:"pointer"})]);return new _h((function(){fg.removeKey(i),e.dispose()}))}));return n.increment()}var yg,bg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._validateDisposer=null,e}return Tt(e,t),e.prototype.invalidate=function(){null===this._validateDisposer&&(this._validateDisposer=gu.events.on("exitframe",this.validate,this))},e.prototype.validate=function(){null!==this._validateDisposer&&(this._validateDisposer.dispose(),this._validateDisposer=null)},e.prototype.dispose=function(){null!==this._validateDisposer&&(this._validateDisposer.dispose(),this._validateDisposer=null),t.prototype.dispose.call(this)},e}(Ju),vg=function(t){function e(){var e=t.call(this)||this;return e.adapter=new Cu(e),e.closeDelay=1e3,e.closeOnClick=!0,e._language=new vh,e._menuTag="ul",e._itemTag="li",e._labelTag="a",e._iconTag="img",e._classPrefix="amexport",e._defaultStyles=!0,e._align="right",e._verticalAlign="top",e._tabindex=0,e._ignoreNextClose=!1,e._items=[{label:"...",menu:[{label:"Image",menu:[{type:"png",label:"PNG"},{type:"jpg",label:"JPG"},{type:"svg",label:"SVG"},{type:"pdf",label:"PDF"}]},{label:"Data",menu:[{type:"json",label:"JSON"},{type:"csv",label:"CSV"},{type:"xlsx",label:"XLSX"},{type:"html",label:"HTML"},{type:"pdfdata",label:"PDF"}]},{label:"Print",type:"print"}]}],e.className="ExportMenu",e._disposers.push(e._language),e.invalidate(),e.applyTheme(),e}return Tt(e,t),e.prototype.validate=function(){this.draw(),t.prototype.validate.call(this)},e.prototype.draw=function(){var t=this;this._element?(this._element.innerHTML="",this._element.className=this.getMenuItemClass(0)):this._element=this.createMenuElement(0),this.defaultStyles&&(this._element.style.display="none"),fl(this._container).appendChild(this._element);for(var e=this.adapter.apply("items",{items:this._items}).items,i=e.length,s=0;s<i;s++)this.drawBranch(this._element,e[s],0);this._element=this.adapter.apply("menuElement",{menuElement:this._element}).menuElement,this._disposers.push(zd().body.events.on("down",(function(e){e.pointer.touch||(t._ignoreNextClose=!1),t.close()}))),this._disposers.push(zd().body.events.on("keydown",(function(e){var i=Ad.getEventKey(e.event);switch(i){case"esc":t.close();break;case"up":case"down":case"left":case"right":t._currentSelection&&e.event.preventDefault(),t.moveSelection(i);break}}))),this.defaultStyles&&this.loadDefaultCSS()},e.prototype.drawBranch=function(t,e,i){var s=this;if(e=this.adapter.apply("branch",{branch:e,level:i}).branch,!0!==e.unsupported){e.ascendants||(e.ascendants=new vu);var n,r=e.type,a=this.createItemElement(i,r);e.icon?(n=this.createIconElement(i,r),n.src=e.icon,(e.label||e.title)&&(n.title=e.title||e.label)):e.svg?(n=this.createSvgElement(i,r,e.svg),(e.label||e.title)&&(n.title=e.title||e.label)):(n=this.createLabelElement(i,r),n.innerHTML=e.label?this.language.translate(e.label):"",e.title&&(n.title=e.title));var o=this.getReaderLabel(e,n.innerHTML);n.setAttribute("aria-label",o),a.appendChild(n),e.interactions=zd().getInteraction(a),e.element=a,this.typeClickable(r)&&(e.interactions.events.on("hit",(function(t){if(s.events.isEnabled("hit")&&!s.isDisposed()){var i={type:"hit",event:t.event,target:s,branch:e};s.events.dispatchImmediately("hit",i)}})),e.interactions.events.on("keyup",(function(t){if(Ad.isKey(t.event,"enter")&&s.events.isEnabled("enter")){var i={type:"enter",event:t.event,target:s,branch:e};s.events.dispatchImmediately("enter",i)}})));var l=this.getSubMenu(e);null!=l&&(e.interactions.events.on("keyup",(function(t){Ad.isKey(t.event,"enter")&&(s.selectBranch(l[0]),s.setFocus(l[0]))})),e.interactions.events.on("hit",(function(t){s.selectBranch(e)}))),e.interactions.events.on("over",(function(t){if(t.pointer.touch&&(s._ignoreNextClose=!0),s.selectBranch(e),s.events.isEnabled("over")){var i={type:"over",event:t.event,target:s,branch:e};s.events.dispatchImmediately("over",i)}})),e.interactions.events.on("out",(function(t){if(!s.isDisposed()&&(t.pointer.touch||s.delayUnselectBranch(e),s.events.isEnabled("out"))){var i={type:"out",event:t.event,target:s,branch:e};s.events.dispatchImmediately("out",i)}})),e.interactions.events.on("focus",(function(t){s.selectBranch(e)})),e.interactions.events.on("blur",(function(t){s.delayUnselectBranch(e)}));var h=i+1;if(e.menu){var u=this.createMenuElement(h);e.submenuElement=u;for(var p=e.menu.length,c=0;c<p;c++){var d=new vu;e.menu[c].ascendants=d,e.ascendants.length&&d.copyFrom(e.ascendants),d.push(e),this.drawBranch(u,e.menu[c],h)}if(""==u.innerHTML)return;a.appendChild(u)}e.hidden&&this.hideBranch(e),e.id&&a.setAttribute("id",e.id),e.color&&(a.style.backgroundColor=e.color.hex),t.appendChild(a)}},e.prototype.createMenuElement=function(t){var e=document.createElement(this.menuTag);return e.className=this.getMenuItemClass(t),0===t?e.setAttribute("role","menubar"):e.setAttribute("role","menu"),e},e.prototype.getMenuItemClass=function(t){var e=this.classPrefix+"-menu "+this.classPrefix+"-menu-level-"+t;return 0===t&&(e+=" "+this.classPrefix+"-menu-root "+this.classPrefix+"-"+this.align+" "+this.classPrefix+"-"+this.verticalAlign),this.adapter.apply("menuClass",{className:e,level:t}).className},e.prototype.createItemElement=function(t,e){var i=document.createElement(this.itemTag),s=this.classPrefix+"-item "+this.classPrefix+"-item-level-"+t+" "+this.classPrefix+"-item-"+(e||"blank");return i.className=this.adapter.apply("itemClass",{className:s,level:t,type:e}).className,i.setAttribute("role","menuitem"),i.setAttribute("tabindex",this.tabindex.toString()),i},e.prototype.createLabelElement=function(t,e){var i=document.createElement(this.labelTag),s=this.classPrefix+"-label "+this.classPrefix+"-label-level-"+t+" "+this.classPrefix+"-item-"+(e||"blank");return this.typeClickable(e)&&(s+=" "+this.classPrefix+"-clickable"),i.className=this.adapter.apply("labelClass",{className:s,level:t,type:e}).className,i},e.prototype.createIconElement=function(t,e){var i=document.createElement(this.iconTag),s=this.classPrefix+"-icon "+this.classPrefix+"-icon-level-"+t+" "+this.classPrefix+"-item-"+(e||"blank");return this.typeClickable(e)&&(s+=" "+this.classPrefix+"-clickable"),i.className=this.adapter.apply("labelClass",{className:s,level:t,type:e}).className,i.setAttribute("tabindex",this.tabindex.toString()),i.setAttribute("role","menuitem"),i},e.prototype.createSvgElement=function(t,e,i){var s=new DOMParser,n=s.parseFromString(i,"image/svg+xml").documentElement,r=this.classPrefix+"-icon "+this.classPrefix+"-icon-level-"+t+" "+this.classPrefix+"-item-"+(e||"blank");return this.typeClickable(e)&&(r+=" "+this.classPrefix+"-clickable"),n.setAttribute("class",this.adapter.apply("labelClass",{className:r,level:t,type:e}).className),n.setAttribute("tabindex",this.tabindex.toString()),n.setAttribute("role","menuitem"),n},e.prototype.dispose=function(){this._disposed||(t.prototype.dispose.call(this),this._element&&this._element.parentNode&&this._element.parentNode.removeChild(this._element))},e.prototype.typeClickable=function(t){return gl(t)},e.prototype.hasSubMenu=function(t){return!(!t.menu||!t.menu.length)},e.prototype.getSubMenu=function(t){if(t.menu&&t.menu.length)return t.menu},e.prototype.getReaderLabel=function(t,e){return e=Tp(e),0==t.ascendants.length?(e="..."==e?this.language.translate("Export"):e,e+=" ["+this.language.translate("Press ENTER or use arrow keys to navigate")+"]"):this.hasSubMenu(t)?e+=" ["+this.language.translate("Click, tap or press ENTER to open")+"]":"print"==t.type?e=this.language.translate("Click, tap or press ENTER to print."):this.typeClickable(t.type)&&(e=this.language.translate("Click, tap or press ENTER to export as %1.",void 0,e)),this.adapter.apply("rederLabel",{label:e,branch:t}).label},Object.defineProperty(e.prototype,"container",{get:function(){return this._container},set:function(t){this._container=t,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},set:function(t){this._items=t,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tag",{set:function(t){this._menuTag=t,this._itemTag="ul"==t?"li":"div",this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"menuTag",{get:function(){return this.adapter.apply("menuTag",{tag:this._menuTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemTag",{get:function(){return this.adapter.apply("itemTag",{tag:this._itemTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"labelTag",{get:function(){return this.adapter.apply("labelTag",{tag:this._labelTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconTag",{get:function(){return this.adapter.apply("iconTag",{tag:this._iconTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this.adapter.apply("align",{align:this._align}).align},set:function(t){this._align=t,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalAlign",{get:function(){return this.adapter.apply("verticalAlign",{verticalAlign:this._verticalAlign}).verticalAlign},set:function(t){this._verticalAlign=t,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classPrefix",{get:function(){return this.adapter.apply("classPrefix",{classPrefix:this._classPrefix}).classPrefix},set:function(t){this._classPrefix=t,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultStyles",{get:function(){return this.adapter.apply("defaultStyles",{defaultStyles:this._defaultStyles}).defaultStyles},set:function(t){this._defaultStyles!=t&&(this._defaultStyles=t,t&&this.loadDefaultCSS()),this.invalidate()},enumerable:!0,configurable:!0}),e.prototype.loadDefaultCSS=function(){this._disposers.push(mg(dd(this.container),this.classPrefix)),this._element&&(this._element.style.display="")},Object.defineProperty(e.prototype,"tabindex",{get:function(){return this.adapter.apply("tabindex",{tabindex:this._tabindex}).tabindex},set:function(t){this._tabindex=t,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"language",{get:function(){var t=this,e=this._language.get();return null==e&&(e=new hg,this._language.set(e,e.events.on("localechanged",(function(e){t.invalidate()})))),e},set:function(t){var e=this;this._language.set(t,t.events.on("localechanged",(function(t){e.invalidate()}))),this.invalidate()},enumerable:!0,configurable:!0}),e.prototype.close=function(){var t=this;if(!this.isDisposed())if(this._ignoreNextClose)this._ignoreNextClose=!1;else{if(this.closeOnClick&&(this._element.style.pointerEvents="none",setTimeout((function(){t._element.style.pointerEvents="auto"}),100)),this._currentSelection&&(this.setBlur(this._currentSelection),this._currentSelection=void 0),this._element)for(var e=this._element.getElementsByClassName("active"),i=e.length,s=i-1;s>=0;s--)e[s]&&ld(e[s],"active");this.events.dispatchImmediately("closed",{type:"closed",target:this})}},e.prototype.selectBranch=function(t){var e=this;if(!this.isDisposed()&&(t.closeTimeout&&(this.removeDispose(t.closeTimeout),t.closeTimeout=void 0),od(t.element,"active"),t.submenuElement&&t.submenuElement.setAttribute("aria-expanded","true"),this._currentSelection&&this._currentSelection!==t&&this._currentSelection.ascendants&&qh(Qh(Uh([this._currentSelection]),this._currentSelection.ascendants.iterator()),(function(i){t.ascendants.contains(i)||t===i||e.unselectBranch(i,!0)})),qh(t.ascendants.iterator(),(function(t){t.closeTimeout&&(e.removeDispose(t.closeTimeout),t.closeTimeout=void 0),od(t.element,"active")})),this._currentSelection=t,this.events.isEnabled("branchselected"))){var i={type:"branchselected",target:this,branch:t};this.events.dispatchImmediately("branchselected",i)}},e.prototype.unselectBranch=function(t,e){if(!this.isDisposed()&&(ld(t.element,"active"),t.submenuElement&&t.submenuElement.removeAttribute("aria-expanded"),this._currentSelection==t&&(this._currentSelection=void 0),this.events.isEnabled("branchunselected"))){var i={type:"branchunselected",target:this,branch:t};this.events.dispatchImmediately("branchunselected",i)}},e.prototype.delayUnselectBranch=function(t,e){var i=this;this.isDisposed()||(t.closeTimeout&&(this.removeDispose(t.closeTimeout),t.closeTimeout=void 0),t.closeTimeout=this.setTimeout((function(){i.unselectBranch(t,e)}),this.closeDelay),!0!==e&&t.ascendants&&qh(t.ascendants.iterator(),(function(t){i.delayUnselectBranch(t,!0)})))},e.prototype.moveSelection=function(t){if(!this.isDisposed()&&this._currentSelection){var e;if("up"==t)e=this.getPrevSibling(this._currentSelection);else if("down"==t)e=this.getNextSibling(this._currentSelection);else if("left"==t&&"right"==this.align||"right"==t&&"left"==this.align){var i=this.getSubMenu(this._currentSelection);null!=i&&(e=i[0])}else("right"==t&&"right"==this.align||"left"==t&&"left"==this.align)&&(e=this.getParentItem(this._currentSelection));e&&e!==this._currentSelection&&(this.selectBranch(e),this.setFocus(e),this._currentSelection=e)}},e.prototype.getSiblings=function(t){var e=this.getParentItem(t);return e&&e.menu?e.menu:[]},e.prototype.getParentItem=function(t){return t.ascendants&&t.ascendants.length?t.ascendants.getIndex(t.ascendants.length-1):void 0},e.prototype.getNextSibling=function(t){var e=this.getSiblings(t);if(e.length>1){var i=e.indexOf(t)+1;return i=e.length==i?0:i,e[i].unsupported?this.getNextSibling(e[i]):e[i]}return t},e.prototype.getPrevSibling=function(t){var e=this.getSiblings(t);if(e.length>1){var i=e.indexOf(t)-1;return i=-1==i?e.length-1:i,e[i].unsupported?this.getPrevSibling(e[i]):e[i]}return t},e.prototype.setFocus=function(t){if(t.interactions)try{t.interactions.element.focus()}catch(e){}},e.prototype.setBlur=function(t){if(t.interactions)try{t.interactions.element.blur()}catch(e){}},e.prototype.hideBranch=function(t){t.element.style.display="none"},e.prototype.showBranch=function(t){t.element.style.display=""},Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),e}(bg);function _g(t,e,i){return new Promise((function(s,n){var r=gl(i)&&"blob"==i.responseType,a=new XMLHttpRequest;if(a.onload=function(){if(200===a.status){var t,i=void 0;if(r)return t=a.response,void xg(t).then((function(i){var n={xhr:a,error:!1,response:i,blob:t,type:a.getResponseHeader("Content-Type"),target:e};s(n)}));i=a.responseText||a.response;var o={xhr:a,error:!1,response:i,blob:t,type:a.getResponseHeader("Content-Type"),target:e};s(o)}else n({xhr:a,error:!0,type:a.getResponseHeader("Content-Type"),target:e})},a.onerror=function(){n({xhr:a,error:!0,type:a.getResponseHeader("Content-Type"),target:e})},a.open("GET",t,!0),i&&i.withCredentials&&(a.withCredentials=!0),gl(i)){if(gl(i.requestHeaders))for(var o=0;o<i.requestHeaders.length;o++){var l=i.requestHeaders[o];a.setRequestHeader(l.key,l.value)}gl(i.responseType)&&(a.responseType=i.responseType)}a.send()}))}function xg(t){return new Promise((function(e,i){var s=new FileReader;s.onload=function(t){e(s.result)},s.onerror=function(t){i(t)},s.readAsText(t)}))}function wg(){return St(this,void 0,void 0,(function(){var t,e,s,n;return Ct(this,(function(r){switch(r.label){case 0:return[4,Promise.all([i.e(643).then(i.t.bind(i,2152,23)),i.e(643).then(i.bind(i,1681))])];case 1:return t=r.sent(),e=t[0],s=t[1],n=window,n.pdfMake=n.pdfMake||{},n.pdfMake.vfs=s.default,e.vfs=s.default,[2,e]}}))}))}var Pg=/src: ([^;]+);/;function Og(){return null!=window.navigator.msSaveOrOpenBlob}function kg(t){return new Promise((function(e,i){var s=new FileReader;s.onload=function(t){e(s.result)},s.onerror=function(t){i(t)},s.readAsDataURL(t)}))}function Dg(t){return St(this,void 0,void 0,(function(){var e;return Ct(this,(function(i){switch(i.label){case 0:e=t.sheet,i.label=1;case 1:return i.trys.push([1,2,,4]),[2,e.cssRules];case 2:return i.sent(),[4,new Promise((function(i,s){t.addEventListener("load",(function(){i(e.cssRules)}),!0),t.addEventListener("error",(function(t){s(t)}),!0),setTimeout((function(){s(new Error("Timeout while waiting for <style> to load"))}),1e4)}))];case 3:return[2,i.sent()];case 4:return[2]}}))}))}function Tg(t,e,i){return St(this,void 0,void 0,(function(){var s,n,r,a;return Ct(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,_g(e)];case 1:return s=o.sent(),[3,3];case 2:return n=o.sent(),console.error("Failed to load stylesheet",e,n),[2];case 3:r=t.createElement("style"),r.textContent=s.response,""!=Kc.nonce&&r.setAttribute("nonce",Kc.nonce),t.head.appendChild(r),o.label=4;case 4:return o.trys.push([4,,7,8]),[4,Dg(r)];case 5:return a=o.sent(),[4,Sg(t,e,a,i)];case 6:return o.sent(),[3,8];case 7:return t.head.removeChild(r),[7];case 8:return[2]}}))}))}function Sg(t,e,i,s){return St(this,void 0,void 0,(function(){var n,r,a,o,l;return Ct(this,(function(h){switch(h.label){case 0:for(n=[],r=i.length,a=0;a<r;a++)o=i[a],o.type===CSSRule.IMPORT_RULE?(l=o.href,l&&(l=ec(e,l),n.push(Tg(t,l,s)))):s(e,o);return n.length?[4,Promise.all(n)]:[3,2];case 1:h.sent(),h.label=2;case 2:return[2]}}))}))}function Cg(t){return St(this,void 0,void 0,(function(){var e,i;return Ct(this,(function(s){switch(s.label){case 0:e=document.createElement("iframe"),e.src="about:blank",e.setAttribute("title",""),document.head.appendChild(e),s.label=1;case 1:return s.trys.push([1,,3,4]),i=e.contentDocument,[4,Promise.all(Ql(document.styleSheets,(function(e){var s=e.href;return null==s?Sg(i,location.href,e.cssRules,t):(s=ec(location.href,s),Tg(i,s,t))})))];case 2:return s.sent(),[3,4];case 3:return document.head.removeChild(e),[7];case 4:return[2]}}))}))}var Mg=function(t){function e(e){var i=t.call(this)||this;return i.adapter=new Cu(i),i._formatOptions=new hu,i._extraSprites=[],i._validateSprites=[],i.dataFieldsOrder=[],i._dynamicDataFields=!0,i._removedObjects=new vu,i._hiddenObjects=[],i._objectsAlreadyHidden=!1,i._filePrefix="amCharts",i.useWebFonts=!0,i.useRetina=!0,i.useSimplifiedExport=!0,i.timeoutDelay=2e3,i._exportRunning=!1,i._prevHasData=!1,i._container=e,i.className="Export",i._formatOptions.setKey("png",{}),i._formatOptions.setKey("jpg",{quality:.8}),i._formatOptions.setKey("gif",{}),i._formatOptions.setKey("svg",{}),i._formatOptions.setKey("pdf",{fontSize:14,imageFormat:"png",align:"left",addURL:!0,addColumnNames:!0}),i._formatOptions.setKey("json",{indent:2,useLocale:!0}),i._formatOptions.setKey("csv",{addColumnNames:!0,emptyAs:"",addBOM:!0}),i._formatOptions.setKey("xlsx",{addColumnNames:!0,useLocale:!0,emptyAs:""}),i._formatOptions.setKey("html",{addColumnNames:!0,emptyAs:""}),i._formatOptions.setKey("pdfdata",{fontSize:14,imageFormat:"png",addURL:!0,addColumnNames:!0,emptyAs:""}),i._formatOptions.setKey("print",{delay:500,printMethod:"iframe"}),i.adapter.add("options",(function(t){var e=i._formatOptions.getKey(t.type);return t.options?t.options=Wh(e,t.options):t.options=e,t})),i.applyTheme(),i.dispatchImmediately("inited"),i}return Tt(e,t),Object.defineProperty(e.prototype,"menu",{get:function(){return this._menu},set:function(t){var e=this;this._menu&&this.removeDispose(this._menu),this._menu=t,this._menu.container=this.container,this._menu.language=this._language,this._menu.adapter.add("branch",(function(t){return t.branch.unsupported=!e.typeSupported(t.branch.type),t})),this._menu.events.on("hit",(function(t){e.export(t.branch.type,t.branch.options),e.menu.close()})),this._menu.events.on("enter",(function(t){e.export(t.branch.type,t.branch.options),e.menu.close()})),this._menu.events.on("over",(function(t){e._disablePointers()})),this._menu.events.on("out",(function(t){setTimeout((function(){e._releasePointers()}),10)})),this.dispatchImmediately("menucreated"),this._menu.adapter.add("classPrefix",(function(t){return t.classPrefix=Kc.classNamePrefix+t.classPrefix,t})),this._disposers.push(this._menu)},enumerable:!0,configurable:!0}),e.prototype.typeSupported=function(t){var e=!0,i=this.getFormatOptions(t);return gl(i)&&i.disabled?e=!1:"pdf"===t||("xlsx"===t?e=!!this._hasData():("print"!=t||window.print)&&(-1===["json","csv","html","pdfdata"].indexOf(t)||this._hasData())||(e=!1)),this.adapter.apply("supported",{supported:e,type:t}).supported},e.prototype._hasData=function(){return this.data&&this.data.length},e.prototype._getFunction=function(t){switch(t){case"png":case"gif":case"jpg":return this.getImage;case"svg":return this.getSVG;case"pdf":case"pdfdata":return this.getPDF;case"xlsx":return this.getExcel;case"csv":return this.getCSV;case"json":return this.getJSON;case"html":return this.getHTML;case"print":return this.getPrint;default:return this.unsupported}},e.prototype.export=function(t,e){return St(this,void 0,void 0,(function(){var i,s,n,r,a,o=this;return Ct(this,(function(l){switch(l.label){case 0:return"custom"==t?(this.handleCustom(e),[2,!0]):(this._exportRunning=!0,this.events.isEnabled("exportstarted")&&(i={type:"exportstarted",target:this,format:t,options:e},this.events.dispatchImmediately("exportstarted",i)),this.showPreloader(),this.timeoutDelay&&(this.hideTimeout(),this._timeoutTimeout=this.setTimeout((function(){if(o.events.isEnabled("exporttimedout")){var i={type:"exporttimedout",target:o,format:t,options:e};o.events.dispatchImmediately("exporttimedout",i)}o.showTimeout()}),this.timeoutDelay)),this.hideNonExportableSprites(),s=this._getFunction(t),e=this.adapter.apply("options",{options:e,type:t}).options,s=this.adapter.apply("exportFunction",{func:s,type:t,options:e}).func,[4,s.call(this,t,e)]);case 1:return n=l.sent(),this._exportRunning=!1,this._releasePointers(),this.restoreNonExportableSprites(),n?(this.events.isEnabled("exportfinished")&&(r={type:"exportfinished",target:this,format:t,options:e},this.events.dispatchImmediately("exportfinished",r)),this.hidePreloader(),this.hideTimeout(),this.menu&&this.menu.close(),"print"===t?[2,this.print(n,e,this.adapter.apply("title",{title:this.title,options:e}).title)]:"pdfdata"==t?[2,this.download(n,this.filePrefix+".pdf")]:[2,this.download(n,this.filePrefix+"."+t,e&&e.addBOM)]):(this.events.isEnabled("error")&&(a={type:"error",target:this,format:t,options:e},this.events.dispatchImmediately("error",a)),[2,!1])}}))}))},e.prototype.unsupported=function(t,e){return St(this,void 0,void 0,(function(){return Ct(this,(function(t){return[2,""]}))}))},e.prototype.handleCustom=function(t){gl(t)&&gl(t.callback)&&t.callback.call(t.callbackTarget||this,t)},e.prototype.getPrint=function(t,e){return St(this,void 0,void 0,(function(){return Ct(this,(function(t){return[2,this.getImage("png",e)]}))}))},e.prototype.getFontFamilies=function(){return St(this,void 0,void 0,(function(){var t,e,i,s,n=this;return Ct(this,(function(r){switch(r.label){case 0:return t=this.getDOMURL(),e=[],i=[],[4,Cg((function(s,r){if(r.type===CSSRule.FONT_FACE_RULE){var a=r.cssText,o=Pg.exec(a);if(null!==o){var l=o[1].split(/ *, */).map((function(i){return St(n,void 0,void 0,(function(){var n,r,a,o,l,h;return Ct(this,(function(u){switch(u.label){case 0:return n=/^url\(["']?([^"'\)]+)["']?\)([^,]*)$/.exec(i),null!==n?[3,1]:[2,i];case 1:if(r=n[2],a=ec(s,n[1]),this.webFontFilter&&!a.match(this.webFontFilter))return[2,null];u.label=2;case 2:return u.trys.push([2,7,,8]),[4,_g(a,void 0,{responseType:"blob"})];case 3:return o=u.sent(),Og()?(l=t.createObjectURL(o.blob),e.push(l),[3,6]):[3,4];case 4:return[4,kg(o.blob)];case 5:l=u.sent(),u.label=6;case 6:return[2,'url("'+l+'")'+r];case 7:return h=u.sent(),console.error("Failed to load font",a,h),[2,null];case 8:return[2]}}))}))}));i.push(Promise.all(l).then((function(t){return t=t.filter((function(t){return null!=t})),0===t.length?"":a.replace(Pg,"src: "+t.join(", ")+";")})))}}}))];case 1:return r.sent(),[4,Promise.all(i)];case 2:return s=r.sent(),[2,{blobs:e,cssText:s.filter((function(t){return!!t})).join("\n")}]}}))}))},e.prototype.getImage=function(t,e,i){return St(this,void 0,void 0,(function(){var s,n,r,a,o,l;return Ct(this,(function(h){switch(h.label){case 0:return s=this._objectsAlreadyHidden,s||this.hideNonExportableSprites(),gl(e)||(e=this.getFormatOptions(t)),[4,this.awaitValidSprites()];case 1:return h.sent(),[4,this.simplifiedImageExport()];case 2:if(!h.sent())return[3,10];n=void 0,h.label=3;case 3:return h.trys.push([3,7,,9]),[4,this.getCanvas(e)];case 4:return n=h.sent(),!1===i?[3,6]:[4,this.addExtras(n,e)];case 5:r=h.sent(),this.disposeCanvas(n),n=r,h.label=6;case 6:return a=n.toDataURL(this.getContentType(t),e.quality),this.disposeCanvas(n),s||this.restoreNonExportableSprites(),[2,a];case 7:return o=h.sent(),console.error(o.message+"\n"+o.stack),Xd("Simple export failed, falling back to advanced export"),n&&this.disposeCanvas(n),[4,this.getImageAdvanced(t,e,i)];case 8:return l=h.sent(),s||this.restoreNonExportableSprites(),[2,l];case 9:return[3,12];case 10:return[4,this.getImageAdvanced(t,e,i)];case 11:return l=h.sent(),s||this.restoreNonExportableSprites(),[2,l];case 12:return[2]}}))}))},e.prototype.addExtras=function(t,e,i){return St(this,void 0,void 0,(function(){var s,n,r,a,o,l,h,u,p,c,d,g,f,m,y=this;return Ct(this,(function(b){switch(b.label){case 0:return this.extraSprites.length?(s=0,n=0,r=t.width,a=t.height,o=0,l=0,[4,Promise.all(Ql(this.extraSprites,(function(t){return St(y,void 0,void 0,(function(){var h,u,p,c;return Ct(this,(function(d){switch(d.label){case 0:return h=t instanceof jg?{sprite:t,position:"bottom"}:t,h.position=h.position||"bottom",h.marginTop=h.marginTop||0,h.marginRight=h.marginRight||0,h.marginBottom=h.marginBottom||0,h.marginLeft=h.marginLeft||0,i?[4,h.sprite.exporting.getCanvasAdvanced(e)]:[3,2];case 1:return u=d.sent(),[3,4];case 2:return[4,h.sprite.exporting.getCanvas(e)];case 3:u=d.sent(),d.label=4;case 4:return p=u.width+h.marginLeft+h.marginRight,c=u.height+h.marginTop+h.marginBottom,"top"==h.position?(r=h.crop?a:jl(r,p),n+=c):"right"==h.position?(a=h.crop?a:jl(a,c),o+=p):"left"==h.position?(a=h.crop?a:jl(a,c),s+=p):"bottom"===h.position&&(r=h.crop?a:jl(r,p),l+=c),[2,{canvas:u,position:h.position,left:h.marginLeft,top:h.marginTop,width:p,height:c}]}}))}))})))]):[3,2];case 1:return h=b.sent(),u=this.getDisposableCanvas(),u.width=s+r+o,u.height=n+a+l,p=u.getContext("2d"),c=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),c&&(p.fillStyle=c.toString(),p.fillRect(0,0,u.width,u.height)),d=s,g=n,f=d+r,m=g+a,th(h,(function(t){"top"==t.position?(g-=t.height,p.drawImage(t.canvas,s+t.left,g+t.top)):"right"==t.position?(p.drawImage(t.canvas,f+t.left,n+t.top),f+=t.width):"left"==t.position?(d-=t.width,p.drawImage(t.canvas,d+t.left,n+t.top)):"bottom"===t.position&&(p.drawImage(t.canvas,s+t.left,m+t.top),m+=t.height),y.disposeCanvas(t.canvas)})),p.drawImage(t,s,n),[2,u];case 2:return[2,t]}}))}))},e.prototype.getCanvas=function(t){return St(this,void 0,void 0,(function(){var e,i,s,n,r,a,o,l,h,u,p,c,d,g,f,m,y;return Ct(this,(function(b){switch(b.label){case 0:gl(t)||(t={}),e=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),i=this.getDOMURL(),s=null,n=null,b.label=1;case 1:return b.trys.push([1,,4,5]),a=this.sprite.pixelWidth,o=this.sprite.pixelHeight,l=wd(this.sprite.dom),h=Pd(this.sprite.dom),u=t.scale||1,p=this.getPixelRatio(t),u=this.getAdjustedScale(a*p,o*p,u,t),r=this.getDisposableCanvas(),r.style.width=a*u+"px",r.style.height=o*u+"px",r.width=a*u,r.height=o*u,c=r.getContext("2d"),e&&(c.fillStyle=e.toString(),c.fillRect(0,0,a*u,o*u)),d=[],this.useWebFonts&&d.push(this.getFontFamilies().then((function(t){return n=t.blobs,t.cssText}))),d.push(this.imagesToDataURI(this.sprite.dom,t)),d.push(this.prepForeignObjects(this.sprite.dom,t)),[4,Promise.all(d)];case 2:return g=b.sent(),f=this.normalizeSVG("<style>"+g[0]+"</style>"+this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),t,a,o,u,l,h),m=new Blob([f],{type:"image/svg+xml"}),s=i.createObjectURL(m),[4,this.loadNewImage(s,a*u*p,o*u*p,"anonymous")];case 3:return y=b.sent(),c.drawImage(y,0,0),[3,5];case 4:return null!==s&&i.revokeObjectURL(s),null!==n&&th(n,(function(t){i.revokeObjectURL(t)})),this.restoreRemovedObjects(),[7];case 5:return[2,r]}}))}))},e.prototype.getCanvasAdvanced=function(t){return St(this,void 0,void 0,(function(){var e,i,s,n,r,a,o,l,h,u,p;return Ct(this,(function(c){switch(c.label){case 0:return gl(t)||(t={}),[4,this.imagesToDataURI(this.sprite.dom,t)];case 1:return c.sent(),e=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),[4,this.canvg];case 2:return i=c.sent(),s=this.sprite.pixelWidth,n=this.sprite.pixelHeight,r=wd(this.sprite.dom),a=Pd(this.sprite.dom),o=t.scale||1,l=this.getPixelRatio(t),o=this.getAdjustedScale(s*l,n*l,o,t),h=this.normalizeSVG(this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),t,s,n,o,r,a,e),u=this.getDisposableCanvas(),u.style.width=s*l*o+"px",u.style.height=n*l*o+"px",u.width=s*l*o,u.height=n*l*o,p={useCORS:!0},1!=l&&(p.ignoreDimensions=!0,p.scaleWidth=s*l*o,p.scaleHeight=n*l*o),[4,i.fromString(u.getContext("2d"),h,p).render()];case 3:return c.sent(),[2,u]}}))}))},e.prototype.getImageAdvanced=function(t,e,i){return St(this,void 0,void 0,(function(){var s,n,r;return Ct(this,(function(a){switch(a.label){case 0:return s=this._objectsAlreadyHidden,s||this.hideNonExportableSprites(),gl(e)||(e=this.getFormatOptions(t)),[4,this.getCanvasAdvanced(e)];case 1:return n=a.sent(),!1===i?[3,3]:[4,this.addExtras(n,e,!0)];case 2:n=a.sent(),a.label=3;case 3:return r=n.toDataURL(this.getContentType(t),e.quality),this.disposeCanvas(n),s||this.restoreNonExportableSprites(),[2,r]}}))}))},e.prototype.getDisposableCanvas=function(){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="-10000px",document.body.appendChild(t),t},e.prototype.disposeCanvas=function(t){document.body.contains(t)&&document.body.removeChild(t)},e.prototype.getPixelRatio=function(t){return this.useRetina?fp():1},e.prototype.getAdjustedScale=function(t,e,i,s){if(!s)return i;var n,r,a=t*i,o=t*i;return s.maxWidth&&a>s.maxWidth&&(n=s.maxWidth/t),s.maxHeight&&o>s.maxHeight&&(r=s.maxHeight/e),n||r?El(n,r):(s.minWidth&&a<s.minWidth&&(n=s.minWidth/t),s.minHeight&&o<s.minHeight&&(r=s.minHeight/e),n||r?jl(n,r):i)},e.prototype.imagesToDataURI=function(t,i){return St(this,void 0,void 0,(function(){var s,n,r,a,o,l;return Ct(this,(function(h){switch(h.label){case 0:if(s=t.querySelectorAll("image"),!s.length)return[3,2];for(n=[],r=s.length,a=0;a<r;a++)o=s[a],l=o.getAttributeNS(e.XLINK,"href"),l&&(-1!==l.indexOf("data:image")||(-1!==l.indexOf(".svg")?n.push(this.svgToDataURI(o,i)):n.push(this.imageToDataURI(o,i))));return[4,Promise.all(n)];case 1:return h.sent(),[2];case 2:return[2]}}))}))},e.prototype.prepForeignObjects=function(t,e){return St(this,void 0,void 0,(function(){var e,i,s;return Ct(this,(function(n){if(e=t.querySelectorAll("foreignObject"),e.length)for(i=e.length,s=0;s<i;s++)this.temporarilyRemoveObject(e[s]);return[2]}))}))},e.prototype.imageToDataURI=function(t,i){return St(this,void 0,void 0,(function(){var s,n,r;return Ct(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.loadNewImage(t.getAttributeNS(e.XLINK,"href"),null,null,"anonymous")];case 1:s=a.sent(),n=document.createElement("canvas"),n.width=s.width,n.height=s.height,n.getContext("2d").drawImage(s,0,0);try{return r=n.toDataURL(),t.setAttribute("href",r),[2,r]}catch(o){return!1!==i.keepTainted&&this.temporarilyRemoveObject(t),[2,void 0]}return[3,3];case 2:return a.sent(),i&&!1===i.keepTainted||this.temporarilyRemoveObject(t),[2,void 0];case 3:return[2]}}))}))},e.prototype.svgToDataURI=function(t,i){return St(this,void 0,void 0,(function(){var s,n,r,a;return Ct(this,(function(o){switch(o.label){case 0:s=t.getAttributeNS(e.XLINK,"href"),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,_g(s)];case 2:return n=o.sent(),r=this.adapter.apply("charset",{charset:"base64",type:"svg",options:i}).charset,a=this.adapter.apply("svgToDataURI",{data:"data:"+this.getContentType("svg")+";"+r+","+btoa(n.response),options:i}).data,t.setAttributeNS(e.XLINK,"href",a),[2,a];case 3:return o.sent(),i&&!1===i.keepTainted||this.temporarilyRemoveObject(t),[2,void 0];case 4:return[2]}}))}))},e.prototype.temporarilyRemoveObject=function(t,e){var i=t.parentElement||t.parentNode;e||(e=this.sprite.paper.add("g").node),i.insertBefore(e,t),t.textContent,i.removeChild(t),this._removedObjects.push({element:t,placeholder:e})},e.prototype.restoreRemovedObjects=function(){var t;while(1){if(t=this._removedObjects.pop(),!t)break;var e=t.placeholder.parentElement||t.placeholder.parentNode;e.insertBefore(t.element,t.placeholder)}},e.prototype.simplifiedImageExport=function(){return St(this,void 0,void 0,(function(){var t,e,i,s,n,r,a;return Ct(this,(function(o){switch(o.label){case 0:if(!1===this.useSimplifiedExport)return[2,!1];if(t=gu.getCache("simplifiedImageExport"),!1===t||!0===t)return[2,t];o.label=1;case 1:o.trys.push([1,6,,7]),e=document.createElement("canvas"),e.width=1,e.height=1,i=e.getContext("2d"),s=this.getDOMURL(),n=new Blob([this.normalizeSVG("<g></g>",{},1,1)],{type:"image/svg+xml"}),r=s.createObjectURL(n),a=void 0,o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.loadNewImage(r,1,1)];case 3:return a=o.sent(),[3,5];case 4:return o.sent(),[2,!1];case 5:i.drawImage(a,0,0),s.revokeObjectURL(r);try{return gu.setCache("simplifiedImageExport",!0),[2,!0]}catch(l){return gu.setCache("simplifiedImageExport",!1),[2,!1]}return[3,7];case 6:return o.sent(),gu.setCache("simplifiedImageExport",!1),[2,!1];case 7:return[2]}}))}))},e.prototype.loadNewImage=function(t,e,i,s){return new Promise((function(n,r){var a;function o(){if(s){var e=a.src;a.onerror=function(){r(new Error('Loading image "'+t+'" failed'))},a.removeAttribute("crossorigin"),a.src="",a.src=e}else r(new Error('Loading image "'+t+'" failed'))}a=e&&i?new Image(e,i):new Image,s&&a.setAttribute("crossOrigin",s),a.onload=function(){n(a)},a.onabort=o,a.onerror=o,a.src=t}))},e.prototype.getDOMURL=function(){return self.URL||self.webkitURL||self},e.prototype.getSVG=function(t,e,i){return void 0===i&&(i=!0),St(this,void 0,void 0,(function(){var s,n,r,a,o,l,h,u,p,c;return Ct(this,(function(d){switch(d.label){case 0:return s=this._objectsAlreadyHidden,s||this.hideNonExportableSprites(),gl(e)||(e=this.getFormatOptions("svg")),[4,this.awaitValidSprites()];case 1:return d.sent(),n=this.sprite.pixelWidth,r=this.sprite.pixelHeight,a=wd(this.sprite.dom),o=Pd(this.sprite.dom),l=e.scale||1,h=this.getPixelRatio(e),l=this.getAdjustedScale(n*h,r*h,l,e),u=this.normalizeSVG(this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),e,n,r,l,a,o),p=this.adapter.apply("charset",{charset:"charset=utf-8",type:"svg",options:e}).charset,c=this.adapter.apply("getSVG",{data:i?"data:"+this.getContentType(t)+";"+p+","+encodeURIComponent(u):u,options:e}).data,s||this.restoreNonExportableSprites(),[2,c]}}))}))},e.prototype.normalizeSVG=function(t,e,i,s,n,r,a,o){var l="";i&&(l+='width="'+Math.round(i*(n||1))+'px" '),s&&(l+='height="'+Math.round(s*(n||1))+'px" ');var h="";r&&(h+="font-family: "+r.replace(/"/g,"")+";"),a&&(h+="font-size: "+a+";"),n&&(l+='viewBox="0 0 '+i+" "+s+'" ');var u=[],p=t.match(/<foreignObject[\s\S]*<\/foreignObject>/gi);if(p)for(var c=0;c<p.length;c++)t=t.replace(p[c],rp),u.push(p[c]);t.match(/<svg/)?""!==l&&(t=t.replace(/(<svg[^>]*)width="[^"]*"/,"$1"),t=t.replace(/(<svg[^>]*)height="[^"]*"/,"$1"),t=t.replace(/(<svg)/,"$1"+l)):t='<?xml version="1.0" encoding="utf-8"?><svg '+l+' style="'+h+'" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+t+"</svg>",o&&(t=t.replace(/(<svg[^>]*>)/,'$1<rect width="100%" height="100%" fill="'+o.rgba+'"/>')),tp()&&(t=t.replace(/<feColorMatrix [^\/>]*\/>/gi,""));var d=new RegExp("url\\("+yp(up()),"g");if(t=t.replace(d,"url(#"),t=t.replace(/url\(&quot;([^)]*)&quot;\)/gm,"url($1)"),u.length)for(c=0;c<u.length;c++)t=t.replace(rp,u[c]);return t=this.adapter.apply("normalizeSVG",{data:t,options:e}).data,t},e.prototype.serializeElement=function(t){return(new XMLSerializer).serializeToString(t)},e.prototype.getPDF=function(t,e){return St(this,void 0,void 0,(function(){function i(t){var e={};e.normal=t.normal.path,d[t.normal.path]=t.normal.bytes,t.bold?(e.bold=t.bold.path,d[t.bold.path]=t.bold.bytes):e.bold=t.normal.path,t.italics?(e.italics=t.italics.path,d[t.italics.path]=t.italics.bytes):e.italics=t.normal.path,t.bolditalics?(e.bolditalics=t.bolditalics.path,d[t.bolditalics.path]=t.bolditalics.bytes):e.bolditalics=t.normal.path,c[t.name]=e}var s,n,r,a,o,l,h,u,p,c,d;return Ct(this,(function(g){switch(g.label){case 0:return[4,this.getImage(e.imageFormat||"png",e)];case 1:return s=g.sent(),[4,this.pdfmake];case 2:return n=g.sent(),r=[30,30,30,30],a={pageSize:e.pageSize||"A4",pageOrientation:e.pageOrientation||"portrait",pageMargins:e.pageMargins||r,defaultStyle:{font:e.font?e.font.name:void 0},content:[]},o=this.adapter.apply("title",{title:this.title,options:e}).title,l=0,o&&(a.content.push({text:o,fontSize:e.fontSize||14,bold:!0,margin:[0,0,0,15]}),l+=50),e.addURL&&(a.content.push({text:this.language.translate("Saved from")+": "+document.location.href,fontSize:e.fontSize,margin:[0,0,0,15]}),l+=50),"pdfdata"!=t&&a.content.push({image:s,alignment:e.align||"left",fit:this.getPageSizeFit(a.pageSize,a.pageMargins,l)}),"pdfdata"==t||e.addData?(u=(h=a.content).push,p={},[4,this.getPDFData("pdf",e)]):[3,4];case 3:u.apply(h,[(p.table=g.sent(),p.fontSize=e.fontSize||14,p)]),g.label=4;case 4:return a=this.adapter.apply("pdfmakeDocument",{doc:a,options:e}).doc,c=null,d=null,e.font&&(c={},d={},i(e.font),e.extraFonts&&th(e.extraFonts,i)),[4,new Promise((function(t,e){n.createPdf(a,null,c,d).getDataUrl((function(e){t(e)}))}))];case 5:return[2,g.sent()]}}))}))},e.prototype.getPDFData=function(t,e){return St(this,void 0,void 0,(function(){var t,i,s,n,r,a,o=this;return Ct(this,(function(l){if(t={body:[]},i=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"pdf"}).dataFields,s=this.data,e.pivot)n=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"pdfdata"}).dataFieldsOrder,zh(i,(function(i,n){var r=[];e.addColumnNames&&r.push(n);for(var a=s.length,l=0;l<a;l++){var h=s[l][i];r.push(o.convertToSpecialFormat(i,h,e,!0))}t.body.push(o.getPDFDataRow(r,e,void 0,!0))}),(function(t,e){var i=n.indexOf(t),s=n.indexOf(e);return i>s?1:i<s?-1:0}));else for(e.addColumnNames&&(t.body.push(this.getPDFDataRow(i,e,void 0,!0)),t.headerRows=1),r=s.length,a=0;a<r;a++)t.body.push(this.getPDFDataRow(s[a],e,i));return[2,this.adapter.apply("pdfmakeTable",{table:t,options:e}).table]}))}))},e.prototype.getPDFDataRow=function(t,e,i,s){var n=this;void 0===s&&(s=!1);var r=[];i||(i=t);var a=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"pdfdata"}).dataFieldsOrder;return zh(i,(function(i,a){var o=n.convertEmptyValue(i,t[i],e),l=s?o:n.convertToSpecialFormat(i,o,e);l=""+l,r.push(l)}),(function(t,e){var i=a.indexOf(t),s=a.indexOf(e);return i>s?1:i<s?-1:0})),r},e.prototype.getPageSizeFit=function(t,e,i){void 0===i&&(i=0);var s=[0,0,0,0];"number"==typeof e?s=[e,e,e,e]:2==e.length?s=[e[0],e[1],e[0],e[1]]:4==e.length&&(s=e);var n={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],EXECUTIVE:[521.86,756],FOLIO:[612,936],LEGAL:[612,1008],LETTER:[612,792],TABLOID:[792,1224]},r=n[t];return r[0]-=s[0]+s[2],r[1]-=s[1]+s[3]+i,r},e.prototype.getExcel=function(t,e){return St(this,void 0,void 0,(function(){var i,s,n,r,a,o,l,h,u,p,c=this;return Ct(this,(function(d){switch(d.label){case 0:return gl(e)||(e=this.getFormatOptions("xlsx")),[4,this.xlsx];case 1:if(i=d.sent(),s=this.adapter.apply("xlsxWorkbookOptions",{xlsx:i,options:{bookType:"xlsx",bookSST:!1,type:"base64"}}).options,n=this.normalizeExcelSheetName(this.adapter.apply("xlsxSheetName",{xlsx:i,name:this.title||this.language.translate("Data")}).name),r={SheetNames:[n],Sheets:{}},a=[],o=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"xslx"}).dataFields,e.pivot)l=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"xlsx"}).dataFieldsOrder,zh(o,(function(t,i){var s=[];e.addColumnNames&&s.push(i);for(var n=c.data.length,r=0;r<n;r++){var o=c.data[r][t];s.push(c.convertToSpecialFormat(t,o,e,!0))}a.push(c.getExcelRow(s,e,void 0,!0))}),(function(t,e){var i=l.indexOf(t),s=l.indexOf(e);return i>s?1:i<s?-1:0}));else for(e.addColumnNames&&a.push(this.getExcelRow(o,e,void 0,!0)),h=this.data.length,u=0;u<h;u++)a.push(this.getExcelRow(this.data[u],e,o));return r.Sheets[n]=i.utils.aoa_to_sheet(a),r=this.adapter.apply("xlsxWorkbook",{xlsx:i,workbook:r,options:e}).workbook,p=this.adapter.apply("getExcel",{data:"data:"+this.getContentType(t)+";base64,"+i.write(r,s),options:e}).data,[2,p]}}))}))},e.prototype.normalizeExcelSheetName=function(t){return t=t.replace(/([:\\\/?*\[\]]+)/g," "),vp(t,31,"...",!0)},e.prototype.getExcelRow=function(t,e,i,s){var n=this;void 0===s&&(s=!1);var r=[];i||(i=t);var a=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"xlsx"}).dataFieldsOrder;return zh(i,(function(i,a){var o=n.convertEmptyValue(i,t[i],e),l=s?o:n.convertToSpecialFormat(i,o,e,!0);r.push(l)}),(function(t,e){var i=a.indexOf(t),s=a.indexOf(e);return i>s?1:i<s?-1:0})),r},e.prototype.getCSV=function(t,e,i){return void 0===i&&(i=!0),St(this,void 0,void 0,(function(){var s,n,r,a,o,l,h,u,p,c,d=this;return Ct(this,(function(g){if(gl(e)||(e=this.getFormatOptions("csv")),s="",n=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"csv"}).dataFields,r="",a=this.data,e.pivot)o=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"csv"}).dataFieldsOrder,zh(n,(function(t,i){var n=[];e.addColumnNames&&n.push(i);for(var o=a.length,l=0;l<o;l++){var h=a[l][t];n.push(d.convertToSpecialFormat(t,h,e,!0))}s+=r+d.getCSVRow(n,e,void 0,!0),r="\n"}),(function(t,e){var i=o.indexOf(t),s=o.indexOf(e);return i>s?-1:i<s?1:0}));else{for(l=a.length,h=0;h<l;h++)u=this.getCSVRow(a[h],e,n),e.reverse?s=u+r+s:s+=r+u,r="\n";e.addColumnNames&&(s=this.getCSVRow(n,e,void 0,!0)+r+s)}return p=this.adapter.apply("charset",{charset:"charset=utf-8",type:t,options:e}).charset,c=this.adapter.apply("getCSV",{data:i?"data:"+this.getContentType(t)+";"+p+","+encodeURIComponent(s):s,options:e}).data,[2,c]}))}))},e.prototype.getCSVRow=function(t,e,i,s){var n=this;void 0===s&&(s=!1);var r=e.separator||",",a=[];i||(i=t);var o=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"csv"}).dataFieldsOrder;return zh(i,(function(i,o){var l=n.convertEmptyValue(i,t[i],e),h=s?l:n.convertToSpecialFormat(i,l,e);h=""+h,h=h.replace(/"/g,'""'),(e.forceQuotes||h.search(new RegExp('"|\n|'+r,"g"))>=0)&&(h='"'+h+'"'),a.push(h)}),(function(t,e){var i=o.indexOf(t),s=o.indexOf(e);return i>s?1:i<s?-1:0})),a.join(r)},e.prototype.getHTML=function(t,e,i){return void 0===i&&(i=!0),St(this,void 0,void 0,(function(){var s,n,r,a,o,l,h,u,p=this;return Ct(this,(function(c){if(gl(e)||(e=this.getFormatOptions("html")),s="<table>",e.tableClass&&(s='<table class="'+e.tableClass+'">'),n=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"html"}).dataFields,r=this.data,e.pivot)a=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"html"}).dataFieldsOrder,s+="\n<tbody>",zh(n,(function(t,i){var n=[];e.addColumnNames&&n.push(i);for(var a=r.length,o=0;o<a;o++){var l=r[o][t];n.push(p.convertToSpecialFormat(t,l,e,!0))}s+="\n"+p.getHTMLRow(n,e,void 0,!0)}),(function(t,e){var i=a.indexOf(t),s=a.indexOf(e);return i>s?-1:i<s?1:0})),s+="\n</tbody>";else{for(e.addColumnNames&&(s+="\n<thead>\n"+this.getHTMLRow(n,e,void 0,!0,!0)+"\n</thead>"),s+="\n<tbody>",o=r.length,l=0;l<o;l++)s+="\n"+this.getHTMLRow(r[l],e,n);s+="\n</tbody>"}return s+="\n</table>",h=this.adapter.apply("charset",{charset:"charset=utf-8",type:t,options:e}).charset,u=this.adapter.apply("getHTML",{data:i?"data:"+this.getContentType(t)+";"+h+","+encodeURIComponent(s):s,options:e}).data,[2,u]}))}))},e.prototype.getHTMLRow=function(t,e,i,s,n){var r=this;void 0===s&&(s=!1),void 0===n&&(n=!1);var a="\t<tr>";e.rowClass&&(a='\t<tr class="'+e.rowClass+'">'),i||(i=t);var o=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"html"}).dataFieldsOrder,l=n?"th":"td",h=!0;return zh(i,(function(i,n){var o=r.convertEmptyValue(i,t[i],e),u=s?o:r.convertToSpecialFormat(i,o,e);u=""+u,u=u.replace(/[\u00A0-\u9999<>\&]/gim,(function(t){return"&#"+t.charCodeAt(0)+";"}));var p=l;e.pivot&&h&&(p="th"),e.cellClass?a+="\n\t\t<"+p+' class="'+e.cellClass+'">'+u+"</"+p+">":a+="\n\t\t<"+p+">"+u+"</"+p+">",h=!1}),(function(t,e){var i=o.indexOf(t),s=o.indexOf(e);return i>s?1:i<s?-1:0})),a+="\n\t</tr>",a},e.prototype.getJSON=function(t,e,i){return void 0===i&&(i=!0),St(this,void 0,void 0,(function(){var s,n,r,a,o,l,h,u,p,c=this;return Ct(this,(function(d){if(gl(e)||(e=this.getFormatOptions("json")),n=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"json"}).dataFields,this._dynamicDataFields)s=this.data;else for(s=[],r=this.data,a=function(t,i){var a=r[i];if("object"==typeof a){var o={};Hh(a,(function(t,i){gl(n[t])&&(o[n[t]]=c.convertToSpecialFormat(t,i,e))})),s.push(o)}},o=r.length,l=0;l<o;l++)a(o,l);return h=JSON.stringify(s,(function(t,i){return"object"==typeof i&&Hh(i,(function(t,s){i[t]=c.convertToSpecialFormat(t,s,e)})),i}),e.indent),u=this.adapter.apply("charset",{charset:"charset=utf-8",type:t,options:e}).charset,p=this.adapter.apply("getJSON",{data:i?"data:"+this.getContentType(t)+";"+u+","+encodeURIComponent(h):h,options:e}).data,[2,p]}))}))},e.prototype.convertToSpecialFormat=function(t,e,i,s){if("number"==typeof e)if(this.isDateField(t))e=new Date(e);else{if(this.isDurationField(t))return this.durationFormatter.format(e,this.durationFormat);if(this.isNumberField(t)&&this.numberFormat)return this.numberFormatter.format(e,this.numberFormat)}return e instanceof Date?i.useTimestamps?e=e.getTime():i.useLocale?s||(e=e.toLocaleString()):e=this.dateFormatter.format(e,this.dateFormat):bl(e)&&this.isDateField(t)&&this.dateFormat&&(e=this.dateFormatter.format(this.dateFormatter.parse(e),this.dateFormat)),e},e.prototype.convertEmptyValue=function(t,e,i){return gl(e)?e:i.emptyAs},e.prototype.download=function(t,e,i){return void 0===i&&(i=!1),St(this,void 0,void 0,(function(){var s,n,r,a,o,l,h,u,p,c,d,g,f,m,y;return Ct(this,(function(b){if(this.msBlobDownloadSupport()){if(g=t.split(";"),f=g.shift().replace(/data:/,""),t=decodeURIComponent(g.join(";").replace(/^[^,]*,/,"")),-1!=["image/svg+xml","application/json","text/csv"].indexOf(f))return s=new Blob([t],{type:f}),window.navigator.msSaveBlob(s,e),[2,!0];try{r=atob(t),t=r}catch(v){return[2,!1]}for(l=new Array(t.length),h=0;h<t.length;++h)u=t.charCodeAt(h),l[h]=u;p=new Blob([new Uint8Array(l)],{type:f}),window.navigator.msSaveBlob(p,e)}else if(this.blobDownloadSupport()){if(n=document.createElement("a"),n.download=e,document.body.appendChild(n),g=t.split(";"),f=g.shift().replace(/data:/,""),t=decodeURIComponent(g.join(";").replace(/^[^,]*,/,"")),-1!=["image/svg+xml","application/json","text/csv","text/html"].indexOf(f))return i&&(t="\ufeff"+t),a=new Blob([t],{type:f}),o=window.URL.createObjectURL(a),n.href=o,n.download=e,n.click(),setTimeout((function(){document.body.removeChild(n),window.URL.revokeObjectURL(o)}),100),[2,!0];try{r=atob(t),t=r}catch(v){return[2,!1]}for(l=new Array(t.length),h=0;h<t.length;++h)u=t.charCodeAt(h),l[h]=u;i&&(l=[239,187,191].concat(l)),p=new Blob([new Uint8Array(l)],{type:f}),c=window.URL.createObjectURL(p),n.href=c,n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n),setTimeout((function(){window.URL.revokeObjectURL(c)}),100)}else this.linkDownloadSupport()?(d=document.createElement("a"),d.download=e,d.href=t,document.body.appendChild(d),d.click(),document.body.removeChild(d)):this.legacyIE()?(g=t.match(/^data:(.*);[ ]*([^,]*),(.*)$/),4===g.length&&("base64"==g[2]?g[1].match(/^image\//)&&this.showModal('<img src="'+t+'" style="float: left; max-width: 50%; max-height: 80%; margin: 0 1em 0.5em 0; border: 1px solid #eee;" /><p>'+this.language.translate('To save the image, right-click thumbnail on the left and choose "Save picture as..."')+'</p><p style="text-align: center;"><small>'+this.language.translate("(Press ESC to close this message)")+"</small></p>",this.language.translate("Image Export Complete")):(f=void 0,e.match(/\.svg$/)?f="image/svg+xml":(f="text/plain",e+=".txt"),m=document.createElement("iframe"),m.width="1px",m.height="1px",m.style.display="none",document.body.appendChild(m),y=m.contentDocument,y.open(f,"replace"),y.write(decodeURIComponent(g[3])),y.close(),y.execCommand("SaveAs",!0,e),document.body.removeChild(m)))):window.location.href=t;return[2,!0]}))}))},e.prototype.downloadSupport=function(){return this.linkDownloadSupport()||this.msBlobDownloadSupport()},e.prototype.linkDownloadSupport=function(){var t=gu.getCache("linkDownloadSupport");if(!1===t||!0===t)return t;var e=document.createElement("a"),i="undefined"!==typeof e.download;return gu.setCache("linkDownloadSupport",i),i},e.prototype.blobDownloadSupport=function(){return gl(window.Blob)},e.prototype.msBlobDownloadSupport=function(){return gl(window.navigator.msSaveOrOpenBlob)},e.prototype.legacyIE=function(){var t=document.createElement("div");return t.innerHTML="\x3c!--[if lt IE 10]><i></i><![endif]--\x3e",1==t.getElementsByTagName("i").length},e.prototype.print=function(t,e,i){return St(this,void 0,void 0,(function(){return Ct(this,(function(s){return"css"==e.printMethod?[2,this.printViaCSS(t,e,i)]:[2,this.printViaIframe(t,e,i)]}))}))},e.prototype.printViaCSS=function(t,e,i){return St(this,void 0,void 0,(function(){var s,n,r,a,o;return Ct(this,(function(l){return s=document.documentElement.scrollTop||document.body.scrollTop,n=new vd(dd(this.container),"body > *",{display:"none",position:"fixed",visibility:"hidden",opacity:"0",clipPath:"polygon(0px 0px,0px 0px,0px 0px,0px 0px);"}),i&&document&&document.title&&(r=document.title,document.title=i),a=new Image,a.src=t,a.style.maxWidth="100%",a.style.display="block",a.style.position="relative",a.style.visibility="visible",a.style.opacity="1",a.style.clipPath="none",document.body.appendChild(a),this.setTimeout((function(){window.print()}),50),o=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,o&&e.delay<1e3?e.delay=1e3:e.delay<100&&(e.delay=100),this.setTimeout((function(){document.body.removeChild(a),n.dispose(),r&&(document.title=document.title),document.documentElement.scrollTop=document.body.scrollTop=s}),e.delay||500),[2,!0]}))}))},e.prototype.printViaIframe=function(t,e,i){return St(this,void 0,void 0,(function(){var s,n,r;return Ct(this,(function(a){return s=document.createElement("iframe"),s.style.visibility="hidden",document.body.appendChild(s),s.contentWindow.document.open(),s.contentWindow.document.close(),n=new Image,n.src=t,n.style.maxWidth="100%",n.style.height="auto",i&&(s.contentWindow.document.title=i),s.contentWindow.document.body.appendChild(n),s.load=function(){s.contentWindow.document.body.appendChild(n)},this.setTimeout((function(){try{s.contentWindow.document.execCommand("print",!1,null)||s.contentWindow.print()}catch(t){s.contentWindow.print()}}),e.delay||50),r=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,r&&e.delay<1e3?e.delay=1e3:e.delay<100&&(e.delay=100),this.setTimeout((function(){document.body.removeChild(s)}),e.delay+50||100),[2,!0]}))}))},e.prototype.findBackgroundColor=function(t){var e=1,i=ud(t,"background-color");if((i.match(/[^,]*,[^,]*,[^,]*,[ ]?0/)||"transparent"==i)&&(e=0),0==e){var s=t.parentElement;return s?this.findBackgroundColor(s):Uu("#fff")}return Uu(i,e)},Object.defineProperty(e.prototype,"container",{get:function(){return this.adapter.apply("container",{container:this._container}).container},set:function(t){this._container=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sprite",{get:function(){return this.adapter.apply("sprite",{sprite:this._sprite}).sprite},set:function(t){this._sprite=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extraSprites",{get:function(){return this.adapter.apply("extraSprites",{extraSprites:this._extraSprites}).extraSprites},set:function(t){this._extraSprites=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validateSprites",{get:function(){return this.adapter.apply("validateSprites",{validateSprites:this._validateSprites}).validateSprites},set:function(t){this._validateSprites=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.adapter.apply("data",{data:this._data}).data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataFields",{get:function(){return this._dataFields||this.generateDataFields(),this.adapter.apply("dataFields",{dataFields:this._dataFields}).dataFields},set:function(t){this._dataFields=t,this._dynamicDataFields=!1},enumerable:!0,configurable:!0}),e.prototype.handleDataUpdated=function(){this._dynamicDataFields&&(this._dataFields=void 0);var t=this.data.length>0;this._prevHasData!=t&&(this._prevHasData=t,this.menu&&this.menu.invalidate())},Object.defineProperty(e.prototype,"dateFormatter",{get:function(){return this._dateFormatter||(this._dateFormatter=new dg,this._dateFormatter.language=this.language),this.adapter.apply("dateFormatter",{dateFormatter:this._dateFormatter}).dateFormatter},set:function(t){this._dateFormatter=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateFormat",{get:function(){return this.adapter.apply("dateFormat",{dateFormat:this._dateFormat}).dateFormat},set:function(t){this._dateFormat=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateFields",{get:function(){return this._dateFields||(this._dateFields=new vu),this.adapter.apply("dateFields",{dateFields:this._dateFields}).dateFields},set:function(t){this._dateFields=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numberFormatter",{get:function(){return this._numberFormatter||(this._numberFormatter=new cg,this._numberFormatter.language=this.language),this.adapter.apply("numberFormatter",{numberFormatter:this._numberFormatter}).numberFormatter},set:function(t){this._numberFormatter=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numberFormat",{get:function(){return this.adapter.apply("numberFormat",{numberFormat:this._numberFormat}).numberFormat},set:function(t){this._numberFormat=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numberFields",{get:function(){return this._numberFields||(this._numberFields=new vu),this.adapter.apply("numberFields",{numberFields:this._numberFields}).numberFields},set:function(t){this._numberFields=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"durationFormatter",{get:function(){return this._durationFormatter||(this._durationFormatter=new gg,this._durationFormatter.language=this.language),this.adapter.apply("durationFormatter",{durationFormatter:this._durationFormatter}).durationFormatter},set:function(t){this._durationFormatter=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"durationFormat",{get:function(){return this.adapter.apply("durationFormat",{durationFormat:this._durationFormat}).durationFormat},set:function(t){this._durationFormat=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"durationFields",{get:function(){return this._durationFields||(this._durationFields=new vu),this.adapter.apply("durationFields",{durationFields:this._durationFields}).durationFields},set:function(t){this._durationFields=t},enumerable:!0,configurable:!0}),e.prototype.generateDataFields=function(){var t=this;this._dataFields={},this.data.length&&th(this.data,(function(e){Hh(e,(function(e,i){gl(t._dataFields[e])||(t._dataFields[e]=t.adapter.apply("dataFieldName",{name:e,field:e}).name)}))}))},e.prototype.isDateField=function(t){return this.adapter.apply("isDateField",{isDateField:this.dateFields.contains(t),field:t}).isDateField},e.prototype.isNumberField=function(t){return this.adapter.apply("isNumberField",{isNumberField:this.numberFields.contains(t),field:t}).isNumberField},e.prototype.isDurationField=function(t){return this.adapter.apply("isDurationField",{isDurationField:this.durationFields.contains(t),field:t}).isDurationField},e.prototype.getContentType=function(t){var e="";switch(t){case"png":case"gif":e="image/"+t;break;case"jpg":e="image/jpeg";break;case"svg":e="image/svg+xml";break;case"csv":e="text/csv";break;case"json":e="application/json";break;case"html":e="text/html";break;case"pdf":case"pdfdata":e="application/pdf";break;case"xlsx":e="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";break}return this.adapter.apply("contentType",{contentType:e,type:t}).contentType},Object.defineProperty(e.prototype,"filePrefix",{get:function(){return this.adapter.apply("filePrefix",{filePrefix:this._filePrefix}).filePrefix},set:function(t){this._filePrefix=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this.adapter.apply("backgroundColor",{backgroundColor:this._backgroundColor}).backgroundColor},set:function(t){this._backgroundColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this.adapter.apply("title",{title:this._title}).title},set:function(t){this._title=t},enumerable:!0,configurable:!0}),e.prototype.showPreloader=function(){var t=this.preloader;t&&(t.progress=.5,t.label.text="...")},e.prototype.hidePreloader=function(){var t=this.preloader;t&&(t.progress=1)},Object.defineProperty(e.prototype,"preloader",{get:function(){return this._sprite&&this._sprite.parent&&this._sprite.parent.preloader?this._sprite.parent.preloader:void 0},enumerable:!0,configurable:!0}),e.prototype.showTimeout=function(){this.showModal(this.adapter.apply("timeoutMessage",{message:this.language.translate("Export operation took longer than expected. Something might have gone wrong.")}).message)},e.prototype.hideTimeout=function(){this._timeoutTimeout&&(this.removeDispose(this._timeoutTimeout),this._timeoutTimeout=null),this.hideModal()},Object.defineProperty(e.prototype,"language",{get:function(){return this._language||(this._language=new hg),this._language},set:function(t){this._language=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"modal",{get:function(){return this._modal||(this._modal=new Yd,this._modal.adapter.add("classPrefix",(function(t){return t=Kc.classNamePrefix+t,t}))),this._modal},enumerable:!0,configurable:!0}),e.prototype.showModal=function(t,e){this.hideModal(),this.hidePreloader();var i=this.modal;i.container=this.sprite.svgContainer.SVGContainer,i.content=t,i.readerTitle=e,i.open()},e.prototype.hideModal=function(){this._modal&&this.modal.close()},e.prototype._canvg=function(){return St(this,void 0,void 0,(function(){var t;return Ct(this,(function(e){switch(e.label){case 0:return[4,i.e(265).then(i.bind(i,9126))];case 1:return t=e.sent(),null!=t.default?[2,t.default]:[2,t]}}))}))},Object.defineProperty(e.prototype,"canvg",{get:function(){return this._canvg()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pdfmake",{get:function(){return null==yg&&(yg=wg()),yg},enumerable:!0,configurable:!0}),e.prototype._xlsx=function(){return St(this,void 0,void 0,(function(){return Ct(this,(function(t){switch(t.label){case 0:return[4,i.e(297).then(i.bind(i,7433))];case 1:return[2,t.sent()]}}))}))},Object.defineProperty(e.prototype,"xlsx",{get:function(){return this._xlsx()},enumerable:!0,configurable:!0}),e.prototype.setFormatOptions=function(t,e){this._formatOptions.setKey(t,e)},e.prototype.getFormatOptions=function(t){return this._formatOptions.getKey(t)},Object.defineProperty(e.prototype,"formatOptions",{get:function(){return this._formatOptions},enumerable:!0,configurable:!0}),e.prototype._disablePointers=function(){gl(this._spriteInteractionsEnabled)||(this._spriteInteractionsEnabled=this.sprite.interactionsEnabled),this.sprite.interactionsEnabled=!1},e.prototype._releasePointers=function(){gl(this._spriteInteractionsEnabled)&&!this._exportRunning&&(this.sprite.interactionsEnabled=this._spriteInteractionsEnabled)},e.prototype.hideNonExportableSprites=function(){var t=this;if(!this._objectsAlreadyHidden){var e=this.sprite.svgContainer;e&&th(e.nonExportableSprites,(function(e){e.isHidden||e.isHiding||!e.visible||t._hiddenObjects.push(e),e.hide(0)})),this._objectsAlreadyHidden=!0}},e.prototype.restoreNonExportableSprites=function(){this._objectsAlreadyHidden&&(th(this._hiddenObjects,(function(t){t.show(0)})),this._hiddenObjects=[],this._objectsAlreadyHidden=!1)},e.prototype.awaitValidSprites=function(){return St(this,void 0,void 0,(function(){var t;return Ct(this,(function(e){switch(e.label){case 0:return t=[],this.validateSprites.length&&th(this.validateSprites,(function(e,i){e.invalid&&t.push(new Promise((function(t,i){e.events.once("validated",(function(e){t()}))})))})),t.length?[4,Promise.all(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.processConfig=function(e){gu.registeredClasses.ExportMenu=vg,e&&(gl(e.menu)&&!gl(e.menu.type)&&(e.menu.type="ExportMenu"),gl(e.dataFields)&&_l(e.dataFields)&&(this.dataFields=e.dataFields,delete e.dataFields)),t.prototype.processConfig.call(this,e)},e.XLINK="http://www.w3.org/1999/xlink",e}(bg),Ig=["fill","fillOpacity","stroke","strokeOpacity","strokeWidth","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin"],jg=function(t){function e(){var e=t.call(this)||this;return e.properties={},e._eventDispatcher=new Xc(e),e._bindings={},e._isTemplate=!1,e._isPath=!1,e._inited=!1,e._ready=!1,e.isHiding=!1,e._isHidden=!1,e.isShowing=!1,e.isStandaloneInstance=!1,e._isActive=!1,e._mask=new vh,e._positionPrecision=3,e._language=new vh,e._exporting=new vh,e._exportable=!0,e._bbox={x:0,y:0,width:0,height:0},e.invalid=!1,e.positionInvalid=!1,e.propertyFields={},e.applyOnClones=!1,e._measuredWidthSelf=0,e._measuredHeightSelf=0,e.maxLeft=0,e.maxRight=0,e.maxTop=0,e.maxBottom=0,e.maxLeftSelf=0,e.maxRightSelf=0,e.maxTopSelf=0,e.maxBottomSelf=0,e._isDragged=!1,e._isResized=!1,e._disabled=!1,e._internalDisabled=!1,e._updateDisabled=!1,e._internalDefaultsApplied=!1,e.rollOutDelay=0,e.isBaseSprite=!1,e.shouldClone=!0,e.appeared=!1,e.ex=0,e.ey=0,e.dragWhileResize=!1,e.measureFailed=!1,e.preventShow=!1,e.cloneTooltip=!0,e.className="Sprite",e._disposers.push(e._eventDispatcher),op(e.uid),e.group=e.paper.addGroup("g"),e.setPropertyValue("scale",1),e.setPropertyValue("rotation",0),e.setPropertyValue("align","none"),e.setPropertyValue("valign","none"),e.setPropertyValue("pixelPerfect",!1),e.setPropertyValue("visible",!0),e.setPropertyValue("tooltipPosition","fixed"),e.setPropertyValue("verticalCenter","none"),e.setPropertyValue("horizontalCenter","none"),e.setPropertyValue("tooltipX",rl(50)),e.setPropertyValue("tooltipX",rl(50)),e.setPropertyValue("marginTop",0),e.setPropertyValue("marginBottom",0),e.setPropertyValue("marginLeft",0),e.setPropertyValue("marginRight",0),e.setPropertyValue("dx",0),e.setPropertyValue("dy",0),e.setPropertyValue("paddingTop",0),e.setPropertyValue("paddingBottom",0),e.setPropertyValue("paddingRight",0),e.setPropertyValue("paddingLeft",0),e.setPropertyValue("togglable",!1),e.setPropertyValue("hidden",!1),e.setPropertyValue("urlTarget","_self"),e.setPropertyValue("alwaysShowTooltip",!1),e.setPropertyValue("showTooltipOn","hover"),e._prevMeasuredWidth=0,e._prevMeasuredHeight=0,e._measuredWidth=0,e._measuredHeight=0,e._isMeasured=!0,e.invalidate(),e.applyTheme(),e._disposers.push(e.events),e._disposers.push(e.group),e._disposers.push(e._mask),e._disposers.push(e._language),e._disposers.push(e._exporting),e._disposers.push(new yh((function(){Hh(e._bindings,(function(t,e){e.dispose()}))}))),e.setPropertyValue("interactionsEnabled",!0),e}return Tt(e,t),Object.defineProperty(e.prototype,"events",{get:function(){return this._eventDispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adapter",{get:function(){return this._adapterO||(this._adapterO=new Cu(this)),this._adapterO},enumerable:!0,configurable:!0}),e.prototype.applyTheme=function(){t.prototype.applyTheme.call(this),Kc.autoSetClassName&&this.setClassName()},e.prototype.getCurrentThemes=function(){var t=this._themes;if(t)return t;var e=this._parent;return e?e.getCurrentThemes():gu.themes},e.prototype.applyInternalDefaults=function(){this._internalDefaultsApplied=!0},e.prototype.invalidate=function(){this.disabled||this._isTemplate||this.__disabled||this.invalid||(this.invalid=!0,gu.addToInvalidSprites(this),Fg.requestFrame())},e.prototype.validate=function(){this.dispatchImmediately("beforevalidated"),this._internalDefaultsApplied||this.applyInternalDefaults(),this.beforeDraw(),this.draw(),this.invalid=!1,gu.removeFromInvalidSprites(this),this.afterDraw()},e.prototype.invalidatePosition=function(){this.disabled||this._isTemplate||this.positionInvalid||(this.positionInvalid=!0,gu.addToInvalidPositions(this),Fg.requestFrame())},e.prototype.validatePosition=function(){var t=this.pixelX,e=this.pixelY,i=this.dx,s=this.dy,n=t+i,r=e+s;this._updateDisabled&&(this._internalDisabled?this.group.attr({display:"none"}):this.disabled||this.removeSVGAttribute("display"),this._updateDisabled=!1);var a=this.measure(),o=this.group.transformString;this.group.moveTo({x:n,y:r}),this.group.rotation=this.rotation,this.nonScaling?this.group.scale=this.scale/this.globalScale:this.group.scale=this.scale,(o!=this.group.transformString||a)&&(null==o?this.dispatch("transformed"):this.dispatchImmediately("transformed"),this.dispatch("positionchanged"),"hit"!=this.showTooltipOn&&"always"!=this.showTooltipOn||this.updateTooltipPosition()),t+i==n&&e+s==r&&(gu.removeFromInvalidPositions(this),this.positionInvalid=!1);var l=this._maskRectangle;l&&this._clipElement.moveTo({x:l.x-t,y:l.y-e})},e.prototype.beforeDraw=function(){},e.prototype.draw=function(){},e.prototype.afterDraw=function(){var t,e;if((this.isMeasured||"none"!==this.horizontalCenter||"none"!==this.verticalCenter)&&this.measureElement(),this._inited)this.dispatch("validated");else{if(this._adapterO)try{for(var i=Mt(this._adapterO.keys()),s=i.next();!s.done;s=i.next()){var n=s.value;switch(n){case"mask":case"fill":case"opacity":case"fillOpacity":case"stroke":case"strokeOpacity":case"strokeWidth":case"shapeRendering":case"strokeDasharray":case"strokeDashoffset":case"strokeLinecap":case"strokeLinejoin":case"textDecoration":case"fontSize":case"fontFamily":case"fontWeight":this[n]=this[n];break}}}catch(r){t={error:r}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}this.applyFilters(),this.visible=this.visible,this.interactionsEnabled=this.getPropertyValue("interactionsEnabled"),this._inited=!0,this.showOnInit||(this.appeared=!0),this.hidden&&this.hide(0),this.applyMask(),this.dispatch("validated"),this.dispatch("inited"),this.dispatchReady()}"always"==this.showTooltipOn&&(!this.visible||this.disabled||this.__disabled?this.hideTooltip(0):this.showTooltip())},e.prototype.dispatchReady=function(){this.isReady()||(this._ready=!0,this.dispatch("ready"))},e.prototype.reinit=function(){this._inited=!1,this.setState(this.defaultState),this.invalidate()},e.prototype.handleGlobalScale=function(){this.dispatch("globalscalechanged"),this.nonScalingStroke&&(this.strokeWidth=this.strokeWidth),this.nonScaling&&this.validatePosition(),this.updateFilterScale()},e.prototype.updateFilterScale=function(){var t=this;qh(this.filters.iterator(),(function(e){e.scale=t.globalScale}))},e.prototype.removeFromInvalids=function(){gu.removeFromInvalidSprites(this),gu.removeFromInvalidPositions(this)},e.prototype.copyFrom=function(e){var i=this;t.prototype.copyFrom.call(this,e),this.isMeasured=e.isMeasured,this.states.copyFrom(e.states),e.filters.length>0&&e.filters.each((function(t){i.filters.push(t.clone())})),e._adapterO&&this.adapter.copyFrom(e._adapterO),e["_interaction"]&&this.interactions.copyFrom(e.interactions),e["_plugins"]&&this.plugins.copyFrom(e.plugins),this.configField=e.configField,this.applyOnClones=e.applyOnClones,this.disabled=e.disabled,this.virtualParent=e.virtualParent,this.exportable=e.exportable,e._tooltip&&(this._tooltip?this._tooltip.copyFrom(e.tooltip):e.cloneTooltip?this.tooltip=e.tooltip.clone():this._tooltip=e.tooltip),this._showSystemTooltip=e.showSystemTooltip,lp(e.propertyFields,this.propertyFields),lp(e.properties,this),e.fillModifier&&(this.fillModifier=e.fillModifier.clone()),e.strokeModifier&&(this.strokeModifier=e.strokeModifier.clone()),e.focusFilter&&(this.focusFilter=e.focusFilter.clone())},e.prototype.dispose=function(){if(!this.isDisposed()){if("always"==this.showTooltipOn&&this.tooltip&&this.tooltip.hide(),this.dispatchImmediately("beforedisposed"),this.isBaseSprite){if(this.htmlContainer)while(this.htmlContainer.childNodes.length>0)this.htmlContainer.removeChild(this.htmlContainer.firstChild);this.isBaseSprite=!1}if(t.prototype.dispose.call(this),this._adapterO&&this._adapterO.clear(),this.applyOnClones&&this._clones)for(var e=this._clones.length-1;e>=0;e--){var i=this._clones.getIndex(e);i.dispose()}this._svgContainer&&this._svgContainer.dispose(),this._interactionDisposer&&(this._interactionDisposer.dispose(),this._interactionDisposer=void 0),this._urlDisposer&&this._urlDisposer.dispose(),this.removeFromInvalids(),this.element&&this.element.dispose(),this.group&&this.group.dispose(),this._numberFormatter&&this._numberFormatter.dispose(),this._focusFilter&&this._focusFilter.dispose();var s=this.stroke;!s||s instanceof Xu||!s.dispose||this.clonedFrom&&this.clonedFrom.stroke==s||s.dispose();var n=this.fill;if(!n||n instanceof Xu||!n.dispose||this.clonedFrom&&this.clonedFrom.fill==n||n.dispose(),gl(this.id)&&this.map.removeKey(this.id),this.parent=void 0,this._filters)while(this._filters.length>0){var r=this._filters.getIndex(0);r.dispose(),this._filters.removeValue(r)}this._alwaysShowDisposers=void 0}},Object.defineProperty(e.prototype,"isTemplate",{get:function(){return this._isTemplate},set:function(t){t=ul(t),this._isTemplate!=t&&(this._isTemplate=t,this instanceof Lg&&qh(this.children.iterator(),(function(e){e.isTemplate=t})),t?(this.parent=this._parent,this.removeFromInvalids()):this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showSystemTooltip",{get:function(){return gl(this._showSystemTooltip)?this._showSystemTooltip:this.virtualParent?this.virtualParent.showSystemTooltip:!!this._parent&&this._parent.showSystemTooltip},set:function(t){t=ul(t),this._showSystemTooltip!=t&&(this._showSystemTooltip=t,this.applyAccessibility())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topParent",{get:function(){return this._topParent?this._topParent:this._parent?this._parent.topParent:void 0},set:function(t){this._topParent=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},set:function(t){if(!this._isTemplate){op(this.paper);var e=this._parent;e!=t&&(e&&e.children.removeValue(this),this._parent=t,t?(this.topParent=t.topParent,t.isTemplate&&(this.isTemplate=!0),this.baseId=t.baseId,t.children.push(this),this._tooltip&&!this._tooltipContainer&&(this._tooltip.parent=t.tooltipContainer),this._dataItem||(this.dataItem=t.dataItem),this.handleAlwaysShowTooltip(),this.dataItem&&this.applyAccessibility(),this.dispatchImmediately("parentset")):this.topParent=void 0)}},enumerable:!0,configurable:!0}),e.prototype.handleAlwaysShow=function(){this.showTooltip()},e.prototype.handleAlwaysShowTooltip=function(){var t=this,e=this._alwaysShowDisposers;if(e&&th(e,(function(t){t.dispose()})),this._alwaysShowDisposers=[],"always"==this.showTooltipOn)while(void 0!=t){var i=t.events.on("visibilitychanged",this.handleAlwaysShow,this,!1);this.addDisposer(i),this._alwaysShowDisposers.push(i),t=t.parent}},Object.defineProperty(e.prototype,"virtualParent",{get:function(){return this._virtualParent},set:function(t){this._virtualParent=t,this.dataItem&&this.applyAccessibility()},enumerable:!0,configurable:!0}),e.prototype.appendDefs=function(){this.filterElement&&this.paper.appendDef(this.filterElement);var t=this.fill;t&&t.element&&this.paper.appendDef(t.element);var e=this.stroke;if(e&&e.element&&this.paper.appendDef(e.element),this.fillModifier&&this.fill instanceof Xu){var i=this.fillModifier.modify(this.fill);i&&i.element&&this.paper.appendDef(i.element)}if(this.strokeModifier&&this.stroke instanceof Xu){var s=this.strokeModifier.modify(this.stroke);s&&s.element&&this.paper.appendDef(s.element)}this._clipPath&&this.paper.appendDef(this._clipPath),!1===this._exportable&&(this.exportable=!1)},Object.defineProperty(e.prototype,"map",{get:function(){var t=this.topParent;return t?t.map:(this._map||(this._map=new hu),this._map)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delayedMap",{get:function(){var t=this.topParent;return t?t.delayedMap:(this._delayedMap||(this._delayedMap=new hu),this._delayedMap)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(t){if(this._id!=t){if(this._id=t,this.map.hasKey(t))throw Error("Duplicate id ("+t+") used on multiple objects.");this.map.setKey(t,this),Kc.autoSetClassName&&this.setClassName()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dom",{get:function(){return this.group.node},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paper",{get:function(){if(this._paper)return this._paper;var t=this._parent;return t?t.paper:ig()},set:function(t){this.setPaper(t)},enumerable:!0,configurable:!0}),e.prototype.setPaper=function(t){var e=this._paper;return e!=t&&(this._paper=t,this.appendDefs(),!0)},Object.defineProperty(e.prototype,"htmlContainer",{get:function(){if(this._htmlContainer)return this._htmlContainer;var t=this._parent;return t?t.htmlContainer:void 0},set:function(t){this._htmlContainer=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titleElement",{get:function(){return this._titleElement||(this._titleElement=this.paper.add("title"),this.group.add(this._titleElement)),this._titleElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"descriptionElement",{get:function(){return this._descriptionElement||(this._descriptionElement=this.paper.add("desc"),this.group.add(this._descriptionElement)),this._descriptionElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filters",{get:function(){return this._filters||(this._filters=new vu,this._disposers.push(this._filters.events.onAll(this.applyFilters,this)),this._disposers.push(new yu(this._filters))),this._filters},enumerable:!0,configurable:!0}),e.prototype.setSVGAttributes=function(){this.fill=this.fill,this.opacity=this.opacity,this.fillOpacity=this.fillOpacity,this.stroke=this.stroke,this.strokeOpacity=this.strokeOpacity,this.shapeRendering=this.shapeRendering,this.strokeDasharray=this.strokeDasharray,this.strokeDashoffset=this.strokeDashoffset,this.strokeLinecap=this.strokeLinecap,this.strokeLinejoin=this.strokeLinejoin,this.focusable=this.focusable,this.tabindex=this.tabindex,this.role=this.role},e.prototype.setSVGAttribute=function(t){this.group.attr(t)},e.prototype.removeSVGAttribute=function(t){this.group.removeAttr(t)},e.prototype.setClassName=function(){var t=this.className,e=Kc.classNamePrefix;this.element&&this.element.addClass(e+t),this.group.addClass(e+t+"-group"),gl(this.id)&&this.group.addClass(e+this.id),this.userClassName&&this.group.addClass(this.userClassName)},e.prototype.uidAttr=function(){return this.setSVGAttribute({id:this.uid}),this.uid},e.prototype.updateClipPath=function(){var t=this._clipElement;t&&t.moveTo({x:this.mask.pixelX,y:this.mask.pixelY})},e.prototype.createClipPath=function(){if(!this._clipPath){this._clipPath=this.paper.addGroup("clipPath"),this.paper.appendDef(this._clipPath),this._disposers.push(this._clipPath);var t=gu.getUniqueId();this._clipPath.attr({id:t}),this.group.attr({"clip-path":'url("'+up()+t+'")'})}},e.prototype.applyMask=function(){var t=this.mask;if(this._clipPath&&t)if(t instanceof Lg){this._clipElement.attr({width:jl(0,t.pixelWidth),height:jl(0,t.pixelHeight)});var e=zp({x:t.pixelX,y:t.pixelY},t.parent,this);this._clipPath.x=e.x,this._clipPath.y=e.y}else t.element&&t.element!=this._clipElement&&(this._clipElement=t.element,this._clipPath.add(this._clipElement)),this._clipPath.scale=t.scale,this._clipPath.x=t.pixelX,this._clipPath.y=t.pixelY,this._clipPath.rotation=t.rotation},e.prototype.applyFilters=function(){var t=this;if(this._filters&&this._filters.length>0){var e=100,i=100;this.filterElement?this.filterElement.removeChildNodes():(this.filterElement=this.paper.addGroup("filter"),this._disposers.push(this.filterElement)),this.paper.appendDef(this.filterElement);var s="filter-"+this.uid;this.filterElement.attr({id:s}),qh(this.filters.iterator(),(function(s){s.sprite=t,s.paper=t.paper,t.filterElement.attr({filterUnits:s.filterUnits}),s.appendPrimitives(t.filterElement),s.width>e&&(e=s.width),s.height>i&&(i=s.height),s.scale=t.globalScale}));var n=e+"%",r=i+"%";this.filterElement.attr({width:n,height:r,x:-(e-100)/2+"%",y:-(i-100)/2+"%"}),this.group.attr({filter:'url("'+up()+s+'")'})}else this.filterElement&&(this.group.removeAttr("filter"),this.filterElement.removeChildNodes())},e.prototype.removeClipPath=function(){this._clipPath&&(this.removeDispose(this._clipPath),this._clipPath=void 0)},e.prototype.setElement=function(t){this.element=t,this.setSVGAttributes(),this.applyAccessibility()},Object.defineProperty(e.prototype,"element",{get:function(){return this._element},set:function(t){this.removeElement(),this._element=t,this.group.add(t),t.node instanceof SVGPathElement&&(this._isPath=!0),this.invalid||this.validate(),Kc.autoSetClassName&&this.setClassName()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"svgContainer",{get:function(){return this._svgContainer?this._svgContainer:this._parent?this._parent.svgContainer:void 0},set:function(t){this._svgContainer=t},enumerable:!0,configurable:!0}),e.prototype.measureElement=function(){if(this.element)if(this.definedBBox)this._bbox=this.definedBBox;else{var t=this.element.getBBox();this._bbox={x:t.x,y:t.y,width:t.width,height:t.height}}},e.prototype.updateCenter=function(){if(this.element){var t=this.element.transformString,e=this.bbox,i=0,s=0,n=e.x,r=e.y,a=e.width,o=e.height,l=this.pixelPaddingLeft,h=this.pixelPaddingRight,u=this.pixelPaddingTop,p=this.pixelPaddingBottom,c=jl(a+l+h,this.pixelWidth),d=jl(o+u+p,this.pixelHeight),g=e.x,f=e.x+c,m=e.y,y=e.y+d,b=this.horizontalCenter,v=this.verticalCenter;switch(b){case"none":i=n+l;break;case"left":i=l;break;case"middle":i=l-(a+h+l)/2;break;case"right":i=-h-a;break}switch(v){case"none":s=r+u;break;case"top":s=u;break;case"middle":s=u-(o+p+u)/2;break;case"bottom":s=-p-o;break}this._measuredHeight=d,this._measuredWidth=c;var _=Tl(i-n,this._positionPrecision,!0),x=Tl(s-r,this._positionPrecision,!0);this.ex=_-l,this.ey=x-u,this.maxLeft=g+_-l,this.maxRight=f+_-l,this.maxTop=m+x-u,this.maxBottom=y+x-u,this.pixelPerfect&&0==Kc.pixelPerfectPrecision&&(_-=.5,x-=.5),this.element.moveTo({x:_,y:x}),t!=this.element.transformString&&this.dispatchImmediately("transformed")}},e.prototype.measure=function(){this.updateCenter();var t=this._measuredWidth,e=this._measuredHeight,i=this.maxLeft,s=this.maxRight,n=this.maxTop,r=this.maxBottom;this._measuredWidthSelf=t,this._measuredHeightSelf=e;var a=this._positionPrecision;if(this.maxLeftSelf=this.maxLeft,this.maxRightSelf=this.maxRight,this.maxTopSelf=this.maxTop,this.maxBottomSelf=this.maxBottom,0!==this.rotation||1!==this.scale||this.nonScaling){this.nonScalingStroke&&(this.strokeWidth=this.strokeWidth);var o=this.paper.svg,l=o.createSVGMatrix(),h=this.rotation,u=this.scale;this.nonScaling&&(u=this.scale/this.globalScale),l.a=Il(h)*u,l.c=-Ml(h)*u,l.e=0,l.b=Ml(h)*u,l.d=Il(h)*u,l.f=0;var p=o.createSVGPoint();p.x=i,p.y=n;var c=o.createSVGPoint();c.x=s,c.y=n;var d=o.createSVGPoint();d.x=s,d.y=r;var g=o.createSVGPoint();g.x=i,g.y=r;var f=p.matrixTransform(l),m=c.matrixTransform(l),y=d.matrixTransform(l),b=g.matrixTransform(l);i=Math.min(f.x,m.x,y.x,b.x),s=Math.max(f.x,m.x,y.x,b.x),n=Math.min(f.y,m.y,y.y,b.y),r=Math.max(f.y,m.y,y.y,b.y),t=s-i,e=r-n,this.maxLeft=Tl(i,a,!0),this.maxRight=Tl(s,a,!0),this.maxTop=Tl(n,a,!0),this.maxBottom=Tl(r,a,!0)}return this._measuredWidth=Tl(t,a,!0),this._measuredHeight=Tl(e,a,!0),(this._measuredWidth!=this._prevMeasuredWidth||this._measuredHeight!=this._prevMeasuredHeight)&&(this._prevMeasuredHeight=this._measuredHeight,this._prevMeasuredWidth=this._measuredWidth,this.dispatch("sizechanged"),(this.isHover||"hit"==this.showTooltipOn||"always"==this.showTooltipOn)&&this.tooltip&&this.tooltip.visible&&(gl(this.tooltipText)||gl(this.tooltipHTML))&&this.updateTooltipPosition(),!0)},e.prototype.insertBefore=function(t){var e=this._parent;if(e){var i=e.children.indexOf(t);-1!==i&&(e.children.moveValue(this,i),e.sortChildren())}return this},e.prototype.insertAfter=function(t){var e=this._parent;if(e){var i=e.children.indexOf(t);-1!==i&&(e.children.moveValue(this,i+1),e.sortChildren())}return this},e.prototype.removeElement=function(){this._element&&(this.removeDispose(this._element),this._element=void 0)},e.prototype.getRelativeX=function(t){return t instanceof nl?t.value:this._parent?t/this._parent.innerWidth:0},e.prototype.getRelativeY=function(t){return t instanceof nl?t.value:this._parent?t/this._parent.innerHeight:0},e.prototype.getPixelX=function(t){var e=0;if(vl(t))e=t;else if(t instanceof nl){var i=t.value;this._parent&&(e=Tl(this._parent.innerWidth*i,this._positionPrecision,!0))}return e},e.prototype.getPixelY=function(t){var e=0;if(vl(t))e=t;else if(t instanceof nl){var i=t.value;this._parent&&(e=Tl(this._parent.innerHeight*i,this._positionPrecision,!0))}return e},e.prototype.moveTo=function(t,e,i,s){this.isDragged&&!s||(t&&(vl(t.x)&&this.setPropertyValue("x",Tl(t.x,this._positionPrecision,!0)),vl(t.y)&&this.setPropertyValue("y",Tl(t.y,this._positionPrecision,!0))),vl(e)&&(this.rotation=e),vl(i)&&(this.scale=i),this.invalidatePosition())},Object.defineProperty(e.prototype,"mask",{get:function(){return this._adapterO?this._adapterO.apply("mask",this._mask.get()):this._mask.get()},set:function(t){var e=this;this._mask.get()!==t&&(t?(this.createClipPath(),t instanceof Lg?this._clipElement=this.paper.add("rect"):(t.isMeasured=!1,t.element&&(this._clipElement=t.element)),this._clipElement&&this._clipPath.add(this._clipElement),this._mask.set(t,new bh([t.events.on("maxsizechanged",(function(){e.inited&&e.applyMask()}),void 0,!1),t.events.on("validated",this.applyMask,this,!1),t.events.on("positionchanged",this.applyMask,this,!1)])),this.applyMask()):(this._mask.reset(),this.group.removeAttr("clip-path"),this.removeClipPath()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maskRectangle",{get:function(){return this._maskRectangle},set:function(t){t?(this.createClipPath(),this._clipElement||(this._clipElement=this.paper.add("rect"),this._clipPath.add(this._clipElement)),this._clipElement.attr({width:t.width,height:t.height})):(this.removeClipPath(),this._clipElement=void 0),this._maskRectangle=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMeasured",{get:function(){return this._isMeasured},set:function(t){t=ul(t),t||(this._measuredWidth=0,this._measuredHeight=0),this._isMeasured!=t&&(this._isMeasured=t,this.invalidatePosition())},enumerable:!0,configurable:!0}),e.prototype.hitTest=function(t){this.invalid&&this.validate(),t.invalid&&t.validate();var e=this.pixelX+this.maxLeft,i=this.pixelY+this.maxTop,s=e+this.maxRight,n=i+this.maxBottom,r=t.pixelX+t.maxLeft,a=t.pixelY+t.maxTop,o=r+t.maxRight,l=a+t.maxBottom;return!(r>s||o<e||a>n||l<i)},Object.defineProperty(e.prototype,"inited",{get:function(){return this._inited},enumerable:!0,configurable:!0}),e.prototype.isReady=function(){return this._ready},Object.defineProperty(e.prototype,"states",{get:function(){if(!this._states){var t=new Gc;this._states=new uu(t),this._disposers.push(this._states.events.on("insertKey",this.processState,this,!1)),this._disposers.push(this._states.events.on("setKey",this.processState,this,!1)),this._disposers.push(new lu(this._states)),this._disposers.push(t)}return this._states},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hiddenState",{get:function(){if(!this.states.getKey("hidden")){var t=this.states.create("hidden");t.properties.opacity=0,t.properties.visible=!1}return this.states.getKey("hidden")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultState",{get:function(){if(!this.states.getKey("default")){var t=this.states.create("default");t.properties.opacity=1}return this.states.getKey("default")},enumerable:!0,configurable:!0}),e.prototype.processState=function(t){var e=t.newValue;if(e.sprite=this,e.name=t.key,(this.states.hasKey("hover")||"hover"==this.showTooltipOn&&(gl(this.tooltipHTML)||gl(this.tooltipText)))&&(this.hoverable=!0),(this.states.hasKey("down")||"hover"==this.showTooltipOn&&(gl(this.tooltipHTML)||gl(this.tooltipText)))&&(this.clickable=!0),this.states.hasKey("focus")&&(this.focusable=!0),this.applyOnClones)for(var i=this.clones.values,s=i.length,n=0;n<s;++n){var r=i[n];r.isDisposed()||r.states.setKey(e.name,e)}},Object.defineProperty(e.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new td(this._animations))),this._animations},enumerable:!0,configurable:!0}),e.prototype.getSvgPoint=function(t){try{var e=this.htmlContainer.getBoundingClientRect();return{x:t.x-e.left,y:t.y-e.top}}catch(i){return t}},e.prototype.animate=function(t,e,i){return new ed(this,t,e,i).start()},e.prototype.setState=function(t,e,i){var s;if(t instanceof Gc)this.states.setKey(t.name,t),s=t;else if(s=this.states.getKey(t),!s)return;if("hover"==s.name){if(this.isHidden)return;this.isHover=!0}return"hidden"==s.name?this.isHiding=!0:this.visible||this.setVisibility(s.properties.visible||this.defaultState.properties.visible),"active"==s.name&&(this.isActive=!0),vl(e)||(e=s.transitionDuration),gl(i)||(i=s.transitionEasing),this.transitTo(s,e,i)},e.prototype.applyCurrentState=function(t){var e=this.setState(this.defaultState,t);return this.isHover&&(e=this.setState("hover",t)),this.isDown&&this.interactions.downPointers.length&&(e=this.setState("down",t)),this.isFocused=this.isFocused,this.isActive&&(e=this.setState("active",t),this.isHover&&this.states.hasKey("hoverActive")&&(e=this.setState("hoverActive",t))),e},e.prototype.transitTo=function(t,e,i){var s,n=this,r=[],a=t.allValues;if(Hh(a,(function(t,e){var i=n[t];if(e!=i&&void 0==n.defaultState.properties[t]&&(n.defaultState.properties[t]=i),"__unset"!=e){var s={from:i,to:e,property:t};r.push(s)}})),r.length>0&&(s=this.animate(r,e,i),s&&!s.isFinished()?this._disposers.push(s.events.on("animationended",(function(){n.dispatchImmediately("transitionended")}))):this.dispatchImmediately("transitionended")),t.filters.length>0){var o=[];qh(t.filters.iterator(),(function(t){var s=t.clone();o.push(s);var r=[];qh(n.filters.iterator(),(function(t){t.className==s.className&&(su(n.defaultState.filters.iterator(),(function(t){return t.className===s.className}))||n.defaultState.filters.push(t),Hh(s.properties,(function(e,i){var s=t.properties[e];s!=i&&r.push({property:e,from:s,to:i})})))})),s.animate(r,e,i)})),this.filters.clear(),this.filters.pushAll(o)}return s},e.prototype.isInTransition=function(){return this.animations.length>0},Object.defineProperty(e.prototype,"isHover",{get:function(){return!!this.isInteractive()&&this.interactions.isHover},set:function(t){t=ul(t),t!==this.isHover&&this.isInteractive()&&(this.interactions.isHover=t,t?this.handleOver():(this.interactions.isRealHover=!1,this.handleOut()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDragged",{get:function(){return this._isDragged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isResized",{get:function(){return this._isResized},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDown",{get:function(){return!!this.isInteractive()&&this.interactions.isDown},set:function(t){t=ul(t),this.isInteractive()&&this.isDown!=t&&(this.interactions.isDown=t,t?this.handleDown():this.handleUp())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFocused",{get:function(){return!!this.isInteractive()&&this.interactions.isFocused},set:function(t){t=ul(t),this.focusable&&this.isFocused!=t&&this.isInteractive()&&(this.interactions.isFocused=t,!0===t?this.handleFocus():this.handleBlur())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},set:function(t){this.setActive(t)},enumerable:!0,configurable:!0}),e.prototype.setActive=function(t){t=ul(t),this._isActive!==t&&(this._isActive=t,t&&this.states.hasKey("active")?(this.setState("active"),this.isHover&&this.states.hasKey("hoverActive")&&this.setState("hoverActive")):this.applyCurrentState(),this.dispatchImmediately("toggled"))},Object.defineProperty(e.prototype,"disabled",{get:function(){var t=this.getPropertyValue("disabled");return gl(t)?t:this.virtualParent?this.virtualParent.disabled:!!this._parent&&this._parent.disabled},set:function(t){this.setDisabled(t)},enumerable:!0,configurable:!0}),e.prototype.setDisabled=function(t){t=ul(t);var e=this.getPropertyValue("disabled");if(e!=t){if(this.setPropertyValue("disabled",t,!0),t)this.parent=this._parent,this.removeFromInvalids(),this.group.attr({display:"none"}),this.dispatch("disabled");else{if(this._parent){var i=this._parent.element;i.hasChild(this.group)||i.add(this.group)}this instanceof Lg?(this.deepInvalidate(),this._background&&this._background.invalidate()):this.invalidate(),this.__disabled||this.removeSVGAttribute("display"),this.dispatch("enabled")}return this.dispatch("transformed"),Fg.requestFrame(),!0}return!1},Object.defineProperty(e.prototype,"__disabled",{get:function(){return this._internalDisabled},set:function(t){this._internalDisabled!=t&&(this._internalDisabled=t,this._updateDisabled=!0,this.invalidatePosition(),t||this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numberFormatter",{get:function(){return this._numberFormatter?this._numberFormatter:this.virtualParent?this.virtualParent.numberFormatter:this._parent?this._parent.numberFormatter:(this._numberFormatter=new cg,this._numberFormatter.language=this.language,this.numberFormatter)},set:function(t){this._numberFormatter=t,this._numberFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateFormatter",{get:function(){return this._dateFormatter?this._dateFormatter:this.virtualParent?this.virtualParent.dateFormatter:this._parent?this._parent.dateFormatter:(this._dateFormatter=new dg,this._dateFormatter.language=this.language,this.dateFormatter)},set:function(t){this._dateFormatter=t,this._dateFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"durationFormatter",{get:function(){return this._durationFormatter?this._durationFormatter:this.virtualParent?this.virtualParent.durationFormatter:this._parent?this._parent.durationFormatter:(this._durationFormatter=new gg,this._durationFormatter.language=this.language,this.durationFormatter)},set:function(t){this._durationFormatter=t,this._durationFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"language",{get:function(){var t=this._language.get();return t||(this.virtualParent?this.virtualParent.language:this._parent?this._parent.language:(t=new hg,this.language=t,t))},set:function(t){var e=this;this._language.get()!==t&&this._language.set(t,t.events.on("localechanged",(function(t){if(e._numberFormatter&&(e._numberFormatter.language=e.language),e._dateFormatter&&(e._dateFormatter.language=e.language),e._durationFormatter&&(e._durationFormatter.language=e.language),e._exporting.get()){var i=e._exporting.get();i.numberFormatter.language=e.language,i.dateFormatter.language=e.language,i.durationFormatter.language=e.language,i.language=e.language}e instanceof Lg&&e.deepInvalidate()})))},enumerable:!0,configurable:!0}),e.prototype.populateString=function(t,e){if(gl(t)){t=hl(t),t=pg().escape(t);var i=t.match(/\{([^}]+)\}/g),s=void 0;if(i)for(s=0;s<i.length;s++){var n=i[s].replace(/\{([^}]+)\}/,"$1"),r=this.getTagValue(n,"",e);gl(r)||(r=""),t=t.split(i[s]).join(r)}t=pg().unescape(t)}else t="";return this._adapterO?this._adapterO.apply("populateString",t):t},e.prototype.getTagValue=function(t,e,i){var s;gl(i)||(i=this.dataItem);var n,r=[],a=/([^.]+)\(([^)]*)\)|([^.]+)/g;while(1){if(n=a.exec(t),null===n)break;if(n[3])r.push({prop:n[3]});else{var o=[];if(""!=_p(n[2])){var l=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g,h=void 0;while(1){if(h=l.exec(n[2]),null===h)break;o.push(h[1]||h[2]||h[3])}}r.push({method:n[1],params:o})}}if(i){s=this.getTagValueFromObject(r,i.values),gl(s)&&!_l(s)||(s=this.getTagValueFromObject(r,i));var u=i.dataContext;!gl(s)&&u&&(s=this.getTagValueFromObject(r,i.dataContext),gl(s)||(s=this.getTagValueFromObject([{prop:t}],u)),!gl(s)&&u.dataContext&&(s=this.getTagValueFromObject(r,u.dataContext))),!gl(s)&&i.component&&i.component.dataItem!==i&&(s=i.component.getTagValue(t,e))}return gl(s)||(s=this.getTagValueFromObject(r,this.populateStringFrom||this)),!gl(s)&&this._parent&&(s=this._parent.getTagValue(t,e)),s},e.prototype.getTagValueFromObject=function(t,e,i){for(var s=e,n=!1,r=0,a=t.length;r<a;r++){var o=t[r];if(o.prop){if(s=s[o.prop],!gl(s))return}else switch(o.method){case"formatNumber":var l=Ip(s);gl(l)&&(s=this.numberFormatter.format(l,i||o.params[0]||void 0),n=!0);break;case"formatDate":var h=void 0;if(h=bl(s)?this.dateFormatter.parse(s):Mp(s),!yl(h)||ol(h.getTime()))return;gl(h)&&(s=this.dateFormatter.format(h,i||o.params[0]||void 0),n=!0);break;case"formatDuration":var u=Ip(s);gl(u)&&(s=this.durationFormatter.format(u,i||o.params[0]||void 0,o.params[1]||void 0),n=!0);break;case"urlEncode":case"encodeURIComponent":s=encodeURIComponent(s);break;default:s[o.method]&&s[o.method].apply(this,o.params);break}}if(!n){var p=[{method:"",params:i}];if(gl(i)){var c=kp(i);c===ip?p[0].method="formatNumber":c===sp?p[0].method="formatDate":c===np&&(p[0].method="formatDuration")}else vl(s)?(p[0].method="formatNumber",p[0].params=""):yl(s)&&(p[0].method="formatDate",p[0].params="");p[0].method&&(s=this.getTagValueFromObject(p,s))}return s},Object.defineProperty(e.prototype,"dataItem",{get:function(){if(!this._dataItem){if(this.virtualParent)return this.virtualParent.dataItem;if(this._parent)return this._parent.dataItem}return this._dataItem},set:function(t){this.setDataItem(t)},enumerable:!0,configurable:!0}),e.prototype.setDataItem=function(t){var e=this;if(this._dataItem!=t){if(this._dataItem=t,t){if(this.configField){var i=t.dataContext;i&&(this.config=i[this.configField],!this.config&&i.dataContext&&(this.config=i.dataContext[this.configField]))}var s=t.dataContext;if(s){var n=s.dataContext;Hh(this.propertyFields,(function(t,i){if(gl(s[i])){var r=e;r[t]=s[i]}else if(n){var a=n[i];if(gl(a)){r=e;r[t]=a}}}))}}this.invalidate()}},e.prototype.getPropertyValue=function(t){var e=this.properties[t];return this._isTemplate||(this._adapterO&&(e=this._adapterO.apply(t,e)),e=Su.applyAll(this,t,e)),e},e.prototype.setColorProperty=function(t,e,i){var s=this.properties[t];return!(e instanceof Xu&&s instanceof Xu&&e.toString()==s.toString())&&this.setPropertyValue(t,e,i)},e.prototype.setPercentProperty=function(t,e,i,s,n,r){if(e=dl(e),vl(e))return vl(n)&&(e=Tl(e,n,r)),this.setPropertyValue(t,e,i,s);var a=this.properties[t];return!(e instanceof nl&&a instanceof nl&&e.value==a.value)&&this.setPropertyValue(t,e,i,s)},e.prototype.setPropertyValue=function(t,e,i,s){if(this.properties[t]!==e&&!this.isDisposed()){if(this.properties[t]=e,this.events.isEnabled("propertychanged")){var n={type:"propertychanged",target:this,property:t};this.events.dispatchImmediately("propertychanged",n)}if(i&&this.invalidate(),s&&this.invalidatePosition(),this.applyOnClones)for(var r=this.clones.values,a=r.length,o=0;o<a;++o){var l=r[o];l.isDisposed()||(l[t]=e)}return!0}return!1},e.prototype.bind=function(t,e,i,s){var n=this;void 0===i&&(i=t),gl(this._bindings[t])&&this._bindings[t].dispose(),this[t]=e[i],this._bindings[t]=e.events.on("propertychanged",(function(r){if(r.property===i){var a=e[i];s&&(a=s(a)),n[t]=a}}))},e.prototype.observe=function(t,e,i,s){var n=this;return new bh(Ql(hh(t),(function(t){return n.events.on("propertychanged",(function(s){s.property===t&&e.call(i,s)}),i,s)})))},e.prototype.applyAccessibility=function(){var t=this.readerTitle,e=this.readerDescription,i=this.role,s=this.readerHidden,n=this.readerChecked,r=this.readerControls,a=this.readerLive,o=this.readerOrientation,l=this.readerValueNow,h=this.readerValueText,u=[],p=[],c=this.readerLabelledBy;c&&u.push(c);var d=this.readerDescribedBy;if(d&&p.push(d),t)if(u.length||this.showSystemTooltip){var g=this.titleElement,f=this.uid+"-title";g.node.textContent!=t&&(g.node.textContent=t,g.attr({id:f})),u.push(f)}else this._titleElement&&(this.group.removeElement(this._titleElement),this._titleElement=void 0),this.setSVGAttribute({"aria-label":t});else this.removeSVGAttribute("aria-label"),this._titleElement&&(this.group.removeElement(this._titleElement),this._titleElement=void 0);if(e){var m=this.descriptionElement,y=this.uid+"-description";m.node.textContent!=e&&(m.node.textContent=e,m.attr({id:y})),p.push(y)}else this._descriptionElement&&(this.group.removeElement(this._descriptionElement),this._descriptionElement=void 0);u.length?this.setSVGAttribute({"aria-labelledby":u.join(" ")}):this.removeSVGAttribute("aria-labelledby"),p.length?this.setSVGAttribute({"aria-describedby":p.join(" ")}):this.removeSVGAttribute("aria-describedby"),i?this.setSVGAttribute({role:i}):this.removeSVGAttribute("role"),s?this.setSVGAttribute({"aria-hidden":"true"}):this.removeSVGAttribute("aria-hidden"),n?this.setSVGAttribute({"aria-checked":"true"}):!1===n?this.setSVGAttribute({"aria-checked":"false"}):this.removeSVGAttribute("aria-checked"),r?this.setSVGAttribute({"aria-controls":r}):this.removeSVGAttribute("aria-controls"),a?this.setSVGAttribute({"aria-live":a}):this.removeSVGAttribute("aria-live"),o?this.setSVGAttribute({"aria-orientation":o}):this.removeSVGAttribute("aria-orientation"),l?this.setSVGAttribute({"aria-valuenow":l}):this.removeSVGAttribute("aria-valuenow"),h?this.setSVGAttribute({"aria-valuetext":h}):this.removeSVGAttribute("aria-valuetext")},Object.defineProperty(e.prototype,"readerTitle",{get:function(){var t=this.getPropertyValue("readerTitle");return gl(t)&&this.dataItem?this.populateString(t):t},set:function(t){t=cl(t),this.setPropertyValue("readerTitle",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readerDescription",{get:function(){var t=this.getPropertyValue("readerDescription");return gl(t)&&this.dataItem?this.populateString(t):this.getPropertyValue("readerDescription")},set:function(t){t=cl(t),this.setPropertyValue("readerDescription",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"role",{get:function(){return this.getPropertyValue("role")},set:function(t){t=cl(t),this.setPropertyValue("role",t)&&(this.applyAccessibility(),"slider"==t&&(this.setSVGAttribute({"aria-valuemin":"0"}),this.setSVGAttribute({"aria-valuemax":"100"})))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readerHidden",{get:function(){return this.getPropertyValue("readerHidden")},set:function(t){t=ul(t),this.setPropertyValue("readerHidden",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readerChecked",{get:function(){return this.getPropertyValue("readerChecked")},set:function(t){t=ul(t),this.setPropertyValue("readerChecked",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readerControls",{get:function(){return this.getPropertyValue("readerControls")},set:function(t){t=cl(t),this.setPropertyValue("readerControls",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readerLive",{get:function(){return this.getPropertyValue("readerLive")},set:function(t){t=cl(t),this.setPropertyValue("readerLive",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readerLabelledBy",{get:function(){return this.getPropertyValue("readerLabelledBy")},set:function(t){t=cl(t),this.setPropertyValue("readerLabelledBy",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readerDescribedBy",{get:function(){return this.getPropertyValue("readerDescribedBy")},set:function(t){t=cl(t),this.setPropertyValue("readerDescribedBy",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readerOrientation",{get:function(){return this.getPropertyValue("readerOrientation")},set:function(t){t=cl(t),this.setPropertyValue("readerOrientation",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readerValueNow",{get:function(){return this.getPropertyValue("readerValueNow")},set:function(t){t=cl(t),this.setPropertyValue("readerValueNow",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readerValueText",{get:function(){return this.getPropertyValue("readerValueText")},set:function(t){t=cl(t),this.setPropertyValue("readerValueText",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keyboardOptions",{get:function(){if(!this.interactions.keyboardOptions){if(this.virtualParent)return this.virtualParent.keyboardOptions;if(this._parent)return this._parent.keyboardOptions}return this.interactions.keyboardOptions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mouseOptions",{get:function(){if(!this.interactions.mouseOptions){if(this.virtualParent)return this.virtualParent.mouseOptions;if(this._parent)return this._parent.mouseOptions}return this.interactions.mouseOptions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"interactions",{get:function(){if(!this._interaction){var t=zd().getInteraction(this.dom);this._interaction=t,t.clickable=this.clickable,t.hoverable=this.hoverable,t.trackable=this.trackable,t.draggable=this.draggable,t.swipeable=this.swipeable,t.resizable=this.resizable,t.wheelable=this.wheelable,t.contextMenuDisabled=this.contextMenuDisabled,t.inert=this.inert,t.sprite=this,this._disposers.push(t)}return this._interaction},enumerable:!0,configurable:!0}),e.prototype.isInteractive=function(){return!!this._interaction},Object.defineProperty(e.prototype,"focusable",{get:function(){return this.getPropertyValue("focusable")},set:function(t){var e=this;t=ul(t),this.setPropertyValue("focusable",t)&&(t||this.isInteractive())&&(this.interactions.focusable=t,t?(this.setSVGAttribute({focusable:t}),gl(this._tabindex)||(this.tabindex=0)):(this.removeSVGAttribute("focusable"),this.tabindex=void 0),this.interactions.setEventDisposer("sprite-focusable",t,(function(){return new bh([e.events.on("blur",e.handleBlur,e,!1),e.events.on("focus",e.handleFocus,e,!1)])})))},enumerable:!0,configurable:!0}),e.prototype.handleFocus=function(t){this.focusable&&(this.topParent&&(this.topParent.hasFocused=!0,this.topParent.focusedElement=this),this.focusFilter&&this.filters.push(this.focusFilter),this.hoverOnFocus&&(this.isHover=!0,this.handleOver()))},e.prototype.handleBlur=function(t){this.focusable&&(this.topParent&&(this.topParent.hasFocused=!1,this.topParent.focusedElement=void 0),this.focusFilter&&this.filters.removeValue(this.focusFilter),this.hoverOnFocus&&(this.isHover=!1,this.handleOut()))},Object.defineProperty(e.prototype,"focusFilter",{get:function(){var t=this._focusFilter;return t||(this.virtualParent?this.virtualParent.focusFilter:this._parent?this._parent.focusFilter:void 0)},set:function(t){this._focusFilter=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hoverOnFocus",{get:function(){return this.getPropertyValue("hoverOnFocus")},set:function(t){t!==this.hoverOnFocus&&this.setPropertyValue("hoverOnFocus",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabindex",{get:function(){var t=this._tabindex;return null!=t?t:this.virtualParent?this.virtualParent.tabindex:this._parent?this._parent.tabindex:void 0},set:function(t){t=pl(t),this.setPropertyValue("tabindex",t)&&vl(t)&&(this.interactions.tabindex=t,this.setSVGAttribute({tabindex:t}),this._tabindex=t,this.focusable=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inertiaOptions",{get:function(){return!this.interactions.inertiaOptions&&this._parent?this._parent.inertiaOptions:this.interactions.inertiaOptions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"draggable",{get:function(){return this.getPropertyValue("draggable")},set:function(t){var e=this;t=ul(t),this.setPropertyValue("draggable",t)&&(t||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.draggable=t,this.interactions.setEventDisposer("sprite-draggable",t,(function(){return new bh([e.events.on("down",e.handleDown,e,!1),e.events.on("dragstart",e.handleDragStart,e,!1),e.events.on("drag",e.handleDragMove,e,!1),e.events.on("dragstop",e.handleDragStop,e,!1)])})))},enumerable:!0,configurable:!0}),e.prototype.handleDragStart=function(t){this.interactions.isTouchProtected&&t.touch||(this.interactions.originalPosition={x:this.pixelX,y:this.pixelY},this._isDragged=!0,this.hideTooltip(0))},e.prototype.dragStart=function(t){this._isDragged=!0,zd().dragStart(this.interactions,t)},e.prototype.handleDragStop=function(t){this.interactions.isTouchProtected&&t.touch||(this._isDragged=!1,this.showTooltip(),this.interactions.originalPosition=void 0)},e.prototype.dragStop=function(t,e){this._isDragged=!1,zd().dragStop(this.interactions,t,e)},e.prototype.handleDragMove=function(t){if(!this.interactions.isTouchProtected||!t.touch){var e=this.interactions.originalPosition;if(e&&this._isDragged){var i=this._parent.globalScale*this.svgContainer.cssScale;this.moveTo({x:e.x+t.shift.x/i,y:e.y+t.shift.y/i},void 0,void 0,!0)}this.dispatchImmediately("dragged",t)}},Object.defineProperty(e.prototype,"inert",{get:function(){return this.getPropertyValue("inert")},set:function(t){t=ul(t),this.setPropertyValue("inert",t)&&(t||this.isInteractive())&&(this.interactions.inert=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hoverOptions",{get:function(){if(!this.interactions.hoverOptions){if(this.virtualParent)return this.virtualParent.hoverOptions;if(this._parent)return this._parent.hoverOptions}return this.interactions.hoverOptions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hoverable",{get:function(){return this.getPropertyValue("hoverable")},set:function(t){var e=this;t=ul(t),this.setPropertyValue("hoverable",t)&&(t||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.hoverable=t,this.interactions.setEventDisposer("sprite-hoverable",t,(function(){return new bh([e.events.on("over",e.handleOver,e,!1),e.events.on("out",e.handleOut,e,!1)])})))},enumerable:!0,configurable:!0}),e.prototype.handleOver=function(t){if(this._outTimeout&&this._outTimeout.dispose(),this.isHover){this.states.hasKey("hover")&&(this.isHidden||this.applyCurrentState());var e=void 0;t&&t.pointer&&(e=Yp(t.pointer.point,this.svgContainer.SVGContainer,this.svgContainer.cssScale)),"hover"==this.showTooltipOn&&this.showTooltip(e)}else"hover"==this.showTooltipOn&&this.hideTooltip(),!this.isHidden&&this.states.hasKey("hover")&&this.applyCurrentState()},e.prototype.handleOut=function(t){var e=this;this.tooltip&&this.tooltip.targetSprite==this&&this.tooltip.keepTargetHover?this._outTimeout=this.setTimeout((function(){e.tooltip.isHover||(e.tooltip.targetSprite==e&&e.hideTooltip(),e._outTimeout=e.setTimeout(e.handleOutReal.bind(e),e.rollOutDelay))}),10):("hover"==this.showTooltipOn&&this.hideTooltip(),this._outTimeout=this.setTimeout(this.handleOutReal.bind(this),this.rollOutDelay))},e.prototype.handleOutReal=function(){this.isHidden||this.isHiding||!this.states.hasKey("hover")||this.applyCurrentState()},Object.defineProperty(e.prototype,"hitOptions",{get:function(){if(!this.interactions.hitOptions){if(this.virtualParent)return this.virtualParent.hitOptions;if(this._parent)return this._parent.hitOptions}return this.interactions.hitOptions},enumerable:!0,configurable:!0}),e.prototype.handleDown=function(t){1===this.interactions.downPointers.length&&(this.interactions.originalPosition={x:this.pixelX,y:this.pixelY},this.interactions.originalAngle=this.rotation,this.interactions.originalScale=this.scale,this.states.hasKey("down")&&this.setState("down"))},e.prototype.handleUp=function(t){var e=this;this._isResized=!1,this.states.hasKey("down")&&this.applyCurrentState(),"hit"==this.showTooltipOn&&(this.updateTooltipPosition(t.pointer?t.pointer.point:void 0),this._disposers.push(gu.events.once("exitframe",(function(){e.showTooltip()}))),this._disposers.push(zd().body.events.once("down",(function(t){e.hideTooltip()}))))},Object.defineProperty(e.prototype,"clickable",{get:function(){return this.getPropertyValue("clickable")},set:function(t){var e=this;t=ul(t),this.setPropertyValue("clickable",t)&&(t||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.clickable=t,this.interactions.setEventDisposer("sprite-clickable",t,(function(){return new bh([e.events.on("down",e.handleDown,e,!1),e.events.on("up",e.handleUp,e,!1)])})))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"togglable",{get:function(){return this.getPropertyValue("togglable")},set:function(t){var e=this;t=ul(t),this.setPropertyValue("togglable",t)&&(t||this.isInteractive())&&this.interactions.setEventDisposer("sprite-togglable",t,(function(){return e.events.on("hit",e.handleToggle,e,!1)}))},enumerable:!0,configurable:!0}),e.prototype.handleToggle=function(t){this.isActive=!this.isActive},Object.defineProperty(e.prototype,"contextMenuDisabled",{get:function(){return this.getPropertyValue("contextMenuDisabled")},set:function(t){t=ul(t),this.setPropertyValue("contextMenuDisabled",t)&&(this.interactions.contextMenuDisabled=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this.getPropertyValue("url")},set:function(t){this.setPropertyValue("url",t)&&(this._urlDisposer&&this._urlDisposer.dispose(),dp(t)&&(this._urlDisposer=this.events.on("hit",this.urlHandler,this,!1),this.clickable=!0,this.cursorOverStyle=og.pointer))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baseId",{get:function(){return!this._baseId&&this._parent&&(this.baseId=this._parent.baseId),this._baseId},set:function(t){this.setBaseId(t)},enumerable:!0,configurable:!0}),e.prototype.setBaseId=function(t){t!=this._baseId&&(this.invalid&&(this.invalid=!1,gu.removeFromInvalidSprites(this),this.invalidate()),this._baseId=t)},Object.defineProperty(e.prototype,"baseSprite",{get:function(){return this.isBaseSprite?this:this._parent?this._parent.baseSprite:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"urlTarget",{get:function(){return this.getPropertyValue("urlTarget")},set:function(t){this.setPropertyValue("urlTarget",t)},enumerable:!0,configurable:!0}),e.prototype.urlHandler=function(t){if(dp(this.url)){var e=this.populateString(this.url);"_self"===this.urlTarget?window.location.href=e:window.open(e,this.urlTarget)}},Object.defineProperty(e.prototype,"swipeOptions",{get:function(){if(!this.interactions.swipeOptions){if(this.virtualParent)return this.virtualParent.swipeOptions;if(this._parent)return this._parent.swipeOptions}return this.interactions.swipeOptions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"swipeable",{get:function(){return this.getPropertyValue("swipeable")},set:function(t){t=ul(t),this.setPropertyValue("swipeable",t)&&(this.applyCursorStyle(),(t||this.isInteractive())&&(this.interactions.swipeable=t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trackable",{get:function(){return this.getPropertyValue("trackable")},set:function(t){t=ul(t),this.setPropertyValue("trackable",t)&&(t||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.trackable=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wheelable",{get:function(){return this.getPropertyValue("wheelable")},set:function(t){this.setPropertyValue("wheelable",t)&&(t||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.wheelable=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resizable",{get:function(){return this.getPropertyValue("resizable")},set:function(t){var e=this;t=ul(t),this.setPropertyValue("resizable",t)&&(t||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.resizable=t,this.interactions.setEventDisposer("sprite-resizable",t,(function(){return new bh([e.events.on("down",e.handleDown,e,!1),e.events.on("resize",e.handleResize,e,!1)])})))},enumerable:!0,configurable:!0}),e.prototype.handleResize=function(t){if((!this.interactions.isTouchProtected||!t.touch)&&(this._isResized=!0,this.scale=this.interactions.originalScale*t.scale,this.validatePosition(),this.draggable||this.dragWhileResize)){this._isDragged=!1;var e=Yp(t.point1,this.htmlContainer,this.svgContainer.cssScale),i=Yp(t.point2,this.htmlContainer,this.svgContainer.cssScale),s=Bl(e,i),n=Xp(t.startPoint1,this._parent),r=Xp(t.startPoint2,this._parent),a=this.interactions.originalPosition,o=this.interactions.originalScale;if(a){var l={x:(n.x-a.x)/o,y:(n.y-a.y)/o},h={x:(r.x-a.x)/o,y:(r.y-a.y)/o},u=Bl(l,h),p=Np(s,this._parent);this.moveTo({x:p.x-u.x*this.scale,y:p.y-u.y*this.scale},void 0,void 0,!0)}}},Object.defineProperty(e.prototype,"cursorOptions",{get:function(){if(!this.interactions.cursorOptions){if(this.virtualParent)return this.virtualParent.cursorOptions;if(this._parent)return this._parent.cursorOptions}return this.interactions.cursorOptions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursorOverStyle",{set:function(t){this.cursorOptions.overStyle||(this.interactions.cursorOptions={defaultStyle:this.cursorOptions.defaultStyle}),this.cursorOptions.overStyle=t,zd().applyCursorOverStyle(this.interactions)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursorDownStyle",{set:function(t){this.cursorOptions.downStyle=t},enumerable:!0,configurable:!0}),e.prototype.applyCursorStyle=function(){},Object.defineProperty(e.prototype,"interactionsEnabled",{get:function(){var t=this.getPropertyValue("interactionsEnabled");return!1!==t&&(this.virtualParent?this.virtualParent.interactionsEnabled:!this._parent||this._parent.interactionsEnabled)},set:function(t){if(t=ul(t),this.setPropertyValue("interactionsEnabled",t)){var e=null;t?this.group.node.style.pointerEvents="":e="none",this.group.node.style.pointerEvents=e}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exporting",{get:function(){return this.getExporting()},set:function(t){this._exporting.set(t,t)},enumerable:!0,configurable:!0}),e.prototype.getExporting=function(){var t=this._exporting.get();return t||(!this.isStandaloneInstance&&this._parent?this._parent.exporting:(t=new Mg(this.svgContainer.SVGContainer),t.sprite=this,t.language=this.language,t.numberFormatter=this.numberFormatter,t.dateFormatter=this.dateFormatter,t.durationFormatter=this.durationFormatter,this._exporting.set(t,t),t))},Object.defineProperty(e.prototype,"exportable",{get:function(){return this._exportable},set:function(t){var e=this.svgContainer;this._exportable=t,e&&(t?rh(e.nonExportableSprites,this):-1==$l(e.nonExportableSprites,this)&&e.nonExportableSprites.push(this))},enumerable:!0,configurable:!0}),e.prototype.modalPrefix=function(t){return t=Kc.classNamePrefix+t,t},Object.defineProperty(e.prototype,"modal",{get:function(){var t=this.svgContainer;if(t){var e=t.modal;return e.adapter.has("classPrefix",this.modalPrefix)||e.adapter.add("classPrefix",this.modalPrefix),e}},enumerable:!0,configurable:!0}),e.prototype.openModal=function(t,e){var i=this.svgContainer;if(i)return i.openModal(t,e)},e.prototype.closeModal=function(){var t=this.svgContainer;t&&t.closeModal()},Object.defineProperty(e.prototype,"popups",{get:function(){var t=this.svgContainer;if(t){var e=t.popups;return e.template.sprite=this,e.template.adapter.has("classPrefix",this.modalPrefix)||e.template.adapter.add("classPrefix",this.modalPrefix),e}},enumerable:!0,configurable:!0}),e.prototype.openPopup=function(t,e){var i=this.svgContainer;if(i)return i.openPopup(t,e)},e.prototype.closeAllPopups=function(){var t=this.svgContainer;t&&t.closeAllPopups()},Object.defineProperty(e.prototype,"x",{get:function(){return this.getPropertyValue("x")},set:function(t){this.isDragged||this.setPercentProperty("x",t,!1,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelX",{get:function(){var t=Cl(this.getPixelX(this.x),this.minX,this.maxX);return this._adapterO?this._adapterO.apply("pixelX",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeX",{get:function(){return this._adapterO?this._adapterO.apply("relativeX",this.getRelativeX(this.x)):this.getRelativeX(this.x)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minX",{get:function(){return this.getPropertyValue("minX")},set:function(t){vl(t)&&(t=Tl(t,this._positionPrecision,!0),this.setPropertyValue("minX",t,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxX",{get:function(){return this.getPropertyValue("maxX")},set:function(t){vl(t)&&(t=Tl(t,this._positionPrecision,!0),this.setPropertyValue("maxX",t,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.getPropertyValue("y")},set:function(t){this.isDragged||this.setPercentProperty("y",t,!1,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelY",{get:function(){var t=Cl(this.getPixelY(this.y),this.minY,this.maxY);return this._adapterO?this._adapterO.apply("pixelY",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeY",{get:function(){return this._adapterO?this._adapterO.apply("relativeY",this.getRelativeX(this.y)):this.getRelativeX(this.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minY",{get:function(){return this.getPropertyValue("minY")},set:function(t){vl(t)&&(t=Tl(t,this._positionPrecision,!0),this.setPropertyValue("minY",t,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxY",{get:function(){return this.getPropertyValue("maxY")},set:function(t){vl(t)&&(t=Tl(t,this._positionPrecision,!0),this.setPropertyValue("maxY",t,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dx",{get:function(){return this.getPropertyValue("dx")},set:function(t){vl(t)&&(t=Tl(t,this._positionPrecision,!0),this.setPropertyValue("dx",t,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dy",{get:function(){return this.getPropertyValue("dy")},set:function(t){vl(t)&&(t=Tl(t,this._positionPrecision,!0),this.setPropertyValue("dy",t,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.getPropertyValue("rotation")},set:function(t){t=pl(t),vl(t)||(t=0),this.setPropertyValue("rotation",t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this.getPropertyValue("align")},set:function(t){t=cl(t),this.setPropertyValue("align",t)&&this._parent&&this._parent.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valign",{get:function(){return this.getPropertyValue("valign")},set:function(t){t=cl(t),this.setPropertyValue("valign",t)&&this._parent&&this._parent.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"horizontalCenter",{get:function(){return this.getPropertyValue("horizontalCenter")},set:function(t){t=cl(t),this.setPropertyValue("horizontalCenter",t)&&this.updateCenter()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalCenter",{get:function(){return this.getPropertyValue("verticalCenter")},set:function(t){t=cl(t),this.setPropertyValue("verticalCenter",t)&&this.updateCenter()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){var t=this.getPropertyValue("maxWidth");if(!vl(t)&&this._parent){var e=this._parent.maxWidth;return"absolute"!=this._parent.layout&&"none"!=this.align&&void 0!=this.align&&(e=e-this.pixelMarginLeft-this.pixelMarginRight),e}return t},set:function(t){this.setMaxWidth(t)},enumerable:!0,configurable:!0}),e.prototype.setMaxWidth=function(t){var e=this.maxWidth,i=this.maxHeight;if(this.setPropertyValue("maxWidth",t)){vl(this.relativeWidth)&&this.invalidate();var s={type:"maxsizechanged",target:this,previousWidth:e,previousHeight:i};this.dispatchImmediately("maxsizechanged",s)}},Object.defineProperty(e.prototype,"maxHeight",{get:function(){var t=this.getPropertyValue("maxHeight");if(!vl(t)&&this._parent){var e=this._parent.maxHeight;return"absolute"!=this._parent.layout&&"none"!=this.valign&&void 0!=this.valign&&(e=e-this.pixelMarginTop-this.pixelMarginBottom),e}return t},set:function(t){this.setMaxHeight(t)},enumerable:!0,configurable:!0}),e.prototype.setMaxHeight=function(t){var e=this.maxWidth,i=this.maxHeight;if(this.setPropertyValue("maxHeight",t)){vl(this.relativeHeight)&&this.invalidate();var s={type:"maxsizechanged",target:this,previousWidth:e,previousHeight:i};this.dispatchImmediately("maxsizechanged",s)}},Object.defineProperty(e.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(t){this.setPropertyValue("minWidth",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minHeight",{get:function(){return this.getPropertyValue("minHeight")},set:function(t){this.setPropertyValue("minHeight",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.getPropertyValue("width")},set:function(t){var e=this.setPercentProperty("width",t,!0,!1,this._positionPrecision,!0);e&&(this.percentWidth=void 0,this.relativeWidth=void 0,t instanceof nl?(this.percentWidth=t.percent,vl(this._pixelWidth)&&(this.maxWidth=void 0),this._pixelWidth=void 0):(this._pixelWidth=Number(t),this.maxWidth=this._pixelWidth),this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.getPropertyValue("height")},set:function(t){var e=this.setPercentProperty("height",t,!0,!1,this._positionPrecision,!0);e&&(this.percentHeight=void 0,this._relativeHeight=void 0,t instanceof nl?(this.percentHeight=t.percent,vl(this._pixelHeight)&&(this.maxHeight=void 0),this._pixelHeight=void 0):(this._pixelHeight=Number(t),this.maxHeight=this._pixelHeight),this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelWidth",{get:function(){var t;t=vl(this.percentWidth)?this.maxWidth:vl(this._pixelWidth)?this._pixelWidth:0;var e=this.minWidth;null!=e&&t<e&&(t=e);var i=Tl(t,this._positionPrecision,!0);return this._adapterO?this._adapterO.apply("pixelWidth",i):i},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelHeight",{get:function(){var t;t=vl(this.percentHeight)?this.maxHeight:vl(this._pixelHeight)?this._pixelHeight:0;var e=this.minHeight;null!=e&&t<e&&(t=e);var i=Tl(t,this._positionPrecision,!0);return this._adapterO?this._adapterO.apply("pixelHeight",i):i},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeWidth",{get:function(){var t=this._relativeWidth;if(vl(t))return this._adapterO?this._adapterO.apply("relativeWidth",t):t},set:function(t){this._relativeWidth!=t&&(this._relativeWidth=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeHeight",{get:function(){var t=this._relativeHeight;if(vl(t))return this._adapterO?this._adapterO.apply("relativeHeight",t):t},set:function(t){this._relativeHeight!=t&&(this._relativeHeight=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"measuredWidth",{get:function(){return this.disabled||this.__disabled?0:this._adapterO?this._adapterO.apply("measuredWidth",this._measuredWidth):this._measuredWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"measuredHeight",{get:function(){return this.disabled||this.__disabled?0:this._adapterO?this._adapterO.apply("measuredHeight",this._measuredHeight):this._measuredHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outerWidth",{get:function(){var t=this.pixelWidth+this.pixelMarginRight+this.pixelMarginLeft;return this._adapterO?this._adapterO.apply("outerWidth",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outerHeight",{get:function(){var t=this.pixelHeight+this.pixelMarginTop+this.pixelMarginBottom;return this._adapterO?this._adapterO.apply("outerHeight",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerWidth",{get:function(){var t=Math.max(0,this.pixelWidth-this.pixelPaddingRight-this.pixelPaddingLeft);return this._adapterO?this._adapterO.apply("innerWidth",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerHeight",{get:function(){var t=Math.max(0,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom);return this._adapterO?this._adapterO.apply("innerHeight",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"globalScale",{get:function(){var t=this.scale;return this._parent&&(t*=this._parent.globalScale),this._adapterO?this._adapterO.apply("globalScale",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.getPropertyValue("scale")},set:function(t){t=pl(t),t<0&&(t=0),t!=this.getPropertyValue("scale")&&(this.setPropertyValue("scale",t,!1,!0),this.handleGlobalScale())},enumerable:!0,configurable:!0}),e.prototype.margin=function(t,e,i,s){return this.marginTop=t,this.marginRight=e,this.marginBottom=i,this.marginLeft=s,this},Object.defineProperty(e.prototype,"marginLeft",{get:function(){return this.getPropertyValue("marginLeft")},set:function(t){this.setPercentProperty("marginLeft",t,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"marginRight",{get:function(){return this.getPropertyValue("marginRight")},set:function(t){this.setPercentProperty("marginRight",t,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"marginTop",{get:function(){return this.getPropertyValue("marginTop")},set:function(t){this.setPercentProperty("marginTop",t,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"marginBottom",{get:function(){return this.getPropertyValue("marginBottom")},set:function(t){this.setPercentProperty("marginBottom",t,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelMarginRight",{get:function(){var t=this.getPixelX(this.marginRight);return this._adapterO?this._adapterO.apply("pixelMarginRight",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeMarginRight",{get:function(){var t=this.getRelativeX(this.marginRight);return this._adapterO?this._adapterO.apply("relativeMarginRight",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelMarginLeft",{get:function(){var t=this.getPixelX(this.marginLeft);return this._adapterO?this._adapterO.apply("pixelMarginLeft",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeMarginLeft",{get:function(){var t=this.getRelativeX(this.marginLeft);return this._adapterO?this._adapterO.apply("relativeMarginLeft",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelMarginTop",{get:function(){var t=this.getPixelY(this.marginTop);return this._adapterO?this._adapterO.apply("pixelMarginTop",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeMarginTop",{get:function(){var t=this.getRelativeY(this.marginTop);return this._adapterO?this._adapterO.apply("relativeMarginTop",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelMarginBottom",{get:function(){var t=this.getPixelY(this.marginBottom);return this._adapterO?this._adapterO.apply("pixelMarginBottom",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeMarginBottom",{get:function(){var t=this.getRelativeY(this.marginBottom);return this._adapterO?this._adapterO.apply("relativeMarginBottom",t):t},enumerable:!0,configurable:!0}),e.prototype.padding=function(t,e,i,s){return this.paddingTop=t,this.paddingRight=e,this.paddingBottom=i,this.paddingLeft=s,this},Object.defineProperty(e.prototype,"paddingLeft",{get:function(){return this.getPropertyValue("paddingLeft")},set:function(t){this.setPercentProperty("paddingLeft",t,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingRight",{get:function(){return this.getPropertyValue("paddingRight")},set:function(t){this.setPercentProperty("paddingRight",t,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingTop",{get:function(){return this.getPropertyValue("paddingTop")},set:function(t){this.setPercentProperty("paddingTop",t,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingBottom",{get:function(){return this.getPropertyValue("paddingBottom")},set:function(t){this.setPercentProperty("paddingBottom",t,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelPaddingRight",{get:function(){return this.getPixelX(this.paddingRight)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativePaddingRight",{get:function(){return this.getRelativeX(this.paddingRight)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelPaddingLeft",{get:function(){return this.getPixelX(this.paddingLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativePaddingLeft",{get:function(){return this.getRelativeX(this.paddingLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelPaddingTop",{get:function(){return this.getPixelY(this.paddingTop)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativePaddingTop",{get:function(){return this.getRelativeY(this.paddingTop)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelPaddingBottom",{get:function(){return this.getPixelY(this.paddingBottom)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativePaddingBottom",{get:function(){return this.getRelativeY(this.paddingBottom)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.getPropertyValue("path")},set:function(t){this.setPath(t)},enumerable:!0,configurable:!0}),e.prototype.setPath=function(t){return!!this.setPropertyValue("path",t)&&(this._adapterO&&(t=this._adapterO.apply("path",t)),this._isPath||(this.element&&(!this.element.node||this.element.node instanceof SVGPathElement)||(this.element=this.paper.add("path")),this._isPath=!0),gl(t)?this.element.attr({d:t}):this.element.removeAttr("d"),this.invalidatePosition(),this.inited||this.events.once("inited",this.validatePosition,this,!1),!0)},Object.defineProperty(e.prototype,"fillModifier",{get:function(){return this.getPropertyValue("fillModifier")},set:function(t){this.setPropertyValue("fillModifier",t)&&this.setFill(this.fill)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeModifier",{get:function(){return this.getPropertyValue("strokeModifier")},set:function(t){this.setPropertyValue("strokeModifier",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillOpacity",{get:function(){return this.getPropertyValue("fillOpacity")},set:function(t){t=Dl(t,0,1),this.setPropertyValue("fillOpacity",t)&&this.setSVGAttribute({"fill-opacity":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this.getPropertyValue("fill")},set:function(t){this.setFill(t)},enumerable:!0,configurable:!0}),e.prototype.setFill=function(t){if(_l(t)&&!("r"in t)||(t=qu(t)),this.setColorProperty("fill",t)||this.fillModifier)if(t instanceof Xu&&this.fillModifier&&(t=this.fillModifier.modify(t)),this.realFill=t,t instanceof Xu)this.setSVGAttribute({fill:t.toString()});else if(gl(t)){if(t instanceof sg||t instanceof ng||t instanceof rg){var e=t;e.paper=this.paper,this.setSVGAttribute({fill:'url("'+up()+e.id+'")'})}}else this.removeSVGAttribute("fill")},Object.defineProperty(e.prototype,"opacity",{get:function(){return this.getPropertyValue("opacity")},set:function(t){t=Dl(t,0,1),this.setPropertyValue("opacity",t)&&this.setSVGAttribute({opacity:t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this.getPropertyValue("stroke")},set:function(t){this.setStroke(t)},enumerable:!0,configurable:!0}),e.prototype.setStroke=function(t){if(_l(t)&&!("r"in t)||(t=qu(t)),this.setColorProperty("stroke",t)||this.strokeModifier)if(t instanceof Xu&&this.strokeModifier&&(t=this.strokeModifier.modify(t)),this.realStroke=t,t instanceof Xu)"none"==t.hex?this.removeSVGAttribute("stroke"):this.setSVGAttribute({stroke:t.toString()});else if(gl(t)){if(t instanceof sg||t instanceof ng||t instanceof rg){var e=t;e.paper=this.paper,this.setSVGAttribute({stroke:'url("'+up()+e.id+'")'})}}else this.removeSVGAttribute("stroke")},Object.defineProperty(e.prototype,"strokeOpacity",{get:function(){return this.getPropertyValue("strokeOpacity")},set:function(t){t=Dl(t,0,1),this.setPropertyValue("strokeOpacity",t)&&this.setSVGAttribute({"stroke-opacity":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonScalingStroke",{get:function(){return this.getPropertyValue("nonScalingStroke")},set:function(t){t=ul(t),this.setPropertyValue("nonScalingStroke",t)&&(this.strokeWidth=this.strokeWidth)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonScaling",{get:function(){return this.getPropertyValue("nonScaling")},set:function(t){t=ul(t),this.setPropertyValue("nonScaling",t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return this.getPropertyValue("strokeWidth")},set:function(t){t=pl(t),this.setPropertyValue("strokeWidth",t,!0),this.nonScalingStroke&&(vl(t)||(t=1),t/=this.globalScale),this.setSVGAttribute({"stroke-width":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeDasharray",{get:function(){return this.getPropertyValue("strokeDasharray")},set:function(t){t=cl(t),this.setPropertyValue("strokeDasharray",t)&&this.setSVGAttribute({"stroke-dasharray":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeDashoffset",{get:function(){return this.getPropertyValue("strokeDashoffset")},set:function(t){t=pl(t),this.setPropertyValue("strokeDashoffset",t)&&this.setSVGAttribute({"stroke-dashoffset":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeLinecap",{get:function(){return this.getPropertyValue("strokeLinecap")},set:function(t){this.setPropertyValue("strokeLinecap",t)&&this.setSVGAttribute({"stroke-linecap":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeLinejoin",{get:function(){return this.getPropertyValue("strokeLinejoin")},set:function(t){this.setPropertyValue("strokeLinejoin",t)&&this.setSVGAttribute({"stroke-linejoin":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shapeRendering",{get:function(){return this.getPropertyValue("shapeRendering")},set:function(t){t=cl(t),this.setPropertyValue("shapeRendering",t)&&this.setSVGAttribute({"shape-rendering":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelPerfect",{get:function(){return this.getPropertyValue("pixelPerfect")},set:function(t){t=ul(t),this._positionPrecision=t?Kc.pixelPerfectPrecision:3,this.setPropertyValue("pixelPerfect",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rtl",{get:function(){return gl(this._rtl)?this._rtl:!!this._topParent&&this._topParent.rtl},set:function(t){t=ul(t),this.isBaseSprite&&(this.topParent.rtl=t),this._rtl=t},enumerable:!0,configurable:!0}),e.prototype.show=function(t){return this.showReal(t)},e.prototype.showReal=function(t){var e=this;if(!this.preventShow){var i,s=this.defaultState.properties;if(!this.disabled&&(this.isHidden||!this.visible||this.isHiding||null!=s.opacity&&this.opacity<s.opacity&&!this.isShowing)&&!this.isDisposed()){this.invalid&&this.validate(),this.positionInvalid&&this.validatePosition(),vl(t)||(t=this.defaultState.transitionDuration),this._hideAnimation&&(this._hideAnimation.kill(),this._hideAnimation=void 0),this._showHideDisposer&&this.removeDispose(this._showHideDisposer),this._isHidden=!1,this.isHiding=!1,this.isShowing=!0,i=this.applyCurrentState(t),i&&!i.isFinished()?(this._showHideDisposer=i.events.on("animationended",(function(){e.isShowing=!1})),this._disposers.push(this._showHideDisposer)):this.isShowing=!1;var n=this.defaultState.properties.visible;gl(n)||(n=!0),this.visible=n,this.readerHidden=!1,this.dispatchImmediately("shown")}return i}},e.prototype.hide=function(t){return this.hideReal(t)},e.prototype.hideReal=function(t){var e,i=this;if(!this.isHiding&&this.visible&&!this.isDisposed()){this.tooltip&&this.tooltip.currentSprite==this&&this.hideTooltip(0),this._hideAnimation&&(this._hideAnimation.kill(),this._hideAnimation=void 0),this.isShowing=!1,this._showHideDisposer&&this.removeDispose(this._showHideDisposer);var s=this.hiddenState;s?(e=this.setState(s,t,void 0),e&&!e.isFinished()?(this._hideAnimation=e,this._showHideDisposer=e.events.on("animationended",(function(){i.isHiding=!1,i._isHidden=!0,0==s.properties.visible&&(i.visible=!1)}),this),this._disposers.push(this._showHideDisposer),this._disposers.push(e)):(this.isHiding=!1,this._isHidden=!0)):(this.visible=!1,this.isHiding=!1,this._isHidden=!0),this.readerHidden=!0,this.dispatchImmediately("hidden"),this.invalidate()}return vl(t)||(t=this.hiddenState.transitionDuration),e},Object.defineProperty(e.prototype,"visible",{get:function(){return this.getVisibility()},set:function(t){t=ul(t),this.setVisibility(t)},enumerable:!0,configurable:!0}),e.prototype.getVisibility=function(){var t=this.getPropertyValue("visible");return gl(t)||(t=!0),t},e.prototype.setVisibility=function(t){if(this.setPropertyValue("visible",t)&&(t?this.group.removeAttr("visibility"):this.group.attr({visibility:"hidden"}),this.events.isEnabled("visibilitychanged"))){var e={type:"visibilitychanged",target:this,visible:t};this.events.dispatchImmediately("visibilitychanged",e)}},Object.defineProperty(e.prototype,"zIndex",{get:function(){return this.getPropertyValue("zIndex")},set:function(t){t=pl(t),this.setPropertyValue("zIndex",t)&&this.dispatch("zIndexChanged")},enumerable:!0,configurable:!0}),e.prototype.toFront=function(){var t=this._parent;t&&t.children.indexOf(this)!=t.children.length-1&&(t.children.moveValue(this,t.children.length-1),this.dispatch("zIndexChanged"))},e.prototype.toBack=function(){var t=this._parent;t&&0!=t.children.indexOf(this)&&(t.children.moveValue(this,0),this.dispatch("zIndexChanged"))},Object.defineProperty(e.prototype,"userClassName",{get:function(){return this.getPropertyValue("userClassName")},set:function(t){this.setPropertyValue("userClassName",t)&&(!t&&this.userClassName&&this.group.removeClass(this.userClassName),this.setClassName())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltip",{get:function(){return this._tooltip?this._tooltip:this.virtualParent?this.virtualParent.tooltip:this._parent?this._parent.tooltip:void 0},set:function(t){this._tooltip&&this.removeDispose(this._tooltip),this._tooltip=t,t&&(t.parent=this.tooltipContainer)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipDataItem",{get:function(){var t=this._tooltipDataItem;return t||this.dataItem},set:function(t){this._tooltipDataItem=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipColorSource",{get:function(){return this._tooltipColorSource},set:function(t){this._tooltipColorSource=t},enumerable:!0,configurable:!0}),e.prototype.showTooltip=function(t){"always"==this.showTooltipOn&&!this._tooltip&&this.tooltip&&(this._tooltip=this.tooltip.clone()),!t&&"pointer"==this.tooltipPosition&&this.isHover&&(t=Yp(zd().lastPointer.point,this.svgContainer.SVGContainer,this.svgContainer.cssScale));var e=this;while(void 0!=e){if(!e.visible||e.disabled||e.__disabled)return void(this._tooltip&&this._tooltip.visible&&this._tooltip.hide(0));e=e.parent}if(gl(this.tooltipText)||gl(this.tooltipHTML)){var i=this.tooltip,s=this.tooltipDataItem;if(i){i.targetSprite=this;var n=this,r=this.tooltipColorSource;if((i.getStrokeFromObject||i.getFillFromObject)&&r&&(r.isTemplate?s&&ih(s.sprites,(function(t){return t.clonedFrom!=r||(n=t,!1)})):n=r),i.getStrokeFromObject){var a=this.stroke,o=n;while(void 0!=o.parent)if(a=o.stroke,void 0==a&&(o=o.parent),void 0!=a)break;a instanceof Xu?i.background.animate({property:"stroke",to:a},i.animationDuration):i.background.stroke=a}if(i.dataItem=s,i.label.populateStringFrom=this,i.getFillFromObject){var l=this.fill;o=n;while(void 0!=o.parent)if(l=o.fill,void 0==l||l instanceof Xu&&void 0==l.rgb)o=o.parent;else if(void 0!=l)break;void 0==l&&(l=Uu("#000000")),l instanceof Xu&&i.visible?i.background.animate({property:"fill",to:l},i.animationDuration):i.background.fill=l,i.autoTextColor&&l instanceof Xu&&(i.label.fill=l.alternative)}var h="";if(this.tooltipHTML&&(i.html=this.tooltipHTML,h=this.tooltipHTML),this.tooltipText&&(i.text=this.tooltipText,h=this.tooltipText),this.updateTooltipPosition(t)){if(i.readerDescribedBy=this.uidAttr(),i.label.invalid&&i.label.validate(),void 0!=h&&""!=h&&""!=i.label.currentText){i&&!i.parent&&(i.parent=this.tooltipContainer);var u=i.defaultState.transitionDuration;return u<=0&&(u=1),i.show(u),i.currentSprite=this,!0}this.hideTooltip(0)}else this.hideTooltip(0)}}return!1},e.prototype.updateTooltipPosition=function(t){var e=this;if("pointer"!=this.tooltipPosition){var i=Hp({x:this.getTooltipX(),y:this.getTooltipY()},this);return this.pointTooltipTo(i)}if(this._interactionDisposer&&this._interactionDisposer.dispose(),this._interactionDisposer=zd().body.events.on("track",(function(t){return e.pointTooltipTo(Yp(t.point,e.svgContainer.SVGContainer,e.svgContainer.cssScale),!0)})),t)return this.pointTooltipTo(t,!0)},e.prototype.pointTooltipTo=function(t,e){var i=this.tooltip;if(i&&this.topParent){if(i.showInViewport)return i.pointTo(t,e),!0;if(ql(t,{x:0,y:0,width:this.topParent.maxWidth,height:this.topParent.maxHeight}))return i.pointTo(t,e),!0}return!1},e.prototype.hideTooltip=function(t){if("always"!=this.showTooltipOn){var e=this.tooltip;e&&(e.targetSprite==this&&(e.targetSprite=void 0),e.hide(t),this._interactionDisposer&&(this._interactionDisposer.dispose(),this._interactionDisposer=void 0))}},Object.defineProperty(e.prototype,"tooltipHTML",{get:function(){return this.getPropertyValue("tooltipHTML")},set:function(t){t=cl(t),this.hoverable=!0,this.setPropertyValue("tooltipHTML",t)&&this.tooltip&&this.tooltip.visible&&this.showTooltip()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipText",{get:function(){return this.getPropertyValue("tooltipText")},set:function(t){t=cl(t),t&&(this.hoverable=!0),this.setPropertyValue("tooltipText",t)&&this.tooltip&&this.tooltip.visible&&this.showTooltip()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipContainer",{get:function(){return this._tooltipContainer?this._tooltipContainer:this._parent?this._parent.tooltipContainer:void 0},set:function(t){this._tooltipContainer=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipX",{get:function(){return this.getTooltipX()},set:function(t){this.setPercentProperty("tooltipX",t)&&this.tooltip&&this.tooltip.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alwaysShowTooltip",{get:function(){return"always"==this.getPropertyValue("showTooltipOn")},set:function(t){t=ul(t),t&&(this.showTooltipOn="always")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showTooltipOn",{get:function(){return this.getPropertyValue("showTooltipOn")},set:function(t){this.setPropertyValue("showTooltipOn",t)&&("hit"==t&&(this.clickable=!0),this.tooltip&&("always"==t?this.showTooltip():this.handleAlwaysShowTooltip()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipPosition",{get:function(){return this.getPropertyValue("tooltipPosition")},set:function(t){this.setPropertyValue("tooltipPosition",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipY",{get:function(){return this.getTooltipY()},set:function(t){this.setPercentProperty("tooltipY",t)&&this.tooltip&&this.tooltip.invalidate()},enumerable:!0,configurable:!0}),e.prototype.getTooltipX=function(){var t,e=this.getPropertyValue("tooltipX");return gl(e)||(e=rl(50)),vl(e)&&(t=e),e instanceof nl&&(t=this.maxLeftSelf+this._measuredWidthSelf*e.value-this.pixelPaddingLeft-this.ex),vl(t)||(t=0),t},e.prototype.getTooltipY=function(){var t,e=this.getPropertyValue("tooltipY");return gl(e)||(e=rl(50)),vl(e)&&(t=e),e instanceof nl&&(t=this.maxTopSelf+this._measuredHeightSelf*e.value-this.pixelPaddingTop-this.ey),vl(t)||(t=0),t},e.prototype.raiseCriticalError=function(t,e){this.svgContainer&&(this._adapterO?this.modal.content=this._adapterO.apply("criticalError",t).message:this.modal.content=t.message,e?this.modal.closable=!0:this.disabled=!0,Kc.suppressErrors||this.modal.open()),Kc.verbose&&console.log(t)},e.prototype.processConfig=function(e){e&&(gl(e.tooltipColorSource)&&bl(e.tooltipColorSource)&&this.map.hasKey(e.tooltipColorSource)&&(e.tooltipColorSource=this.map.getKey(e.tooltipColorSource)),gl(e.cursorOverStyle)&&bl(e.cursorOverStyle)&&(e.cursorOverStyle=this.getCursorStyle(e.cursorOverStyle)),gl(e.cursorDowntyle)&&bl(e.cursorDowntyle)&&(e.cursorDowntyle=this.getCursorStyle(e.cursorDowntyle)),gl(e.cursorOptions)&&(gl(e.cursorOptions.overStyle)&&bl(e.cursorOptions.overStyle)&&(e.cursorOptions.overStyle=this.getCursorStyle(e.cursorOptions.overStyle)),gl(e.cursorOptions.downStyle)&&bl(e.cursorOptions.downStyle)&&(e.cursorOptions.downStyle=this.getCursorStyle(e.cursorOptions.downStyle)))),t.prototype.processConfig.call(this,e),this.processDelayedMap()},e.prototype.getCursorStyle=function(t){switch(t){case"grab":return og.grab;case"grabbing":return og.grabbing;case"pointer":return og.pointer;case"horizontalResize":return og.horizontalResize;case"verticalResize":return og.verticalResize;default:return og["default"]}},e.prototype.configOrder=function(e,i){return e==i?0:"tooltipColorSource"==e?1:"tooltipColorSource"==i?-1:t.prototype.configOrder.call(this,e,i)},Object.defineProperty(e.prototype,"isHidden",{get:function(){return this._isHidden?this._isHidden:!!this._parent&&this._parent.isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showOnInit",{get:function(){return this.getPropertyValue("showOnInit")},set:function(t){t=ul(t),this.setShowOnInit(t)},enumerable:!0,configurable:!0}),e.prototype.setShowOnInit=function(t){this.setPropertyValue("showOnInit",t)&&(this.isTemplate||(!t||this.inited||this.hidden?this._showOnInitDisposer&&this._showOnInitDisposer.dispose():(this._showOnInitDisposer=new bh([gu.events.once("enterframe",this.hideInitially,this),this.events.once("beforevalidated",this.hideInitially,this,!1),this.events.on("inited",this.appear,this,!1)]),this._disposers.push(this._showOnInitDisposer))))},e.prototype.hideInitially=function(){this.isDisposed()||(this.appeared=!1,this.inited||this.hide(0))},e.prototype.appear=function(){var t=this;if(this.appeared=!1,this.hidden||this.isHidden||this.hide(0),this.hidden)this.appeared=!0,this.dispatch("appeared");else{var e=this.show();e&&!e.isFinished()?this.addDisposer(e.events.on("animationended",(function(){t.appeared=!0,t.dispatch("appeared")}))):(this.appeared=!0,this.dispatch("appeared"))}},Object.defineProperty(e.prototype,"hidden",{get:function(){return this.getPropertyValue("hidden")},set:function(t){t=ul(t),this.setPropertyValue("hidden",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this._bbox},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"plugins",{get:function(){var t=this;return this._plugins||(this._plugins=new vu,this._disposers.push(this._plugins.events.on("inserted",(function(e){e.newValue.target=t,e.newValue.init()}))),this._disposers.push(new yu(this._plugins))),this._plugins},enumerable:!0,configurable:!0}),e.prototype._systemUpdate=function(t){this.validate()},e.prototype._systemCheckIfValidate=function(){return!0},e.prototype._systemValidatePositions=function(){this.validatePosition()},e.prototype._systemValidateLayouts=function(){},e}(Ju);gu.registeredClasses.Sprite=jg;var Eg=function(t){function e(){var e=t.call(this)||this;return e.className="Rectangle",e.element=e.paper.add("rect"),e.applyTheme(),e}return Tt(e,t),e.prototype.draw=function(){t.prototype.draw.call(this);var e=this._positionPrecision;this.pixelPerfect&&(e=0);var i=Tl(this.innerWidth,e),s=Tl(this.innerHeight,e);this.element.attr({width:i,height:s})},e.prototype.measureElement=function(){},Object.defineProperty(e.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?{x:0,y:0,width:this.innerWidth,height:this.innerHeight}:{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),e}(jg);gu.registeredClasses.Rectangle=Eg;var Lg=function(t){function e(){var e=t.call(this)||this;return e._childrenByLayout=[],e._childrenDisposers=new hu,e.hasFocused=!1,e.setStateOnSprites=[],e.layoutInvalid=!1,e._absoluteWidth=0,e._absoluteHeight=0,e._shouldBeReady=[],e._tapToActivate=!1,e.tapTimeout=3e3,e.className="Container",e._element=e.paper.addGroup("g"),e.group.add(e.element),e.setPropertyValue("pixelPerfect",!1),e.setPropertyValue("layout","absolute"),e.setPropertyValue("fixedWidthGrid",!1),e.setPropertyValue("verticalCenter","none"),e.setPropertyValue("horizontalCenter","none"),e._positionPrecision=4,e._disposers.push(new lu(e._childrenDisposers)),e.children.events.on("inserted",e.handleChildAdded,e),e.children.events.on("removed",e.handleChildRemoved,e),e.applyTheme(),e}return Tt(e,t),e.prototype.handleChildAdded=function(t){this.processChild(t.newValue)},e.prototype.processChild=function(t){try{this._childrenDisposers.insertKey(t.uid,new bh([t.events.on("transformed",this.handleChildTransform,this),t.events.on("zIndexChanged",this.sortAndAdd,this)]))}catch(i){}if(this.element){var e=this.element;e.add(t.group)}t.parent=this,t.paper=this.paper,this.dispatchImmediately("childadded",{type:"childadded",newValue:t}),this.invalidate()},e.prototype.sortAndAdd=function(){this.sortChildren(),this.addChildren()},e.prototype.handleChildRemoved=function(t){var e=t.oldValue;if(this._childrenDisposers.removeKey(e.uid),this.element){var i=this.element;i.removeElement(e.group)}e.isMeasured&&this.invalidateLayout(),this.dispatchImmediately("childremoved",{type:"childremoved",oldValue:e})},e.prototype.handleChildTransform=function(t){var e=t.target;e.isMeasured&&this.invalidateLayout()},e.prototype.invalidateLayout=function(){this.layoutInvalid||this.disabled||this.isTemplate||"none"==this.layout||this.__disabled||(this.layoutInvalid=!0,gu.addToInvalidLayouts(this),Fg.requestFrame())},e.prototype.invalidate=function(){t.prototype.invalidate.call(this),this.invalidateLayout()},e.prototype.deepInvalidate=function(){t.prototype.invalidate.call(this),th(this._childrenByLayout,(function(t){t instanceof e?t.deepInvalidate():t.invalidate()})),this.invalidateLayout()},Object.defineProperty(e.prototype,"children",{get:function(){return this._children||(this._children=new vu),this._children},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(t){this.setPropertyValue("minWidth",t)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minHeight",{get:function(){return this.getPropertyValue("minHeight")},set:function(t){this.setPropertyValue("minHeight",t)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),e.prototype.removeElement=function(){},e.prototype.sortChildren=function(){var t=this;if(this._childrenByLayout=[],"none"!=this.layout&&"absolute"!=this.layout&&this.layout){var e=[],i=[];qh(this.children.iterator(),(function(s){"horizontal"==t.layout||"grid"==t.layout?vl(s.percentWidth)?i.push(s):e.push(s):"vertical"==t.layout&&vl(s.percentHeight)?i.push(s):e.push(s)})),this._childrenByLayout=e.concat(i)}else this._childrenByLayout=this.children.values;this.calculateRelativeSize()},e.prototype.calculateRelativeSize=function(){var t=this,e=0,i=0;th(this._childrenByLayout,(function(t){t.isMeasured&&(vl(t.percentWidth)&&(e+=t.percentWidth),vl(t.percentHeight)&&(i+=t.percentHeight))})),th(this._childrenByLayout,(function(s){s.isMeasured&&("horizontal"==t.layout&&(vl(s.percentWidth)&&(s.relativeWidth=s.percentWidth/e),vl(s.percentHeight)&&(s.relativeHeight=s.percentHeight/100)),"vertical"==t.layout&&(vl(s.percentHeight)&&(s.relativeHeight=s.percentHeight/i),vl(s.percentWidth)&&(s.relativeWidth=s.percentWidth/100)),"grid"==t.layout&&(vl(s.percentHeight)&&(s.relativeHeight=s.percentHeight/100),vl(s.percentWidth)&&(s.relativeWidth=s.percentWidth/100))),"absolute"!=t.layout&&s.isMeasured||(vl(s.percentWidth)&&(s.relativeWidth=s.percentWidth/100),vl(s.percentHeight)&&(s.relativeHeight=s.percentHeight/100))}))},e.prototype.addChildren=function(){if(this.element){var t=uh(this.children.values),e=t.map((function(t,e){return{idx:e,data:t}}));e.sort((function(t,e){var i=t.data.zIndex||0,s=e.data.zIndex||0;return i<s?-1:i>s?1:t.idx-e.idx})),t=e.map((function(t){return t.data}));var i=this.element,s=!0;if(i.node&&i.node.childNodes)for(var n=0,r=i.node.childNodes.length;n<r;n++)if(i.node.childNodes[n]!=t[n].group.node){s=!1;break}s||(th(t,(function(t){t.group&&i.add(t.group)})),this._background&&this.group.addToBack(this._background.group),this.invalidateLayout())}},e.prototype.createChild=function(t){var e=new t;return e.parent=this,e},e.prototype.removeChildren=function(){while(this.children.length>0){var t=this.children.getIndex(0);t.parent=void 0,this.children.removeValue(t)}},e.prototype.disposeChildren=function(){while(this.children.length>0){var t=this.children.getIndex(0);t.dispose(),this.children.removeValue(t)}},Object.defineProperty(e.prototype,"background",{get:function(){return this._background||(this._background=this.createBackground(),this.processBackground()),this._background},set:function(t){this._background&&this.background!=t&&this.removeDispose(this._background),t&&(this._background=t,this._disposers.push(t),this.processBackground())},enumerable:!0,configurable:!0}),e.prototype.handleGlobalScale=function(){t.prototype.handleGlobalScale.call(this),this.children.each((function(t){t.handleGlobalScale()}))},e.prototype.createBackground=function(){return new Eg},e.prototype.processBackground=function(){var t=this._background;t&&(t.isMeasured=!1,this._background.fill=(new Td).getFor("background"),t.parent=this,t.isMeasured=!1,this.children.removeValue(t),this._disposers.push(t),this.group.addToBack(this._background.group))},e.prototype.validateLayout=function(){var t=this;gu.removeFromInvalidLayouts(this),this.layoutInvalid=!1,this._availableWidth=this.innerWidth,this._availableHeight=this.innerHeight;var e=0,i=0,s=!0;this.children&&(this.sortChildren(),th(this._childrenByLayout,(function(n){var r,a;if(vl(n.relativeWidth)?(r=Tl(t._availableWidth*n.relativeWidth,2),"horizontal"==t.layout&&(r-=n.pixelMarginRight+n.pixelMarginLeft)):"horizontal"==t.layout&&n.invalid&&n.validate(),vl(n.relativeHeight)?(a=Tl(t._availableHeight*n.relativeHeight,2),"vertical"==t.layout&&(a-=n.pixelMarginTop+n.pixelMarginBottom)):"vertical"==t.layout&&n.invalid&&n.validate(),0==n.invalid){if(vl(n.relativeWidth)&&(n.maxWidth=r),vl(n.relativeHeight)&&(n.maxHeight=a),n.isMeasured){"horizontal"==t.layout&&(vl(n.percentWidth)||n.measuredWidth>0&&(t._availableWidth-=n.measuredWidth+n.pixelMarginLeft+n.pixelMarginRight)),"vertical"==t.layout&&(vl(n.percentHeight)||n.measuredHeight>0&&(t._availableHeight-=n.measuredHeight+n.pixelMarginTop+n.pixelMarginBottom));var o=n.measuredWidth,l=n.measuredHeight;"none"!=n.align&&(o+=n.pixelMarginLeft+n.pixelMarginRight),"none"!=n.valign&&(l+=n.pixelMarginTop+n.pixelMarginBottom),e=Math.max(e,o),i=Math.max(i,l)}}else n.isMeasured&&(vl(n.relativeWidth)&&n.maxWidth!=r&&(n.maxWidth=r,s=!1),vl(n.relativeHeight)&&n.maxHeight!=a&&(n.maxHeight=a,s=!1))}))),this._absoluteWidth=e,this._absoluteHeight=i,s&&this.arrange()},e.prototype.arrange=function(){var t,e,i,s,n,r,a,o,l,h,u,p=this,c=this.children,d=0,g=0,f=jl(this.innerWidth,this._absoluteWidth),m=jl(this.innerHeight,this._absoluteHeight),y=this.pixelPaddingLeft,b=this.pixelPaddingRight,v=this.pixelPaddingTop,_=this.pixelPaddingBottom,x=0,w=0,P=0,O=0,k=[],D=[],T=this.maxWidth,S=this.maxHeight,C=this.minWidth,M=this.minHeight,I=uh(c.values);if(this.reverseOrder&&I.reverse(),"grid"==this.layout){r=T,n=1;for(var j=0,E=I.length;j<E;j++){var L=I[j];if(L.isMeasured&&!L.disabled&&!L.__disabled){var A=L.measuredWidth;A<r&&(r=A),A>n&&(n=A)}}r=Cl(r,1,T),n=Cl(n,1,T),a=this.fixedWidthGrid?T/n:T/r,a=jl(1,Math.floor(a)),a=El(this.maxColumns,a),k=this.getColumnWidth(I,a,n)}for(j=0,E=I.length;j<E;j++){L=I[j];if(!L.isMeasured||L.disabled||L.__disabled)L.validatePosition();else{var F=void 0,R=void 0,V=L.pixelMarginLeft,B=L.pixelMarginRight,N=L.pixelMarginTop,H=L.pixelMarginBottom,z=L.measuredWidth,W=L.measuredHeight,Y=void 0,G=void 0,X=void 0,U=void 0;switch(this.layout){case"none":break;case"absolute":switch(L.align){case"left":F=V-L.maxLeft;break;case"center":F=(f-z)/2-L.maxLeft;break;case"right":F=f-B-L.maxRight;break;default:L.x instanceof nl||(F=L.pixelX);break}switch(L.valign){case"top":R=N-L.maxTop;break;case"middle":R=(m-W)/2-L.maxTop;break;case"bottom":R=m-H-L.maxBottom;break;default:L.y instanceof nl||(R=L.pixelY);break}break;case"vertical":switch(L.align){case"left":F=V-L.maxLeft;break;case"center":F=(f-z)/2-L.maxLeft;break;case"right":F=f-B-L.maxRight;break;default:F=L.pixelX;break}R=w+N-L.maxTop,w=R+L.maxBottom+H;break;case"horizontal":switch(L.valign){case"top":R=N-L.maxTop;break;case"middle":R=(m-W)/2-L.maxTop;break;case"bottom":R=m-H-L.maxBottom;break;default:R=L.pixelY;break}F=x+V-L.maxLeft,x=F+L.maxRight+B;break;case"grid":switch(F=x+V-L.maxLeft,L.valign){case"top":R=w+N-L.maxTop;break;case"middle":R=w+(m-W)/2-L.maxTop;break;case"bottom":R=w+m-H-L.maxBottom;break;default:R=w-L.maxTop;break}x+=k[O],D[P]=jl(D[P],W),O++;var K=k[O];if(vl(K)||(K=n),x>El(this.innerWidth,T)-K+1&&O<a){a=O,x=0,w=0,P=0,O=0,k=this.getColumnWidth(I,a,n),D=[],j=-1;continue}O>=a&&(O=0,w+=D[P],P++,x=0);break}"none"!==this.layout&&(L.moveTo({x:F,y:R}),Y=F+L.maxLeft-V,G=F+L.maxRight+B,X=R+L.maxTop-N,U=R+L.maxBottom+H,(G>e||!vl(e))&&(e=G),(Y<t||!vl(t))&&(t=Y),(X<i||!vl(i))&&(i=X),(U>s||!vl(s))&&(s=U),(G>l||!vl(l))&&(l=G),(Y<o||!vl(o))&&(o=Y),(X<h||!vl(h))&&(h=X),U>u||vl(u))}}if("none"==this.layout){var Z=this.bbox;t=Z.x,e=Z.x+Z.width,i=Z.y,s=Z.y+Z.height}vl(t)||(t=0,o=0),vl(e)||(e=this._availableWidth,l=e),vl(i)||(i=0,h=0),vl(s)||(s=this._availableHeight,u=s),vl(h)||(h=0),vl(u)||(u=h),vl(o)||(o=0),vl(l)||(l=o),d=e-t,g=s-i,vl(this.relativeWidth)&&(d=T-y-b,t=0,e=d),vl(this.relativeHeight)&&(g=S-v-_,i=0,s=g),vl(this._pixelWidth)&&(t=0,d=this._pixelWidth-y-b),vl(C)&&d<C&&(t=0,d=this.minWidth-y-b),vl(this._pixelHeight)&&(i=0,g=this._pixelHeight-v-_),vl(M)&&g<M&&(i=0,g=M-v-_);var q=l-o,$=u-h;if("none"!=this.layout&&(this.contentAlign||this.contentValign)&&c.length>0){var J,Q,tt=d,et=g;tt<q&&(tt=q),et<$&&(et=$),"center"==this.contentAlign&&(J=(tt-q)/2),"right"==this.contentAlign&&(J=tt-q),"middle"==this.contentValign&&(Q=(et-$)/2),"bottom"==this.contentValign&&(Q=et-$),vl(J)&&qh(c.iterator(),(function(t){var e=t.maxLeft,i=J;"horizontal"==p.layout&&(t.x=t.pixelX+i),"grid"==p.layout&&(t.x=t.pixelX+i),"vertical"==p.layout&&(i+=t.pixelMarginLeft,"none"==t.align&&(t.x=i-e)),"absolute"==p.layout&&(i+=t.pixelMarginLeft,"none"==t.align&&(t.x=i-e))})),vl(Q)&&qh(c.iterator(),(function(t){var e=t.maxTop,i=Q;"horizontal"==p.layout&&(i+=t.pixelMarginTop,"none"==t.valign&&(t.y=i-e)),"grid"==p.layout&&(i+=t.pixelMarginTop,t.y=i-e),"vertical"==p.layout&&(t.y=t.pixelY+i),"absolute"==p.layout&&(i+=t.pixelMarginTop,"none"==t.valign&&(t.y=i-e))}))}var it=this.bbox;d=jl(d,C),g=jl(g,M),this.contentWidth=d,this.contentHeight=g,d=El(d,T),g=El(g,S),this._bbox={x:t,y:i,width:d,height:g};var st=this.maxLeft,nt=this.maxTop,rt=this.maxBottom,at=this.maxRight;if(this.measure(),(st!=this.maxLeft||at!=this.maxRight||nt!=this.maxTop||rt!=this.maxBottom)&&this.events.isEnabled("transformed")){var ot={type:"transformed",target:this};it&&(ot.dummyData=it.width+" "+d+"  "+it.height+" "+g),this.events.dispatchImmediately("transformed",ot)}this.dispatchImmediately("layoutvalidated")},e.prototype.updateCenter=function(){t.prototype.updateCenter.call(this),this.updateBackground()},e.prototype.updateBackground=function(){var t=this._background;t&&(t.x=this.maxLeft,t.y=this.maxTop,t.width=this.maxRight-this.maxLeft,t.height=this.maxBottom-this.maxTop)},e.prototype.getColumnWidth=function(t,e,i){var s=this,n=[],r=0;return th(t,(function(t){!t.isMeasured||t.disabled||t.__disabled||(s.fixedWidthGrid?n[r]=i:n[r]=jl(n[r],t.measuredWidth+t.pixelMarginRight+t.pixelMarginLeft),r++,r==e&&(r=0))})),n},Object.defineProperty(e.prototype,"layout",{get:function(){return this.getPropertyValue("layout")},set:function(t){this.setPropertyValue("layout",t)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentValign",{get:function(){return this.getPropertyValue("contentValign")},set:function(t){this.setPropertyValue("contentValign",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentAlign",{get:function(){return this.getPropertyValue("contentAlign")},set:function(t){this.setPropertyValue("contentAlign",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fixedWidthGrid",{get:function(){return this.getPropertyValue("fixedWidthGrid")},set:function(t){this.setPropertyValue("fixedWidthGrid",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxColumns",{get:function(){return this.getPropertyValue("maxColumns")},set:function(t){this.setPropertyValue("maxColumns",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reverseOrder",{get:function(){return this.getPropertyValue("reverseOrder")},set:function(t){this.setPropertyValue("reverseOrder",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"setStateOnChildren",{get:function(){return this.getPropertyValue("setStateOnChildren")},set:function(t){this.setPropertyValue("setStateOnChildren",t,!0)},enumerable:!0,configurable:!0}),e.prototype.fitsToBounds=function(t){var e=t.x,i=t.y,s=.5;return e>=-s&&e<=this.pixelWidth+s&&i>=-s&&i<=this.pixelHeight+s},e.prototype.copyFrom=function(e){var i=this;t.prototype.copyFrom.call(this,e),this.layout=e.layout,this.setStateOnChildren=e.setStateOnChildren,e._background&&(this.background=e._background.clone(),this.background.copyFrom(e._background)),qh(e.children.iterator(),(function(t){if(t.shouldClone){var e=t.clone();e.parent=i}}))},Object.defineProperty(e.prototype,"preloader",{get:function(){var t=this._preloader;return t||(this.parent?this.parent.preloader:void 0)},set:function(t){this._preloader&&this.removeDispose(this._preloader),this._preloader=t,t&&(t.parent=this.tooltipContainer,this._disposers.push(t))},enumerable:!0,configurable:!0}),e.prototype.setPaper=function(e){var i=this,s=t.prototype.setPaper.call(this,e);return s&&(this._background&&(this._background.paper=e,this._background.topParent=this.topParent),this.children.each((function(t){t.setPaper(e),t.topParent=i.topParent}))),s},e.prototype.removeFromInvalids=function(){t.prototype.removeFromInvalids.call(this),gu.removeFromInvalidLayouts(this)},e.prototype.setDataItem=function(e){this._dataItem!=e&&(qh(this.children.iterator(),(function(t){t.dataItem=e})),this._background&&(this._background.dataItem=e)),t.prototype.setDataItem.call(this,e)},e.prototype.measureElement=function(){this.disabled||this.isTemplate||"none"==this.layout||this.__disabled||this.validateLayout()},Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this.getPropertyValue("fontFamily")},set:function(t){this.setPropertyValue("fontFamily",t,!0)&&(this.setSVGAttribute({"font-family":t}),this.invalidateLabels())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this.getPropertyValue("fontSize")},set:function(t){this.setPropertyValue("fontSize",t,!0)&&(this.setSVGAttribute({"font-size":t}),this.invalidateLabels())},enumerable:!0,configurable:!0}),e.prototype.invalidateLabels=function(){this.children.each((function(t){t["hardInvalidate"]?(t["hardInvalidate"](),t.events.once("validated",t.handleValidate,t,!1)):t instanceof e&&t.invalidateLabels()}))},Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this.getPropertyValue("fontWeight")},set:function(t){this.setPropertyValue("fontWeight",t),this.setSVGAttribute({"font-weight":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textDecoration",{get:function(){return this.getPropertyValue("textDecoration")},set:function(t){this.setPropertyValue("textDecoration",t),this.setSVGAttribute({"text-decoration":t})},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._background&&this._background.dispose(),this._shouldBeReady=[],this.disposeChildren(),t.prototype.dispose.call(this)},e.prototype.setState=function(e,i,s){var n=e;return e instanceof Gc&&(n=e.name),this.setStateOnChildren&&qh(this.children.iterator(),(function(t){t.setState(n,i,s),"active"!=n&&(t.isActive=!1)})),this._background&&this._background.setState(n),this.setStateOnSprites.length&&th(this.setStateOnSprites,(function(t){t.setState(n,i,s)})),t.prototype.setState.call(this,e,i,s)},e.prototype.setActive=function(e){t.prototype.setActive.call(this,e),this._background&&(this._background.isActive=e)},e.prototype.dispatchReady=function(){var e=this;if(!this.isReady()&&!this.isDisposed()){var i=!0;Zh(this.children.iterator(),(function(t){return!!(t.__disabled||t.disabled||t.isReady())||(i=!1,!1)})),ih(this._shouldBeReady,(function(t){return!!(t.__disabled||t.disabled||t.isReady())||(i=!1,!1)})),i?t.prototype.dispatchReady.call(this):gu.events.once("exitframe",(function(){e.dispatchReady(),Fg.requestFrame()}),void 0,!1)}},e.prototype._systemUpdate=function(e){this.children.each((function(t){t.invalid&&(t._systemCheckIfValidate()?t.dataItem&&t.dataItem.component&&t.dataItem.component.dataInvalid?e.push(t):t.validate():e.push(t))})),t.prototype._systemUpdate.call(this,e)},e.prototype._systemValidatePositions=function(){this.children.each((function(t){t.positionInvalid&&t.validatePosition()})),t.prototype._systemValidatePositions.call(this)},e.prototype._systemValidateLayouts=function(){this.layoutInvalid&&!this.isDisposed()&&this.validateLayout()},Object.defineProperty(e.prototype,"tapToActivate",{get:function(){return this._tapToActivate},set:function(t){this._tapToActivate!=t&&this.setTapToActivate(t)},enumerable:!0,configurable:!0}),e.prototype.setTapToActivate=function(t){var e=this;this._tapToActivate=t,this.interactions.isTouchProtected=t,t&&this.interactions.setEventDisposer("container-tapToActivate",t,(function(){return new bh([e.events.on("hit",e.handleTapToActivate,e,!1),e.events.on("down",e.initTapTimeout,e,!1),e.events.on("track",e.initTapTimeout,e,!1),zd().body.events.on("down",(function(t){zd().isLocalElement(t.pointer,e.paper.svg,e.uid)||e.handleTapToActivateDeactivation()}),e,!1)])})),zd()},e.prototype.handleTapToActivate=function(){this.interactions.isTouchProtected=!1,this.initTapTimeout()},e.prototype.handleTapToActivateDeactivation=function(){this.interactions.isTouchProtected=!0},e.prototype.initTapTimeout=function(){var t=this;this._tapToActivateTimeout&&this._tapToActivateTimeout.dispose(),this.tapToActivate&&!this.interactions.isTouchProtected&&this.tapTimeout&&(this._tapToActivateTimeout=this.setTimeout((function(){t.handleTapToActivateDeactivation()}),this.tapTimeout))},e.prototype.moveHtmlContainer=function(t){var e=ad(t);if(e){this.htmlContainer=e;var i=this.svgContainer;i.htmlElement=e,i.htmlElement.appendChild(i.SVGContainer),i.initSensor(),i.measure()}else bl(t)&&""!=t&&Fg.log("html container '"+t+"' not found")},e.prototype.hasLicense=function(){if(Kc.commercialLicense)return!0;for(var t=0;t<Kc.licenses.length;t++)if(Kc.licenses[t].match(/^CH.{5,}/i))return!0;return!1},e}(jg);gu.registeredClasses.Container=Lg;var Ag=function(){function t(){this._isPaused=!1,this.animations=[],this.uid=gu.getUniqueId(),this.dummyCounter=0,this._frameRequested=!1,this.updateStepDuration=45,this.time=Date.now()}return t.prototype.reportTime=function(t,e){this.dummyCounter,e&&(this.time=Date.now())},t.prototype.update=function(){var t=this;if(!this._isPaused){this._frameRequested=!1;var e=Date.now();gu.dispatchImmediately("enterframe");var i=[];for(var s in gu.invalidDatas)if(Bh(gu.invalidDatas,s)){var n=gu.invalidDatas[s];while(n.length>0){var r=n[0],a=r.dataProvider;if(r.isDisposed())rh(n,r);else if(a&&a.dataInvalid)try{if(a.validateData(),a.dataValidationProgress<1)break}catch(u){rh(n,a),a.raiseCriticalError(u)}else try{if(r.validateData(),r.dataValidationProgress<1)break}catch(u){rh(n,r),r.raiseCriticalError(u)}}if(Date.now()-e>this.updateStepDuration)break}while(gu.invalidRawDatas.length>0){r=gu.invalidRawDatas[0];if(r.isDisposed())rh(gu.invalidRawDatas,r);else try{r.validateRawData()}catch(u){rh(gu.invalidRawDatas,r),r.raiseCriticalError(u)}}while(gu.invalidDataItems.length>0){r=gu.invalidDataItems[0],a=r.dataProvider;if(r.isDisposed()||r.dataInvalid||a&&a.dataInvalid);else try{r.validateDataItems()}catch(u){rh(gu.invalidDataItems,r),r.raiseCriticalError(u)}rh(gu.invalidDataItems,r)}while(gu.invalidDataRange.length>0){r=gu.invalidDataRange[0],a=r.dataProvider;if(r.isDisposed()||r.dataInvalid||a&&a.dataInvalid);else try{r.validateDataRange(),r.skipRangeEvent||r.dispatchImmediately("datarangechanged"),r.skipRangeEvent=!1}catch(u){rh(gu.invalidDataRange,r),r.raiseCriticalError(u)}rh(gu.invalidDataRange,r)}var o=[];Hh(gu.invalidLayouts,(function(e){t.validateLayouts(e)})),Hh(gu.invalidPositions,(function(e){t.validatePositions(e)}));var l=!1;if(e=Date.now(),Hh(gu.invalidSprites,(function(i,s){var n=0;while(s.length>0){if(t.validateLayouts(i),t.validatePositions(i),n++,5==n){if(Date.now()-e>t.updateStepDuration)break;n=0}var r=s[s.length-1];if(r&&!r.isDisposed()){if(r._systemCheckIfValidate())if(t.checkIfValidate2(r))try{r._systemUpdate(o)}catch(u){r.invalid=!1,rh(s,r),r.raiseCriticalError(u)}else o.push(r);else o.push(r);r.invalid=!1}rh(s,r)}gu.invalidSprites[i]=gu.invalidSprites[i].concat(o)})),Hh(gu.invalidSprites,(function(t,e){e.length>0&&(l=!0)})),Hh(gu.invalidDatas,(function(t,e){e.length>0&&(l=!0)})),th(uh(this.animations),(function(t){t.update()})),Hh(gu.invalidLayouts,(function(e){t.validateLayouts(e)})),Hh(gu.invalidPositions,(function(e){t.validatePositions(e)})),Eh(),Hh(gu.invalidLayouts,(function(e){t.validateLayouts(e)})),Hh(gu.invalidPositions,(function(e){t.validatePositions(e)})),gu.dispatchImmediately("exitframe"),(l||this.animations.length>0||i.length>0)&&this.requestFrame(),this.updateStepDuration<200){var h=!0;Hh(gu.invalidDatas,(function(t,e){e.length>0&&(h=!1)})),Hh(gu.invalidSprites,(function(t,e){e.length>0&&(h=!1)})),h&&(this.updateStepDuration=200)}}},t.prototype.checkIfValidate2=function(t){return!(t.dataItem&&t.dataItem.component&&t.dataItem.component.dataInvalid&&!t.dataItem.component.isTemplate)},t.prototype.requestFrame=function(){var t=this;this._frameRequested||(Th((function(){t.update()})),this._frameRequested=!0)},t.prototype.softInvalidate=function(t){var e=this;t.children.each((function(t){t instanceof Lg&&e.softInvalidate(t),t.measureFailed&&(fu(t,"Label")?t.hardInvalidate():t.invalidate(),t.measureFailed=!1)}))},t.prototype.validatePositions=function(t){var e=gu.invalidPositions[t];while(e.length>0){var i=e[e.length-1];if(i.isDisposed())rh(e,i);else try{i._systemValidatePositions()}catch(s){i.positionInvalid=!1,rh(e,i),i.raiseCriticalError(s)}}},t.prototype.validateLayouts=function(t){var e=gu.invalidLayouts[t];while(e.length>0){var i=e[e.length-1];if(i.isDisposed())rh(e,i);else try{i.children.each((function(t){t._systemValidateLayouts()})),i.validateLayout()}catch(s){i.layoutInvalid=!1,rh(e,i),i.raiseCriticalError(s)}}},t.prototype.log=function(t){Gd(t)},Object.defineProperty(t.prototype,"isPaused",{get:function(){return this._isPaused},set:function(t){this._isPaused=t,t||(this._frameRequested=!1,this.requestFrame())},enumerable:!0,configurable:!0}),t.VERSION="4.10.36",t}(),Fg=new Ag,Rg=function(){function t(){}return t.prototype.parse=function(t){return[]},Object.defineProperty(t.prototype,"parsableNumbers",{get:function(){return this.options.numberFields&&this.options.numberFields.length>0},enumerable:!0,configurable:!0}),t.prototype.maybeToNumber=function(t,e){return-1!==this.options.numberFields.indexOf(t)?Ip(e):e},Object.defineProperty(t.prototype,"parsableDates",{get:function(){return this.options.dateFields&&this.options.dateFields.length>0},enumerable:!0,configurable:!0}),t.prototype.maybeToDate=function(t,e){return-1!==this.options.dateFields.indexOf(t)?this.options.dateFormatter.parse(e,this.dateFormat):e},t.prototype.maybeToEmpty=function(t){return gl(t)&&""!=t||!gl(this.options.emptyAs)?t:this.options.emptyAs},Object.defineProperty(t.prototype,"dateFormatter",{get:function(){return this.options.dateFormatter||(this.options.dateFormatter=new dg,this.options.dateFormat&&(this.options.dateFormat=this.options.dateFormat)),this.options.dateFormatter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateFormat",{get:function(){return this.options.dateFormat||this.dateFormatter.inputDateFormat},enumerable:!0,configurable:!0}),t}(),Vg=[",",";","\t"],Bg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contentType="text/csv",e.options={delimiter:"",reverse:!1,skipRows:0,skipEmpty:!0,useColumnNames:!1},e}return Tt(e,t),e.isCSV=function(t){return!!e.getDelimiterFromData(t)},e.getDelimiterFromData=function(t){var e,i=t.split("\n"),s=i.length;return th(Vg,(function(t){for(var n=0,r=0,a=0;a<s;++a){if(n=i[a].split(t).length,!(n>1)){r=0;break}if(0===r)r=n;else if(n!=r){r=0;break}}r&&(e=t)})),e},e.prototype.parse=function(t){this.options.delimiter||(this.options.delimiter=e.getDelimiterFromData(t));var i,s,n,r=this.CSVToArray(t,this.options.delimiter),a=gl(this.options.emptyAs),o=this.parsableNumbers,l=this.parsableDates,h=[],u=[];for(s=0;s<this.options.skipRows;s++)r.shift();if(this.options.useColumnNames){u=r.shift();for(var p=0;p<u.length;p++)i=gl(u[p])?u[p].replace(/^\s+|\s+$/gm,""):"",""===i&&(i="col"+p),u[p]=i}while(1){if(n=this.options.reverse?r.pop():r.shift(),!n)break;if(!this.options.skipEmpty||1!==n.length||""!==n[0]){var c={};for(s=0;s<n.length;s++)i=void 0===u[s]?"col"+s:u[s],c[i]=""===n[s]?this.options.emptyAs:n[s],a&&(c[i]=this.maybeToEmpty(c[i])),o&&(c[i]=this.maybeToNumber(i,c[i])),l&&(c[i]=this.maybeToDate(i,c[i]));h.push(c)}}return h},e.prototype.CSVToArray=function(t,e){e=e||",";var i=new RegExp("(\\"+e+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+e+"\\r\\n]*))","gi"),s=[[]],n=null;while(1){if(n=i.exec(t),!n)break;var r=n[1];r.length&&r!==e&&s.push([]);var a=void 0;a=n[2]?n[2].replace(new RegExp('""',"g"),'"'):n[3],s[s.length-1].push(a)}return s},e}(Rg),Ng=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contentType="application/json",e.options={},e}return Tt(e,t),e.isJSON=function(t){try{return JSON.parse(t),!0}catch(e){return!1}},e.prototype.parse=function(t){var e,i=this;try{gl(JSON)&&(e=JSON.parse(t))}catch(h){return}var s=gl(this.options.emptyAs),n=this.parsableNumbers,r=this.parsableDates;if(Array.isArray(e)&&(n||r||s))for(var a=function(t,a){var o=e[t];Hh(o,(function(t,e){s&&(o[t]=i.maybeToEmpty(o[t])),n&&(o[t]=i.maybeToNumber(t,o[t])),r&&(o[t]=i.maybeToDate(t,o[t]))}))},o=0,l=e.length;o<l;o++)a(o,l);return e},e}(Rg),Hg=function(){function t(){this.adapter=new Cu(this)}return t.prototype.load=function(t){var e=Array.isArray(t)?t:[t],i=Ql(e,(function(t){return t.dispatchImmediately("started"),t.dispatchImmediately("loadstarted"),_g(t.url,t,t.requestOptions)}));Promise.all(i).then((function(t){th(t,(function(t){var e=t.target;e.dispatchImmediately("loadended"),t.error?e.events.isEnabled("error")&&e.events.dispatchImmediately("error",{type:"error",code:t.xhr.status,message:e.language.translate("Unable to load file: %1",null,e.url),target:e}):e.processData(t.response,t.type),e.dispatchImmediately("ended")}))})).catch((function(t){t.target&&(t.target.dispatchImmediately("loadended"),t.target.events.isEnabled("error")&&t.target.events.dispatchImmediately("error",{type:"error",code:t.xhr.status,message:t.target.language.translate("Unable to load file: %1",null,t.target.url),target:t.target}),t.target.dispatchImmediately("ended"))}))},t.prototype.getParserByType=function(t){var e=this.adapter.apply("getParserByType",{parser:null,type:t}).parser;return e||("csv"==t||"text/csv"==t||"application/vnd.ms-excel"==t?new Bg:"json"==t||"application/json"==t?new Ng:void 0)},t.prototype.getParserByData=function(t,e){var i=this.adapter.apply("getParserByData",{parser:null,data:t,type:e}).parser;if(!i){if(i=this.getParserByType(e),i)return i;if(Ng.isJSON(t))return this.getParserByType("json");if(Bg.isCSV(t))return this.getParserByType("csv")}return i},t}(),zg=new Hg,Wg=function(t){function e(e,i){var s=t.call(this)||this;return s.adapter=new Cu(s),s._requestOptions={},s._incremental=!1,s._incrementalParams={},s._keepCount=!1,s._updateCurrentData=!1,s.showPreloader=!0,s.className="DataSource",e&&(s.url=e),i&&(s.parser="string"==typeof i?zg.getParserByType(i):i),s}return Tt(e,t),e.prototype.processData=function(t,e){if(this.dispatchImmediately("parsestarted"),this.parser||(this.parser=zg.getParserByData(t,e),this.parser)){if(this.parser.options=this.adapter.apply("parserOptions",this.parser.options),this.parser.options.dateFields=this.adapter.apply("dateFields",this.parser.options.dateFields||[]),this.parser.options.numberFields=this.adapter.apply("numberFields",this.parser.options.numberFields||[]),this.parser.options.dateFields&&!this.parser.options.dateFormatter&&(this.parser.options.dateFormatter=this.dateFormatter),this.data=this.adapter.apply("parsedData",this.parser.parse(this.adapter.apply("unparsedData",t))),!gl(this.data)&&this.events.isEnabled("parseerror")){var i={type:"parseerror",message:this.language.translate("Error parsing file: %1",null,this.url),target:this};this.events.dispatchImmediately("parseerror",i)}this.dispatchImmediately("parseended"),gl(this.data)&&this.dispatchImmediately("done",{data:this.data}),this.lastLoad=new Date}else{if(this.events.isEnabled("parseerror")){var s={type:"parseerror",message:this.language.translate("No parser available for file: %1",null,this.url),target:this};this.events.dispatchImmediately("parseerror",s)}this.dispatchImmediately("parseended")}},Object.defineProperty(e.prototype,"url",{get:function(){var t=this.disableCache?this.timestampUrl(this._url):this._url;return this.incremental&&this.component.data.length&&(t=this.addUrlParams(t,this.incrementalParams)),this.adapter.apply("url",t)},set:function(t){this._url=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"requestOptions",{get:function(){return this.adapter.apply("requestOptions",this._requestOptions)},set:function(t){this._requestOptions=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parser",{get:function(){return this._parser||(this._parser=new Ng),this.adapter.apply("parser",this._parser)},set:function(t){this._parser=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reloadFrequency",{get:function(){return this.adapter.apply("reloadTimeout",this._reloadFrequency)},set:function(t){var e=this;this._reloadFrequency!=t&&(this._reloadFrequency=t,t?gl(this._reloadDisposer)||(this._reloadDisposer=this.events.on("ended",(function(t){e._reloadTimeout=setTimeout((function(){e.load()}),e.reloadFrequency)}))):gl(this._reloadDisposer)&&(this._reloadDisposer.dispose(),this._reloadDisposer=void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"incremental",{get:function(){return this.adapter.apply("incremental",this._incremental)},set:function(t){this._incremental=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"incrementalParams",{get:function(){return this.adapter.apply("incrementalParams",this._incrementalParams)},set:function(t){this._incrementalParams=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keepCount",{get:function(){return this.adapter.apply("keepCount",this._keepCount)},set:function(t){this._keepCount=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"updateCurrentData",{get:function(){return this.adapter.apply("updateCurrentData",this._updateCurrentData)},set:function(t){this._updateCurrentData=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"language",{get:function(){return this._language?this._language:this.component?(this._language=this.component.language,this._language):(this.language=new hg,this.language)},set:function(t){this._language=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateFormatter",{get:function(){return this._dateFormatter?this._dateFormatter:this.component?(this._dateFormatter=this.component.dateFormatter,this._dateFormatter):(this.dateFormatter=new dg,this.dateFormatter)},set:function(t){this._dateFormatter=t},enumerable:!0,configurable:!0}),e.prototype.timestampUrl=function(t){var e=(new Date).getTime().toString(),i={};return i[e]="",this.addUrlParams(t,i)},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._reloadTimeout&&clearTimeout(this._reloadTimeout),gl(this._reloadDisposer)&&(this._reloadDisposer.dispose(),this._reloadDisposer=void 0)},e.prototype.load=function(){this.url&&(this._reloadTimeout&&clearTimeout(this._reloadTimeout),zg.load(this))},e.prototype.addUrlParams=function(t,e){var i=t.match(/\?/)?"&":"?",s=[];return Hh(e,(function(t,e){""!=e?s.push(t+"="+encodeURIComponent(e)):s.push(t)})),s.length?t+i+s.join("&"):t},e.prototype.processConfig=function(e){gu.registeredClasses.json=Ng,gu.registeredClasses.JSONParser=Ng,gu.registeredClasses.csv=Bg,gu.registeredClasses.CSVParser=Bg,t.prototype.processConfig.call(this,e)},e}(Ju),Yg=function(t){function e(){var e=t.call(this)||this;return e._rules=new vu,e._appliedRules={},e._appliedTargets=[],e._useDefault=!0,e.adapter=new Cu(e),e._enabled=!1,e._responsiveDisposers=[],e._noStates=[],e.className="Responsive",e.rules.events.on("inserted",(function(){e.checkRules()}),!0),e.rules.events.on("removed",(function(){e.checkRules()}),!0),e._disposers.push(e.rules.events),e.applyTheme(),e}return Tt(e,t),Object.defineProperty(e.prototype,"component",{get:function(){return this._component},set:function(t){var e=this;t!=this._component&&(this.disposeResponsiveHandlers(),this._component=t,this._responsiveDisposers.push(fl(this.component).events.on("sizechanged",(function(){e.checkRules()}),this)),this._responsiveDisposers.push(fl(this.component).events.once("datavalidated",(function(){e._component.isReady()&&e.checkRules(!0)}),this)),this.enabled=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this.adapter.apply("enabled",this._enabled)},set:function(t){this._enabled!=t&&(this._enabled=t,this.applyRules())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useDefault",{get:function(){return this.adapter.apply("useDefault",this._useDefault)},set:function(t){this._useDefault!=t&&(this._useDefault=t,this.applyRules())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rules",{get:function(){return this.adapter.apply("rules",this._rules)},set:function(t){this._rules=t,this._enabled=!0,this.applyRules()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultRules",{get:function(){return this.adapter.apply("defaultRules",Gg)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allRules",{get:function(){var t=new vu;return this.useDefault&&t.copyFrom(this.defaultRules),t.copyFrom(this.rules),this.adapter.apply("allRules",t)},enumerable:!0,configurable:!0}),e.prototype.isApplied=function(t){var e=this._appliedRules[t];return!!gl(e)&&e},e.prototype.checkRules=function(t){var e=this;void 0===t&&(t=!1);var i=this.allRules;if(i&&0!=i.length){var s=!1,n=fl(this.component);if(0!=n.pixelWidth&&0!=n.pixelHeight&&(qh(i.iterator(),(function(t){t.id||(t.id=gu.getUniqueId());var i=t.relevant(n);(i&&!e.isApplied(t.id)||!i&&e.isApplied(t.id))&&(s=!0),e._appliedRules[t.id]=i})),t&&(s=!0),s)){if(!this.component.isReady())return n.hidden=!0,void n.events.once("ready",(function(t){t.target.show(0),e._applyRules()}));this.dispatchImmediately("ruleschanged"),this._applyRules()}}},e.prototype._applyRules=function(){var t=this;this._timeout&&this._timeout.dispose(),this._timeout=this.setTimeout((function(){t.applyRules()}),10)},e.prototype.applyRules=function(t){var e=this,i=gl(t)?t:fl(this.component),s=!1;if(this.enabled){var n=!1;qh(this.allRules.iterator(),(function(t){var r=e.getState(t,i);r&&(s||(-1!==$l(e._appliedTargets,i.uid)&&i.setState(e.getDefaultState(i),0),s=!0),e.isApplied(fl(t.id))&&(r.transitionDuration=0,e.setTargetState(i,r),e.dispatchImmediately("ruleapplied",{rule:t}),n=!0))})),n?lh(this._appliedTargets,i.uid):rh(this._appliedTargets,i.uid)}i.children&&qh(i.children.iterator(),(function(t){e.applyRules(t)}))},e.prototype.getState=function(t,e){var i="responsive-"+t.id,s=e.uid+"_"+i;if(-1===$l(this._noStates,s)){if(e.states.hasKey(i))return e.states.getKey(i);var n=t.state(e,i);return n||this._noStates.push(s),n}},e.prototype.getDefaultState=function(t){return t.states.hasKey("responsive-default")?t.states.getKey("responsive-default"):t.states.create("responsive-default")},e.prototype.setTargetState=function(t,e){var i=this,s=this.getDefaultState(t);Hh(e.properties,(function(e,n){gl(s.properties[e])||(s.properties[e]=i.getValue(t,e))})),t.setState(e)},e.prototype.getValue=function(t,e){var i=t.getPropertyValue(e);return!gl(i)&&gl(t[e])&&(i=t[e]),i},e.prototype.dispose=function(){this.disposeResponsiveHandlers(),t.prototype.dispose.call(this)},e.prototype.disposeResponsiveHandlers=function(){var t=this._responsiveDisposers.pop();while(t)t.dispose(),t=this._responsiveDisposers.pop()},e}(Ju),Gg=new vu;Gg.events.on("inserted",(function(t){t.newValue.id=gu.getUniqueId()}));var Xg=function(){function t(){}return t.widthXXS=function(e){return e.pixelWidth<=t.XXS},t.widthXS=function(e){return e.pixelWidth<=t.XS},t.widthS=function(e){return e.pixelWidth<=t.S},t.widthM=function(e){return e.pixelWidth<=t.M},t.widthL=function(e){return e.pixelWidth<=t.L},t.widthXL=function(e){return e.pixelWidth<=t.XL},t.widthXXL=function(e){return e.pixelWidth<=t.XXL},t.heightXXS=function(e){return e.pixelHeight<=t.XXS},t.heightXS=function(e){return e.pixelHeight<=t.XS},t.heightS=function(e){return e.pixelHeight<=t.S},t.heightM=function(e){return e.pixelHeight<=t.M},t.heightL=function(e){return e.pixelHeight<=t.L},t.heightXL=function(e){return e.pixelHeight<=t.XL},t.heightXXL=function(e){return e.pixelHeight<=t.XXL},t.isXXS=function(e){return e.pixelWidth<=t.XXS&&e.pixelHeight<=t.XXS},t.isXS=function(e){return e.pixelWidth<=t.XS&&e.pixelHeight<=t.XS},t.isS=function(e){return e.pixelWidth<=t.S&&e.pixelHeight<=t.S},t.isM=function(e){return e.pixelWidth<=t.M&&e.pixelHeight<=t.M},t.isL=function(e){return e.pixelWidth<=t.L&&e.pixelHeight<=t.L},t.isXL=function(e){return e.pixelWidth<=t.XL&&e.pixelHeight<=t.XL},t.isXXL=function(e){return e.pixelWidth<=t.XXL&&e.pixelHeight<=t.XXL},t.maybeXXS=function(e){return e.pixelWidth<=t.XXS||e.pixelHeight<=t.XXS},t.maybeXS=function(e){return e.pixelWidth<=t.XS||e.pixelHeight<=t.XS},t.maybeS=function(e){return e.pixelWidth<=t.S||e.pixelHeight<=t.S},t.maybeM=function(e){return e.pixelWidth<=t.M||e.pixelHeight<=t.M},t.maybeL=function(e){return e.pixelWidth<=t.L||e.pixelHeight<=t.L},t.maybeXL=function(e){return e.pixelWidth<=t.XL||e.pixelHeight<=t.XL},t.maybeXXL=function(e){return e.pixelWidth<=t.XXL||e.pixelHeight<=t.XXL},t.XXS=100,t.XS=200,t.S=300,t.M=400,t.L=600,t.XL=800,t.XXL=1e3,t}(),Ug=function(t){function e(){var e=t.call(this)||this;return e._disabled=!1,e.hasProperties=!1,e.values={},e.categories={},e.dates={},e.locations={},e.workingLocations={},e.properties={},e.sprites=[],e.isTemplate=!1,e._index=null,e._visible=!0,e._hidden=!1,e._ignoreMinMax=!1,e.hasChildren={},e.isHiding=!1,e._valueAnimations={},e._locationAnimations={},e.className="DataItem",e.applyTheme(),e}return Tt(e,t),Object.defineProperty(e.prototype,"adapter",{get:function(){return this._adapterO||(this._adapterO=new Cu(this)),this._adapterO},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this.component&&null!=this._index?this._index:-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new td(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return!this._hidden&&this._visible},set:function(t){t&&(this.hidden=!1),this._visible!=t&&this.setVisibility(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hidden",{get:function(){return this._hidden},set:function(t){this._hidden!=t&&(this._hidden=t,t?this.setVisibility(!1):this.setVisibility(!0,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"__disabled",{get:function(){return this._disabled},set:function(t){this._disabled=t,th(this.sprites,(function(e){e.__disabled=t}))},enumerable:!0,configurable:!0}),e.prototype.setVisibility=function(t,e){if(th(this.sprites,(function(e){t?e.visible=e.defaultState.properties.visible:e.hiddenState?e.visible=e.hiddenState.properties.visible:e.visible=!1})),this._visible=t,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("visibilitychanged")){var i={type:"visibilitychanged",target:this,visible:t};this.events.dispatchImmediately("visibilitychanged",i)}},e.prototype.show=function(t,e,i){var s,n=this;if(!this.hidden)return this.setVisibility(!0,!0),this.isHiding=!1,this._hideDisposer&&this.removeDispose(this._hideDisposer),i&&th(i,(function(i){s=n.setWorkingValue(i,n.values[i].value,t,e)})),th(this.sprites,(function(i){var s=i.show(t);null==s||s.isFinished()||(n._disposers.push(s),null!=e&&e>0&&s.delay(e))})),s},e.prototype.dispose=function(){t.prototype.dispose.call(this),th(this.sprites,(function(t){t.dispose()})),this.sprites=[]},e.prototype.hide=function(t,e,i,s){var n=this;if(this.isHiding=!0,th(this.sprites,(function(i){var s=i.hide(t);null==s||s.isFinished()||(n._disposers.push(s),null!=e&&e>0&&s.delay(e))})),vl(i)&&s){var r;if(th(s,(function(s){var a=n.setWorkingValue(s,i,t,e);a&&(r=a)})),r&&!r.isFinished())return this._hideDisposer=r.events.on("animationended",(function(){n.setVisibility(!1,!0),n.isHiding=!1})),this._disposers.push(this._hideDisposer),r;this.isHiding=!1,this.setVisibility(!1,!0)}else this.isHiding=!1,this.setVisibility(!1)},e.prototype.getDuration=function(t){if(!vl(t)){var e=this.component;e&&(t=e.interpolationDuration)}if(null!=t)return this._adapterO?this._adapterO.apply("duration",t):t},e.prototype.getValue=function(t,e){if(t&&this.component){e||(e=this.component.dataFields[t+"Show"],e||(e="value"));var i=this.values[t][e];return this._adapterO&&this._adapterO.isEnabled("value")?this._adapterO.apply("value",{value:i,field:t}).value:i}},e.prototype.getWorkingValue=function(t){if(t&&this.component){var e=this.component.dataFields[t+"Show"];return e||(e="workingValue"),this._adapterO?this._adapterO.apply("workingValue",{workingValue:this.values[t][e],field:t}).workingValue:this.values[t][e]}},e.prototype.getActualWorkingValue=function(t){return this.values[t].workingValue},e.prototype.setValue=function(t,e,i,s){var n=this.values[t].value,r=this.getDuration(i);if(e=pl(e),n!==e){if(this.values[t].value=e,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("valuechanged")){var a={type:"valuechanged",target:this,property:t};this.events.dispatchImmediately("valuechanged",a)}this.component&&this.component.handleDataItemValueChange(this,t)}this.setWorkingValue(t,e,r,s)},e.prototype.setCalculatedValue=function(t,e,i){var s=this.values[t][i];if(s!==e&&vl(e)){if(this.values[t][i]=e,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("calculatedvaluechanged")){var n={type:"calculatedvaluechanged",target:this,property:t};this.events.dispatchImmediately("calculatedvaluechanged",n)}this.component&&this.component.handleDataItemCalculatedValueChange(this,t)}},e.prototype.setWorkingValue=function(t,e,i,s){if(vl(this.values[t].value)){var n=this.getDuration(i),r=this.values[t].workingValue;if(null!=n&&n>0&&vl(r)&&this.component){if(r!=e){var a=this.animate({childObject:this.values[t],property:"workingValue",from:r,to:e,dummyData:t},n,this.component.interpolationEasing);return null!=s&&a.delay(s),a.events.on("animationstarted",this.handleInterpolationProgress,this),a.events.on("animationprogress",this.handleInterpolationProgress,this),a.events.on("animationended",this.handleInterpolationProgress,this),this._valueAnimations[t]=a,a}var o=this._valueAnimations[t];o&&o.stop(),this.values[t].workingValue=e}else{o=this._valueAnimations[t];if(o&&o.stop(),this.values[t].workingValue=e,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workingvaluechanged")){var l={type:"workingvaluechanged",target:this,property:t};this.events.dispatchImmediately("workingvaluechanged",l)}this.component&&this.component.handleDataItemWorkingValueChange(this,t)}}},e.prototype.setLocation=function(t,e,i,s){var n=this.locations[t];if(n!==e){if(this.locations[t]=e,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("locationchanged")){var r={type:"locationchanged",target:this,property:t};this.events.dispatchImmediately("locationchanged",r)}this.component&&this.component.handleDataItemValueChange(this,t),this.setWorkingLocation(t,e,i,s)}},e.prototype.setWorkingLocation=function(t,e,i,s){var n=this.getDuration(i),r=this.workingLocations[t];if(null!=n&&n>0&&vl(r)&&this.component){if(r!=e){var a=this.animate({childObject:this.workingLocations,property:t,from:r,to:e,dummyData:t},n,this.component.interpolationEasing);return null!=s&&a.delay(s),a.events.on("animationstarted",this.handleInterpolationProgress,this),a.events.on("animationprogress",this.handleInterpolationProgress,this),a.events.on("animationended",this.handleInterpolationProgress,this),this._locationAnimations[t]=a,a}var o=this._locationAnimations[t];o&&o.stop(),this.workingLocations[t]=e}else{o=this._locationAnimations[t];if(o&&o.stop(),this.workingLocations[t]=e,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workinglocationchanged")){var l={type:"workinglocationchanged",target:this,property:t};this.events.dispatchImmediately("workinglocationchanged",l)}this.component&&this.component.handleDataItemWorkingLocationChange(this,t)}},e.prototype.setDate=function(t,e,i){!yl(e)&&this.component&&(e=this.component.dateFormatter.parse(e));var s=this.dates[t];s!==e&&(this.dates[t]=e,this.setValue(t,e.getTime(),i))},e.prototype.getDate=function(t){return this._adapterO?this._adapterO.apply("date",{date:this.dates[t],field:t}).date:this.dates[t]},e.prototype.setProperty=function(t,e){if(this.properties[t]!==e){if(this.hasProperties=!0,this.properties[t]=e,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("propertychanged")){var i={type:"propertychanged",target:this,property:t,value:e};this.events.dispatchImmediately("propertychanged",i)}this.component&&this.component.handleDataItemPropertyChange(this,t)}},e.prototype.setCategory=function(t,e){bl(e)||(e=hl(e)),this.categories[t]!==e&&(this.categories[t]=e)},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),e.dataContext&&(this.dataContext=cp(e.dataContext,{})),lp(e.locations,this.locations),e._adapterO&&this.adapter.copyFrom(e._adapterO),this.component=e.component},Object.defineProperty(e.prototype,"opacity",{set:function(t){th(this.sprites,(function(e){e.opacity=t}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ignoreMinMax",{get:function(){return this._ignoreMinMax},set:function(t){if(this._ignoreMinMax=t,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("propertychanged")){var e={type:"propertychanged",target:this,property:"ignoreMinMax",value:t};this.events.dispatchImmediately("propertychanged",e)}this.component&&this.component.handleDataItemPropertyChange(this,"ignoreMinMax")},enumerable:!0,configurable:!0}),e.prototype.animate=function(t,e,i){return new ed(this,t,e,i).start()},e.prototype.handleInterpolationProgress=function(t){var e=t.target,i=e.animationOptions[0];if(i){if(this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workingvaluechanged")){var s={type:"workingvaluechanged",target:this,property:i.dummyData};this.events.dispatchImmediately("workingvaluechanged",s)}this.component&&this.component.handleDataItemWorkingValueChange(this,i.dummyData)}},e.prototype.hasValue=function(t){for(var e=0,i=t.length;e<i;e++){var s=this.values[t[e]];if(!s||!gl(s.value))return!1}return!0},Object.defineProperty(e.prototype,"depth",{get:function(){return this.parent?this.parent.depth+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataContext",{get:function(){return this._dataContext},set:function(t){this._dataContext=t},enumerable:!0,configurable:!0}),e.prototype.addSprite=function(t){t.dataItem&&t.dataItem!=this&&rh(t.dataItem.sprites,t),this.visible||t.hide(0),this.isHiding&&t.hide(),this.sprites.push(t),t.dataItem=this},e}(Ju),Kg=function(t){function e(){var e=t.call(this)||this;return e.dataFields={},e._dataSources={},e._parseDataFrom=0,e._dataDisposers=[],e._currentDataSetId="",e._start=0,e._end=1,e.skipRangeEvent=!1,e.rangeChangeDuration=0,e.rangeChangeEasing=_c,e.parsingStepDuration=50,e.dataInvalid=!1,e.rawDataInvalid=!1,e.dataRangeInvalid=!1,e.dataItemsInvalid=!1,e.interpolationDuration=0,e.interpolationEasing=_c,e.sequencedInterpolation=!0,e.sequencedInterpolationDelay=0,e.dataValidationProgress=0,e._addAllDataItems=!0,e._usesData=!0,e.className="Component",e.minZoomCount=1,e.maxZoomCount=0,e._dataItems=new Pu(e.createDataItem()),e._dataItems.events.on("inserted",e.handleDataItemAdded,e,!1),e._dataItems.events.on("removed",e.handleDataItemRemoved,e,!1),e._disposers.push(new yu(e._dataItems)),e._disposers.push(e._dataItems.template),e.invalidateData(),e.dataUsers.events.on("inserted",e.handleDataUserAdded,e,!1),e._disposers.push(new bh(e._dataDisposers)),e._start=0,e._end=1,e.maxZoomDeclination=1,e.applyTheme(),e}return Tt(e,t),e.prototype.createDataItem=function(){return new Ug},e.prototype.handleDataUserAdded=function(t){var e=t.newValue;e.dataProvider=this},e.prototype.handleDataItemValueChange=function(t,e){this.dataItemsInvalid||this.invalidateDataItems()},e.prototype.handleDataItemWorkingValueChange=function(t,e){},e.prototype.handleDataItemWorkingLocationChange=function(t,e){},e.prototype.handleDataItemCalculatedValueChange=function(t,e){},e.prototype.handleDataItemPropertyChange=function(t,e){},e.prototype.processDataItem=function(t,e){var i=this;if(t){e||(e={}),t.dataContext=e;var s=!1;Hh(this.dataFields,(function(n,r){var a=n,o=e[r];if(i._adapterO&&i._adapterO.isEnabled("dataContextValue")&&(o=i._adapterO.apply("dataContextValue",{field:a,value:o,dataItem:t}).value),gl(o))if(s=!0,t.hasChildren[a]){var l=i.createDataItem();l.copyFrom(i.mainDataSet.template);var h=new Pu(l);h.events.on("inserted",i.handleDataItemAdded,i,!1),h.events.on("removed",i.handleDataItemRemoved,i,!1),i._dataDisposers.push(new yu(h));for(var u=o.length,p=0;p<u;p++){var c=o[p],d=h.create();d.parent=t,i.processDataItem(d,c)}var g=t;g[a]=h}else t[a]=o})),Hh(this.propertyFields,(function(i,n){var r=i,a=e[n];gl(a)&&(s=!0,t.setProperty(r,a))})),this._addAllDataItems||s||this.mainDataSet.remove(t)}},e.prototype.updateDataItem=function(t){var e=this;if(t){var i=t.dataContext;Hh(this.dataFields,(function(s,n){var r=s,a=i[n];if(e._adapterO&&(a=e._adapterO.apply("dataContextValue",{field:r,value:a,dataItem:t}).value),gl(a))if(t.hasChildren[r]){var o=t,l=o[r];l.each((function(t){e.updateDataItem(t)}))}else t[r]=a})),Hh(this.propertyFields,(function(e,s){var n=e,r=i[s];gl(r)&&t.setProperty(n,r)}))}},e.prototype.validateDataElements=function(){for(var t=this.endIndex,e=this.startIndex;e<t;e++){var i=this.dataItems.getIndex(e);i&&this.validateDataElement(i)}},e.prototype.validate=function(){this.validateDataElements(),t.prototype.validate.call(this)},e.prototype.validateDataElement=function(t){},e.prototype.addData=function(t,e,i){var s=this;if(!this.dataInvalid&&this.inited&&(this._parseDataFrom=this.data.length),i||(t instanceof Array?th(t,(function(t){s.data.push(t)})):this.data.push(t)),this.inited)this.removeData(e,i);else if(vl(e))while(e>0)this.data.shift(),e--;this.invalidateData()},e.prototype.removeData=function(t,e){if(vl(t)&&t>0){while(t>0){var i=this.mainDataSet.getIndex(0);i&&this.mainDataSet.remove(i),this.dataUsers.each((function(t){if(!t.data||0==t.data.length){var e=t.mainDataSet.getIndex(0);e&&t.mainDataSet.remove(e)}})),e||this.data.shift(),this._parseDataFrom>0&&this._parseDataFrom--,t--}this.invalidateDataItems()}},e.prototype.invalidateData=function(){this.disabled||this.isTemplate||(gu.addToInvalidComponents(this),Fg.requestFrame(),this.dataInvalid=!0,qh(this.dataUsers.iterator(),(function(t){t.invalidateDataItems()})))},e.prototype.invalidateDataUsers=function(){qh(this.dataUsers.iterator(),(function(t){t.invalidate()}))},e.prototype.invalidateDataItems=function(){this.disabled||this.isTemplate||(ah(gu.invalidDataItems,this),Fg.requestFrame(),this.dataItemsInvalid=!0,qh(this.dataUsers.iterator(),(function(t){t.invalidateDataItems()})))},e.prototype.invalidateDataRange=function(){this.disabled||this.isTemplate||(this.dataRangeInvalid=!0,ah(gu.invalidDataRange,this),Fg.requestFrame())},e.prototype.validateDataRange=function(){rh(gu.invalidDataRange,this),this.dataRangeInvalid=!1,this.startIndex==this._prevStartIndex&&this.endIndex==this._prevEndIndex||(this.rangeChangeUpdate(),this.appendDataItems(),this.invalidate(),this.dispatchImmediately("datarangechanged"))},e.prototype.sliceData=function(){this._workingStartIndex=this.startIndex,this._workingEndIndex=this.endIndex},e.prototype.rangeChangeUpdate=function(){this.sliceData(),this._prevStartIndex=this.startIndex,this._prevEndIndex=this.endIndex},e.prototype.appendDataItems=function(){for(var t=this.endIndex,e=this.startIndex;e<t;e++){var i=this.dataItems.getIndex(e);i&&(i.__disabled=!1)}for(e=0;e<this.startIndex;e++){i=this.dataItems.getIndex(e);i&&(i.__disabled=!0)}for(e=this.endIndex;e<this.dataItems.length;e++){i=this.dataItems.getIndex(e);i&&(i.__disabled=!0)}},e.prototype.invalidateRawData=function(){this.disabled||this.isTemplate||(ah(gu.invalidRawDatas,this),Fg.requestFrame(),this.rawDataInvalid=!0,qh(this.dataUsers.iterator(),(function(t){t.invalidateRawData()})))},e.prototype.validateRawData=function(){var t=this;rh(gu.invalidRawDatas,this),qh(this.mainDataSet.iterator(),(function(e){e&&t.updateDataItem(e)}))},e.prototype.dispose=function(){var e=this;this.mainDataSet.template.clones.clear(),Hh(this._dataSources,(function(t,i){e.removeDispose(i)})),this.disposeData(),t.prototype.dispose.call(this)},e.prototype.disposeData=function(){this.mainDataSet.template.clones.clear(),th(this._dataDisposers,(function(t){t.dispose()})),qh(this.dataUsers.iterator(),(function(t){t.disposeData()})),this._dataDisposers.length=0,this._startIndex=void 0,this._endIndex=void 0,this.mainDataSet.clear(),this.mainDataSet.template.clones.clear(),this._dataSets&&this._dataSets.clear()},e.prototype.getDataItem=function(t){return this.mainDataSet.create()},e.prototype.validateData=function(){if(this.dispatchImmediately("beforedatavalidated"),this.dataInvalid=!1,gu.removeFromInvalidComponents(this),!this.__disabled){if(this.dataValidationProgress=0,this._prevStartIndex=void 0,this._prevEndIndex=void 0,this._startIndex=void 0,this._endIndex=void 0,this.dataFields.data&&this.dataItem){var t=this.dataItem.dataContext;this._data=t[this.dataFields.data]}if(0===this._parseDataFrom&&this.data.length>0&&this.disposeData(),this.data.length>0){var e=this.preloader;qh(this.dataUsers.iterator(),(function(t){t._startIndex=void 0,t._endIndex=void 0}));var i=0,s=Date.now(),n=this._parseDataFrom,r=this.data.length,a=function(){var t=o.data[n];if(o._usesData){var r=o.getDataItem(t);o.processDataItem(r,t)}if(o.dataUsers.each((function(e){if(0==e.data.length){var i=e.getDataItem(t);e.processDataItem(i,t)}})),i++,100==i){i=0;var a=Date.now()-s;if(a>o.parsingStepDuration&&n<o.data.length-10)return o._parseDataFrom=n+1,e&&(n/o.data.length>.5&&!e.visible||(e.progress=n/o.data.length)),o.dataValidationProgress=n/o.data.length,n=o.data.length,o.invalidateData(),{value:void 0}}},o=this;for(n;n<r;n++){var l=a();if("object"===typeof l)return l.value}e&&(e.progress=1),this.dataUsers.each((function(t){(t.hidden||t.appeared&&!t.visible&&t.stacked)&&t.hide(0)}))}this.dataValidationProgress=1,this._parseDataFrom=0,this.invalidateDataItems(),this._internalDefaultsApplied||this.applyInternalDefaults(),this.dispatch("datavalidated")}},e.prototype.validateDataItems=function(){rh(gu.invalidDataItems,this),this.dataItemsInvalid=!1,this.invalidateDataRange(),this.invalidate(),this.dispatch("dataitemsvalidated")},Object.defineProperty(e.prototype,"data",{get:function(){return this._data||(this._data=[]),this._adapterO?this._adapterO.apply("data",this._data):this._data},set:function(t){this.setData(t)},enumerable:!0,configurable:!0}),e.prototype.setData=function(t){this.isDisposed()||(this._parseDataFrom=0,this.disposeData(),this._data=t,t&&t.length>0?this.invalidateData():(this.dispatchImmediately("beforedatavalidated"),this.dispatch("datavalidated")))},e.prototype.getDataSource=function(t){var e=this;return gl(this._dataSources[t])||(this._dataSources[t]=new Wg,this._dataSources[t].component=this,this.setDataSourceEvents(this._dataSources[t],t),this._dataSources[t].adapter.add("dateFields",(function(t){return e.dataSourceDateFields(t)})),this._dataSources[t].adapter.add("numberFields",(function(t){return e.dataSourceNumberFields(t)})),this.events.on("inited",(function(){e.loadData(t)}),this,!1)),this._dataSources[t]},Object.defineProperty(e.prototype,"dataSource",{get:function(){return this._dataSources["data"]||this.getDataSource("data"),this._dataSources["data"]},set:function(t){var e=this;this._dataSources["data"]&&this.removeDispose(this._dataSources["data"]),this._dataSources["data"]=t,this._dataSources["data"].component=this,this.events.on("inited",(function(){e.loadData("data")}),this,!1),this.setDataSourceEvents(t,"data")},enumerable:!0,configurable:!0}),e.prototype.loadData=function(t){this._dataSources[t].load()},e.prototype.dataSourceDateFields=function(t){return t},e.prototype.dataSourceNumberFields=function(t){return t},e.prototype.populateDataSourceFields=function(t,e,i){return th(i,(function(i){e[i]&&-1===$l(t,e[i])&&t.push(e[i])})),t},e.prototype.setDataSourceEvents=function(t,e){var i=this;t.events.on("started",(function(t){var e=i.preloader;e&&(e.progress=0)}),void 0,!1),t.events.on("loadstarted",(function(t){var e=i.preloader;e&&(e.progress=.25)}),void 0,!1),t.events.on("loadended",(function(t){var e=i.preloader;e&&(e.progress=.5)}),void 0,!1),t.events.on("parseended",(function(t){var e=i.preloader;e&&(e.progress=.75)}),void 0,!1),t.events.on("ended",(function(t){var e=i.preloader;e&&(e.progress=1)}),void 0,!1),t.events.on("error",(function(t){var e=i.preloader;e&&(e.progress=1),i.openModal(t.message)}),void 0,!1),e&&t.events.on("done",(function(s){var n=i.preloader;n&&(n.progress=1),"data"!=e||xl(s.data)||(s.data=[s.data]),t.incremental&&"data"==e&&i.data.length?i.addData(s.data,t.keepCount?s.data.length:0):t.updateCurrentData&&"data"==e&&i.data.length?(th(i.data,(function(t,e){gl(s.data[e])&&Hh(t,(function(i,n){gl(s.data[e][i])&&(t[i]=s.data[e][i])}))})),i.invalidateRawData()):i[e]=s.data}))},Object.defineProperty(e.prototype,"responsive",{get:function(){return this._responsive||(this._responsive=new Yg,this._responsive.component=this),this._responsive},set:function(t){this._responsive=t,this._responsive.component=this},enumerable:!0,configurable:!0}),e.prototype.zoom=function(t,e,i,s){var n=this;void 0===e&&(e=!1),void 0===i&&(i=!1);var r=t.start,a=t.end,o=t.priority;if(t.start==t.end&&(t.start=t.start-.5/this.maxZoomFactor,t.end=t.end+.5/this.maxZoomFactor),"end"==o&&1==a&&0!=r&&r<this.start&&(o="start"),"start"==o&&0==r&&a>this.end&&(o="end"),vl(s)||(s=this.maxZoomDeclination),!vl(r)||!vl(a))return{start:this.start,end:this.end};if(this._finalStart!=r||this._finalEnd!=a){var l=this.maxZoomFactor/this.minZoomCount,h=this.maxZoomFactor/this.maxZoomCount;if("start"==o?(this.maxZoomCount>0&&1/(a-r)<h&&(a=r+1/h),1/(a-r)>l&&(a=r+1/l),a>1&&a-r<1/l&&(r=a-1/l)):(this.maxZoomCount>0&&1/(a-r)<h&&(r=a-1/h),1/(a-r)>l&&(r<=0?a=r+1/l:r=a-1/l),r<0&&a-r<1/l&&(a=r+1/l)),r<-s&&(r=-s),1/(a-r)>l&&(a=r+1/l),a>1+s&&(a=1+s),1/(a-r)>l&&(r=a-1/l),this._finalEnd=a,this._finalStart=r,this.skipRangeEvent=e,this.dispatchImmediately("rangechangestarted"),this.rangeChangeDuration>0&&!i){var u=this.rangeChangeAnimation;if(u&&u.progress<1){var p=u.animationOptions;if(p.length>1){if(p[0].to==r&&p[1].to==a)return{start:r,end:a};u.isDisposed()||u.stop()}}this.rangeChangeAnimation&&this.rangeChangeAnimation.kill(),u=this.animate([{property:"start",to:r},{property:"end",to:a}],this.rangeChangeDuration,this.rangeChangeEasing),this.rangeChangeAnimation=u,u&&!u.isFinished()?u.events.on("animationended",(function(){n.dispatchImmediately("rangechangeended")})):this.dispatchImmediately("rangechangeended")}else this.start=r,this.end=a,this.dispatch("rangechangeended")}return{start:r,end:a}},e.prototype.zoomToIndexes=function(t,e,i,s){if(vl(t)&&vl(e)){var n=t/this.dataItems.length,r=e/this.dataItems.length;this.zoom({start:n,end:r},i,s)}},Object.defineProperty(e.prototype,"zoomFactor",{get:function(){return Cl(1/(this.end-this.start),1,this.maxZoomFactor)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxZoomFactor",{get:function(){return this.getPropertyValue("maxZoomFactor")},set:function(t){this.setPropertyValue("maxZoomFactor",t)&&(1==t&&(this.maxZoomDeclination=0),this.invalidateDataRange())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxZoomDeclination",{get:function(){return this.getPropertyValue("maxZoomDeclination")},set:function(t){this.setPropertyValue("maxZoomDeclination",t)&&this.invalidateDataRange()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startIndex",{get:function(){return vl(this._startIndex)||(this._startIndex=0),this._startIndex},set:function(t){this._startIndex=Cl(Math.round(t),0,this.dataItems.length),this.start=this.indexToPosition(this._startIndex)},enumerable:!0,configurable:!0}),e.prototype.indexToPosition=function(t){return t/this.dataItems.length},Object.defineProperty(e.prototype,"endIndex",{get:function(){var t=this.dataItems.length;return(!vl(this._endIndex)||this._endIndex>t)&&(this._endIndex=t),this._endIndex},set:function(t){this._endIndex=Cl(Math.round(t),0,this.dataItems.length),this.end=this.indexToPosition(this._endIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this._adapterO?this._adapterO.apply("start",this._start):this._start},set:function(t){if(this._start!=t){this._start=t;var e=Math.max(0,Math.floor(this.dataItems.length*t)||0);this._startIndex=Math.min(e,this.dataItems.length),this.invalidateDataRange(),this.invalidate(),this.dispatchImmediately("startchanged"),this.dispatch("startendchanged")}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._adapterO?this._adapterO.apply("end",this._end):this._end},set:function(t){this._end!=t&&(this._end=t,this._endIndex=Math.min(this.dataItems.length,Math.ceil(this.dataItems.length*t)||0),this.invalidateDataRange(),this.invalidate(),this.dispatchImmediately("endchanged"),this.dispatch("startendchanged"))},enumerable:!0,configurable:!0}),e.prototype.removeFromInvalids=function(){t.prototype.removeFromInvalids.call(this),gu.removeFromInvalidComponents(this),rh(gu.invalidDataItems,this),rh(gu.invalidDataRange,this),rh(gu.invalidRawDatas,this)},Object.defineProperty(e.prototype,"dataItems",{get:function(){if(""!=this._currentDataSetId){var t=this.dataSets.getKey(this._currentDataSetId);if(t)return t}return this._dataItems},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataSets",{get:function(){return this._dataSets||(this._dataSets=new hu),this._dataSets},enumerable:!0,configurable:!0}),e.prototype.setDataSet=function(t){if(this._currentDataSetId!=t){var e=this.dataSets.getKey(t);if(e)return this.dataItems.each((function(t){t.__disabled=!0})),this._currentDataSetId=t,this.invalidateDataRange(),this._prevStartIndex=void 0,this.dataItems.each((function(t){t.__disabled=!1})),!0;if(""!=this._currentDataSetId)return this.dataItems.each((function(t){t.__disabled=!0})),this._currentDataSetId="",this.invalidateDataRange(),this._prevStartIndex=void 0,this.dataItems.each((function(t){t.__disabled=!1})),!0}return!1},Object.defineProperty(e.prototype,"currentDataSetId",{get:function(){return this._currentDataSetId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mainDataSet",{get:function(){return this._dataItems},enumerable:!0,configurable:!0}),e.prototype._updateDataItemIndexes=function(t){for(var e=this.mainDataSet.values,i=e.length,s=t;s<i;++s)e[s]._index=s},e.prototype.handleDataItemAdded=function(t){t.newValue.component=this,this._updateDataItemIndexes(t.index),this.dataItemsInvalid||this.invalidateDataItems()},e.prototype.handleDataItemRemoved=function(t){this._updateDataItemIndexes(t.index),this.dataItemsInvalid||this.invalidateDataItems()},e.prototype.bindDataField=function(t,e){this.dataFields[t]=e,this.invalidateDataRange()},e.prototype.invalidateProcessedData=function(){this.resetProcessedRange(),this.invalidateDataRange()},e.prototype.resetProcessedRange=function(){this._prevEndIndex=null,this._prevStartIndex=null},Object.defineProperty(e.prototype,"dataUsers",{get:function(){var t=this;return this._dataUsers||(this._dataUsers=new vu,this._disposers.push(new yh((function(){qh(t._dataUsers.iterator(),(function(t){t.dispose()}))})))),this._dataUsers},enumerable:!0,configurable:!0}),e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e.dataFields=lp(this.dataFields,{}),e},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.data=e.data,this.sequencedInterpolation=e.sequencedInterpolation,this.sequencedInterpolationDelay=e.sequencedInterpolationDelay,this.interpolationDuration=e.interpolationDuration,this.interpolationEasing=e.interpolationEasing},e.prototype.reinit=function(){this._inited=!1,this.deepInvalidate()},e.prototype.getExporting=function(){var e=t.prototype.getExporting.call(this);return e.adapter.has("data",this._exportData,-1,this)||(e.adapter.add("data",this._exportData,-1,this),this.events.on("datavalidated",(function(t){e.handleDataUpdated()}))),e},e.prototype._exportData=function(t){return t.data=this.data,t},e.prototype.setDisabled=function(e){var i=t.prototype.setDisabled.call(this,e);return i&&this.invalidateData(),i},e.prototype.setShowOnInit=function(e){e!=this.getPropertyValue("showOnInit")&&(!e||this.inited||this.hidden?this._showOnInitDisposer2&&this.removeDispose(this._showOnInitDisposer2):(this._showOnInitDisposer2=this.events.once("dataitemsvalidated",this.hideInitially,this,!1),this._disposers.push(this._showOnInitDisposer2))),t.prototype.setShowOnInit.call(this,e)},e.prototype.setBaseId=function(e){e!=this._baseId&&this.dataInvalid&&(this.dataInvalid=!1,gu.removeFromInvalidComponents(this),this._baseId=e,this.invalidateData()),t.prototype.setBaseId.call(this,e)},Object.defineProperty(e.prototype,"minZoomCount",{get:function(){return this.getPropertyValue("minZoomCount")},set:function(t){this.setPropertyValue("minZoomCount",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxZoomCount",{get:function(){return this.getPropertyValue("maxZoomCount")},set:function(t){this.setPropertyValue("maxZoomCount",t)},enumerable:!0,configurable:!0}),e.prototype._systemCheckIfValidate=function(){return!(this.dataInvalid||this.dataProvider&&this.dataProvider.dataInvalid)},e.prototype.asFunction=function(e){return"interpolationEasing"==e||"rangeChangeEasing"==e||t.prototype.asIs.call(this,e)},e}(Lg);gu.registeredClasses.Component=Kg;var Zg=function(t){function e(){var e=t.call(this)||this;return e.isOversized=!1,e.className="Label",e.fill=(new Td).getFor("text"),e.wrap=!1,e.truncate=!1,e.fullWords=!0,e.ellipsis="…",e.textAlign="start",e.textValign="top",e.layout="absolute",e.baseLineRatio=-.27,e._positionPrecision=1,e.events.on("maxsizechanged",(function(){e.inited&&e.handleMaxSize()}),e,!1),e.events.once("validated",e.handleValidate,e,!1),e.applyTheme(),e}return Tt(e,t),e.prototype.afterDraw=function(){t.prototype.afterDraw.call(this),this.validatePosition()},e.prototype.setPaper=function(e){var i=t.prototype.setPaper.call(this,e);return i&&this.hardInvalidate(),i},e.prototype.handleValidate=function(){!this.currentText&&!this.text||0!=this.bbox.width&&0!=this.bbox.height||gu.events.once("exitframe",this.hardInvalidate,this)},e.prototype.handleMaxSize=function(){(this.bbox.width>this.availableWidth||this.bbox.width<this.availableWidth&&(this.isOversized||this.truncate)||this.bbox.height>this.availableHeight||this.bbox.height<this.availableHeight&&this.isOversized)&&this.invalidate()},e.prototype.arrange=function(){},e.prototype.updateCurrentText=function(){var t,e;dp(this.html)&&this.paper.supportsForeignObject()?(t="html",e=this.html):(t="svg",e=this.text),_l(e)&&(e=e.toString()),gl(e)&&""!==e&&(e=this.populateString(e,this.dataItem)),"html"==t?this._adapterO&&(e=this._adapterO.apply("htmlOutput",e)):this._adapterO&&(e=this._adapterO.apply("textOutput",e));var i=e!=this.currentText||t!=this._currentFormat;return this.currentText=e,this._currentFormat=t,i},e.prototype.hardInvalidate=function(){this._prevStatus="",this.invalidate()},e.prototype.getLineBBox=function(t){var e=t&&t.element,i=e&&e.node;i&&i.parentNode&&(t.bbox=e.getBBox())},e.prototype.draw=function(){t.prototype.draw.call(this);var e=this.bbox.width,i=this.bbox.height,s=this.topParent;if(!s||s.maxWidth&&s.maxHeight){var n=jl(this.availableWidth-this.pixelPaddingLeft-this.pixelPaddingRight,0),r=jl(this.availableHeight-this.pixelPaddingTop-this.pixelPaddingBottom,0),a=r+","+n+this.wrap+this.truncate+this.fullWords+this.rtl+this.ellipsis;if(this.updateCurrentText()||!this.inited||this._prevStatus!=a){this._measuredWidth=0,this._measuredHeight=0,this.isOversized=!1;var o=this._currentFormat,l=this.currentText;if(gl(l)&&""!=l){var h=l.split("\n");this._prevStatus=a,this.textAlign=this.textAlign;var u=this.group.getAttr("display");if("none"==u&&this.group.removeAttr("display"),this.textPathElement&&this.textPathElement.removeChildren(),"svg"===o){this.element.removeAttr("display");var p=this.element;this.resetBBox();for(var c=0,d="",g=0;g<h.length;g++){var f=h[g];if(""!=f){var m=pg().chunk(f,null,this.ignoreFormatting),y=0,b=!0,v=!1,_=this.getLineInfo(g);_?(_.text="",_.element.textContent=""):(_={text:"",element:this.getSVGLineElement("",0),complex:!1},p.add(_.element)),_.element.removeAttr("display"),_.element.removeChildren(),this.textPathElement&&_.element.add(this.textPathElement);for(var x=0;x<m.length;x++){x&&(_.complex=!0);var w=m[x];if("format"===w.type)d=w.text;else{if(v)continue;if(_.text=w.text,_.style=pg().translateStyleShortcuts(d),this.textPathElement?this.getSvgElement(_.text,_.style,this.textPathElement):this.getSvgElement(_.text,_.style,_.element),this.getLineBBox(_),_.bbox.width=Math.ceil(_.bbox.width),y<_.bbox.height&&(y=_.bbox.height),(this.wrap||this.truncate)&&_.bbox.width>n){this.isOversized=!0;var P=_.element.textContent,O=_.bbox.width/P.length,k=El(Math.ceil((_.bbox.width-n)/O),P.length);if(this.truncate){var D=!1,T=_.element.node;if(T&&T.childNodes)for(var S=_.element.node.childNodes.length-1;S>=0;S--){var C=_.element.node.childNodes[S];if(D&&_.bbox.width<=n&&(C.textContent+=" "+this.ellipsis,_.bbox=_.element.getBBox(),_.bbox.width=Math.floor(_.bbox.width),_.bbox.width<=n))break;D=!1;var M=C.textContent;P=_.element.textContent,k=El(Math.ceil((_.bbox.width-n)/O),P.length);while(_.bbox.width>n&&k<=P.length&&k>0){var I=jl(P.length-k-this.ellipsis.length,1);I<=1&&(k=0,S>0&&(D=!0,_.element.node.removeChild(C))),M=vp(M,I,this.ellipsis,this.fullWords,this.rtl),M.length>I&&this.fullWords&&(M=vp(M,I,this.ellipsis,!1,this.rtl)),C.textContent=M,_.bbox=_.element.getBBox(),_.bbox.width=Math.floor(_.bbox.width),k=Math.ceil(1.1*k)}v=!0}}else{var j=_.element.node;if(j){var E=_.element.node.lastChild,L=void 0;while(_.bbox.width>n&&k<=P.length&&k>0){I=jl(w.text.length-k,1);if(b?L=bp(w.text,I,!0,this.rtl):(L=bp(w.text,I,!0,this.rtl,!1),(L[0].length>I||1===I)&&(_.element.node.removeChild(E),k=0)),k>0){var A=L.shift();b&&(A=_p(A)),E.textContent=pg().cleanUp(A)}_.bbox=_.element.getBBox(),_.bbox.width=Math.floor(_.bbox.width),k++}if(L.length>0){var F="";gl(L)&&(this.rtl?F+=L.join("")+d:F+=d+L.join("").replace(/([\[\]]{1})/g,"$1$1"));for(var R=x+1;R<m.length;R++)"value"==m[R].type?F+=m[R].text.replace(/([\[\]]{1})/g,"$1$1"):F+=m[R].text;h.splice(g+1,0,F)}v=!0}}}this.bbox.width<_.bbox.width&&(this.bbox.width=_.bbox.width),this.bbox.height=c+y,this.textPathElement?_.element.attr({dy:-this.paddingBottom.toString()}):_.element.attr({x:"0",y:c+y,dy:Tl(this.baseLineRatio*y,3).toString()}),b=!1}}var V=_.element.node;if(V){E=V.lastChild;E&&(E.textContent=this.rtl?wp(E.textContent):xp(E.textContent))}c+=y,this.addLineInfo(_,g)}else{var B=this.getSVGLineElement("",0);B.add(this.getSvgElement(".",pg().translateStyleShortcuts(d))),p.add(B);var N=Math.ceil(B.getBBox().height);N>0&&(c+=N),p.removeElement(B);var H=this.getLineInfo(g);H&&(H.text="",H.element.textContent="")}}this.maybeHideOversized(),this.measureFailed=!1,0!=this.bbox.width&&0!=this.bbox.height||(this.measureFailed=!0),this._measuredWidth=Tl(jl(this.bbox.width,this.pixelWidth-this.pixelPaddingLeft-this.pixelPaddingRight)),this._measuredHeight=Tl(jl(this.bbox.height,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom)),this.alignSVGText(),this.bbox.width=this._measuredWidth,this.bbox.height=this._measuredHeight,i==this._measuredHeight&&e==this._measuredWidth||this.dispatch("transformed"),this.hideUnused(h.length)}else{this.element.removeAttr("display"),this.resetBBox();p=this.element;p.removeChildren(),this.setCache("lineInfo",[],0);var z=this.paper.foreignObject();p.add(z),this.maxWidth&&z.attr({width:this.maxWidth-this.pixelPaddingLeft-this.pixelPaddingRight}),this.maxHeight&&z.attr({height:this.maxHeight-this.pixelPaddingTop-this.pixelPaddingBottom});var W=this.getHTMLLineElement(l);z.node.appendChild(W),W.style.display="inline-block";var Y=W.clientWidth,G=W.clientHeight;W.style.display="block",this._bbox={x:0,y:0,width:Y,height:G},z.attr({width:Y+1,height:G}),this.maybeHideOversized(),this._measuredWidth=jl(this.bbox.width,this.pixelWidth-this.pixelPaddingLeft-this.pixelPaddingRight),this._measuredHeight=jl(this.bbox.height,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom),this.bbox.width=this._measuredWidth,this.bbox.height=this._measuredHeight,this.truncate&&(W.style.overflow="hidden"),(Y>n||G>r)&&(this.isOversized=!0)}this.setStyles(),this.updateCenter(),this.updateBackground(),"none"==u&&this.group.attr({display:"none"}),this.pathElement&&this.paper.appendDef(this.pathElement)}else this.element.attr({display:"none"})}}else s.events.once("maxsizechanged",this.hardInvalidate,this,!1)},e.prototype.maybeHideOversized=function(){this.hideOversized&&(this.availableWidth<this.bbox.width||this.availableHeight<this.bbox.height?(this.element.attr({display:"none"}),this.isOversized=!0):(this.element.removeAttr("display"),this.isOversized=!1))},e.prototype.alignSVGText=function(){var t=this.element,e=t.node.children||t.node.childNodes;if(e&&(!e||0!=e.length)){var i=this._measuredWidth,s=this._measuredHeight;op(this.pixelPaddingLeft),op(this.pixelPaddingRight),op(this.pixelPaddingTop),op(this.pixelPaddingBottom),this.rtl?t.attr({direction:"rtl"}):t.removeAttr("direction");for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.setAttribute("text-anchor",this.textAlign),this.textPathElement)r.removeAttribute("x"),r.removeAttribute("y");else{switch(this.textAlign){case"middle":r.setAttribute("x",(i/2).toString()+"px");break;case"end":this.rtl||r.setAttribute("x",i.toString());break;default:this.rtl?r.setAttribute("x",i.toString()):r.removeAttribute("text-anchor");break}var a=pl(r.getAttribute("y"));switch(this.textValign){case"middle":r.setAttribute("y",((a||0)+(s-this.bbox.height)/2).toString());break;case"bottom":r.setAttribute("y",((a||0)+s-this.bbox.height).toString());break;default:r.setAttribute("y",(a||0).toString());break}}}}},e.prototype.getSVGLineElement=function(t,e){var i=this.paper.addGroup("text");return i.textContent=t,i.attr({x:"0"}),gl(e)&&i.attr({y:e.toString()}),(this.truncate||this.wrap)&&i.attr({overflow:"hidden"}),i},Object.defineProperty(e.prototype,"rtl",{get:function(){return gl(this._rtl)?this._rtl:!!this._topParent&&this._topParent.rtl},set:function(t){t=ul(t),this._rtl=t,this.element&&this.alignSVGText()},enumerable:!0,configurable:!0}),e.prototype.resetBBox=function(){this._bbox={x:0,y:0,width:0,height:0}},e.prototype.getHTMLLineElement=function(t){var e=document.createElement("div");switch(e.innerHTML=t,this.textAlign){case"middle":e.style.textAlign="center";break;case"end":e.style.textAlign="right";break}return this.wrap?e.style.wordWrap="break-word":e.style.whiteSpace="nowrap",this.rtl&&(e.style.direction="rtl"),gl(this.fill)&&(e.style.color=this.fill.toString()),e},e.prototype.setStyles=function(){var t=this.element;!this.selectable||this.draggable||this.resizable||this.swipeable?t.addStyle({webkitUserSelect:"none",msUserSelect:"none"}):this.selectable&&(t.removeStyle("webkitUserSelect"),t.removeStyle("msUserSelect"))},e.prototype.hideUnused=function(t){this.initLineCache();var e=this.getCache("lineInfo");if(e.length>=t)for(var i=t;i<e.length;i++){var s=e[i];s&&s.element&&s.element.attr({display:"none"})}},Object.defineProperty(e.prototype,"text",{get:function(){return this.getPropertyValue("text")},set:function(t){this.setPropertyValue("text",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.getPropertyValue("path")},set:function(t){this.setPropertyValue("path",t,!0)&&(this.pathElement&&this.pathElement.dispose(),this.textPathElement&&this.textPathElement.dispose(),this.pathElement=this.paper.add("path"),this.pathElement.attr({d:t}),this.pathElement.attr({id:"text-path-"+this.uid}),this._disposers.push(this.pathElement),this.textPathElement=this.paper.addGroup("textPath"),this.textPathElement.attrNS(nd,"xlink:href","#text-path-"+this.uid),this.textPathElement.attr({path:t}),this._disposers.push(this.textPathElement),this.hardInvalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locationOnPath",{get:function(){return this.getPropertyValue("locationOnPath")},set:function(t){this.setPropertyValue("locationOnPath",t),this.textPathElement&&this.textPathElement.attr({startOffset:100*t+"%"})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baseLineRatio",{get:function(){return this.getPropertyValue("baseLineRatio")},set:function(t){this.setPropertyValue("baseLineRatio",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrap",{get:function(){return this.getPropertyValue("wrap")},set:function(t){this.resetBBox(),this.setPropertyValue("wrap",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"truncate",{get:function(){return this.getPropertyValue("truncate")},set:function(t){this.resetBBox(),this.setPropertyValue("truncate",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullWords",{get:function(){return this.getPropertyValue("fullWords")},set:function(t){this.setPropertyValue("fullWords",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ellipsis",{get:function(){return this.getPropertyValue("ellipsis")},set:function(t){this.setPropertyValue("ellipsis",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectable",{get:function(){return this.getPropertyValue("selectable")},set:function(t){this.setPropertyValue("selectable",t,!0),this.setStyles()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textAlign",{get:function(){return this.getPropertyValue("textAlign")},set:function(t){this.setPropertyValue("textAlign",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textValign",{get:function(){return this.getPropertyValue("textValign")},set:function(t){this.setPropertyValue("textValign",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"html",{get:function(){return this.getPropertyValue("html")},set:function(t){if(this.setPropertyValue("html",t,!0),!gl(t)){var e=this.element;e.removeChildrenByTag("foreignObject")}},enumerable:!0,configurable:!0}),e.prototype.setFill=function(e){if(t.prototype.setFill.call(this,e),this.html)for(var i=this.element,s=i.node.getElementsByTagName("div"),n=0;n<s.length;n++){var r=s[n];gl(this.fill)&&(r.style.color=this.fill.toString())}},Object.defineProperty(e.prototype,"hideOversized",{get:function(){return this.getPropertyValue("hideOversized")},set:function(t){this.setPropertyValue("hideOversized",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ignoreFormatting",{get:function(){return this.getPropertyValue("ignoreFormatting")},set:function(t){this.setPropertyValue("ignoreFormatting",t,!0)},enumerable:!0,configurable:!0}),e.prototype.measureElement=function(){},e.prototype.getLineInfo=function(t){this.initLineCache();var e=this.getCache("lineInfo");return e.length>t?e[t]:void 0},e.prototype.addLineInfo=function(t,e){this.initLineCache(),this.getCache("lineInfo")[e]=t},e.prototype.initLineCache=function(){gl(this.getCache("lineInfo"))||this.setCache("lineInfo",[],0)},e.prototype.setDataItem=function(e){this._sourceDataItemEvents&&this._sourceDataItemEvents.dispose(),e&&(this._sourceDataItemEvents=new bh([e.events.on("valuechanged",this.invalidate,this,!1),e.events.on("workingvaluechanged",this.invalidate,this,!1),e.events.on("calculatedvaluechanged",this.invalidate,this,!1),e.events.on("propertychanged",this.invalidate,this,!1)])),t.prototype.setDataItem.call(this,e)},Object.defineProperty(e.prototype,"availableWidth",{get:function(){return gl(this.maxWidth)?this.maxWidth:this.pixelWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"availableHeight",{get:function(){return gl(this.maxHeight)?this.maxHeight:this.pixelHeight},enumerable:!0,configurable:!0}),e.prototype.getSvgElement=function(t,e,i){var s=this.paper.add("tspan");if(s.textContent=t,e)if(Kc.nonce&&i){var n="amcharts_element_style_"+btoa(e).replace(/[^\w]*/g,"");s.node.setAttribute("class",n);var r=document.createElementNS(id,"defs");i.node.appendChild(r);var a=document.createElement("style");a.type="text/css",a.innerHTML="."+n+" { "+e+"}",a.setAttribute("nonce",Kc.nonce),r.appendChild(a)}else s.node.setAttribute("style",e);return i&&i.add(s),s},e.prototype.deepInvalidate=function(){t.prototype.deepInvalidate.call(this),this.hardInvalidate()},Object.defineProperty(e.prototype,"readerTitle",{get:function(){var t=this.getPropertyValue("readerTitle");return t?this.dataItem&&(t=this.populateString(t)):t=this.populateString(Sp(dp(this.html)?this.html:this.text)),t},set:function(t){t=cl(t),this.setPropertyValue("readerTitle",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),e}(Lg);gu.registeredClasses.Label=Zg,Gg.push({relevant:Xg.heightXS,state:function(t,e){if(t instanceof Zg&&t.parent&&t.parent.isBaseSprite){var i=t.states.create(e);return i.properties.disabled=!0,i}return null}});var qg=function(t){function e(){var e=t.call(this)||this;return e.className="RoundedRectangle",e.element=e.paper.add("path"),e.cornerRadius(3,3,3,3),e.applyTheme(),e}return Tt(e,t),e.prototype.draw=function(){t.prototype.draw.call(this);var e=this.innerWidth,i=this.innerHeight;if(vl(e)&&vl(i)){var s=El(e,i)/2,n=gp(this.cornerRadiusTopLeft,s),r=gp(this.cornerRadiusTopRight,s),a=gp(this.cornerRadiusBottomRight,s),o=gp(this.cornerRadiusBottomLeft,s),l=El(Math.abs(e/2),Math.abs(i/2)),h=Cl(n,0,l),u=Cl(r,0,l),p=Cl(a,0,l),c=Cl(o,0,l),d="M"+h+",0 L"+(e-u)+",0",g=" L"+c+","+i,f=" L0,"+h,m=" L"+e+","+(i-p),y=" a"+u+","+u+" 0 0 1 "+u+","+u,b=" a"+p+","+p+" 0 0 1 -"+p+","+p,v=" a"+c+","+c+" 0 0 1 -"+c+",-"+c,_=" a"+h+","+h+" 0 0 1 "+h+",-"+h,x=d+y+m+b+g+v+f+_+" Z";this.path=x}},e.prototype.cornerRadius=function(t,e,i,s){this.cornerRadiusTopLeft=t,this.cornerRadiusTopRight=e,this.cornerRadiusBottomLeft=i,this.cornerRadiusBottomRight=s},Object.defineProperty(e.prototype,"cornerRadiusTopLeft",{get:function(){return this.getPropertyValue("cornerRadiusTopLeft")},set:function(t){this.setPercentProperty("cornerRadiusTopLeft",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cornerRadiusTopRight",{get:function(){return this.getPropertyValue("cornerRadiusTopRight")},set:function(t){this.setPercentProperty("cornerRadiusTopRight",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cornerRadiusBottomRight",{get:function(){return this.getPropertyValue("cornerRadiusBottomRight")},set:function(t){this.setPercentProperty("cornerRadiusBottomRight",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cornerRadiusBottomLeft",{get:function(){return this.getPropertyValue("cornerRadiusBottomLeft")},set:function(t){this.setPercentProperty("cornerRadiusBottomLeft",t,!0)},enumerable:!0,configurable:!0}),e.prototype.measureElement=function(){},Object.defineProperty(e.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?{x:0,y:0,width:this.innerWidth,height:this.innerHeight}:{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),e}(jg);gu.registeredClasses.RoundedRectangle=qg;var $g=function(t){function e(){var e=t.call(this)||this;e.className="Button",e.tooltipY=0,e.iconPosition="left",e.layout="horizontal",e.contentAlign="center",e.contentValign="middle",e.padding(8,16,8,16),e.setStateOnChildren=!0;var i=new Td,s=e.background;s.fill=i.getFor("secondaryButton"),s.stroke=i.getFor("secondaryButtonStroke"),s.fillOpacity=1,s.strokeOpacity=1,s.cornerRadius(3,3,3,3),e.label=new Zg,e.label.fill=i.getFor("secondaryButtonText"),e.label.shouldClone=!1;var n=s.states.create("hover");n.properties.fillOpacity=1,n.properties.fill=i.getFor("secondaryButtonHover");var r=s.states.create("down");return r.transitionDuration=100,r.properties.fill=i.getFor("secondaryButtonDown"),r.properties.fillOpacity=1,e.role="button",e.focusable=!0,e.applyTheme(),e}return Tt(e,t),Object.defineProperty(e.prototype,"icon",{get:function(){return this._icon},set:function(t){var e=this._icon;e&&(e.parent=void 0),t&&(this._icon=t,t.parent=this,t.interactionsEnabled=!1,t.shouldClone=!1,this.iconPosition=this.iconPosition,this._disposers.push(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconPosition",{get:function(){return this.getPropertyValue("iconPosition")},set:function(t){this.setPropertyValue("iconPosition",t),this.icon&&("left"==t?this.icon.toBack():this.icon.toFront())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this._label},set:function(t){this._label&&this.removeDispose(this._label),this._label=t,t&&(t.parent=this,t.interactionsEnabled=!1,this._disposers.push(this._label))},enumerable:!0,configurable:!0}),e.prototype.createBackground=function(){return new qg},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),e.label&&this.label.copyFrom(e.label),e.icon&&(this.icon=e.icon.clone())},e}(Lg);gu.registeredClasses.Button=$g;var Jg=function(t){function e(){var e=t.call(this)||this;return e.className="Circle",e.element=e.paper.add("circle"),e.setPercentProperty("radius",rl(100)),e.setPropertyValue("horizontalCenter","middle"),e.setPropertyValue("verticalCenter","middle"),e.applyTheme(),e}return Tt(e,t),e.prototype.draw=function(){t.prototype.draw.call(this),this.element.attr({r:this.pixelRadius})},Object.defineProperty(e.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPercentProperty("radius",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelRadius",{get:function(){return gp(this.radius,El(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),e.prototype.measureElement=function(){var t=this.pixelRadius;this._bbox={x:-t,y:-t,width:2*t,height:2*t}},e}(jg);gu.registeredClasses.Circle=Jg;var Qg=function(t){function e(){var e=t.call(this)||this;return e.className="Ellipse",e.element=e.paper.add("ellipse"),e.applyTheme(),e}return Tt(e,t),e.prototype.draw=function(){t.prototype.draw.call(this),this.element.attr({rx:this.radius}),this.element.attr({ry:this.radiusY})},Object.defineProperty(e.prototype,"radiusY",{get:function(){return this.innerHeight/2},set:function(t){this.height=2*t,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.innerWidth/2},set:function(t){this.width=2*t,this.invalidate()},enumerable:!0,configurable:!0}),e}(Jg);gu.registeredClasses.Ellipse=Qg;var tf=function(t){function e(){var e=t.call(this)||this;return e.className="Image",e.element=e.paper.add("image"),e.applyTheme(),e.width=50,e.height=50,e}return Tt(e,t),e.prototype.draw=function(){if(t.prototype.draw.call(this),this.href){var e=this.innerWidth,i=this.innerHeight;vl(this.widthRatio)&&(e=i*this.widthRatio,this.width=e),vl(this.heightRatio)&&(i=e*this.heightRatio,this.height=i),this.element.attr({width:e,height:i}),this.element.attrNS(nd,"xlink:href",this.href)}},Object.defineProperty(e.prototype,"href",{get:function(){return this.getPropertyValue("href")},set:function(t){this.setPropertyValue("href",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"widthRatio",{get:function(){return this.getPropertyValue("widthRatio")},set:function(t){this.setPropertyValue("widthRatio",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"heightRatio",{get:function(){return this.getPropertyValue("heightRatio")},set:function(t){this.setPropertyValue("heightRatio",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bbox",{get:function(){return{x:0,y:0,width:this.pixelWidth,height:this.pixelHeight}},enumerable:!0,configurable:!0}),e}(jg);gu.registeredClasses.Image=tf;var ef=function(t){function e(){var e=t.call(this)||this;return e.className="Line",e.element=e.paper.add("line"),e.fill=Uu(),e.x1=0,e.y1=0,e.applyTheme(),e}return Tt(e,t),e.prototype.draw=function(){t.prototype.draw.call(this),this.x1==this.x2||this.y1==this.y2?this.pixelPerfect=!0:this.pixelPerfect=!1,this.x1=this.x1,this.x2=this.x2,this.y1=this.y1,this.y2=this.y2},Object.defineProperty(e.prototype,"x1",{get:function(){return this.getPropertyValue("x1")},set:function(t){vl(t)||(t=0);var e=0;this.pixelPerfect&&this.stroke instanceof ng&&(e=1e-5),this.setPropertyValue("x1",t,!0),this.element.attr({x1:t+e})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x2",{get:function(){var t=this.getPropertyValue("x2");return vl(t)||(t=this.pixelWidth),t},set:function(t){vl(t)||(t=0),this.setPropertyValue("x2",t,!0),this.element.attr({x2:t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y1",{get:function(){return this.getPropertyValue("y1")},set:function(t){vl(t)||(t=0);var e=0;this.pixelPerfect&&this.stroke instanceof ng&&(e=1e-5),this.setPropertyValue("y1",t,!0),this.element.attr({y1:t+e})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y2",{get:function(){var t=this.getPropertyValue("y2");return vl(t)||(t=this.pixelHeight),t},set:function(t){vl(t)||(t=0),this.setPropertyValue("y2",t,!0),this.element.attr({y2:t})},enumerable:!0,configurable:!0}),e.prototype.positionToPoint=function(t){var e={x:this.x1,y:this.y1},i={x:this.x2,y:this.y2},s=Bl(e,i,t),n=Nl(e,i);return{x:s.x,y:s.y,angle:n}},e}(jg);gu.registeredClasses.Line=ef;var sf=function(t){function e(){var e=t.call(this)||this;return e.className="PointedShape",e.pointerBaseWidth=15,e.pointerLength=10,e.pointerY=0,e.pointerX=0,e.applyTheme(),e}return Tt(e,t),e.prototype.draw=function(){t.prototype.draw.call(this),vl(this.pointerX)||(this.pointerX=this.pixelWidth/2),vl(this.pointerY)||(this.pointerY=this.pixelHeight+10)},Object.defineProperty(e.prototype,"pointerBaseWidth",{get:function(){return this.getPropertyValue("pointerBaseWidth")},set:function(t){this.setPropertyValue("pointerBaseWidth",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pointerLength",{get:function(){return this.getPropertyValue("pointerLength")},set:function(t){this.setPropertyValue("pointerLength",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pointerX",{get:function(){return this.getPropertyValue("pointerX")},set:function(t){this.setPropertyValue("pointerX",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pointerY",{get:function(){return this.getPropertyValue("pointerY")},set:function(t){this.setPropertyValue("pointerY",t,!0)},enumerable:!0,configurable:!0}),e}(jg),nf=function(t){function e(){var e=t.call(this)||this;return e.className="PointedRectangle",e.element=e.paper.add("path"),e.cornerRadius=6,e.applyTheme(),e}return Tt(e,t),e.prototype.draw=function(){t.prototype.draw.call(this);var e=this.cornerRadius,i=this.innerWidth,s=this.innerHeight;if(i>0&&s>0){var n=this.pointerX,r=this.pointerY,a=this.pointerBaseWidth/2,o=El(i/2,s/2),l=Cl(e,0,o),h=Cl(e,0,o),u=Cl(e,0,o),p=Cl(e,0,o),c=0,d=0,g=i,f=0,m=i,y=s,b=0,v=s,_=void 0,x=void 0,w=void 0,P=void 0,O=(n-c)*(y-d)-(r-d)*(m-c),k=(n-b)*(f-v)-(r-v)*(g-b);if(O>0&&k>0){var D=Cl(n,l+a,i-a-h);r=Cl(r,-1/0,0),_="M"+l+",0 L"+(D-a)+",0 L"+n+","+r+" L"+(D+a)+",0 L"+(i-h)+",0"}else _="M"+l+",0 L"+(i-h)+",0";if(O<0&&k<0){D=Cl(n,p+a,i-a-u);r=Cl(r,s,1/0),w=" L"+(i-u)+","+s+" L"+(D+a)+","+s+" L"+n+","+r+" L"+(D-a)+","+s+" L"+p+","+s}else w=" L"+p+","+s;if(O<0&&k>0){var T=Cl(r,l+a,s-p-a);n=Cl(n,-1/0,0),P=" L0,"+(s-p)+" L0,"+(T+a)+" L"+n+","+r+" L0,"+(T-a)+" L0,"+l}else P=" L0,"+l;if(O>0&&k<0){T=Cl(r,h+a,s-a-u);n=Cl(n,i,1/0),x=" L"+i+","+h+" L"+i+","+(T-a)+" L"+n+","+r+" L"+i+","+(T+a)+" L"+i+","+(s-u)}else x=" L"+i+","+(s-u);var S=" a"+h+","+h+" 0 0 1 "+h+","+h,C=" a"+u+","+u+" 0 0 1 -"+u+","+u,M=" a"+p+","+p+" 0 0 1 -"+p+",-"+p,I=" a"+l+","+l+" 0 0 1 "+l+",-"+l;this.path=_+S+x+C+w+M+P+I}},Object.defineProperty(e.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(t){this.setPropertyValue("cornerRadius",t,!0)},enumerable:!0,configurable:!0}),e}(sf);function rf(t){var e=of(t[0]),i={x:0,y:0},s=Kc.minPolylineStep;vl(s)||(s=.5);for(var n=0,r=t.length;n<r;n++){var a=t[n];Fl(a,i)>s&&(e+=of(a),i=a)}return e}function af(t){return" M"+Tl(t.x,4)+","+Tl(t.y,4)+" "}function of(t){return" L"+Tl(t.x,4)+","+Tl(t.y,4)+" "}function lf(t,e,i){return" C"+Tl(e.x,4)+","+Tl(e.y,4)+" "+Tl(i.x,4)+","+Tl(i.y,4)+" "+Tl(t.x,4)+","+Tl(t.y,4)}function hf(){return" Z"}function uf(t,e,i,s){if(0==e)return"";vl(s)||(s=i);var n="",r=",",a=Math.ceil(Math.abs(e)/180),o=1;e<0&&(o=0);var l=0,h=0,u=-Il(t)*i,p=-Ml(t)*s;if(e<.5&&i>3e3){var c=t+e,d=Tl(Il(c)*i,4),g=Tl(Ml(c)*s,4);return of({x:d,y:g})}for(var f=0;f<a;f++){c=t+e/a*(f+1),d=Tl(Il(c)*i+u-l,4),g=Tl(Ml(c)*s+p-h,4);n+=" a"+i+r+s+r+0+r+0+r+o+r+d+r+g,l=d,h=g}return n}function pf(t,e,i,s,n,r,a){if(0==e)return"";if(vl(s)||(s=0),0==i&&s<=0)return"";if(i<s){var o=i;i=s,s=o,vl(n)&&(n=n/s*i)}e=El(e,360),360==e&&(r=0,a=0);var l=t+e,h=Ml(El(e,45)/2);n=vl(n)?n:i,r=r||0,a=vl(a)?a:r;var u=n/i*s,p=n/i*r,c=n/i*a;r=Cl(r,0,(i-s)/2),p=Cl(p,0,(n-u)/2),a=Cl(a,0,(i-s)/2),c=Cl(c,0,(n-u)/2),r=Tl(Cl(r,0,i*h),4),p=Tl(Cl(p,0,n*h),4),a=Tl(Cl(a,0,s*h),4),c=Tl(Cl(c,0,u*h),4);var d=Math.asin(r/i/2)*kl*2,g=Math.asin(p/n/2)*kl*2;s<a&&(s=a),u<c&&(u=c);var f=Math.asin(a/s/2)*kl*2,m=Math.asin(c/u/2)*kl*2;vl(f)||(f=0),vl(m)||(m=0);var y=t+e/2,b={x:Tl(Il(y)*s,4),y:Ml(y)*u},v={x:Il(t)*(s+a),y:Ml(t)*(u+c)},_={x:Il(t)*(i-r),y:Ml(t)*(n-p)},x={x:Il(l)*(i-r),y:Ml(l)*(n-p)},w={x:Il(l)*(s+a),y:Ml(l)*(u+c)},P={x:Il(t+d)*i,y:Ml(t+g)*n},O={x:Il(l-f)*s,y:Ml(l-m)*u};a+=a*Ml(f/2),c+=c*Ml(m/2),f>(l-t)/2&&(O=b);var k="";return 360==e?k=af(_):(k=af(v),k+=of(_),k+=cf(P,r,p,!0)),k+=uf(t+d,e-2*d,i,n),vl(s)&&0!=s?(360==e&&0==r?k+=af(w):(k+=cf(x,r,p,!0),k+=of(w),k+=cf(O,a,c,!0)),k+=uf(l-f,-(e-2*f),s,u),(e<360||r>0)&&(k+=cf(v,a,c,!0)),k+=of(v)):(k+=cf(x,r,p,!0),e<360&&(k+=of(v))),k}function cf(t,e,i,s,n,r){if(0==e)return"";r=r||0,n=Boolean(n),s=Boolean(s);var a=",",o=+s,l=+n;return" A"+e+a+i+a+r+a+l+a+o+a+Tl(t.x,4)+a+Tl(t.y,4)}function df(t,e){var i=",",s=" L";return e?"M"+t.x+i+t.y+s+t.x+i+(t.y+t.height)+s+(t.x+t.width)+i+(t.y+t.height)+s+(t.x+t.width)+i+t.y+s+t.x+i+t.y:"M"+t.x+i+t.y+s+(t.x+t.width)+i+t.y+s+(t.x+t.width)+i+(t.y+t.height)+s+t.x+i+(t.y+t.height)+s+t.x+i+t.y}var gf=function(t){function e(){var e=t.call(this)||this;return e._distance=0,e.className="Polyline",e.element=e.paper.add("path"),e.shapeRendering="auto",e.fill=Uu(),e.strokeOpacity=1,e.applyTheme(),e}return Tt(e,t),e.prototype.makePath=function(){this._distance=0;var t=this.segments;if(t&&t.length>0){for(var e="",i=0,s=t.length;i<s;i++){var n=t[i];if(n.length>0){e+=af(n[0]);for(var r=1;r<n.length;r++){var a=n[r];e+=of(a),this._distance+=Fl(n[r-1],a)}}}this.path=e}this._realSegments=t},Object.defineProperty(e.prototype,"segments",{get:function(){return this.getPropertyValue("segments")},set:function(t){this.setPropertyValue("segments",t),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),e.prototype.positionToPoint=function(t){var e=0;t<0&&(t=Math.abs(t),e=180);var i=this._realSegments;if(i){for(var s=this.distance,n=0,r=void 0,a=0,o=0,l=void 0,h=void 0,u=0;u<i.length;u++){var p=i[u];if(p.length>1){for(var c=1;c<p.length;c++)if(l=p[c-1],h=p[c],a=n/s,r=Fl(l,h),n+=r,o=n/s,a<=t&&o>t){u=i.length;break}}else 1==p.length&&(l=p[0],h=p[0],a=0,o=1)}if(l&&h){var d=(t-a)/(o-a),g=Bl(l,h,d);return{x:g.x,y:g.y,angle:e+Nl(l,h)}}}return{x:0,y:0,angle:0}},Object.defineProperty(e.prototype,"realSegments",{get:function(){return this._realSegments},enumerable:!0,configurable:!0}),e}(jg);gu.registeredClasses.Polyline=gf;var ff=function(t){function e(){var e=t.call(this)||this;return e.className="Polyarc",e.controlPointDistance=.5,e.controlPointPosition=.5,e.applyTheme(),e}return Tt(e,t),e.prototype.makePath=function(){this._distance=0;var t=this.segments;if(t&&t.length>0){var e="";this._realSegments=[];for(var i=0,s=t.length;i<s;i++){var n=t[i],r=[];if(this._realSegments.push(r),n.length>0){e+=af(n[0]);for(var a=1;a<n.length;a++){var o=n[a-1],l=n[a],h=Fl(l,o),u=h*this.controlPointDistance,p=this.controlPointPosition,c=-Nl(o,l),d=o.x+(l.x-o.x)*p*.5-u*Ml(c),g=o.y+(l.y-o.y)*p*.5-u*Il(c),f={x:d,y:g},m=o.x+(l.x-o.x)*p*1.5-u*Ml(c),y=o.y+(l.y-o.y)*p*1.5-u*Il(c),b={x:m,y:y};e+=lf(l,f,b);var v=Math.ceil(h),_=o;if(v>0)for(var x=0;x<=v;x++){var w=Wl(o,l,f,b,x/v);r.push(w),this._distance+=Fl(_,w),_=w}else r.push(o)}}}this.path=e}},Object.defineProperty(e.prototype,"controlPointPosition",{get:function(){return this.getPropertyValue("controlPointPosition")},set:function(t){this.setPropertyValue("controlPointPosition",t),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controlPointDistance",{get:function(){return this.getPropertyValue("controlPointDistance")},set:function(t){this.setPropertyValue("controlPointDistance",t),this.makePath()},enumerable:!0,configurable:!0}),e}(gf);gu.registeredClasses.Polyarc=ff;var mf=function(t){function e(e){var i=t.call(this)||this;return i._bboxes=[],i.morphDuration=800,i.morphEasing=_c,i.morphToSingle=!0,i.scaleRatio=1,i.className="Morpher",i.morphable=e,i.applyTheme(),i}return Tt(e,t),e.prototype.morphToPolygon=function(t,e,i){var s=this.morphable.currentPoints;if(s&&t){this.sortPoints(s),this.sortPoints(t),this._morphFromPointsReal=[],this._morphToPointsReal=[],gl(e)||(e=this.morphDuration),gl(i)||(i=this.morphEasing),this._morphFromPointsReal=this.normalizePoints(t,s),this._morphToPointsReal=this.normalizePoints(s,t),this.morphable.currentPoints=this._morphFromPointsReal;var n=new ed(this,{property:"morphProgress",from:0,to:1},e,i);return this._disposers.push(n),n.start(),n}},e.prototype.normalizePoints=function(t,e){for(var i=0,s=t.length;i<s;i++){var n=t[i][0],r=t[i][1],a=fl(Hl(n)),o=a.x+a.width,l=a.y+a.height;if(e[i]||(e[i]=[]),n&&!e[i][0]&&(e[i][0]=[{x:o,y:l},{x:o,y:l}]),e[i][0]){e[i][0]=this.addPoints(e[i][0],n.length);for(var h=1/0,u=0,p=0;p<e[i][0].length;p++){var c=Fl(e[i][0][p],n[0]);c<h&&(u=p,h=c)}var d=e[i][0].slice(0,u),g=e[i][0].slice(u);e[i][0]=g.concat(d)}r&&(e[i][1]||(e[i][1]=[{x:o,y:l},{x:o,y:l}]),e[i][1]=this.addPoints(e[i][1],r.length))}return e},e.prototype.sortPoints=function(t){t.sort((function(t,e){var i=fl(Hl(t[0])),s=fl(Hl(e[0]));return i.width*i.height>s.width*s.height?-1:1}));for(var e=[],i=0,s=t.length;i<s;i++){var n=t[i][0];n&&e.push(fl(Hl(n)))}return zl(e)},e.prototype.morphToCircle=function(t,e,i){var s=this.morphable.points,n=this.sortPoints(s);this._morphFromPointsReal=[],this._morphToPointsReal=[],gl(e)||(e=this.morphDuration),gl(i)||(i=this.morphEasing);for(var r=0,a=s.length;r<a;r++){var o=s[r][0],l=s[r][1];if(this._morphFromPointsReal[r]=[],this._morphToPointsReal[r]=[],o){var h=o,u=o,p=fl(Hl(u));this.morphToSingle&&(p=fl(n));var c=p.x+p.width/2,d=p.y+p.height/2,g=t;vl(g)||(g=Math.min(p.width/2,p.height/2)),h=[];var f=Nl({x:c,y:d},o[0]),m=100;o.length>m&&(m=o.length),u=this.addPoints(o,m),m=u.length;for(var y=360/(m-1),b=0;b<m;b++){var v=y*b+f,_={x:c+g*Il(v),y:d+g*Ml(v)};h[b]=_}if(l&&l.length>0)for(var x=0,w=l.length;x<w;x++)h.push({x:c,y:d});this._morphFromPointsReal[r][0]=u,this._morphToPointsReal[r][0]=h}}this.morphable.currentPoints=this._morphFromPointsReal;var P=new ed(this,{property:"morphProgress",from:0,to:1},e,i);return this._disposers.push(P),P.start(),P},e.prototype.addPoints=function(t,e){for(var i=Math.round(e/t.length),s=[],n=0,r=t.length;n<r;n++){var a=t[n],o=void 0;o=n==t.length-1?t[0]:t[n+1],s.push(a);for(var l=1;l<i;l++){var h=l/i,u={x:a.x+(o.x-a.x)*h,y:a.y+(o.y-a.y)*h};s.push(u)}s.length+t.length-n==e&&(i=0)}if(s.length<e&&t.length>0){var p=t[t.length-1];for(l=s.length;l<e;l++)s.push({x:p.x,y:p.y})}return s},e.prototype.morphToRectangle=function(t,e,i,s){var n=this.morphable.points;this.sortPoints(n),this._morphFromPointsReal=[],this._morphToPointsReal=[],gl(i)||(i=this.morphDuration),gl(s)||(s=this.morphEasing);for(var r=0,a=n.length;r<a;r++){var o=n[r][0],l=n[r][1];if(this._morphFromPointsReal[r]=[],this._morphToPointsReal[r]=[],o){var h=o,u=o,p=this._bboxes[r];this.morphToSingle;var c=p.x,d=p.y,g=t,f=e;if(vl(g)||(g=p.width),vl(f)||(f=p.height),h=[{x:c,y:d},{x:c+g,y:d},{x:c+g,y:d+f},{x:c,y:d+f}],h=this.addPoints(h,o.length),o.length<4)for(var m=o.length;m<4;m++)h.push({x:o[m].x,y:o[m].y});if(l&&l.length>0)for(var y=p.x+p.width/2,b=p.y+p.height/2,v=0,_=l.length;v<_;v++)h.push({x:y,y:b});this._morphFromPointsReal[r][0]=u,this._morphToPointsReal[r][0]=h}}this.morphable.currentPoints=this._morphFromPointsReal;var x=new ed(this,{property:"morphProgress",from:0,to:1},i,s);return this._disposers.push(x),x.start(),x},Object.defineProperty(e.prototype,"morphProgress",{get:function(){return this._morphProgress},set:function(t){this._morphProgress=t;var e=[];if(null!=t){var i=this._morphFromPointsReal,s=this._morphToPointsReal;if(null!=i&&null!=s)for(var n=0,r=i.length;n<r;n++){var a=[];e.push(a);var o=i[n][0],l=i[n][1],h=s[n][0],u=s[n][1];if(o&&o.length>0&&h&&h.length>0){for(var p=[],c=0,d=o.length;c<d;c++){var g=o[c],f=h[c],m={x:g.x+(f.x*this.scaleRatio-g.x)*t,y:g.y+(f.y*this.scaleRatio-g.y)*t};p.push(m)}a[0]=p}if(l&&l.length>0&&u&&u.length>0){for(var y=[],b=0,v=l.length;b<v;b++){g=l[b],f=u[b],m={x:g.x+(f.x*this.scaleRatio-g.x)*t,y:g.y+(f.y*this.scaleRatio-g.y)*t};y.push(m)}a[1]=y}}}this.morphable.currentPoints=e},enumerable:!0,configurable:!0}),e.prototype.morphBack=function(t,e){this._morphToPointsReal=this._morphFromPointsReal,this._morphFromPointsReal=this.morphable.currentPoints,gl(t)||(t=this.morphDuration),gl(e)||(e=this.morphEasing);var i=new ed(this,{property:"morphProgress",from:0,to:1},t,e);return this._disposers.push(i),i.start(),i},Object.defineProperty(e.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new td(this._animations))),this._animations},enumerable:!0,configurable:!0}),e}($u),yf=function(t){function e(){var e=t.call(this)||this;return e.className="Polygon",e.element=e.paper.add("path"),e.shapeRendering="auto",e._currentPoints=[],e.applyTheme(),e}return Tt(e,t),Object.defineProperty(e.prototype,"points",{get:function(){var t=this.getPropertyValue("points"),e=this.path;if(e&&(!t||0==t.length)){for(var i=e.slice(1,e.length-1),s=i.split("ZM"),n=0;n<s.length;n++){var r=s[n];if(r.length>0){var a=r.split("M"),o=a[0],l=a[1];if(o&&o.length>0){var h=o.split("L");if(h.length>0){var u=[],p=[u];t.push(p);for(var c=0;c<h.length;c++){var d=h[c].split(",");u.push({x:+d[0],y:+d[1]})}if(l&&l.length>0){var g=l.split("L");if(g.length>0){var f=[];p.push(f);for(c=g.length-1;c>=0;c--){d=g[c].split(",");f.push({x:+d[0],y:+d[1]})}}}}}}}this.setPropertyValue("points",t),this._currentPoints=t}return t},set:function(t){this.setPropertyValue("points",t,!0),this._currentPoints=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentPoints",{get:function(){return this._currentPoints&&0!=this._currentPoints.length||!this.path||(this._currentPoints=this.points),this._currentPoints},set:function(t){this._currentPoints!=t&&(this._currentPoints=t,this.draw())},enumerable:!0,configurable:!0}),e.prototype.draw=function(){var e,i,s,n,r="",a=this._currentPoints;if(a.length>0){for(var o=0,l=a.length;o<l;o++){var h=a[o][0],u=a[o][1];if(h&&h.length>0){var p=h[0];r+=af(p);for(var c=0;c<h.length;c++)p=h[c],r+=of(p),(!vl(i)||i<p.x)&&(i=p.x),(!vl(e)||e>p.x)&&(e=p.x),(!vl(s)||s>p.y)&&(s=p.y),(!vl(n)||n<p.y)&&(n=p.y)}if(u&&u.length>0){p=u[0];r+=af(p);for(var d=0,g=u.length;d<g;d++)p=u[d],r+=of(p)}}r&&(r+=hf()),this.bbox.x=e,this.bbox.y=s,this.bbox.width=i-e,this.bbox.height=n-s,t.prototype.setPath.call(this,r)}},e.prototype.setPath=function(e){return!!t.prototype.setPath.call(this,e)&&(this.points=[],this._bbox=this.group.getBBox(),!0)},e.prototype.measureElement=function(){},Object.defineProperty(e.prototype,"centerPoint",{get:function(){return{x:this.bbox.x+this.bbox.width/2,y:this.bbox.y+this.bbox.height/2}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"morpher",{get:function(){return this._morpher||(this._morpher=new mf(this),this._disposers.push(this._morpher)),this._morpher},enumerable:!0,configurable:!0}),e}(jg);gu.registeredClasses.Polygon=yf;var bf=function(t){function e(){var e=t.call(this)||this;return e.className="Polyspline",e.tensionX=.5,e.tensionY=.5,e.applyTheme(),e}return Tt(e,t),e.prototype.makePath=function(){this._distance=0;var t=this.segments,e=this.tensionX,i=this.tensionY;if(this.allPoints=[],t&&t.length>0){var s="";this._realSegments=[];for(var n=0,r=t.length;n<r;n++){var a=t[n],o=[];if(this._realSegments.push(o),a.length>0){var l=a[0],h=a[a.length-1],u=!1;Tl(l.x,3)==Tl(h.x)&&Tl(l.y)==Tl(h.y)&&(u=!0),s+=af(a[0]);for(var p=0;p<a.length-1;p++){var c=a[p-1],d=a[p],g=a[p+1],f=a[p+2];0===p?c=a[p]:p==a.length-2&&(f=a[p+1]),f||(f=g),0===p?c=u?a[a.length-2]:a[n]:p==a.length-2&&(f=u?a[1]:a[p+1]);var m=Yl(c,d,g,f,e,i),y=Gl(c,d,g,f,e,i);s+=lf(g,m,y);var b=1.2*Math.ceil(Rl(d,g,m,y,20)),v=d;if(b>0)for(var _=0;_<=b;_++){var x=Wl(d,g,m,y,_/b);if(x.x!=v.x||x.y!=v.y){o.push(x);var w=Tl(Nl(v,x),5);this._distance+=Fl(v,x),this.allPoints[Math.floor(this._distance)]={x:x.x,y:x.y,angle:w},v=x}}else o.push(c)}}var P=this.allPoints;if(P.length>1)for(var O=0;O<P.length;O++)if(!P[O])if(O>1)P[O]=P[O-1];else for(var k=1;k<P.length;k++)if(P[k]){P[O]=P[k];break}}this.path=s}},e.prototype.getClosestPointIndex=function(t){var e,i=this.allPoints,s=1/0;if(i.length>1)for(var n=1;n<i.length;n++){var r=Fl(t,i[n]);r<s&&(e=n,s=r)}return e},Object.defineProperty(e.prototype,"tensionX",{get:function(){return this.getPropertyValue("tensionX")},set:function(t){this.setPropertyValue("tensionX",t),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tensionY",{get:function(){return this.getPropertyValue("tensionY")},set:function(t){this.setPropertyValue("tensionY",t,!0),this.makePath()},enumerable:!0,configurable:!0}),e.prototype.positionToPoint=function(t,e){var i=0,s=this.allPoints,n=s.length;if(vl(t)||(t=0),n>1){if(e&&n>3){if(t<0){t<-.01&&(t=-.01);var r=s[0],a=s[1],o=r.x-(r.x-a.x)*n*t,l=r.y-(r.y-a.y)*n*t;return{x:o,y:l,angle:Nl(r,a)}}if(t>1){t>1.01&&(t=1.01);r=s[s.length-2],a=s[s.length-3],o=r.x+(r.x-a.x)*n*(t-1),l=r.y+(r.y-a.y)*n*(t-1);return{x:o,y:l,angle:Nl(r,{x:o,y:l})}}if(1==t){var h=s[s.length-1];return{x:h.x,y:h.y,angle:h.angle}}}else t<0&&(t=Math.abs(t),i=180),t>=1&&(t=.9999999999999);var u=s[Math.floor(t*n)];return{x:u.x,y:u.y,angle:u.angle+i}}if(1==n){u=s[0];return{x:u.x,y:u.y,angle:u.angle}}return{x:0,y:0,angle:0}},e}(gf);gu.registeredClasses.Polyspline=bf;var vf=function(t){function e(){var e=t.call(this)||this;return e.className="Slice",e.setPropertyValue("cornerRadius",0),e.setPropertyValue("startAngle",0),e.setPercentProperty("innerRadius",0),e.setPercentProperty("radius",0),e.setPropertyValue("arc",0),e.setPropertyValue("shiftRadius",0),e.strokeOpacity=1,e.setPropertyValue("layout","none"),e.slice=e.createChild(jg),e.slice.isMeasured=!1,e._disposers.push(e.slice),e.applyTheme(),e}return Tt(e,t),e.prototype.draw=function(){t.prototype.draw.call(this);var e=this.radiusY;this.radius>0&&0==e&&(e=.01),this.slice.path=pf(this.startAngle,this.arc,this.radius,this.pixelInnerRadius,e,this.cornerRadius,this.innerCornerRadius),this.slice.invalidate(),this.shiftRadius=this.shiftRadius,this.realFill instanceof rg&&this.updateGradient(this.realFill),this.realStroke instanceof rg&&this.updateGradient(this.realStroke)},e.prototype.updateGradient=function(t){t.element.attr({gradientUnits:"userSpaceOnUse"}),t.element.attr({r:this.radius}),t.cx=0,t.cy=0,t.element.attr({radius:this.radius})},Object.defineProperty(e.prototype,"bbox",{get:function(){if(this.definedBBox)return this.definedBBox;if(this.isMeasured){var t=Kl(this.startAngle,this.startAngle+this.arc,this.pixelInnerRadius),e=Kl(this.startAngle,this.startAngle+this.arc,this.radius);return zl([t,e])}return{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(t){this.setPropertyValue("startAngle",Ul(t),!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"arc",{get:function(){return this.getPropertyValue("arc")},set:function(t){vl(t)||(t=0),this.setPropertyValue("arc",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){var t=this.getPropertyValue("radius");return vl(t)||(t=0),t},set:function(t){this.setPropertyValue("radius",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radiusY",{get:function(){var t=this.getPropertyValue("radiusY");return vl(t)||(t=this.radius),t},set:function(t){this.setPropertyValue("radiusY",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(t){this.setPercentProperty("innerRadius",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelInnerRadius",{get:function(){return gp(this.innerRadius,this.radius)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(t){this.setPropertyValue("cornerRadius",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerCornerRadius",{get:function(){return this.getPropertyValue("innerCornerRadius")},set:function(t){this.setPropertyValue("innerCornerRadius",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shiftRadius",{get:function(){return this.getPropertyValue("shiftRadius")},set:function(t){this.setPropertyValue("shiftRadius",t),t=this.getPropertyValue("shiftRadius"),this.dx=t*this.radius*this.ix,this.dy=t*this.radiusY*this.iy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ix",{get:function(){return Il(this.middleAngle)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iy",{get:function(){return Ml(this.middleAngle)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"middleAngle",{get:function(){return this.startAngle+this.arc/2},enumerable:!0,configurable:!0}),e.prototype.getTooltipX=function(){var t=this.getPropertyValue("tooltipX");if(vl(t))return t;var e=.5;t instanceof nl&&(e=t.value);var i=gp(this.innerRadius,this.radius);return this.ix*(i+(this.radius-i)*e)},e.prototype.getTooltipY=function(){var t=this.getPropertyValue("tooltipY");if(vl(t))return t;var e=.5;t instanceof nl&&(e=t.value);var i=gp(this.innerRadius,this.radius);return this.iy*(i+(this.radius-i)*e)+this.slice.dy},e}(Lg);gu.registeredClasses.Slice=vf;var _f=function(t){function e(){var e=t.call(this)||this;e.className="Preloader",e.width=rl(100),e.height=rl(100);var i=new Td,s=e.createChild(Lg);s.shouldClone=!1;var n=s.createChild(vf);n.shouldClone=!1,n.radius=53,n.arc=360,n.fill=i.getFor("fill"),n.fillOpacity=.8,n.innerRadius=42,n.isMeasured=!1,e.backgroundSlice=n;var r=s.createChild(vf);r.shouldClone=!1,r.radius=50,r.innerRadius=45,r.fill=i.getFor("alternativeBackground"),r.fillOpacity=.2,r.isMeasured=!1,e.progressSlice=r;var a=s.createChild(Zg);a.shouldClone=!1,a.horizontalCenter="middle",a.verticalCenter="middle",a.isMeasured=!1,a.fill=i.getFor("text"),a.align="center",a.valign="middle",a.textAlign="middle",a.fillOpacity=.4,e.label=a,e.background.opacity=1,e.background.fill=i.getFor("background"),e.contentAlign="center",e.contentValign="middle",e.delay=300;var o=e.states.create("hidden");return o.properties.opacity=0,e.visible=!1,e.hide(0),e.__disabled=!0,e._disposers.push(e.backgroundSlice),e._disposers.push(e.progressSlice),e._disposers.push(e.label),e._disposers.push(s),e}return Tt(e,t),Object.defineProperty(e.prototype,"progress",{get:function(){return this.getPropertyValue("progress")},set:function(t){var e=this;this.__disabled=!1,this.validateLayout(),this.setPropertyValue("progress",t),this.progressSlice.arc=360*t,this.label&&(this.label.text=Math.round(100*t)+"%"),t>=1?(this._started&&(this._started=void 0),gu.events.once("enterframe",(function(){var t=e.hide();t&&!t.isFinished()?t.events.once("animationended",(function(){e.__disabled=!0})):e.__disabled=!0})),this.interactionsEnabled=!1,this.setPropertyValue("progress",0)):t>0&&(this.delay?this._started?this._started+this.delay<=(new Date).getTime()&&(this.__disabled=!1,this.show(),this.interactionsEnabled=!0):this._started=(new Date).getTime():(this.__disabled=!1,this.show(),this.interactionsEnabled=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delay",{get:function(){return this.getPropertyValue("delay")},set:function(t){this.setPropertyValue("delay",t)},enumerable:!0,configurable:!0}),e}(Lg);gu.registeredClasses.Preloader=_f;var xf=function(t){function e(){var e=t.call(this)||this;e.className="ResizeButton",e.orientation="horizontal",e.layout="absolute",e.horizontalCenter="middle",e.verticalCenter="middle",e.draggable=!0,e.padding(8,8,8,8),e.background.cornerRadius(20,20,20,20);var i=new jg;i.element=e.paper.add("path");var s=af({x:-2,y:-6});return s+=of({x:-2,y:6}),s+=af({x:2,y:-6}),s+=of({x:2,y:6}),i.path=s,i.pixelPerfect=!0,i.padding(0,4,0,4),i.stroke=(new Td).getFor("alternativeText"),i.strokeOpacity=.7,e.icon=i,e.label.dispose(),e.label=void 0,e.applyTheme(),e}return Tt(e,t),Object.defineProperty(e.prototype,"orientation",{set:function(t){var e=this.icon;e&&(e.rotation="horizontal"==t?0:-90)},enumerable:!0,configurable:!0}),e}($g);gu.registeredClasses.ResizeButton=xf;var wf=function(t){function e(){var e=t.call(this)||this;e.className="CloseButton",e.padding(8,8,8,8),e.showSystemTooltip=!0,e.width=30,e.height=30;var i=new Td;e.cursorOverStyle=og.pointer;var s=e.background;s.cornerRadius(20,20,20,20);var n=i.getFor("background");s.fill=n,s.stroke=i.getFor("primaryButton"),s.strokeOpacity=1,s.strokeWidth=1;var r=i.getFor("primaryButtonActive"),a=s.states.getKey("hover");a.properties.strokeWidth=3,a.properties.fill=n;var o=s.states.getKey("down");o.properties.stroke=r,o.properties.fill=n;var l=new jg;return l.element=e.paper.add("path"),l.stroke=s.stroke,e.icon=l,e.applyTheme(),e}return Tt(e,t),e.prototype.validate=function(){t.prototype.validate.call(this);var e=this.pixelWidth/3,i=this.pixelHeight/3,s=af({x:-e/2,y:-i/2});s+=of({x:e/2,y:i/2}),s+=af({x:e/2,y:-i/2}),s+=of({x:-e/2,y:i/2}),this.icon.path=s,this.invalidateLayout()},e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),gl(this.readerTitle)||(this.readerTitle=this.language.translate("Close"))},e}($g);gu.registeredClasses.CloseButton=wf;var Pf=function(t){function e(){var e=t.call(this)||this;e.className="SwitchButton",e.tooltipY=0,e.layout="horizontal",e.contentAlign="center",e.contentValign="middle",e.padding(8,16,8,16),e.setStateOnChildren=!0,e.states.create("active");var i=new Td,s=new Zg;s.fillOpacity=.3;var n=s.states.create("active");n.properties.fillOpacity=1,s.isActive=!0,e.leftLabel=s;var r=new $g,a=new Jg;r.contentValign="none",r.padding(0,0,0,0),a.radius=10,r.icon=a,r.icon.valign="middle",r.label=void 0;var o=rl(100);r.background.cornerRadius(o,o,o,o),r.width=3.5*a.radius,r.height=2.1*a.radius,r.marginLeft=8,r.marginRight=8,r.togglable=!0,a.dx=.7*-a.radius,a.fill=i.getFor("primaryButton");var l=a.states.create("hover");l.properties.fill=i.getFor("primaryButtonHover");var h=a.states.create("active");h.properties.fill=i.getFor("primaryButtonActive"),h.properties.dx=.7*a.radius,e.switchButton=r,e.events.on("toggled",(function(){e.leftLabel.isActive=!e.isActive,e.rightLabel.isActive=e.isActive}));var u=new Zg;u.fillOpacity=.3;var p=u.states.create("active");return p.properties.fillOpacity=1,e.rightLabel=u,e.role="button",e.focusable=!0,u.valign="middle",s.valign="middle",r.valign="middle",e.applyTheme(),e}return Tt(e,t),Object.defineProperty(e.prototype,"leftLabel",{get:function(){return this._leftLabel},set:function(t){this._leftLabel&&this.removeDispose(this._leftLabel),this._leftLabel=t,t&&(t.parent=this,t.interactionsEnabled=!1,t.shouldClone=!1,this._disposers.push(this._leftLabel))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightLabel",{get:function(){return this._rightLabel},set:function(t){this._rightLabel&&this.removeDispose(this._rightLabel),this._rightLabel=t,t&&(t.parent=this,t.interactionsEnabled=!1,t.shouldClone=!1,this._disposers.push(this._rightLabel))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"switch",{get:function(){return this._switchButton},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"switchButton",{get:function(){return this._switchButton},set:function(t){this._switchButton&&this.removeDispose(this._switchButton),this._switchButton=t,t&&(t.parent=this,t.shouldClone=!1,this._disposers.push(this._switchButton))},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),e.leftLabel&&this.leftLabel.copyFrom(e.leftLabel),e.rightLabel&&this.rightLabel.copyFrom(e.rightLabel),e.switchButton&&this.switchButton.copyFrom(e.switchButton)},e}(Lg);gu.registeredClasses.SwitchButton=Pf;var Of=function(t){function e(){var e=t.call(this)||this;e._previousStart=0,e._previousEnd=1,e._prevStart=0,e._prevEnd=1,e._isBusy=!1,e._skipRangeEvents=!1,e.updateWhileMoving=!0,e.className="Scrollbar",e.minHeight=12,e.minWidth=12,e.animationDuration=0,e.animationEasing=_c,e.margin(10,10,10,10);var i=new Td,s=e.background;return s.cornerRadius(10,10,10,10),s.fill=i.getFor("fill"),s.fillOpacity=.5,e.showSystemTooltip=!0,e.startGrip=new xf,e.endGrip=new xf,e.events.on("transformed",(function(){e.updateThumb()}),e,!1),e.start=0,e.end=1,e.role="scrollbar",e.thumb.role="slider",e.thumb.readerLive="polite",e.startGrip.role="slider",e.endGrip.role="slider",e.events.once("inited",(function(){e._previousStart=void 0,e.dispatchRangeChange()}),void 0,!1),e.hideGrips=!1,e.orientation="horizontal",e.setSVGAttribute({"aria-valuemin":"0"}),e.setSVGAttribute({"aria-valuemax":"100"}),e.applyTheme(),e}return Tt(e,t),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),"horizontal"===this.orientation?(gl(this.readerTitle)||(this.readerTitle=this.language.translate("Use TAB to select grip buttons or left and right arrows to change selection")),gl(this.thumb.readerDescription)||(this.thumb.readerDescription=this.language.translate("Use left and right arrows to move selection")),gl(this.startGrip.readerDescription)||(this.startGrip.readerDescription=this.language.translate("Use left and right arrows to move left selection")),gl(this.endGrip.readerDescription)||(this.endGrip.readerDescription=this.language.translate("Use left and right arrows to move right selection")),this.readerOrientation="horizontal"):(gl(this.readerTitle)||(this.readerTitle=this.language.translate("Use TAB select grip buttons or up and down arrows to change selection")),gl(this.thumb.readerDescription)||(this.thumb.readerDescription=this.language.translate("Use up and down arrows to move selection")),gl(this.startGrip.readerDescription)||(this.startGrip.readerDescription=this.language.translate("Use up and down arrows to move upper selection")),gl(this.endGrip.readerDescription)||(this.endGrip.readerDescription=this.language.translate("Use up and down arrows to move lower selection")),this.readerOrientation="vertical"),this.readerControls=this.baseSprite.uidAttr()},e.prototype.validateLayout=function(){this.updateSize(),t.prototype.validateLayout.call(this),this.updateExtremes()},e.prototype.processBackground=function(){t.prototype.processBackground.call(this);var e=this.background;e.clickable=!0,e.events.on("hit",this.handleBgHit,this,void 0)},e.prototype.handleBgHit=function(t){this.makeBusy();var e=t.spritePoint;e=zp(e,this.background,this);var i=this.thumb;if("horizontal"==this.orientation){var s=e.x-i.pixelWidth/2;s=Cl(s,0,this.innerWidth-i.pixelWidth),this._thumbAnimation=i.animate({property:"x",to:s},this.animationDuration,this.animationEasing)}else{var n=e.y-i.pixelHeight/2;n=Cl(n,0,this.innerHeight-i.pixelHeight),this._thumbAnimation=i.animate({property:"y",to:n},this.animationDuration,this.animationEasing)}this.animationDuration>0?this._thumbAnimation.events.on("animationended",this.makeUnbusy,this,!1):(this._thumb.validate(),this.makeUnbusy())},e.prototype.makeBusy=function(){this._isBusy=!0,this._skipRangeEvents=!1,this._unbusyTimeout&&this.removeDispose(this._unbusyTimeout),this._unbusyTimeout=void 0,this.stopAnimations()},e.prototype.stopAnimations=function(){this._thumbAnimation&&this._thumbAnimation.stop(!0),this._zoomAnimation&&this._zoomAnimation.stop(!0)},e.prototype.makeUnbusy=function(){this._unbusyTimeout=this.setTimeout(this.makeUnbusyReal.bind(this),1.1*this.animationDuration)},e.prototype.makeUnbusyReal=function(){this._usingGrip=void 0,this._isBusy=!1,this.updateWhileMoving||this.dispatchRangeChange()},e.prototype.dispatchRangeChange=function(){this._previousEnd==this.end&&this._previousStart==this.start||(this._previousStart=this.start,this._previousEnd=this.end,this.dispatch("rangechanged"))},e.prototype.updateThumb=function(t){if(void 0===t&&(t=!0),this.parent){var e,i,s=this.thumb,n=this.start,r=this.end,a=this.startGrip,o=this.endGrip,l=this.adapter.apply("positionValueDirection",{flipped:!1}).flipped,h=l?"To %1":"From %1",u=l?"From %1":"To %1";if("horizontal"==this.orientation){var p=this.innerWidth;s.width=p*(r-n),s.maxX=p-s.pixelWidth,s.x=n*p,a.moveTo({x:s.pixelX,y:0},void 0,void 0,!0),o.moveTo({x:s.pixelX+s.pixelWidth,y:0},void 0,void 0,!0),e=this.adapter.apply("positionValue",{value:Math.round(100*n)+"%",position:n}).value,i=this.adapter.apply("positionValue",{value:Math.round(100*r)+"%",position:r}).value,a.readerTitle=this.language.translate(h,void 0,e),a.readerValueNow=""+Math.round(100*n),a.readerValueText=a.readerTitle,o.readerTitle=this.language.translate(u,void 0,i),o.readerValueNow=""+Math.round(100*r),o.readerValueText=o.readerTitle}else{var c=this.innerHeight;s.height=c*(r-n),s.maxY=c-s.pixelHeight,s.y=(1-r)*c,a.moveTo({x:0,y:s.pixelY+s.pixelHeight},void 0,void 0,!0),o.moveTo({x:0,y:s.pixelY},void 0,void 0,!0),e=this.adapter.apply("positionValue",{value:Math.round(100*(1-n))+"%",position:1-n}).value,i=this.adapter.apply("positionValue",{value:Math.round(100*(1-r))+"%",position:1-r}).value,a.readerTitle=this.language.translate(u,void 0,e),a.readerValueNow=""+Math.round(100*n),a.readerValueText=a.readerTitle,o.readerTitle=this.language.translate(h,void 0,i),o.readerValueNow=""+Math.round(100*r),o.readerValueText=o.readerTitle}s.readerTitle=this.language.translate("From %1 to %2",void 0,e,i),s.readerValueNow=""+Math.round(100*n),s.readerValueText=s.readerTitle,this.readerValueNow=""+Math.round(100*n),this.readerValueText=s.readerTitle,!this._skipRangeEvents&&this.updateWhileMoving&&t&&this.dispatchRangeChange()}},e.prototype.updateExtremes=function(){var t=this.orientation,e=0,i=0,s=0,n=0;"horizontal"==t?(s=this.innerWidth,i=n=this.innerHeight/2):(n=this.innerHeight,e=s=this.innerWidth/2);var r=this.startGrip;r.minX=e,r.maxX=s,r.minY=i,r.maxY=n;var a=this.endGrip;a.minX=e,a.maxX=s,a.minY=i,a.maxY=n;var o=this.thumb;o.minX=e,o.maxX=s,o.minY=i,o.maxY=n},e.prototype.updateSize=function(){var t=this.orientation,e=this.startGrip;e&&(e.orientation=t),this.endGrip&&(this.endGrip.orientation=t);var i=this.thumb;i&&("horizontal"==t?(vl(this._pixelWidth)||this.width instanceof nl||(this.width=rl(100)),gl(this.percentHeight)&&(this.height=this.minHeight),i.height=this.innerHeight,i.verticalCenter="middle",i.horizontalCenter="left"):(vl(this._pixelHeight)||this.height instanceof nl||(this.height=rl(100)),gl(this.percentWidth)&&(this.width=this.minWidth),i.width=this.innerWidth,i.verticalCenter="top",i.horizontalCenter="middle"))},Object.defineProperty(e.prototype,"isBusy",{get:function(){return this._isBusy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return Math.min(this.getPosition(this._start),this.getPosition(this._end))},set:function(t){this._isBusy||(this.__start=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"__start",{get:function(){return this._start},set:function(t){this._start=this.getPosition(t),this.updateThumb()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return Math.max(this.getPosition(this._start),this.getPosition(this._end))},set:function(t){this._isBusy||(this.__end=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"__end",{get:function(){return this._end},set:function(t){this._end=this.getPosition(t),this.updateThumb()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return{start:this.start,end:this.end,priority:this._usingGrip}},enumerable:!0,configurable:!0}),e.prototype.skipRangeEvents=function(){this._isBusy||(this._skipRangeEvents=!0)},e.prototype.fixRange=function(t){t.start==Tl(this._start,2)&&t.end==Tl(this._end,2)||(this._start=t.start,this._end=t.end,this._skipRangeEvents=!0,this.updateThumb(),this._skipRangeEvents=!1,this.thumb.validate(),this.thumb.background.validate())},e.prototype.getPosition=function(t){return Cl(Tl(t,4),0,1)},Object.defineProperty(e.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(t){this.setPropertyValue("orientation",t)&&("horizontal"===t?(this.startGrip.cursorOverStyle=og.horizontalResize,this.endGrip.cursorOverStyle=og.horizontalResize):(this.startGrip.cursorOverStyle=og.verticalResize,this.endGrip.cursorOverStyle=og.verticalResize),this.updateByOrientation(),this.invalidate())},enumerable:!0,configurable:!0}),e.prototype.updateByOrientation=function(){},Object.defineProperty(e.prototype,"startGrip",{get:function(){return this._startGrip},set:function(t){this._startGrip&&this.removeDispose(this._startGrip),this._startGrip=t,this.processGrip(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endGrip",{get:function(){return this._endGrip},set:function(t){this._endGrip&&this.removeDispose(this._endGrip),this._endGrip=t,this.processGrip(t)},enumerable:!0,configurable:!0}),e.prototype.processGrip=function(t){t.parent=this,t.isMeasured=!1,t.focusable=!0,t.shouldClone=!1,t.zIndex=100,t.events.on("drag",this.handleGripDrag,this,!1),t.events.on("dragstop",this.makeUnbusy,this,!1),t.events.on("down",this.makeBusy,this,!1),t.events.on("up",this.makeUnbusy,this,!1),this._disposers.push(t)},e.prototype.handleGripDrag=function(t){this.makeBusy(),t.target===this._startGrip?this._usingGrip="start":this._usingGrip="end","horizontal"==this.orientation?(this._start=this.startGrip.pixelX/this.innerWidth,this._end=this.endGrip.pixelX/this.innerWidth):(this._start=1-this.startGrip.pixelY/this.innerHeight,this._end=1-this.endGrip.pixelY/this.innerHeight),this.updateThumb()},Object.defineProperty(e.prototype,"thumb",{get:function(){if(!this._thumb){var t=new $g;t.background.cornerRadius(10,10,10,10),t.padding(0,0,0,0),this.thumb=t}return this._thumb},set:function(t){var e=this;t&&(this._thumb&&this.removeDispose(this._thumb),this._thumb=t,t.parent=this,t.isMeasured=!1,t.inert=!0,t.draggable=!0,t.clickable=!0,t.hoverable=!0,t.focusable=!0,t.shouldClone=!1,t.zIndex=0,t.cursorOverStyle=og.grab,t.cursorDownStyle=og.grabbing,t.events.on("dragstart",this.makeBusy,this,!1),t.events.on("dragstop",this.makeUnbusy,this,!1),t.events.on("positionchanged",this.handleThumbPosition,this,!1),t.events.on("sizechanged",this.handleThumbPosition,this,!1),t.events.on("doublehit",this.handleDoubleClick,this,!1),this._disposers.push(zd().body.events.on("keyup",(function(t){Ad.isKey(t.event,["space","enter"])&&e.thumb.isFocused&&(t.event.preventDefault(),e.handleDoubleClick())}))),this._disposers.push(this._thumb))},enumerable:!0,configurable:!0}),e.prototype.handleDoubleClick=function(){this.makeBusy();var t=0,e=1;0!=this.start||1!=this.end?(this._prevStart=this.start,this._prevEnd=this.end):(t=this._prevStart,e=this._prevEnd);var i=this.animate([{property:"__start",to:t},{property:"__end",to:e}],this.animationDuration,this.animationEasing);i&&!i.isFinished()?(i.events.on("animationended",this.makeUnbusy,this,!1),this._zoomAnimation=i):this.makeUnbusy()},e.prototype.handleThumbPosition=function(){var t=this.thumb;if("horizontal"==this.orientation){var e=this.innerWidth,i=t.innerWidth,s=t.pixelX;this._start=s/e,this._end=(s+i)/e,this.updateThumb()}else{var n=this.innerHeight,r=t.innerHeight,a=t.pixelY;a+r>n&&(a=n-r,t.y=a),this._start=1-(a+r)/n,this._end=1-a/n,this.updateThumb()}},e.prototype.createBackground=function(){return new qg},Object.defineProperty(e.prototype,"hideGrips",{get:function(){return this._hideGrips},set:function(t){var e=this;this._hideGrips=t,this._overDisposer&&this.removeDispose(this._overDisposer),this._outDisposer&&this.removeDispose(this._outDisposer),t?(this._overDisposer=this.events.on("over",(function(){e.startGrip.show(),e.endGrip.show()}),void 0,!1),this._outDisposer=this.events.on("out",(function(){e.startGrip.hide(),e.endGrip.hide()}),void 0,!1),this.startGrip.hide(),this.endGrip.hide()):(this.startGrip.show(),this.endGrip.show())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animationDuration",{get:function(){return this.getPropertyValue("animationDuration")},set:function(t){this.setPropertyValue("animationDuration",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animationEasing",{get:function(){return this.getPropertyValue("animationEasing")},set:function(t){this.setPropertyValue("animationEasing",t)},enumerable:!0,configurable:!0}),e.prototype.asFunction=function(e){return"animationEasing"==e||t.prototype.asIs.call(this,e)},e}(Lg);gu.registeredClasses.Scrollbar=Of;var kf=function(t){function e(){var e=t.call(this)||this;return e.className="Slider",e.thumb.opacity=0,e.thumb.interactionsEnabled=!1,e.endGrip.opacity=0,e.endGrip.interactionsEnabled=!1,e.startGrip.events.on("drag",(function(){e.endGrip.x=e.startGrip.x,e.endGrip.y=e.startGrip.y})),e.applyTheme(),e}return Tt(e,t),Object.defineProperty(e.prototype,"__end",{get:function(){return this._start},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._start},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this._start},set:function(t){this._isBusy||(this.__start=t)},enumerable:!0,configurable:!0}),e}(Of);gu.registeredClasses.Slider=kf;var Df=function(t){function e(){var e=t.call(this)||this;e.className="TextLink",e.selectable=!0;var i=new Td;e.fill=i.getFor("primaryButton").brighten(.3);var s=e.states.create("hover");s.properties.fill=i.getFor("primaryButtonHover").brighten(.3);var n=e.states.create("down");return n.properties.fill=i.getFor("primaryButtonDown").brighten(.3),e.cursorOverStyle=og.pointer,e.applyTheme(),e}return Tt(e,t),e}(Zg);gu.registeredClasses.TextLink=Df;var Tf=function(t){function e(){var e=t.call(this)||this;return e.properties={},e.isTemplate=!1,e._scale=1,e._nonScaling=!0,e.className="Filter",e.filterPrimitives=new vu,e.properties.filterUnits="objectBoundingBox",e.filterPrimitives.events.on("inserted",(function(t){e._disposers.push(t.newValue)})),e.width=120,e.height=120,e.applyTheme(),e}return Tt(e,t),e.prototype.appendPrimitives=function(t){qh(this.filterPrimitives.iterator(),(function(e){t.add(e)}))},e.prototype.animate=function(t,e,i){var s=new ed(this,t,e,i).start();return s},Object.defineProperty(e.prototype,"width",{get:function(){return this.properties["width"]},set:function(t){this.properties["width"]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.properties["height"]},set:function(t){this.properties["height"]=t},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){var i=this;t.prototype.copyFrom.call(this,e),Hh(e.properties,(function(t,e){i[t]=e}))},Object.defineProperty(e.prototype,"paper",{get:function(){return this._paper?this._paper:ig()},set:function(t){this._paper!=t&&(this._paper=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new td(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this._scale},set:function(t){this._scale=t,this.updateScale()},enumerable:!0,configurable:!0}),e.prototype.updateScale=function(){},Object.defineProperty(e.prototype,"filterUnits",{get:function(){return this.properties.filterUnits},set:function(t){this.properties.filterUnits=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonScaling",{get:function(){return this._nonScaling},set:function(t){this._nonScaling=t,t||(this._scale=1),this.updateScale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sprite",{set:function(t){this.setSprite(t)},enumerable:!0,configurable:!0}),e.prototype.setSprite=function(t){this._sprite&&this._sprite!=t&&this._sprite.filters.removeValue(this),this._sprite=t},e}($u),Sf=function(t){function e(){var e=t.call(this)||this;return e.className="DropShadowFilter",e.color=Uu("#000"),e.feGaussianBlur=e.paper.add("feGaussianBlur"),e.feGaussianBlur.attr({result:"blurOut",in:"SourceGraphic"}),e.filterPrimitives.push(e.feGaussianBlur),e.feOffset=e.paper.add("feOffset"),e.feOffset.attr({result:"offsetBlur"}),e.filterPrimitives.push(e.feOffset),e.feFlood=e.paper.add("feFlood"),e.feFlood.attr({"flood-color":e.color}),e.filterPrimitives.push(e.feFlood),e.feComposite=e.paper.add("feComposite"),e.feComposite.attr({in2:"offsetBlur",operator:"in"}),e.filterPrimitives.push(e.feComposite),e.feMerge=e.paper.addGroup("feMerge"),e.feMerge.add(e.paper.add("feMergeNode")),e.feMerge.add(e.paper.add("feMergeNode").attr({in:"SourceGraphic"})),e.filterPrimitives.push(e.feMerge),e.width=200,e.height=200,e.blur=1.5,e.dx=3,e.dy=3,e.opacity=.5,e.applyTheme(),e}return Tt(e,t),Object.defineProperty(e.prototype,"color",{get:function(){return this.properties.color},set:function(t){this.properties.color=t,this.feFlood&&this.feFlood.attr({"flood-color":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opacity",{get:function(){return this.properties.opacity},set:function(t){this.properties.opacity=t,this.feFlood.attr({"flood-opacity":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dx",{get:function(){return this.properties.dx},set:function(t){this.properties.dx=t,this.feOffset.attr({dx:t/this.scale})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dy",{get:function(){return this.properties.dy},set:function(t){this.properties.dy=t,this.feOffset.attr({dy:t/this.scale})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this.properties.blur},set:function(t){this.properties.blur=t,this.feGaussianBlur.attr({stdDeviation:t/this.scale})},enumerable:!0,configurable:!0}),e.prototype.updateScale=function(){this.dx=this.dx,this.dy=this.dy,this.blur=this.blur},e}(Tf);gu.registeredClasses.DropShadowFilter=Sf;var Cf=function(t){function e(){var e=t.call(this)||this;e._boundingRect={x:-4e4,y:-4e4,width:8e4,height:8e4},e._pointTo={x:0,y:0},e.fitPointerToBounds=!1,e._verticalOrientation="up",e.fixDoc=!0,e.className="Tooltip",e.isMeasured=!1,e.getFillFromObject=!0,e.margin(5,5,5,5),e.defaultState.transitionDuration=1,e.hiddenState.transitionDuration=1;var i=e.background;i.interactionsEnabled=!1,i.fillOpacity=.9,i.strokeWidth=1,i.strokeOpacity=1,i.stroke=Uu("#ffffff"),i.cornerRadius=3,i.pointerLength=6,i.pointerBaseWidth=10;var s=new Sf;s.dy=1,s.dx=1,s.opacity=.5,i.filters.push(s),e.autoTextColor=!0;var n=e.createChild(Zg);return n.shouldClone=!1,e.label=n,n.padding(7,12,4,12),n.interactionsEnabled=!1,n.horizontalCenter="middle",n.fill=Uu("#ffffff"),e._disposers.push(n),e.label.events.on("sizechanged",e.drawBackground,e),e.label.zIndex=1,e.pointerOrientation="vertical",e.animationDuration=0,e.animationEasing=_c,e.setPropertyValue("showInViewport",!1),e.role="tooltip",e.visible=!1,e.opacity=0,e.x=0,e.y=0,e.events.on("visibilitychanged",e.handleVisibility,e),e.applyTheme(),e}return Tt(e,t),e.prototype.handleVisibility=function(){this.visible&&this.label.invalidate()},Object.defineProperty(e.prototype,"getStrokeFromObject",{get:function(){return this.getPropertyValue("getStrokeFromObject")},set:function(t){this.setPropertyValue("getStrokeFromObject",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoTextColor",{get:function(){return this.getPropertyValue("autoTextColor")},set:function(t){this.setPropertyValue("autoTextColor",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keepTargetHover",{get:function(){return this.getPropertyValue("keepTargetHover")},set:function(t){var e=this;this.setPropertyValue("keepTargetHover",t,!0)&&t&&(this.hoverable=!0,this.background.interactionsEnabled=!0,this._disposers.push(this.events.on("over",(function(t){e.targetSprite&&e.targetSprite.hoverable&&(e.targetSprite.isHover=!0)}))),this._disposers.push(this.events.on("out",(function(t){e.targetSprite&&e.targetSprite.hoverable&&(e.targetSprite.isHover=!1)}))))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showInViewport",{get:function(){return this.getPropertyValue("showInViewport")},set:function(t){this.setPropertyValue("showInViewport",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getFillFromObject",{get:function(){return this.getPropertyValue("getFillFromObject")},set:function(t){this.setPropertyValue("getFillFromObject",t,!0)},enumerable:!0,configurable:!0}),e.prototype.createBackground=function(){return new nf},Object.defineProperty(e.prototype,"pointerOrientation",{get:function(){return this.getPropertyValue("pointerOrientation")},set:function(t){this.setPropertyValue("pointerOrientation",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animationDuration",{get:function(){return this.getPropertyValue("animationDuration")},set:function(t){this.setPropertyValue("animationDuration",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animationEasing",{get:function(){return this.getPropertyValue("animationEasing")},set:function(t){this.setPropertyValue("animationEasing",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"html",{get:function(){return this.label.html},set:function(t){this.label.html!=t&&(this.label.html=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this.label.text},set:function(t){this.label.text!=t&&(this.label.text=t,this.invalidate())},enumerable:!0,configurable:!0}),e.prototype.draw=function(){t.prototype.draw.call(this);var e=this.label;e.invalid&&e.validate();var i,s,n=this._pointTo.x,r=this._pointTo.y,a=this._boundingRect,o=e.measuredWidth,l=e.measuredHeight,h=this.background.pointerLength;if(this.ignoreBounds&&(a=void 0),a&&this.fixDoc&&o>a.width){Up({x:a.x,y:a.y},this.parent);var u=Up({x:a.x+a.width,y:a.y+a.height},this.parent),p=document.body.offsetWidth;op(document.body.offsetHeight),u.x>p/2?a.x=a.width-o:a.width=a.x+o}var c=this.pointerOrientation;"horizontal"==c||"left"==c||"right"==c?(s=-l/2,i="horizontal"==c?a&&n>a.x+a.width/2?-o/2-h:o/2+h:"left"==c?o/2+h:-o/2-h):(a&&(i=Cl(0,a.x-n+o/2,a.x-n+a.width-o/2)),"vertical"==c?a&&r>a.y+l+h?(s=-l-h,this._verticalOrientation="up"):(s=h,this._verticalOrientation="down"):"down"==c?(s=-l-h,this._verticalOrientation="up"):(s=h,this._verticalOrientation="down")),a&&(s=Cl(s,a.y-r,a.y+a.height-l-r)),e.x=i,e.y=s,this.drawBackground()},e.prototype.updateBackground=function(){this.group.addToBack(this.background.group)},e.prototype.drawBackground=function(){var t=this.label,e=this.background,i=t.measuredWidth,s=t.measuredHeight,n=this._boundingRect,r=i,a=t.pixelX-i/2,o=s,l=t.pixelY,h=this._pointTo.x,u=this._pointTo.y,p=n.x-h,c=p+n.width,d=n.y-u,g=d+n.height;e.x=a,e.y=l,e.width=r,e.height=o,this.fitPointerToBounds?(e.pointerX=Cl(-e.x,p-e.x,c-e.x),e.pointerY=Cl(-e.y,d-e.y,g-e.y)):(e.pointerX=-e.x,e.pointerY=-e.y),e.validate()},e.prototype.delayedPointTo=function(t,e){var i=this;this._pointToDisposer&&this._pointToDisposer.dispose(),this._pointToDisposer=gu.events.once("exitframe",(function(){i.pointTo(t,e)})),this.addDisposer(this._pointToDisposer)},e.prototype.pointTo=function(t,e){this._pointTo.x==t.x&&this._pointTo.y==t.y||(this._pointTo=t,this.invalidate(),!this.visible||e?(this.moveTo(this._pointTo),this._animation&&this._animation.kill()):0==this.pixelX&&0==this.pixelY?this.moveTo(this._pointTo):(this._animation&&this._animation.kill(),this._animation=new ed(this,[{property:"x",to:t.x,from:this.pixelX},{property:"y",to:t.y,from:this.pixelY}],this.animationDuration,this.animationEasing).start()))},e.prototype.setBounds=function(t){var e=this._boundingRect;e.x==t.x&&e.y==t.y&&e.width==t.width&&e.height==t.height||(this._boundingRect=t,this.invalidate())},Object.defineProperty(e.prototype,"boundingContainer",{set:function(t){this._boundingContainer=t,t.events.on("sizechanged",this.updateBounds,this),t.events.on("positionchanged",this.updateBounds,this)},enumerable:!0,configurable:!0}),e.prototype.updateBounds=function(){var t=this._boundingContainer,e=Wp({x:t.pixelX,y:t.pixelY,width:t.maxWidth,height:t.maxHeight},t);this.setBounds(e)},Object.defineProperty(e.prototype,"ignoreBounds",{get:function(){return this.getPropertyValue("ignoreBounds")},set:function(t){this.setPropertyValue("ignoreBounds",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalOrientation",{get:function(){return this._verticalOrientation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltip",{get:function(){},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.label.copyFrom(e.label),e._boundingRect&&(this._boundingRect=e._boundingRect)},e.prototype.asFunction=function(e){return"animationEasing"==e||t.prototype.asIs.call(this,e)},e}(Lg);gu.registeredClasses.Tooltip=Cf;var Mf=function(t){function e(){var e=t.call(this)||this;return e.className="Trapezoid",e.element=e.paper.add("path"),e.topSide=rl(100),e.bottomSide=rl(100),e.leftSide=rl(100),e.rightSide=rl(100),e.isMeasured=!1,e.applyTheme(),e}return Tt(e,t),e.prototype.draw=function(){t.prototype.draw.call(this);var e=this.pixelWidth,i=this.pixelHeight,s=gp(this.topSide,e),n=gp(this.bottomSide,e),r=gp(this.leftSide,i),a=gp(this.rightSide,i),o=(e-s)/2,l=(i-r)/2,h=e-(e-s)/2,u=(i-a)/2,p=e-(e-n)/2,c=i-(i-a)/2,d=(e-n)/2,g=i-(i-r)/2,f="",m="",y="",b="";if(gl(this.horizontalNeck)){var v=this.horizontalNeck.value;f=of({x:e*v,y:Math.max(l,u)}),y=of({x:e*v,y:Math.min(c,g)})}if(gl(this.verticalNeck)){var _=this.verticalNeck.value;m=of({x:Math.min(h,p),y:i*_}),b=of({x:Math.max(o,d),y:i*_})}var x=af({x:o,y:l})+f+of({x:h,y:u})+m+of({x:p,y:c})+y+of({x:d,y:g})+b;this.path=x},Object.defineProperty(e.prototype,"topSide",{get:function(){return this.getPropertyValue("topSide")},set:function(t){this.setPercentProperty("topSide",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomSide",{get:function(){return this.getPropertyValue("bottomSide")},set:function(t){this.setPercentProperty("bottomSide",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftSide",{get:function(){return this.getPropertyValue("leftSide")},set:function(t){this.setPercentProperty("leftSide",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightSide",{get:function(){return this.getPropertyValue("rightSide")},set:function(t){this.setPercentProperty("rightSide",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"horizontalNeck",{get:function(){return this.getPropertyValue("horizontalNeck")},set:function(t){this.setPropertyValue("horizontalNeck",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalNeck",{get:function(){return this.getPropertyValue("verticalNeck")},set:function(t){this.setPropertyValue("verticalNeck",t,!0)},enumerable:!0,configurable:!0}),e}(jg);gu.registeredClasses.Trapezoid=Mf;var If=function(t){function e(){var e=t.call(this)||this;return e.className="Triangle",e.element=e.paper.add("path"),e.direction="top",e.applyTheme(),e}return Tt(e,t),e.prototype.draw=function(){t.prototype.draw.call(this);var e,i=this.pixelWidth,s=this.pixelHeight;switch(this.direction){case"right":e=af({x:0,y:0})+of({x:i,y:s/2})+of({x:0,y:s})+hf();break;case"left":e=af({x:i,y:0})+of({x:0,y:s/2})+of({x:i,y:s})+hf();break;case"bottom":e=af({x:0,y:0})+of({x:i,y:0})+of({x:i/2,y:s})+hf();break;case"top":e=af({x:i/2,y:0})+of({x:i,y:s})+of({x:0,y:s})+hf();break}this.path=e},Object.defineProperty(e.prototype,"direction",{get:function(){return this.getPropertyValue("direction")},set:function(t){this.setPropertyValue("direction",t,!0)},enumerable:!0,configurable:!0}),e}(jg);gu.registeredClasses.Triangle=If;var jf=function(){function t(t,e){this._tensionX=t,this._tensionY=e}return t.prototype.smooth=function(t){for(var e=t.length-1;e>0;e--){var i=t[e],s=t[e-1];Math.abs(i.x-s.x)<.1&&Math.abs(i.y-s.y)<.1&&t.splice(e-1,1)}var n=this._tensionX,r=this._tensionY;if(t.length<3||n>=1&&r>=1)return rf(t);var a=t[0],o=t[t.length-1],l=!1;Tl(a.x,3)==Tl(o.x)&&Tl(a.y)==Tl(o.y)&&(l=!0);for(var h="",u=(e=0,t.length-1);e<u;e++){i=t[e-1],s=t[e];var p=t[e+1],c=t[e+2];0===e?i=l?t[t.length-2]:t[e]:e==t.length-2&&(c=l?t[1]:t[e+1]);var d=Yl(i,s,p,c,n,r),g=Gl(i,s,p,c,n,r);h+=lf(p,d,g)}return h},t}();function Ef(t,e,i,s,n,r){var a=t.x,o=t.y,l=e.x,h=e.y,u=Fl(t,e);r&&(i=u/Math.round(u/i));var p=gu.getCache(mp(["wavedLine",t.x,e.x,t.y,e.y,i,s]));if(!p){if(u>0){var c=Math.atan2(h-o,l-a),d=Math.cos(c),g=Math.sin(c),f=i*d,m=i*g;if(i<=1||s<=1)p=of(e);else{var y=Math.round(2*u/i),b=[],v=1;l<a&&(v*=-1),h<o&&(v*=-1);for(var _=0;_<=y;_++){v*=-1;var x=a+_*f/2+v*s/2*g,w=o+_*m/2-v*s/2*d;b.push({x:x,y:w})}p=new jf(n,n).smooth(b)}}else p="";gu.setCache(mp(["wavedLine",t.x,e.x,t.y,e.y,i,s]),p)}return p}var Lf=function(){function t(t,e){this._reversed=t,this._closed=e.closed}return t.prototype._curve=function(t,e,i,s,n,r){var a=(e-t)/3;return this._reversed?lf({x:s,y:e},{x:i+a*n,y:t+a},{x:s-a*r,y:e-a}):lf({x:e,y:s},{x:t+a,y:i+a*n},{x:e-a,y:s-a*r})},t.prototype.smooth=function(t){var e=this,i=NaN,s=NaN,n=NaN,r=NaN,a=NaN,o=0,l="";switch(th(t,(function(t){var h=t.x,u=t.y;if(e._reversed){var p=h;h=u,u=p}var c=NaN;if(h!==s||u!==r){switch(o){case 0:o=1,e._reversed?l+=of({x:u,y:h}):l+=of({x:h,y:u});break;case 1:o=2;break;case 2:o=3,l+=e._curve(i,s,n,r,Ff(i,s,n,r,c=Rf(i,s,n,r,h,u)),c);break;default:l+=e._curve(i,s,n,r,a,c=Rf(i,s,n,r,h,u));break}i=s,s=h,n=r,r=u,a=c}})),o){case 2:this._reversed?l+=of({x:r,y:s}):l+=of({x:s,y:r});break;case 3:l+=this._curve(i,s,n,r,a,Ff(i,s,n,r,a));break}return this._closed&&(l+=hf()),l},t}();function Af(t){return t<0?-1:1}function Ff(t,e,i,s,n){var r=e-t;return r?(3*(s-i)/r-n)/2:n}function Rf(t,e,i,s,n,r){var a=e-t,o=n-e,l=(s-i)/(a||o<0&&-0),h=(r-s)/(o||a<0&&-0),u=(l*o+h*a)/(a+o);return(Af(l)+Af(h))*Math.min(Math.abs(l),Math.abs(h),.5*Math.abs(u))||0}(function(t){function e(e){return t.call(this,!1,e)||this}Tt(e,t)})(Lf),function(t){function e(e){return t.call(this,!0,e)||this}Tt(e,t)}(Lf),function(){function t(t){this._closed=t.closed}t.prototype.smooth=function(t){var e=this,i=NaN,s=NaN,n=NaN,r=NaN,a=NaN,o=NaN,l=NaN,h=NaN,u=NaN,p=NaN,c=0,d="",g=function(t,e){d+=lf({x:(i+4*s+t)/6,y:(o+4*l+e)/6},{x:(2*i+s)/3,y:(2*o+l)/3},{x:(i+2*s)/3,y:(o+2*l)/3})},f=function(t){var f=t.x,m=t.y;switch(c){case 0:c=1,e._closed?(n=f,h=m):d+=of({x:f,y:m});break;case 1:c=2,e._closed&&(r=f,u=m);break;case 2:if(c=3,e._closed){a=f,p=m,d+=af({x:(i+4*s+f)/6,y:(o+4*l+m)/6});break}d+=of({x:(5*i+s)/6,y:(5*o+l)/6});default:g(f,m);break}i=s,s=f,o=l,l=m};if(th(t,f),this._closed)switch(c){case 1:d+=af({x:n,y:h}),d+=hf();break;case 2:d+=af({x:(n+2*r)/3,y:(h+2*u)/3}),d+=of({x:(r+2*n)/3,y:(u+2*h)/3}),d+=hf();break;case 3:f({x:n,y:h}),f({x:r,y:u}),f({x:a,y:p});break}else{switch(c){case 3:g(s,l);case 2:d+=of({x:s,y:l});break}d+=hf()}return d}}();var Vf=function(t){function e(){var e=t.call(this)||this;return e.className="WavedCircle",e.element=e.paper.add("path"),e.waveLength=16,e.waveHeight=4,e.fill=void 0,e.fillOpacity=0,e.tension=.8,e.applyTheme(),e}return Tt(e,t),e.prototype.draw=function(){var t="",e=this.pixelRadius;if(e>0){var i=this.getPoints(e);t=af(i[0])+new jf(this.tension,this.tension).smooth(i)}var s=this.pixelInnerRadius;if(s>0){i=this.getPoints(s);i.reverse(),t+=af(i[0])+new jf(this.tension,this.tension).smooth(i)}this.path=t},e.prototype.getPoints=function(t){for(var e=t*Math.PI*2,i=this.waveHeight/2,s=e/Math.round(e/this.waveLength),n=s/2,r=[],a=e/s,o=0;o<=a;o++){var l=o*s/e*360,h=(o*s+n)/e*360;r.push({x:(t-i)*Il(l),y:(t-i)*Ml(l)}),r.push({x:(t+i)*Il(h),y:(t+i)*Ml(h)})}return r.pop(),r},Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(t){this.setPercentProperty("innerRadius",t,!0,!1,10,!1),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelInnerRadius",{get:function(){return gp(this.innerRadius,El(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(t){this.setPropertyValue("waveLength",t),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(t){this.setPropertyValue("waveHeight",t),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(t){this.setPropertyValue("tension",t),this.invalidate()},enumerable:!0,configurable:!0}),e}(Jg);gu.registeredClasses.WavedCircle=Vf;var Bf=function(t){function e(){var e=t.call(this)||this;return e.className="WavedLine",e.element=e.paper.add("path"),e.waveLength=16,e.waveHeight=4,e.tension=.8,e.pixelPerfect=!1,e.fill=Uu(),e.applyTheme(),e}return Tt(e,t),e.prototype.draw=function(){var t={x:this.x1,y:this.y1},e={x:this.x2,y:this.y2};this.path=af(t)+Ef(t,e,this.waveLength,this.waveHeight,this.tension,!0)},Object.defineProperty(e.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(t){this.setPropertyValue("waveLength",t),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(t){this.setPropertyValue("waveHeight",t),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(t){this.setPropertyValue("tension",t),this.invalidate()},enumerable:!0,configurable:!0}),e}(ef),Nf=function(t){function e(){var e=t.call(this)||this;return e.className="WavedRectangle",e.element=e.paper.add("path"),e.waveLength=16,e.waveHeight=4,e.tension=.8,e.setPropertyValue("wavedLeft",!0),e.setPropertyValue("wavedRight",!0),e.setPropertyValue("wavedTop",!0),e.setPropertyValue("wavedBottom",!0),e.applyTheme(),e}return Tt(e,t),e.prototype.draw=function(){t.prototype.draw.call(this);var e=this.pixelWidth,i=this.pixelHeight;if(e>0&&i>0){var s={x:0,y:0},n={x:e,y:0},r={x:e,y:i},a={x:0,y:i},o=Math.min(e,this.waveLength),l=Math.min(i,this.waveHeight),h=Math.min(i,this.waveLength),u=Math.min(e,this.waveHeight),p="",c="",d="",g="";this.wavedTop&&(p=Ef(s,n,o,l,this.tension,!0)),this.wavedRight&&(c=Ef(n,r,h,u,this.tension,!0)),this.wavedBottom&&(d=Ef(r,a,o,l,this.tension,!0)),this.wavedLeft&&(g=Ef(a,s,h,u,this.tension,!0)),this.path=af(s)+p+of(n)+c+of(r)+d+of(a)+g+"z"}},Object.defineProperty(e.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(t){this.setPropertyValue("waveLength",t),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(t){this.setPropertyValue("waveHeight",t),this.invalidate()},enumerable:!0,configurable:!0}),e.prototype.setWavedSides=function(t,e,i,s){this.wavedTop=t,this.wavedRight=e,this.wavedBottom=i,this.wavedLeft=s},Object.defineProperty(e.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(t){this.setPropertyValue("tension",t),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wavedRight",{get:function(){return this.getPropertyValue("wavedRight")},set:function(t){this.setPropertyValue("wavedRight",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wavedLeft",{get:function(){return this.getPropertyValue("wavedLeft")},set:function(t){this.setPropertyValue("wavedLeft",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wavedTop",{get:function(){return this.getPropertyValue("wavedTop")},set:function(t){this.setPropertyValue("wavedTop",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wavedBottom",{get:function(){return this.getPropertyValue("wavedBottom")},set:function(t){this.setPropertyValue("wavedBottom",t,!0)},enumerable:!0,configurable:!0}),e}(Eg),Hf=function(t){function e(){var e=t.call(this)||this;e.className="ZoomOutButton",e.padding(9,9,9,9),e.showSystemTooltip=!0;var i=new Td,s=e.background;s.cornerRadius(20,20,20,20),s.fill=i.getFor("primaryButton"),s.stroke=i.getFor("primaryButtonStroke"),s.strokeOpacity=0,s.states.getKey("hover").properties.fill=i.getFor("primaryButtonHover"),s.states.getKey("down").properties.fill=i.getFor("primaryButtonActive");var n=new jg;n.element=e.paper.add("path");var r=af({x:0,y:0});return r+=of({x:11,y:0}),n.path=r,n.pixelPerfect=!0,n.padding(8,3,8,3),n.stroke=i.getFor("primaryButtonText"),e.icon=n,e.applyTheme(),e}return Tt(e,t),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),gl(this.readerTitle)||(this.readerTitle=this.language.translate("Zoom Out"))},e}($g);gu.registeredClasses.ZoomOutButton=Hf;var zf=function(t){function e(){var e=t.call(this)||this;e.className="PlayButton",e.padding(12,12,12,12),e.showSystemTooltip=!0;var i=new Td,s=e.background;s.cornerRadius(25,25,25,25),s.fill=i.getFor("primaryButton"),s.stroke=i.getFor("primaryButtonStroke"),s.strokeOpacity=0,s.states.getKey("hover").properties.fill=i.getFor("primaryButtonHover"),s.states.getKey("down").properties.fill=i.getFor("primaryButtonActive");var n=new If;n.direction="right",n.width=9,n.height=11,n.marginLeft=1,n.marginRight=1,n.horizontalCenter="middle",n.verticalCenter="middle",n.stroke=i.getFor("primaryButtonText"),n.fill=n.stroke,e.icon=n;var r=new qg;r.width=11,r.height=11,r.horizontalCenter="middle",r.verticalCenter="middle",r.cornerRadius(0,0,0,0),r.stroke=i.getFor("primaryButtonText"),r.fill=n.stroke,e.togglable=!0;var a=e.states.create("active");return a.transitionDuration=0,a.properties.icon=r,e.defaultState.transitionDuration=0,e.applyTheme(),e}return Tt(e,t),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),gl(this.readerTitle)||(this.readerTitle=this.language.translate("Play"))},e}($g);gu.registeredClasses.PlayButton=zf;var Wf=function(t){function e(){var e=t.call(this)||this;return e.className="ColorModifier",e.applyTheme(),e}return Tt(e,t),e.prototype.modify=function(t){return t},e}($u);gu.registeredClasses.ColorModifier=Wf;var Yf=function(t){function e(){var e=t.call(this)||this;return e.lightnesses=[],e.brightnesses=[],e.opacities=[],e.offsets=[],e.className="GradientModifier",e.applyTheme(),e}return Tt(e,t),Object.defineProperty(e.prototype,"lightnesses",{get:function(){return this._lightnesses},set:function(t){this._lightnesses=t,this._brightnesses=[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"brightnesses",{get:function(){return this._brightnesses},set:function(t){this._brightnesses=t,this._lightnesses=[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opacities",{get:function(){return this._opacities},set:function(t){this._opacities=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return this._offsets},set:function(t){this._offsets=t},enumerable:!0,configurable:!0}),e.prototype.modify=function(t){this.gradient.clear();var e=0;this.opacities&&(e=jl(e,this.opacities.length)),this.lightnesses&&(e=jl(e,this.lightnesses.length)),this.brightnesses&&(e=jl(e,this.brightnesses.length));for(var i,s,n=1,r=0;r<e;r++){var a=t;this.opacities&&vl(this.opacities[r])&&(n=this.opacities[r]),this.lightnesses&&vl(this.lightnesses[r])&&(i=this.lightnesses[r],s=void 0),this.brightnesses&&vl(this.brightnesses[r])&&(s=this.brightnesses[r],i=void 0),vl(s)?a=t.brighten(this.brightnesses[r]):vl(i)&&(a=t.lighten(this.lightnesses[r]));var o=this.offsets[r];this.gradient.addColor(a,n,o)}return this.gradient},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this._offsets=e.offsets,this._brightnesses=e.brightnesses,this._lightnesses=e.lightnesses,this._opacities=e.opacities},e}(Wf);gu.registeredClasses.GradientModifier=Yf;var Gf=function(t){function e(){var e=t.call(this)||this;return e.className="LinearGradientModifier",e.gradient=new ng,e.applyTheme(),e}return Tt(e,t),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.gradient=e.gradient.clone()},e}(Yf);gu.registeredClasses.LinearGradientModifier=Gf;(function(t){function e(){var e=t.call(this)||this;return e.className="Cone",e.angle=30,e.radius=rl(100),e.topRadius=rl(100),e.top=e.createChild(Qg),e.top.shouldClone=!1,e.bottom=e.createChild(Qg),e.bottom.shouldClone=!1,e.body=e.createChild(jg),e.body.shouldClone=!1,e.body.setElement(e.paper.add("path")),e.layout="none",e.bodyFillModifier=new Gf,e.bodyFillModifier.lightnesses=[0,-.25,0],e.body.fillModifier=e.bodyFillModifier,e.applyTheme(),e}Tt(e,t),e.prototype.draw=function(){t.prototype.draw.call(this),Gh(this,this.top,Ig),Gh(this,this.bottom,Ig),Gh(this,this.body,Ig);var e,i,s,n=this.innerWidth,r=this.innerHeight,a=this.bottom,o=this.top,l=this.angle;"horizontal"==this.orientation?(e=r/2,a.y=r/2,o.y=r/2,o.x=n,i=(90-l)/90,s=0,this.bodyFillModifier.gradient.rotation=90):(i=0,s=(90-l)/90,e=n/2,a.y=r,a.x=n/2,o.x=n/2,this.bodyFillModifier.gradient.rotation=0);var h,u=this.radius.value*e,p=this.topRadius.value*e;a.radius=u-u*i,a.radiusY=u-u*s,o.radius=p-p*i,o.radiusY=p-p*s,h="horizontal"==this.orientation?af({x:0,y:r/2-a.radiusY})+uf(-90,-180,a.radius,a.radiusY)+of({x:n,y:r/2+o.radiusY})+uf(90,180,o.radius,o.radiusY)+hf():af({x:n/2-o.radius,y:0})+uf(180,-180,o.radius,o.radiusY)+of({x:n/2+a.radius,y:r})+uf(0,180,a.radius,a.radiusY)+hf(),this.body.path=h},Object.defineProperty(e.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(t){this.setPropertyValue("angle",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPropertyValue("radius",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRadius",{get:function(){return this.getPropertyValue("topRadius")},set:function(t){this.setPropertyValue("topRadius",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(t){this.setPropertyValue("orientation",t,!0)},enumerable:!0,configurable:!0})})(Lg);var Xf=function(t){function e(){var e=t.call(this)||this;return e.className="LightenFilter",e.feColorMatrix=e.paper.add("feColorMatrix"),e.feColorMatrix.attr({type:"matrix"}),e.filterPrimitives.push(e.feColorMatrix),e.lightness=0,e.applyTheme(),e}return Tt(e,t),Object.defineProperty(e.prototype,"lightness",{get:function(){return this.properties["lightness"]},set:function(t){this.properties["lightness"]=t;var e=t+1;this.feColorMatrix.attr({values:e+" 0 0 0 0 0 "+e+" 0 0 0 0 0 "+e+" 0 0 0 0 0 1 0"})},enumerable:!0,configurable:!0}),e}(Tf);gu.registeredClasses.LightenFilter=Xf;(function(t){function e(){var e=t.call(this)||this;e.angle=30,e.depth=30,e.className="Rectangle3D",e.layout="none";var i=e.createChild(jg);i.shouldClone=!1,i.setElement(e.paper.add("path")),i.isMeasured=!1,e.sideBack=i,e._disposers.push(e.sideBack);var s=e.createChild(jg);s.shouldClone=!1,s.setElement(e.paper.add("path")),s.isMeasured=!1,e.sideBottom=s,e._disposers.push(e.sideBottom);var n=e.createChild(jg);n.shouldClone=!1,n.setElement(e.paper.add("path")),n.isMeasured=!1,e.sideLeft=n,e._disposers.push(e.sideLeft);var r=e.createChild(jg);r.shouldClone=!1,r.setElement(e.paper.add("path")),r.isMeasured=!1,e.sideRight=r,e._disposers.push(e.sideRight);var a=e.createChild(jg);a.shouldClone=!1,a.setElement(e.paper.add("path")),a.isMeasured=!1,e.sideTop=a,e._disposers.push(e.sideTop);var o=e.createChild(jg);return o.shouldClone=!1,o.setElement(e.paper.add("path")),o.isMeasured=!1,e.sideFront=o,e._disposers.push(e.sideFront),e.applyTheme(),e}Tt(e,t),e.prototype.draw=function(){t.prototype.draw.call(this);var e=this.innerWidth,i=this.innerHeight,s=this.depth,n=this.angle,r=Ml(n),a=Il(n),o={x:0,y:0},l={x:e,y:0},h={x:e,y:i},u={x:0,y:i},p={x:s*a,y:-s*r},c={x:s*a+e,y:-s*r},d={x:s*a+e,y:-s*r+i},g={x:s*a,y:-s*r+i};this.sideFront.path=af(o)+of(l)+of(h)+of(u)+hf(),this.sideBack.path=af(p)+of(c)+of(d)+of(g)+hf(),this.sideLeft.path=af(o)+of(p)+of(g)+of(u)+hf(),this.sideRight.path=af(l)+of(c)+of(d)+of(h)+hf(),this.sideBottom.path=af(u)+of(g)+of(d)+of(h)+hf(),this.sideTop.path=af(o)+of(p)+of(c)+of(l)+hf()},Object.defineProperty(e.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(t){this.setPropertyValue("depth",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(t){this.setPropertyValue("angle",t,!0)},enumerable:!0,configurable:!0}),e.prototype.setFill=function(e){var i;if(t.prototype.setFill.call(this,e),_l(e)&&!("r"in e)||(e=qu(e)),e instanceof Xu)i=e.hex;else if(e instanceof ng||e instanceof rg)i=e.stops.getIndex(0).color.hex;else{var s=new Xf;s.lightness=-.2,this.sideBack.filters.push(s);var n=s.clone();n.lightness=-.4,this.sideLeft.filters.push(n);var r=s.clone();r.lightness=-.2,this.sideRight.filters.push(r);var a=s.clone();a.lightness=-.1,this.sideTop.filters.push(a);var o=s.clone();o.lightness=-.5,this.sideBottom.filters.push(o)}i&&(this.sideBack.fill=Uu(i).lighten(-.2),this.sideLeft.fill=Uu(i).lighten(-.4),this.sideRight.fill=Uu(i).lighten(-.2),this.sideTop.fill=Uu(i).lighten(-.1),this.sideBottom.fill=Uu(i).lighten(-.5))},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.sideBack.copyFrom(e.sideBack),this.sideLeft.copyFrom(e.sideLeft),this.sideRight.copyFrom(e.sideRight),this.sideTop.copyFrom(e.sideTop),this.sideBottom.copyFrom(e.sideBottom)}})(Lg),function(t){function e(){var e=t.call(this)||this;e.className="Slice3D",e.layout="none";var i=e.createChild(jg);e.edge=i,i.shouldClone=!1,i.isMeasured=!1,i.toBack(),e.angle=30,e.depth=20;var s=e.createChild(jg);e.sideA=s,s.shouldClone=!1,s.isMeasured=!1;var n=e.createChild(jg);return e.sideB=n,n.shouldClone=!1,n.isMeasured=!1,e.applyTheme(),e}Tt(e,t),e.prototype.setFill=function(e){var i;if(t.prototype.setFill.call(this,e),e instanceof Xu)i=e.hex;else if(e instanceof ng||e instanceof rg)i=e.stops.getIndex(0).color.hex;else{var s=new Xf;s.lightness=-.25,this.edge.filters.push(s),this.sideA.filters.push(s.clone()),this.sideB.filters.push(s.clone())}if(i){var n=Uu(i).lighten(-.25);this.edge.fill=n,this.sideA.fill=n,this.sideB.fill=n,this.edge.stroke=n,this.sideA.stroke=n,this.sideB.stroke=n}},e.prototype.draw=function(){if(this.cornerRadius=0,this.innerCornerRadius=0,t.prototype.draw.call(this),0!==this.arc&&this.radius>0&&this.depth>0){this.sideB.show(0),this.sideA.show(0),this.edge.show(0);for(var e=this.startAngle,i=this.arc,s=this.pixelInnerRadius||0,n=this.radiusY||0,r=this.radius,a=e+i,o=n/r*s,l={x:Il(e)*s,y:Ml(e)*o},h={x:Il(e)*r,y:Ml(e)*n},u={x:Il(a)*r,y:Ml(a)*n},p={x:Il(a)*s,y:Ml(a)*o},c=this.depth,d={x:l.x,y:l.y-c},g={x:h.x,y:h.y-c},f={x:u.x,y:u.y-c},m={x:p.x,y:p.y-c},y="",b=Math.ceil(i/5),v=i/b,_=e,x=g,w=0;w<b;w++)if(_+=v,_>0&&_<180){y+=af(x);var P={x:Il(_)*r,y:Ml(_)*n-c};y+=of({x:x.x,y:x.y+c}),y+=cf({x:P.x,y:P.y+c},r,n,!0),y+=of(P),y+=cf(x,r,n),y+="z",x=P}else{y+=af(x);P={x:Il(_)*r,y:Ml(_)*n-c};y+=cf(P,r,n,!0),y+=of({x:P.x,y:P.y+c}),y+=cf({x:x.x,y:x.y+c},r,n),y+=of(x),y+="z",x=P}x=d,_=e;for(w=0;w<b;w++)if(_+=v,_>0&&_<180){y+=af(x);P={x:Il(_)*s,y:Ml(_)*o-c};y+=of({x:x.x,y:x.y+c}),y+=cf({x:P.x,y:P.y+c},s,o,!0),y+=of(P),y+=cf(x,s,o),y+="z",x=P}else{y+=af(x);P={x:Il(_)*s,y:Ml(_)*o-c};y+=cf(P,s,o,!0),y+=of({x:P.x,y:P.y+c}),y+=cf({x:x.x,y:x.y+c},s,o),y+=of(x),y+="z",x=P}this.edge.path=y,this.sideA.path=af(l)+of(h)+of(g)+of(d)+hf(),this.sideB.path=af(u)+of(p)+of(m)+of(f)+hf(),this.startAngle<90?this.sideA.toBack():this.sideA.toFront(),this.startAngle+this.arc>90?this.sideB.toBack():this.sideB.toFront(),this.slice.dy=-c}else this.sideA.hide(0),this.sideB.hide(0),this.edge.hide(0)},Object.defineProperty(e.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(t){this.setPropertyValue("depth",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){var t=this.getPropertyValue("angle");return vl(t)||(t=0),t},set:function(t){this.setPropertyValue("angle",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radiusY",{get:function(){var t=this.getPropertyValue("radiusY");return vl(t)||(t=this.radius-this.radius*this.angle/90),t},set:function(t){this.setPropertyValue("radiusY",t,!0)},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.edge.copyFrom(e.edge),this.sideA.copyFrom(e.sideA),this.sideB.copyFrom(e.sideB)}}(vf);var Uf=function(t){function e(){var e=t.call(this)||this;return e.className="RadialGradientModifier",e.gradient=new rg,e.applyTheme(),e}return Tt(e,t),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.gradient=e.gradient.clone()},e}(Yf);gu.registeredClasses.RadialGradientModifier=Uf;var Kf=function(t){function e(){var e=t.call(this)||this;return e.properties["gap"]=0,e._line=e.paper.add("path"),e.addElement(e._line),e}return Tt(e,t),e.prototype.draw=function(){if(t.prototype.draw.call(this),Math.round(this.rotation/90)!=this.rotation/90&&(this.properties["shapeRendering"]="auto"),this._line){var e=this.width,i=this.height,s="";if(this.gap)for(var n=this.gap+this.strokeWidth,r=this.height/n,a=-r/2;a<1.5*r;a++)Math.round(this.rotation/90)!=this.rotation/90?(s+=af({x:-e,y:(a+.5)*n})+of({x:2*e,y:(a+.5)*n}),this.properties["rotationX"]=this.width/2,this.properties["rotationY"]=this.height/2):s+=af({x:-e,y:a*n})+of({x:2*e,y:a*n});else Math.round(this.rotation/90)!=this.rotation/90?(s=af({x:-e,y:i/2})+of({x:2*e,y:i/2}),this.properties["rotationX"]=this.width/2,this.properties["rotationY"]=this.height/2):s=af({x:0,y:0})+of({x:e,y:0});this._line.attr({d:s})}},Object.defineProperty(e.prototype,"gap",{get:function(){return this.properties["gap"]},set:function(t){this.properties["gap"]=t,this.draw()},enumerable:!0,configurable:!0}),e}(sg);gu.registeredClasses.LinePattern=Kf;var Zf=function(t){function e(){var e=t.call(this)||this;return e.properties["radius"]=2,e._circle=e.paper.add("circle"),e.addElement(e._circle),e.shapeRendering="auto",e}return Tt(e,t),e.prototype.draw=function(){t.prototype.draw.call(this),this._circle&&this._circle.attr({r:this.radius,cx:this.width/2,cy:this.height/2})},Object.defineProperty(e.prototype,"radius",{get:function(){return this.properties["radius"]},set:function(t){this.properties["radius"]=t,this.draw()},enumerable:!0,configurable:!0}),e}(sg);gu.registeredClasses.CirclePattern=Zf;var qf=function(t){function e(){var e=t.call(this)||this;return e.rectHeight=1,e.rectWidth=1,e._rect=e.paper.add("rect"),e.addElement(e._rect),e}return Tt(e,t),e.prototype.draw=function(){t.prototype.draw.call(this),this.properties["rotationX"]=this.width/2,this.properties["rotationY"]=this.height/2,this._rect&&this._rect.attr({width:this.rectWidth,height:this.rectHeight,x:(this.width-this.rectWidth)/2,y:(this.height-this.rectHeight)/2})},Object.defineProperty(e.prototype,"rectWidth",{get:function(){return this.properties["rectWidth"]},set:function(t){this.properties["rectWidth"]=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rectHeight",{get:function(){return this.properties["rectHeight"]},set:function(t){this.properties["rectHeight"]=t,this.draw()},enumerable:!0,configurable:!0}),e}(sg);gu.registeredClasses.RectPattern=qf;var $f=function(t){function e(){var e=t.call(this)||this;return e.className="ColorizeFilter",e.feColorMatrix=e.paper.add("feColorMatrix"),e.feColorMatrix.attr({type:"matrix"}),e.filterPrimitives.push(e.feColorMatrix),e.intensity=1,e.applyTheme(),e}return Tt(e,t),e.prototype.applyFilter=function(){var t,e,i,s=this.intensity,n=1-s,r=this.color;r&&r.rgb?(t=r.rgb.r/255*s,e=r.rgb.g/255*s,i=r.rgb.b/255*s):(t=0,e=0,i=0),this.feColorMatrix.attr({values:n+" 0 0 0 "+t+" 0 "+n+" 0 0 "+e+" 0 0 "+n+" 0 "+i+" 0 0 0 1 0"})},Object.defineProperty(e.prototype,"color",{get:function(){return this.properties["color"]},set:function(t){this.properties["color"]=t,this.applyFilter()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"intensity",{get:function(){return this.properties.intensity},set:function(t){this.properties.intensity=t,this.applyFilter()},enumerable:!0,configurable:!0}),e}(Tf);gu.registeredClasses.ColorizeFilter=$f;var Jf=function(t){function e(){var e=t.call(this)||this;return e.className="DesaturateFilter",e.feColorMatrix=e.paper.add("feColorMatrix"),e.feColorMatrix.attr({type:"saturate"}),e.filterPrimitives.push(e.feColorMatrix),e.width=120,e.height=120,e.saturation=0,e.applyTheme(),e}return Tt(e,t),Object.defineProperty(e.prototype,"saturation",{get:function(){return this.properties["saturation"]},set:function(t){this.properties["saturation"]=t,this.feColorMatrix.attr({values:t.toString()})},enumerable:!0,configurable:!0}),e}(Tf);gu.registeredClasses.DesaturateFilter=Jf;var Qf=function(t){function e(){var e=t.call(this)||this;return e.className="BlurFilter",e.feGaussianBlur=e.paper.add("feGaussianBlur"),e.feGaussianBlur.attr({result:"blurOut",in:"SourceGraphic"}),e.filterPrimitives.push(e.feGaussianBlur),e.width=200,e.height=200,e.blur=1.5,e.applyTheme(),e}return Tt(e,t),Object.defineProperty(e.prototype,"blur",{get:function(){return this.properties.blur},set:function(t){this.properties.blur=t,this.feGaussianBlur.attr({stdDeviation:t/this.scale})},enumerable:!0,configurable:!0}),e}(Tf);gu.registeredClasses.BlurFilter=Qf;var tm=function(t){function e(){var e=t.call(this)||this;return e.className="FocusFilter",e.feFlood=e.paper.add("feFlood"),e.feFlood.attr({"flood-color":(new Td).getFor("primaryButtonHover"),result:"base"}),e.filterPrimitives.push(e.feFlood),e.feMorphology=e.paper.add("feMorphology"),e.feMorphology.attr({result:"bigger",in:"SourceGraphic",operator:"dilate",radius:"2"}),e.filterPrimitives.push(e.feMorphology),e.feColorMatrix=e.paper.add("feColorMatrix"),e.feColorMatrix.attr({result:"mask",in:"bigger",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"}),e.filterPrimitives.push(e.feColorMatrix),e.feComposite=e.paper.add("feComposite"),e.feComposite.attr({result:"drop",in:"base",in2:"mask",operator:"in"}),e.filterPrimitives.push(e.feComposite),e.feBlend=e.paper.add("feBlend"),e.feBlend.attr({in:"SourceGraphic",in2:"drop",mode:"normal"}),e.filterPrimitives.push(e.feBlend),e.width=130,e.height=130,e.applyTheme(),e}return Tt(e,t),Object.defineProperty(e.prototype,"stroke",{get:function(){return this.properties["stroke"]},set:function(t){this.properties["stroke"]=t,this.feFlood.attr({"flood-color":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return this.properties["strokeWidth"]},set:function(t){this.properties["strokeWidth"]=t,this.feMorphology.attr({radius:t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opacity",{get:function(){return this.properties["opacity"]},set:function(t){this.properties["opacity"]=t,this.feColorMatrix.attr({values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 "+t+" 0"})},enumerable:!0,configurable:!0}),e.prototype.setSprite=function(e){this._sprite&&this._sprite!=e&&this._sprite.group.removeStyle("outline"),e.group.addStyle({outline:"none"}),t.prototype.setSprite.call(this,e)},e}(Tf),em=function(t){function e(){var e=t.call(this)||this;return e._list=[],e._currentStep=0,e._startIndex=0,e._currentPass=0,e.baseColor=new Xu({r:103,g:183,b:220}),e.stepOptions={},e.passOptions={brighten:-.2},e.step=1,e.minColors=20,e.minLightness=.2,e.maxLightness=.9,e.shuffle=!1,e.wrap=!0,e.reuse=!1,e.saturation=1,e.className="ColorSet",e.applyTheme(),e}return Tt(e,t),Object.defineProperty(e.prototype,"list",{get:function(){return this._list||this.generate(this.minColors),this._list},set:function(t){this._list=t,this.reset()},enumerable:!0,configurable:!0}),e.prototype.getReusableColor=function(t){if(0==this._list.length)return this.generate(1),this.list[0];var e=t-Math.floor(t/this._list.length)*this.list.length;return this.list[e]},e.prototype.next=function(){var t;return this.list.length<=this._currentStep?this.reuse?t=this.getReusableColor(this._currentStep):(this.generate(jl(this.minColors,this._currentStep+1)),t=this.list[this._currentStep]):t=this.list[this._currentStep],this._currentStep+=this.step,t.saturate(this.saturation)},e.prototype.getIndex=function(t){var e;return this.list.length<=t?this.reuse?e=this.getReusableColor(t):(this.generate(this.minColors),e=this.getIndex(t)):e=this.list[t],e.saturate(this.saturation)},e.prototype.reset=function(){this._currentStep=this._startIndex},Object.defineProperty(e.prototype,"currentStep",{get:function(){return this._currentStep},set:function(t){this._currentStep=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startIndex",{get:function(){return this._startIndex},set:function(t){this._startIndex=t,this.reset()},enumerable:!0,configurable:!0}),e.prototype.generate=function(t){var e=this.currentColor,i=Yu(fl(e.rgb)),s=gl(this.stepOptions.hue)?this.stepOptions.hue:1/t,n={brighten:0,lighten:0,hue:i.h,lightness:i.l,saturation:i.s},r=[],a=0==this.list.length?0:1;if(this.reuse)for(var o=a;o<=t;o++)r.push(Yu(fl(this._list[o].rgb)).h);else for(o=a;o<=t;o++){var l=i.h+s*o;this.wrap&&l>1&&(l-=1),r.push(l)}this.shuffle&&r.sort((function(t,e){return Math.random()-.5}));for(o=0;o<t;o++){this.reuse?i=Yu(fl(this._list[o].rgb)):i.h=r.shift(),this.applyStepOptions(i,n,o,this._currentPass);var h=Uu(Wu(i)),u=(this.stepOptions.brighten||0)*o+(this.passOptions.brighten||0)*this._currentPass;0!=u&&(u=this.wrap?Bp(u,this.minLightness,this.maxLightness):Vp(u,this.minLightness,this.maxLightness),h=h.brighten(u));var p=(this.stepOptions.lighten||0)*o+(this.passOptions.lighten||0)*this._currentPass;0!=p&&(p=this.wrap?Bp(p,this.minLightness,this.maxLightness):Vp(p,this.minLightness,this.maxLightness),h=h.lighten(p)),this._list.push(h)}this._currentPass++},Object.defineProperty(e.prototype,"currentColor",{get:function(){return 0==this._list.length?this.baseColor.saturate(this.saturation):this._list[this._list.length-1].saturate(this.saturation)},enumerable:!0,configurable:!0}),e.prototype.applyStepOptions=function(t,e,i,s){t.l=e.lightness+(this.stepOptions.lightness||0)*i+(this.passOptions.lightness||0)*s,this.wrap?(t.l>1?t.l=t.l-Math.floor(t.l):t.l<0&&(t.l=-(t.l-Math.floor(t.l))),t.l=Bp(t.l,this.minLightness,this.maxLightness)):(t.l>1?t.l=1:t.l<0&&(t.l=0),t.l=Vp(t.l,this.minLightness,this.maxLightness))},e.prototype.processConfig=function(e){if(e){if(gl(e.list)&&xl(e.list))for(var i=0,s=e.list.length;i<s;i++)e.list[i]instanceof Xu||(e.list[i]=Uu(e.list[i]));!gl(e.baseColor)||e.baseColor instanceof Xu||(e.baseColor=Uu(e.baseColor))}t.prototype.processConfig.call(this,e)},e}($u);gu.registeredClasses.ColorSet=em;var im=function(t){function e(){var e=t.call(this)||this;e._list=[],e._currentStep=0,e._startIndex=0,e._currentPass=0,e.baseColor=new Xu({r:103,g:183,b:220}),e.className="PatternSet";var i=new Td;return e.list=[e.getLinePattern(1e3,45,1,6),e.getRectPattern(10,0,4),e.getLinePattern(1e3,-45,1,6),e.getCirclePattern(11,2,!0),e.getLinePattern(6,90,1),e.getRectPattern(12,45,6,!0),e.getLinePattern(6,0,1),e.getRectPattern(7,0,4),e.getLinePattern(1e3,45,2,3,"4,2"),e.getCirclePattern(9,3,!1),e.getLinePattern(1e3,-45,2,3,"4,2"),e.getRectPattern(10,45,Math.sqrt(50)),e.getLinePattern(1e3,-45,2,1),e.getRectPattern(10,0,9),e.getLinePattern(1e3,45,2,1),e.getLinePattern(1e3,0,3,1),e.getRectPattern(10,45,10),e.getLinePattern(1e3,90,3,1)],e.baseColor=i.getFor("stroke"),e.applyTheme(),e}return Tt(e,t),e.prototype.getLinePattern=function(t,e,i,s,n){var r=new Kf;return r.width=t,r.height=t,r.stroke=this.baseColor,r.gap=s,r.strokeDasharray=n,r.strokeWidth=i,r.rotation=e,r},e.prototype.getRectPattern=function(t,e,i,s){var n=new qf;return n.width=t,n.height=t,n.rectWidth=i,n.rectHeight=i,s?(n.stroke=this.baseColor,n.strokeWidth=1,n.fillOpacity=0):(n.fill=this.baseColor,n.strokeWidth=0),0!=e&&(n.shapeRendering="auto"),n.rotation=e,n},e.prototype.getCirclePattern=function(t,e,i){var s=new Zf;return s.width=t,s.height=t,s.shapeRendering="auto",s.radius=e,i?(s.stroke=this.baseColor,s.strokeWidth=1,s.fillOpacity=0):(s.fill=this.baseColor,s.strokeWidth=0),s},Object.defineProperty(e.prototype,"list",{get:function(){return this._list},set:function(t){this._list=t,this.reset()},enumerable:!0,configurable:!0}),e.prototype.next=function(){var t=this.getIndex(this.currentStep);return this._currentStep++,t},e.prototype.getIndex=function(t){var e;while(this.list.length<=t)this.generatePatterns();return e=this.list[t],e.clone()},e.prototype.generatePatterns=function(){var t=this.list.length/(this._currentPass+1);this._currentPass++;for(var e=0;e<t;e++)this.list.push(this.list[e].clone())},e.prototype.reset=function(){this._currentStep=this._startIndex},Object.defineProperty(e.prototype,"currentStep",{get:function(){return this._currentStep},set:function(t){this._currentStep=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startIndex",{get:function(){return this._startIndex},set:function(t){this._startIndex=t,this.reset()},enumerable:!0,configurable:!0}),e.prototype.processConfig=function(e){t.prototype.processConfig.call(this,e)},e}($u);gu.registeredClasses.PatternSet=im;(function(){function t(){this._disposed=!1,this._disposers=[]}t.prototype.init=function(){},t.prototype.isDisposed=function(){return this._disposed},t.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var t=this._disposers;this._disposers=null;while(0!==t.length){var e=t.shift();e.dispose()}}}})();var sm=function(t){function e(){var e=t.call(this)||this;e.className="AmChartsLogo",e.valign="bottom";var i=.3;e.opacity=.3,e.defaultState.properties.opacity=.4,e.url="https://www.amcharts.com/",e.urlTarget="_blank",e.showSystemTooltip=!0,e.readerTitle="Chart created using amCharts library",e.width=220*i,e.height=70*i,e.background.opacity=0;var s=Uu("#474758");"#ffffff"==(new Td).getFor("background").alternative.hex&&(s=Uu("#ffffff"));var n=new ng;n.addColor(s),n.addColor(s,1,.75),n.addColor(Uu("#3cabff"),1,.755),n.rotation=-10;var r=n,a=e.createChild(bf);a.shouldClone=!1,a.isMeasured=!1,a.segments=[[{x:50*i,y:50*i},{x:90*i,y:50*i},{x:120*i,y:20*i},{x:135*i,y:35*i},{x:150*i,y:20*i},{x:180*i,y:50*i},{x:200*i,y:50*i}]],a.strokeWidth=6*i,a.tensionX=.8,a.tensionY=1,a.stroke=Uu("#3cabff");var o=e.createChild(bf);o.shouldClone=!1,o.isMeasured=!1,o.segments=[[{x:20*i,y:50*i},{x:50*i,y:50*i},{x:90*i,y:12*i},{x:133*i,y:50*i},{x:170*i,y:50*i},{x:200*i,y:50*i}]],o.strokeWidth=6*i,o.tensionX=.75,o.tensionY=1,o.stroke=r,e._disposers.push(o);var l=new Jf;e.filters.push(l);var h=new Jf;h.saturation=1;var u=e.states.create("hover");return u.properties.opacity=1,u.filters.push(h),e.applyTheme(),e}return Tt(e,t),e}(Lg);function nm(t,e){var i=ad(t),s=!1;if(i||(i=document.createElement("div"),i.style.width="200px",i.style.height="200px",i.style.top="0",i.style.left="0",i.style.visibility="hidden",i.style.position="absolute",document.body.appendChild(i),s=!0),i){i.innerHTML="";var n=new Qd(i),r=new tg(n.SVGContainer,"svg-"+(Jd.length-1)),a=new Lg;a.htmlContainer=i,a.svgContainer=n,a.width=rl(100),a.height=rl(100),a.background.fillOpacity=0,a.paper=r,r.append(a.group),s&&xd((function(){a.moveHtmlContainer(t)})),a.relativeWidth=1,a.relativeHeight=1,n.container=a;var o=a.createChild(e);o.topParent=a;var l=o.uid;gu.invalidSprites[l]=[],gu.invalidDatas[l]=[],gu.invalidPositions[l]=[],gu.invalidLayouts[l]=[],a.baseId=l,o.isBaseSprite=!0,o.focusFilter=new tm,gu.baseSprites.push(o),gu.baseSpritesByUid[l]=o,o.maskRectangle={x:0,y:0,width:Math.max(n.width||0,0),height:Math.max(n.height||0,0)},a.events.on("maxsizechanged",(function(t){0!=t.previousWidth&&0!=t.previousHeight||a.deepInvalidate(),o.maskRectangle&&(o.maskRectangle={x:0,y:0,width:Math.max(n.width||0,0),height:Math.max(n.height||0,0)})}));var h=null,u=function(){o.isDisposed()?h=null:null==gd(o.dom)?(Kc.autoDispose?(a.htmlContainer=void 0,n.htmlElement=void 0,o.dispose()):Xd("Chart was not disposed",o.uid),h=null):h=window.setTimeout(u,1e3)};u(),o.addDisposer(new yh((function(){null!==h&&clearTimeout(h),rh(gu.baseSprites,o),gu.baseSpritesByUid[o.uid]=void 0}))),o.addDisposer(a);var p=a.createChild(Lg);p.topParent=a,p.width=rl(100),p.height=rl(100),p.isMeasured=!1,a.tooltipContainer=p,o.tooltip=new Cf,o.tooltip.hide(0),o.tooltip.setBounds({x:0,y:0,width:p.maxWidth,height:p.maxHeight}),p.events.on("maxsizechanged",(function(){fl(o.tooltip).setBounds({x:0,y:0,width:p.maxWidth,height:p.maxHeight})}),void 0,!1);var c=new _f;if(c.events.on("inited",(function(){c.__disabled=!0}),void 0,!1),a.preloader=c,o instanceof Lg&&!o.hasLicense()){var d=p.createChild(sm);p.events.on("maxsizechanged",(function(t){p.maxWidth<=100||p.maxHeight<=50?d.hide():(d.isHidden||d.isHiding)&&d.show()}),void 0,!1),o.logo=d,d.align="left",d.valign="bottom"}if(op(o.numberFormatter),a.isStandaloneInstance=!0,Kc.onlyShowOnViewport)if(Od(i,Kc.viewportTarget))Kc.queue&&rm(o);else{o.__disabled=!0,o.tooltipContainer.__disabled=!0;var g=[rd(window,"DOMContentLoaded",(function(){om(o)})),rd(window,"load",(function(){om(o)})),rd(window,"resize",(function(){om(o)})),rd(window,"scroll",(function(){om(o)}))];if(Kc.viewportTarget)for(var f=xl(Kc.viewportTarget)?Kc.viewportTarget:Kc.viewportTarget?[Kc.viewportTarget]:[],m=0;m<f.length;m++){var y=f[m];g.push(rd(y,"resize",(function(){om(o)}))),g.push(rd(y,"scroll",(function(){om(o)})))}var b=new bh(g);o.addDisposer(b),o.vpDisposer=b}else Kc.queue&&rm(o);return o}throw Fg.log("html container not found"),new Error("html container not found")}function rm(t){-1==gu.queue.indexOf(t)&&(t.__disabled=!0,t.tooltipContainer.__disabled=!0,t.events.disableType("appeared"),0==gu.queue.length&&(gu.events.once("exitframe",(function(){lm(t)})),Fg.requestFrame()),t.addDisposer(new yh((function(){am(t)}))),gu.queue.push(t))}function am(t){var e=gu.queue.indexOf(t);if(e>=0){gu.queue.splice(gu.queue.indexOf(t),1);var i=gu.queue[e];i&&lm(i)}}function om(t){t.__disabled&&Od(t.htmlContainer,Kc.viewportTarget)&&(t.vpDisposer&&t.vpDisposer.dispose(),rm(t))}function lm(t){t&&t.tooltipContainer&&(t.__disabled=!1,t.tooltipContainer.__disabled=!1,t.events.enableType("appeared"),t.dispatch("removedfromqueue"),t.showOnInit&&t.events.on("appeared",(function(){am(t)})),t.vpDisposer&&t.vpDisposer.dispose(),t instanceof Lg&&t.invalidateLabels(),t.tooltipContainer&&t.tooltipContainer.invalidateLayout(),t instanceof Kg?(t.invalidateData(),t.reinit(),t.events.once("datavalidated",(function(){t.showOnInit?t.appear():am(t)}))):(t.reinit(),t.events.once("inited",(function(){am(t)})),t.showOnInit&&t.appear()))}function hm(t,e){var i;bl(e)&&(gl(gu.registeredClasses[e])?e=gu.registeredClasses[e]:(e=gu.registeredClasses.Container,i=new Error("Class ["+e+"] is not loaded.")));var s=nm(t,e);return i&&s.raiseCriticalError(i),s}var um=function(t){function e(){var e=t.call(this)||this;return e.childrenCreated=!1,e.className="LegendDataItem",e.applyTheme(),e}return Tt(e,t),Object.defineProperty(e.prototype,"label",{get:function(){var t=this;if(!this._label){var e=this.component.labels.create();this._label=e,this.addSprite(e),this._disposers.push(e),e.parent=this.itemContainer,this._disposers.push(new yh((function(){gl(t.component)&&t.component.labels.removeValue(e)})))}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this.properties.color},set:function(t){this.setProperty("color",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueLabel",{get:function(){var t=this;if(!this._valueLabel){var e=this.component.valueLabels.create();this._valueLabel=e,this.addSprite(e),this._disposers.push(e),e.parent=this.itemContainer,this._disposers.push(new yh((function(){gl(t.component)&&t.component.valueLabels.removeValue(e)})))}return this._valueLabel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemContainer",{get:function(){var t=this;if(!this._itemContainer){var e=this.component,i=e.itemContainers.create();i.parent=e,this._itemContainer=i,this.addSprite(i),this._disposers.push(i),i.togglable&&i.events.on("toggled",(function(t){e.toggleDataItem(t.target.dataItem)}),void 0,!1),i.focusable&&(i.events.on("hit",(function(t){e.focusedItem=void 0}),void 0,!1),i.events.on("focus",(function(t){e.focusedItem=t.target.dataItem}),void 0,!1),i.events.on("blur",(function(t){e.focusedItem=void 0}),void 0,!1)),this._disposers.push(new yh((function(){gl(t.component)&&t.component.itemContainers.removeValue(i)}))),this.dataContext.uidAttr&&(i.readerControls=this.dataContext.uidAttr(),i.readerLabelledBy=this.dataContext.uidAttr());var s=this.dataContext;if((s instanceof Ug||s instanceof jg)&&!s.isDisposed()){var n=function(t){i.readerChecked=t.visible,i.events.disableType("toggled"),i.isActive=!t.visible,i.events.enableType("toggled")};s.addDisposer(new yh((function(){t.component&&t.component.dataItems.remove(t)}))),s instanceof jg?(i.addDisposer(s.events.on("visibilitychanged",n,void 0,!1)),i.addDisposer(s.events.on("hidden",(function(t){i.readerChecked=!1,i.events.disableType("toggled"),i.isActive=!0,i.events.enableType("toggled")}),void 0,!1)),i.addDisposer(s.events.on("shown",(function(t){i.readerChecked=!0,i.events.disableType("toggled"),i.isActive=!1,i.events.enableType("toggled")}),void 0,!1))):i.addDisposer(s.events.on("visibilitychanged",n,void 0,!1))}}return this._itemContainer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"marker",{get:function(){var t=this;if(!this._marker){var e=this.component.markers.create();this._marker=e,e.parent=this.itemContainer,this.addSprite(e),this._disposers.push(e),this._disposers.push(new yh((function(){gl(t.component)&&t.component.markers.removeValue(e)})))}return this._marker},enumerable:!0,configurable:!0}),e}(Ug),pm=function(){function t(){this.createMarker=!0}return t}(),cm=function(t){function e(){var e=t.call(this)||this;e.className="Legend",e.layout="grid",e.setPropertyValue("useDefaultMarker",!1),e.setPropertyValue("scrollable",!1),e.setPropertyValue("contentAlign","center");var i=new Lg;i.applyOnClones=!0,i.padding(8,0,8,0),i.margin(0,10,0,10),i.layout="horizontal",i.clickable=!0,i.focusable=!0,i.role="switch",i.togglable=!0,i.cursorOverStyle=og.pointer,i.background.fillOpacity=0,e.itemContainers=new _u(i),e._disposers.push(new yu(e.itemContainers)),e._disposers.push(e.itemContainers.template),e._disposers.push(zd().body.events.on("keyup",(function(t){if(Ad.isKey(t.event,"enter")&&e.focusedItem){var i=e.focusedItem,s=i.itemContainer;s.togglable?e.toggleDataItem(i):s.clickable&&s.events.isEnabled("hit")&&(s.dispatchImmediately("hit",{event:t}),e.focusedItem=i)}}),e));var s=new Td,n=new Lg;n.width=23,n.height=23,n.interactionsEnabled=!1,n.applyOnClones=!0,n.setStateOnChildren=!0,n.background.fillOpacity=0,n.background.strokeOpacity=0,n.propertyFields.fill="fill",n.valign="middle";var r=s.getFor("disabledBackground");n.events.on("childadded",(function(t){var e=t.newValue,i=e.states.create("active");i.properties.stroke=r,i.properties.fill=r})),e.markers=new _u(n),e._disposers.push(new yu(e.markers)),e._disposers.push(e.markers.template);var a=n.createChild(qg);a.width=rl(100),a.height=rl(100),a.applyOnClones=!0,a.propertyFields.fill="fill",a.strokeOpacity=0;var o=new Zg;o.text="{name}",o.margin(0,5,0,5),o.valign="middle",o.applyOnClones=!0,o.states.create("active").properties.fill=s.getFor("disabledBackground"),e.labels=new _u(o),e._disposers.push(new yu(e.labels)),e._disposers.push(e.labels.template),o.interactionsEnabled=!1,o.truncate=!0,o.fullWords=!1;var l=new Zg;return l.margin(0,5,0,0),l.valign="middle",l.width=50,l.align="right",l.textAlign="end",l.applyOnClones=!0,l.states.create("active").properties.fill=s.getFor("disabledBackground"),l.interactionsEnabled=!1,e.valueLabels=new _u(l),e._disposers.push(new yu(e.valueLabels)),e._disposers.push(e.valueLabels.template),e.position="bottom",i.states.create("active"),i.setStateOnChildren=!0,e.role="group",e.events.on("layoutvalidated",e.handleScrollbar,e,!1),e.events.on("parentset",(function(){var t=e.parent;t&&e._disposers.push(t.events.on("maxsizechanged",(function(){e.scrollable&&e.setTimeout((function(){e.updateMasks(),e.handleScrollbar(),e._handleWheelReal(1)}),100)})))})),e.applyTheme(),e}return Tt(e,t),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),gl(this.readerTitle)||(this.readerTitle=this.language.translate("Legend"))},e.prototype.createDataItem=function(){return new um},e.prototype.validateDataElements=function(){this.scrollbar&&(this.scrollbar.start=0,this.scrollbar.end=1),t.prototype.validateDataElements.call(this)},e.prototype.validateDataElement=function(e){t.prototype.validateDataElement.call(this,e);var i=e.itemContainer,s=e.marker;op(e.label);var n=e.valueLabel;i.readerChecked=e.dataContext.visible,e.dataContext.legendDataItem=e;var r=e.label.maxWidth;e.label.width instanceof nl||(e.label.width=void 0),r>0&&(e.label.maxWidth=r),"right"==n.align&&(n.width=void 0);var a=e.dataContext.legendSettings,o=e.dataContext;!o.createLegendMarker||this.useDefaultMarker&&o instanceof jg?this.markers.template.propertyFields.fill=void 0:e.childrenCreated||(o.createLegendMarker(s),e.childrenCreated=!0),o.updateLegendValue&&o.updateLegendValue(),o.component&&o.component.updateLegendValue&&o.component.updateLegendValue(o),n.invalid&&n.validate(),""==n.text||void 0==n.text?n.__disabled=!0:n.__disabled=!1,!a||void 0==a.itemValueText&&void 0==a.valueText||(n.__disabled=!1);var l=e.dataContext.visible;void 0===l&&(l=!0),l=ul(l),e.dataContext.visible=l,i.events.disableType("toggled"),i.isActive=!l,i.isActive?i.setState("active",0):i.setState("default",0),i.events.enableType("toggled")},e.prototype.afterDraw=function(){var e=this,i=this.getPropertyValue("maxWidth"),s=0;this.labels.each((function(t){t.invalid&&(t.maxWidth=void 0,t.validate()),t.measuredWidth+t.pixelMarginLeft+t.pixelMarginRight>s&&(s=t.measuredWidth+t.pixelMarginLeft+t.pixelMarginRight)}));var n=0;this.valueLabels.each((function(t){t.invalid&&t.validate(),t.measuredWidth+t.pixelMarginLeft+t.pixelMarginRight>n&&(n=t.measuredWidth+t.pixelMarginLeft+t.pixelMarginRight)}));var r=0;this.markers.each((function(t){t.invalid&&t.validate(),t.measuredWidth+t.pixelMarginLeft+t.pixelMarginRight>r&&(r=t.measuredWidth+t.pixelMarginLeft+t.pixelMarginRight)}));var a,o=this.itemContainers.template,l=o.pixelMarginRight+o.pixelMarginLeft,h=s+n+r;vl(i)?(i-=l,i>h&&(i=h),a=i-r-n):a=s,this.labels.each((function(t){("right"==e.valueLabels.template.align||t.measuredWidth>a)&&(t.width instanceof nl||(t.width=Math.min(t.maxWidth,a-t.pixelMarginLeft-t.pixelMarginRight),t.maxWidth=t.width))})),"right"==this.valueLabels.template.align&&this.valueLabels.each((function(t){t.width=n-t.pixelMarginRight-t.pixelMarginLeft})),t.prototype.afterDraw.call(this)},e.prototype.handleScrollbar=function(){var t=this.scrollbar;if(this.scrollable&&t){var e=this.maxHeight;t.height=e,t.x=this.measuredWidth-t.pixelWidth-t.pixelMarginLeft,this.contentHeight>e?(t.visible=!0,t.thumb.height=t.height*e/this.contentHeight,this.paddingRight=t.pixelWidth+t.pixelMarginLeft+t.pixelMarginRight):(t.thumb.height=t.height*e/this.contentHeight,this.paddingRight=t.pixelWidth+t.pixelMarginLeft+t.pixelMarginRight,t.visible=!1,t.start=0,t.end=1),t.handleThumbPosition(),this.updateMasks()}},Object.defineProperty(e.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(t){this.setPropertyValue("position",t)&&("left"==t||"right"==t?(this.margin(10,5,10,10),this.valign="middle",this.contentAlign="none",this.valueLabels.template.align="right",vl(this.maxColumns)||(this.maxColumns=1),this.width=void 0,this.maxWidth=220):(this.maxColumns=void 0,this.width=rl(100),this.valueLabels.template.align="left"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useDefaultMarker",{get:function(){return this.getPropertyValue("useDefaultMarker")},set:function(t){this.setPropertyValue("useDefaultMarker",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollable",{get:function(){return this.getPropertyValue("scrollable")},set:function(t){if(this.setPropertyValue("scrollable",t,!0))if(t){var e=this.createChild(Of);this.scrollbar=e,e.isMeasured=!1,e.orientation="vertical",e.endGrip.__disabled=!0,e.startGrip.__disabled=!0,e.visible=!1,e.marginLeft=5,this._mouseWheelDisposer=this.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer),this._disposers.push(e.events.on("rangechanged",this.updateMasks,this,!1))}else this._mouseWheelDisposer&&(this._mouseWheelDisposer.dispose(),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=void 0))},enumerable:!0,configurable:!0}),e.prototype.handleWheel=function(t){this._handleWheelReal(t.shift.y)},e.prototype._handleWheelReal=function(t){var e=this.scrollbar;if(e){var i=t/1e3*this.measuredHeight/this.contentHeight,s=e.end-e.start;t>0?(e.start=jl(0,e.start-i),e.end=e.start+s):(e.end=El(1,e.end-i),e.start=e.end-s)}},e.prototype.updateMasks=function(){var t=this;this.scrollbar&&this.itemContainers.each((function(e){e.dy=-t.scrollbar.thumb.pixelY*t.contentHeight/t.maxHeight,e.maskRectangle={x:0,y:-e.dy,width:t.measuredWidth,height:t.maxHeight}})),this.invalidatePosition()},e.prototype.toggleDataItem=function(t){var e=t.dataContext;!e.visible||e.isHiding||e instanceof jg&&e.isHidden?(t.color=t.colorOrig,e.appeared=!0,t.itemContainer.isActive=!1,!0===e.hidden&&(e.hidden=!1),e.show?e.show():e.visible=!0,this.svgContainer.readerAlert(this.language.translate("%1 shown",this.language.locale,t.label.readerTitle))):(t.itemContainer.isActive=!0,e.appeared=!0,e.hide?e.hide():e.visible=!1,this.svgContainer.readerAlert(this.language.translate("%1 hidden",this.language.locale,t.label.readerTitle)),t.color=(new Td).getFor("disabledBackground"))},Object.defineProperty(e.prototype,"preloader",{get:function(){},enumerable:!0,configurable:!0}),e.prototype.handleDataItemPropertyChange=function(t,e){t.valueLabel.invalidate(),t.label.invalidate()},e}(Kg);gu.registeredClasses.Legend=cm,Gg.push({relevant:Xg.widthXS,state:function(t,e){if(t instanceof cm&&("left"==t.position||"right"==t.position)){var i=t.states.create(e);return i.properties.position="bottom",i}return null}}),Gg.push({relevant:Xg.heightXS,state:function(t,e){if(t instanceof cm&&("top"==t.position||"bottom"==t.position)){var i=t.states.create(e);return i.properties.position="right",i}return null}}),Gg.push({relevant:Xg.isXS,state:function(t,e){if(t instanceof cm){var i=t.states.create(e);return i.properties.disabled=!0,i}return null}});var dm=function(t){function e(){var e=t.call(this)||this;e._axis=new vh,e.dataItems=new vu,e.className="AxisBreak",e.breakSize=.01,e.marginLeft=-5,e.marginRight=-5,e.marginTop=-5,e.marginBottom=-5;var i=new Td,s=new Bf;s.fill=i.getFor("background"),s.stroke=Uu(),s.fillOpacity=.9,s.zIndex=0,e._fillShape=s;var n=new Bf;n.fill=Uu(),n.stroke=i.getFor("grid"),n.strokeOpacity=.3,n.zIndex=1,e._startLine=n;var r=new Bf;return r.fill=Uu(),r.stroke=Uu("#000000"),r.strokeOpacity=.3,r.zIndex=2,e._endLine=r,e._disposers.push(e._axis),e.applyTheme(),e}return Tt(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this),this._fillShape&&this._fillShape.dispose(),this._startLine&&this._startLine.dispose(),this._endLine&&this._endLine.dispose()},Object.defineProperty(e.prototype,"startLine",{get:function(){return this._startLine},set:function(t){this._startLine&&this._startLine.dispose(),this._startLine=t,this.addBreakSprite(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endLine",{get:function(){return this._endLine},set:function(t){this._endLine&&this._endLine.dispose(),this._endLine=t,this.addBreakSprite(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillShape",{get:function(){return this._fillShape},set:function(t){this._fillShape&&this._fillShape.dispose(),this._fillShape=t,this.addBreakSprite(t)},enumerable:!0,configurable:!0}),e.prototype.addBreakSprite=function(t){t.parent=this,t.isMeasured=!1,this._disposers.push(t)},Object.defineProperty(e.prototype,"axis",{get:function(){return this._axis.get()},set:function(t){if(this._axis.get()!==t){this._axis.set(t,t.renderer.gridContainer.events.on("transformed",this.invalidate,this,!1)),t.renderer.createBreakSprites(this);var e=t.axisBreaks.template;this.startLine.copyFrom(e.startLine),this.endLine.copyFrom(e.endLine),this.fillShape.copyFrom(e.fillShape)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"breakSize",{get:function(){return this.getPropertyValue("breakSize")},set:function(t){this.setPropertyValue("breakSize",t)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startPoint",{get:function(){var t=this.axis.renderer;if(t)return t.positionToPoint(this.startPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endPoint",{get:function(){var t=this.axis.renderer;if(t)return t.positionToPoint(this.endPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startPosition",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endPosition",{get:function(){},enumerable:!0,configurable:!0}),e.prototype.draw=function(){if(t.prototype.draw.call(this),this.axis){var e=this.axis.renderer;e.updateBreakElement(this)}},Object.defineProperty(e.prototype,"startValue",{get:function(){return this.getPropertyValue("startValue")},set:function(t){this.setPropertyValue("startValue",t)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endValue",{get:function(){return this.getPropertyValue("endValue")},set:function(t){this.setPropertyValue("endValue",t)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),e}(Lg);gu.registeredClasses.AxisBreak=dm;var gm,fm=function(t){function e(){var e=t.call(this)||this;return e.className="AxisDataItem",e.applyTheme(),e}return Tt(e,t),Object.defineProperty(e.prototype,"grid",{get:function(){if(!this._grid){var t=this.component;if(t){var e,i=void 0;if(this.isRange){if(i=t.axisRanges.template.grid,i.disabled)return;e=i.clone()}else{if(i=t.renderer.grid.template,i.disabled)return;e=t.renderer.grid.create(),this._disposers.push(new yh((function(){t.renderer.grid.removeValue(e)})))}this.grid=e,e.shouldClone=!1,this._disposers.push(e),e.axis=this.component}}return this._grid},set:function(t){this._grid&&this._grid!=t&&(rh(this.sprites,this._grid),this._grid.dataItem=void 0),t&&(t.dataItem&&t.dataItem!=this&&(rh(t.dataItem.sprites,t),t.dataItem.grid=void 0),this.addSprite(t)),this._grid=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tick",{get:function(){if(!this._tick){var t=this.component;if(t){var e,i=void 0;if(this.isRange){if(i=t.axisRanges.template.tick,i.disabled)return;e=i.clone()}else{if(i=t.renderer.ticks.template,i.disabled)return;e=t.renderer.ticks.create(),this._disposers.push(new yh((function(){t.renderer.ticks.removeValue(e)})))}this.tick=e,e.axis=this.component,e.shouldClone=!1,this._disposers.push(e)}}return this._tick},set:function(t){this._tick&&this._tick!=t&&(rh(this.sprites,this._tick),this._tick.dataItem=void 0),t&&(t.dataItem&&t.dataItem!=this&&(rh(t.dataItem.sprites,t),t.dataItem.tick=void 0),this.addSprite(t)),this._tick=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){if(!this._label){var t=this.component;if(t){var e,i=void 0;if(this.isRange){if(i=t.axisRanges.template.label,i.disabled)return;e=i.clone()}else{if(i=t.renderer.labels.template,i.disabled)return;e=t.renderer.labels.create(),this._disposers.push(new yh((function(){t.renderer.labels.removeValue(e)})))}this._disposers.push(e),this.label=e,e.shouldClone=!1,e.axis=this.component,e.virtualParent=t}}return this._label},set:function(t){this._label&&this._label!=t&&(rh(this.sprites,this._label),this._label.dataItem=void 0),t&&(t.dataItem&&t.dataItem!=this&&(rh(t.dataItem.sprites,t),t.dataItem.label=void 0),this.addSprite(t)),this._label=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"axisFill",{get:function(){if(!this._axisFill){var t=this.component;if(t){var e,i=void 0;if(this.isRange){if(i=t.axisRanges.template.axisFill,!this.isTemplate&&i.disabled)return;e=i.clone()}else{if(i=t.renderer.axisFills.template,i.disabled)return;e=t.renderer.axisFills.create(),this._disposers.push(new yh((function(){t.renderer.axisFills.removeValue(e)})))}this.axisFill=e,e.shouldClone=!1,this._disposers.push(e)}}return this._axisFill},set:function(t){this._axisFill&&this._axisFill!=t&&(rh(this.sprites,this._axisFill),this._axisFill.dataItem=void 0),t&&(t.dataItem&&t.dataItem!=this&&(rh(t.dataItem.sprites,t),t.dataItem.axisFill=void 0),t.axis=this.component,this.addSprite(t)),this._axisFill=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){this._text=t,this._label&&(this._label.text=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contents",{get:function(){if(!this._contents){var t=new Lg;this.addSprite(t),t.isMeasured=!1,this._contents=t;var e=this.component;if(e){var i=e.renderer.createFill(this.component);i.disabled=!1,i.axis=e,this.addSprite(i),this._mask=i,t.mask=i}}return this._contents},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"axisBreak",{get:function(){return this._axisBreak},set:function(t){this._axisBreak&&this._axisBreak.dataItems.removeValue(this),t&&t.dataItems.push(this),this._axisBreak=t},enumerable:!0,configurable:!0}),e.prototype.validate=function(){this.component&&this.component.validateDataElement(this)},e.prototype.appendChildren=function(){this.component&&this.component.appendDataItem(this)},e.prototype.hasProperty=function(e){return"component"==e||t.prototype.hasProperty.call(this,e)},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.text=e.text,e.bullet&&(this.bullet=e.bullet.clone()),this.minPosition=e.minPosition,this.maxPosition=e.maxPosition},e.prototype.setVisibility=function(e,i){t.prototype.setVisibility.call(this,e,i),this._contents&&(this._contents.visible=e)},Object.defineProperty(e.prototype,"bullet",{get:function(){return this._bullet},set:function(t){this._bullet&&this._bullet!=t&&(rh(this.sprites,this._bullet),this._bullet.dataItem=void 0),this._bullet=t,t&&this.addSprite(t)},enumerable:!0,configurable:!0}),e}(Ug);(function(t){t[t["Start"]=0]="Start",t[t["Middle"]=.5]="Middle",t[t["End"]=1]="End"})(gm||(gm={}));var mm=function(t){function e(){var i=t.call(this)||this;if(i._gridCount=10,i._series=new vu,i.autoDispose=!0,i._axisItemCount=0,i.constructor===e)throw new Error("'Axis' cannot be instantiated directly. Please use a specific axis type.");i.hideTooltipWhileZooming=!0,i.minWidth=1e-4,i.minHeight=1e-4,i.className="Axis",i.shouldClone=!1,i.setPropertyValue("cursorTooltipEnabled",!0),i.toggleZoomOutButton=!0,i.zoomable=!0;var s=new Td;i.title=new Zg,i.title.shouldClone=!1,i._disposers.push(i.title),i.setPropertyValue("startLocation",0),i.setPropertyValue("endLocation",1),i._dataItemsIterator=new nu(i.dataItems,(function(){return i.dataItems.create()})),i._dataItemsIterator.createNewItems=!0;var n=new Cf;i._disposers.push(n),n.label.padding(5,10,5,10),n.background.pointerLength=5,n.fitPointerToBounds=!0,n.background.filters.clear(),n.virtualParent=i;var r=n.background;return r.cornerRadius=0,r.fill=s.getFor("alternativeBackground"),r.stroke=r.fill,r.strokeWidth=1,r.fillOpacity=1,n.label.fill=s.getFor("alternativeText"),i.tooltip=n,i.readerHidden=!0,i.events.on("rangechangestarted",(function(){i.series.each((function(t){t.hideTooltipWhileZooming&&(t.tooltip.hide(),t.tooltip.preventShow=!0)})),i.hideTooltipWhileZooming&&(i.tooltip.hide(),i.tooltip.preventShow=!0)}),void 0,!1),i.events.on("rangechangeended",(function(){i.series.each((function(t){t.hideTooltipWhileZooming&&(t.tooltip.hide(),t.tooltip.preventShow=!1)})),i.hideTooltipWhileZooming&&(i.tooltip.hide(),i.tooltip.preventShow=!1)}),void 0,!1),i.applyTheme(),i}return Tt(e,t),e.prototype.fillRule=function(t,e){vl(e)||(e=t.index),e/2==Math.round(e/2)?(t.axisFill.__disabled=!0,t.axisFill.opacity=0):(t.axisFill.opacity=1,t.axisFill.__disabled=!1)},e.prototype.createDataItem=function(){return new fm},e.prototype.invalidateLayout=function(){t.prototype.invalidateLayout.call(this),qh(this.series.iterator(),(function(t){t.invalidateLayout()}))},e.prototype.invalidateSeries=function(){qh(this.series.iterator(),(function(t){t.invalidate()}))},e.prototype.validateDataElements=function(){this._axisItemCount=0,this.ghostLabel&&(this.renderer.updateLabelElement(this.ghostLabel,this.start,this.end),this.ghostLabel.validate())},e.prototype.updateGridCount=function(){if(this.renderer){var t=this.axisLength/this.renderer.minGridDistance;t!=this._gridCount&&(this._gridCount=t,this.clearCache())}},e.prototype.validateLayout=function(){this.axisFullLength=this.axisLength/(this.end-this.start),t.prototype.validateLayout.call(this),this.updateGridCount();var e=this.renderer;e&&(e.updateAxisLine(),e.updateTooltip(),e.updateBaseGridElement()),this._prevLength!=this.axisLength&&(this.dispatchImmediately("lengthchanged"),this._prevLength=this.axisLength)},e.prototype.initRenderer=function(){},e.prototype.appendDataItem=function(t){var e=this.renderer,i=t.tick;i&&(i.above?i.parent=e.bulletsContainer:i.parent=e.gridContainer),t.label&&(t.label.parent=e);var s=t.axisFill;s&&(s.above?s.parent=e.bulletsContainer:s.parent=e.gridContainer);var n=t.grid;n&&(n.above?n.parent=e.bulletsContainer:n.parent=e.gridContainer),t.bullet&&(t.bullet.parent=e.bulletsContainer)},e.prototype.validate=function(){t.prototype.validate.call(this),this.validateLayout(),this.renderer.updateGridContainer()},e.prototype.validateAxisRanges=function(){var t=this;qh(this.axisRanges.iterator(),(function(e){t.appendDataItem(e),t.validateDataElement(e),e.grid&&e.grid.validate(),e.tick&&e.tick.validate(),e.axisFill&&e.axisFill.validate(),e.label&&e.label.validate()}))},e.prototype.validateBreaks=function(){this._axisBreaks&&qh(this._axisBreaks.iterator(),(function(t){t.invalidate()}))},e.prototype.processBreak=function(t){var e=t.newValue;e.parent=this.renderer.breakContainer,e.axis=this},e.prototype.registerSeries=function(t){var e=this;return this.series.moveValue(t),new bh([new yh((function(){e.series.removeValue(t)})),this.events.on("lengthchanged",t.invalidate,t,!1),this.events.on("lengthchanged",t.createMask,t,!1),this.events.on("startchanged",t.invalidate,t,!1),this.events.on("endchanged",t.invalidate,t,!1)])},Object.defineProperty(e.prototype,"renderer",{get:function(){return this._renderer},set:function(t){if(t!=this._renderer){this._renderer=t,t.chart=this.chart,t.axis=this,t.parent=this,this.title.parent=this,this.initRenderer(),this._disposers.push(t.gridContainer.events.on("maxsizechanged",this.invalidate,this,!1));var e=this.renderer.labels.create();this._disposers.push(e),e.dataItem=this.dataItems.template.clone(),e.text="L",e.parent=this.renderer,e.shouldClone=!1,e.fillOpacity=0,e.opacity=0,e.strokeOpacity=0,e.interactionsEnabled=!1,e.validate(),this.ghostLabel=e,this.events.on("beforedatavalidated",(function(){e.text="L"}),void 0,!1)}},enumerable:!0,configurable:!0}),e.prototype.positionToAngle=function(t){return this.renderer.positionToAngle(t)},e.prototype.pointToPosition=function(t){return this.renderer.pointToPosition(t)},e.prototype.positionToCoordinate=function(t){return this.renderer.positionToCoordinate(t)},e.prototype.getAnyRangePath=function(t,e){return this.renderer.getPositionRangePath(t,e)},e.prototype.anyToPosition=function(t){return 0},e.prototype.anyToPoint=function(t){return{x:0,y:0,angle:0}},e.prototype.getPositionRangePath=function(t,e){return this.renderer?this.renderer.getPositionRangePath(t,e):""},Object.defineProperty(e.prototype,"axisLength",{get:function(){return this.renderer?this.renderer.axisLength:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(t){this.setPropertyValue("cursorTooltipEnabled",t)&&(t&&this.renderer?this.renderer.updateTooltip():this.tooltip&&this.tooltip.hide(0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"toggleZoomOutButton",{get:function(){return this.getPropertyValue("toggleZoomOutButton")},set:function(t){this.setPropertyValue("toggleZoomOutButton",t)},enumerable:!0,configurable:!0}),e.prototype.hideTooltip=function(e){t.prototype.hideTooltip.call(this,e),this._tooltipPosition=void 0},e.prototype.showTooltipAtPosition=function(t,e){var i=this._tooltip;if(!i||this.dataItems.length<=0)this._tooltipPosition=void 0;else{if(e||(t=this.toAxisPosition(t)),!vl(t)||t<this.start||t>this.end)return i.hide(0),void(this._tooltipPosition=void 0);var s=this.renderer;i.parent||(i.parent=this.tooltipContainer);var n=s.tooltipLocation,r=this.getCellStartPosition(t),a=this.getCellEndPosition(t);if("fixed"==this.tooltipPosition&&(t=r+(a-r)*n),t=Cl(t,this.start,this.end),this._tooltipPosition!=t){this._tooltipPosition=t;var o=s.tooltipLocation2,l=s.positionToPoint(r,o),h=s.positionToPoint(a,o);this.currentItemStartPoint=l,this.currentItemEndPoint=h,s.fullWidthTooltip&&(i.width=h.x-l.x,i.height=h.y-l.y);var u=s.positionToPoint(t,o),p=Hp(u,this.renderer.line);i.text=this.getTooltipText(t),i.text&&(i.delayedPointTo(p),i.show())}this.cursorTooltipEnabled&&!this.tooltip.disabled||i.hide(0)}},e.prototype.toAxisPosition=function(t){if(t=this.renderer.toAxisPosition(t),void 0!=t)return t*=this.end-this.start,t=this.renderer.inversed?this.end-t:this.start+t,t},e.prototype.toGlobalPosition=function(t){return this.renderer.inversed?t=this.end-t:t-=this.start,t/(this.end-this.start)},e.prototype.getTooltipText=function(t){},e.prototype.updateTooltip=function(t,e){var i=this._tooltip;i&&(i.fixDoc=!1,i.pointerOrientation=t,i.setBounds(Wp(e,this.renderer.line)))},e.prototype.roundPosition=function(t,e,i){return t},e.prototype.getCellStartPosition=function(t){return t},e.prototype.getCellEndPosition=function(t){return t},Object.defineProperty(e.prototype,"axisRanges",{get:function(){if(!this._axisRanges){var t=this.createDataItem();t.isRange=!0,t.axisFill=this.renderer.axisFills.template.clone(),t.grid=this.renderer.grid.template.clone(),t.tick=this.renderer.ticks.template.clone(),t.label=this.renderer.labels.template.clone(),t.isTemplate=!0,t.component=this,t.axisFill.disabled=!1,t.tick.disabled=!1,t.grid.disabled=!1,t.label.disabled=!1,this._axisRanges=new _u(t),this._axisRanges.events.on("inserted",this.processAxisRange,this,!1),this._disposers.push(new yu(this._axisRanges)),this._disposers.push(this._axisRanges.template)}return this._axisRanges},enumerable:!0,configurable:!0}),e.prototype.processAxisRange=function(t){var e=t.newValue;e.component=this,e.isRange=!0},Object.defineProperty(e.prototype,"axisBreaks",{get:function(){return this._axisBreaks||(this._axisBreaks=new Ou(this.createAxisBreak(),(function(t,e){return ku(t.adjustedStartValue,e.adjustedStartValue)})),this._axisBreaks.events.on("inserted",this.processBreak,this,!1),this._disposers.push(new yu(this._axisBreaks)),this._disposers.push(this._axisBreaks.template)),this._axisBreaks},enumerable:!0,configurable:!0}),e.prototype.createAxisBreak=function(){return new dm},Object.defineProperty(e.prototype,"series",{get:function(){return this._series||(this._series=new vu),this._series},enumerable:!0,configurable:!0}),e.prototype.processSeriesDataItems=function(){},e.prototype.processSeriesDataItem=function(t,e){},e.prototype.postProcessSeriesDataItems=function(t){},e.prototype.postProcessSeriesDataItem=function(t){},e.prototype.updateAxisBySeries=function(){},e.prototype.hideUnusedDataItems=function(){var t=this,e=this._dataItemsIterator;e.createNewItems=!1,qh(e.iterator(),(function(e){t.validateDataElement(e),e.__disabled=!0})),e.clear(),e.createNewItems=!0},e.prototype.getSeriesDataItem=function(t,e,i){},e.prototype.getAngle=function(t,e,i,s,n){},e.prototype.getX=function(t,e,i,s,n){},e.prototype.getPositionX=function(t,e,i,s,n){},e.prototype.getY=function(t,e,i,s,n){},e.prototype.getPositionY=function(t,e,i,s,n){},Object.defineProperty(e.prototype,"basePoint",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),e.prototype.dataChangeUpdate=function(){},e.prototype.seriesDataChangeUpdate=function(t){},e.prototype.adjustDifference=function(t,e){var i=e-t;if(vl(i))return this._axisBreaks&&Zh(this._axisBreaks.iterator(),(function(s){var n=s.adjustedStartValue,r=s.adjustedEndValue;if(vl(n)&&vl(r)){if(n>e)return!1;if(r>=t&&vl(n)&&vl(r)){var a=s.breakSize,o=Al({start:n,end:r},{start:t,end:e});o&&(i-=(o.end-o.start)*(1-a))}return!0}})),i},e.prototype.isInBreak=function(t){if(this._axisBreaks)return iu(this._axisBreaks.iterator(),(function(e){return t>=e.adjustedStartValue&&t<=e.adjustedEndValue}))},e.prototype.fixAxisBreaks=function(){var t=this;if(this._axisBreaks){var e=this._axisBreaks;if(e.length>0){th(Kh(e.iterator()),(function(e){var i=El(e.startValue,e.endValue),s=jl(e.startValue,e.endValue);e.adjustedStartValue=i,e.adjustedEndValue=s,t._axisBreaks.update(e)}));var i=e.first,s=Math.min(i.startValue,i.endValue);qh(e.iterator(),(function(t){var e=t.adjustedStartValue,i=t.adjustedEndValue;e<s&&(e=s,i<s&&(i=s)),t.adjustedStartValue=e,t.adjustedEndValue=i}))}}},Object.defineProperty(e.prototype,"startIndex",{get:function(){return 0},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endIndex",{get:function(){return this.dataItems.length},set:function(t){},enumerable:!0,configurable:!0}),e.prototype.getPositionLabel=function(t){return Math.round(100*t)+"%x"},Object.defineProperty(e.prototype,"chart",{get:function(){return this._chart},set:function(t){this._chart=t},enumerable:!0,configurable:!0}),e.prototype.createSeriesRange=function(t){var e=this.axisRanges.create();return e.component=this,e.axisFill=this.renderer.axisFills.template.clone(),e.axisFill.disabled=!1,e.axisFill.fillOpacity=0,e.grid=this.renderer.grid.template.clone(),e.grid.disabled=!0,e.tick=this.renderer.ticks.template.clone(),e.tick.disabled=!0,e.label=this.renderer.labels.template.clone(),e.label.disabled=!0,e.addDisposer(new yh((function(){t.axisRanges.removeValue(e)}))),t.axisRanges.push(e),e},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.renderer?this.renderer.copyFrom(e.renderer):e.renderer&&(this.renderer=e.renderer.clone(),this._disposers.push(this.renderer)),e.title&&(this.title?this.title.copyFrom(e.title):(this.title=e.title.clone(),this.title.parent=this),this._disposers.push(this.title))},e.prototype.resetIterators=function(){this._dataItemsIterator.reset()},e.prototype.processConfig=function(e){if(e&&gl(e.axisRanges)&&xl(e.axisRanges))for(var i=0,s=e.axisRanges.length;i<s;i++){var n=e.axisRanges[i];gl(n["series"])&&bl(n["series"])&&this.map.hasKey(n["series"])&&(e.axisRanges[i]=this.createSeriesRange(this.map.getKey(n["series"])),delete n["series"],e.axisRanges[i].config=n)}t.prototype.processConfig.call(this,e)},e.prototype.configOrder=function(e,i){return e==i?0:"title"==e?1:"title"==i||"component"==e?-1:"component"==i?1:t.prototype.configOrder.call(this,e,i)},Object.defineProperty(e.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(t){this.setPropertyValue("startLocation",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(t){this.setPropertyValue("endLocation",t,!0)},enumerable:!0,configurable:!0}),e.prototype.setDisabled=function(e){var i=t.prototype.setDisabled.call(this,e);return this.renderer&&(this.renderer.gridContainer.disabled=e),i},Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(t){this._title&&this._title!=t&&this._title.dispose(),t&&(this._title=t,t.parent=this,t.shouldClone=!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hideTooltipWhileZooming",{get:function(){return this.getPropertyValue("hideTooltipWhileZooming")},set:function(t){this.setPropertyValue("hideTooltipWhileZooming",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zoomable",{get:function(){return this.getPropertyValue("zoomable")},set:function(t){this.setPropertyValue("zoomable",t)},enumerable:!0,configurable:!0}),e}(Kg);gu.registeredClasses.Axis=mm,gu.registeredClasses.AxisDataItem=fm,Gg.push({relevant:Xg.maybeXS,state:function(t,e){if(t instanceof mm&&t.tooltip){var i=t.states.create(e);return i.properties.cursorTooltipEnabled=!1,i}return null}});var ym=function(t){function e(){var e=t.call(this)||this;e.className="AxisLine",e.element=e.paper.add("path");var i=new Td;return e.stroke=i.getFor("grid"),e.strokeOpacity=.15,e.pixelPerfect=!0,e.fill=Uu(),e.applyTheme(),e.interactionsEnabled=!1,e}return Tt(e,t),e}(jg);gu.registeredClasses.AxisLine=ym;var bm=function(t){function e(e){var i=t.call(this)||this;i.axis=e,i.element=i.paper.add("path"),i.className="AxisFill",i.isMeasured=!1,i.location=0,i.above=!1;var s=new Td;return i.fill=s.getFor("alternativeBackground"),i.fillOpacity=0,i.applyTheme(),i}return Tt(e,t),e.prototype.setDisabled=function(e){var i=t.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},e.prototype.draw=function(){t.prototype.draw.call(this),this.__disabled||this.disabled||this.axis&&vl(this.startPosition)&&vl(this.endPosition)&&(this.fillPath=this.axis.getPositionRangePath(this.startPosition,this.endPosition),this.path=this.fillPath,this.isMeasured&&this.measure())},Object.defineProperty(e.prototype,"startPosition",{get:function(){return this.getPropertyValue("startPosition")},set:function(t){this.setPropertyValue("startPosition",t),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endPosition",{get:function(){return this.getPropertyValue("endPosition")},set:function(t){this.setPropertyValue("endPosition",t),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(t){this.setPropertyValue("location",t,!0)},enumerable:!0,configurable:!0}),e.prototype.setPath=function(t){return!!this.setPropertyValue("path",t)&&(this.element.attr({d:t}),!0)},Object.defineProperty(e.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(t){this.setPropertyValue("above",t,!0)},enumerable:!0,configurable:!0}),e}(jg);gu.registeredClasses.AxisFill=bm;var vm=function(t){function e(){var e=t.call(this)||this;e.className="Grid",e.element=e.paper.add("path"),e.location=.5,e.isMeasured=!1,e.above=!1;var i=new Td;return e.stroke=i.getFor("grid"),e.pixelPerfect=!0,e.strokeOpacity=.15,e.fill=Uu(),e.applyTheme(),e}return Tt(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(t){this.setPropertyValue("location",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(t){this.setPropertyValue("above",t,!0)},enumerable:!0,configurable:!0}),e.prototype.setDisabled=function(e){var i=t.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},e}(jg);gu.registeredClasses.Grid=vm,Gg.push({relevant:Xg.maybeXS,state:function(t,e){if(t instanceof vm){var i=t.states.create(e);return i.properties.disabled=!0,i}return null}});var _m=function(t){function e(){var e=t.call(this)||this;return e.className="AxisLabel",e.isMeasured=!1,e.padding(10,10,10,10),e.location=.5,e.applyTheme(),e}return Tt(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(t){this.setPropertyValue("location",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(t){this.setPropertyValue("inside",t,!0)},enumerable:!0,configurable:!0}),e.prototype.setDisabled=function(e){var i=t.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},e}(Zg);gu.registeredClasses.AxisLabel=_m;var xm=function(t){function e(){var e=t.call(this)||this;e.className="Tick";var i=new Td;return e.fillOpacity=0,e.length=6,e.strokeOpacity=.2,e.stroke=i.getFor("grid"),e.isMeasured=!1,e.nonScalingStroke=!0,e.applyTheme(),e}return Tt(e,t),Object.defineProperty(e.prototype,"length",{get:function(){return this.disabled?0:this.getPropertyValue("length")},set:function(t){this.setPropertyValue("length",t,!0)},enumerable:!0,configurable:!0}),e}(jg);gu.registeredClasses.Tick=xm;var wm=function(t){function e(){var e=t.call(this)||this;return e.className="AxisTick",e.element=e.paper.add("path"),e.location=.5,e.above=!1,e.isMeasured=!1,e.pixelPerfect=!0,e.strokeOpacity=0,e.length=5,e.applyTheme(),e}return Tt(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(t){this.setPropertyValue("location",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(t){this.setPropertyValue("inside",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(t){this.setPropertyValue("above",t,!0)},enumerable:!0,configurable:!0}),e.prototype.setDisabled=function(e){var i=t.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},e}(xm);gu.registeredClasses.AxisTick=wm;var Pm=function(t){function e(){var e=t.call(this)||this;e._chart=new vh,e.className="AxisRenderer",e.minGridDistance=50,e.inside=!1,e.inversed=!1,e.tooltipLocation=.5,e.fullWidthTooltip=!1,e.cellStartLocation=0,e.cellEndLocation=1,e.minLabelPosition=0,e.maxLabelPosition=1,e.shouldClone=!1;var i=e.createChild(Lg);i.shouldClone=!1,i.layout="none",i.virtualParent=e,i.width=rl(100),i.height=rl(100),e.gridContainer=i,i.events.on("maxsizechanged",(function(){e.inited&&e.invalidateAxisItems()}),e,!1);var s=e.createChild(Lg);s.shouldClone=!1,s.isMeasured=!1,s.layout="none",s.width=rl(100),s.height=rl(100),e.breakContainer=s;var n=e.createChild(Lg);n.shouldClone=!1,n.isMeasured=!1,n.layout="none",n.width=rl(100),n.height=rl(100),e.bulletsContainer=n,e.line=e.createChild(ym),e.line.shouldClone=!1,e.line.strokeOpacity=0;var r=e.createChild(vm);r.shouldClone=!1,e.baseGrid=r;var a=e._disposers;return a.push(r),a.push(e.line),a.push(i),a.push(s),a.push(n),a.push(e._chart),e.ticks.template.disabled=!0,e.axisFills.template.disabled=!0,e.axisFills.template.interactionsEnabled=!1,e.applyTheme(),e}return Tt(e,t),Object.defineProperty(e.prototype,"axis",{get:function(){return this._axis},set:function(t){this.setAxis(t)},enumerable:!0,configurable:!0}),e.prototype.setAxis=function(t){this._axis=t,this.baseGrid.parent=t,this.line.parent=t,this.gridContainer.bind("opacity",t)},e.prototype.processRenderer=function(){this.events.on("sizechanged",this.updateTooltip,this,!1),this.events.on("positionchanged",this.updateTooltip,this,!1),this.labels.template.inside=this.inside,this.ticks.template.inside=this.inside},e.prototype.updateTooltip=function(){},Object.defineProperty(e.prototype,"axisLength",{get:function(){return 0},enumerable:!0,configurable:!0}),e.prototype.positionItem=function(t,e){t&&t.moveTo(e)},e.prototype.positionToPoint=function(t,e){return{x:0,y:0}},e.prototype.positionToAngle=function(t){return 0},e.prototype.positionToCoordinate=function(t){var e,i=this.axis,s=i.axisFullLength;return e=i.renderer.inversed?(i.end-t)*s:(t-i.start)*s,e},e.prototype.updateGridContainer=function(){},e.prototype.getHeight=function(){var t=this.gridContainer;return t.parent?t.parent.pixelHeight:this.gridContainer.pixelHeight||0},e.prototype.getWidth=function(){var t=this.gridContainer;return t.parent?t.parent.pixelWidth:this.gridContainer.pixelWidth||0},e.prototype.coordinateToPosition=function(t,e){var i,s=this.axis,n=s.axisFullLength;return i=s.renderer.inversed?s.end-t/n:t/n+s.start,Tl(i,5)},e.prototype.pointToPosition=function(t){return 0},e.prototype.getPositionRangePath=function(t,e){return""},e.prototype.invalidateAxisItems=function(){var t=this.axis;t&&t.invalidateDataItems()},e.prototype.updateGridElement=function(t,e,i){},e.prototype.updateTickElement=function(t,e,i){},e.prototype.updateBullet=function(t,e,i){},e.prototype.updateLabelElement=function(t,e,i,s){},e.prototype.updateFillElement=function(t,e,i){t.startPosition=e,t.endPosition=i},e.prototype.updateAxisLine=function(){},e.prototype.updateBaseGridElement=function(){},e.prototype.updateBreakElement=function(t){this.positionItem(t.startLine,t.startPoint),this.toggleVisibility(t.startLine,t.startPosition,0,1),this.positionItem(t.endLine,t.endPoint),this.toggleVisibility(t.endLine,t.endPosition,0,1)},Object.defineProperty(e.prototype,"minGridDistance",{get:function(){return this.getPropertyValue("minGridDistance")},set:function(t){this.setPropertyValue("minGridDistance",t)&&this.axis&&this.axis.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chart",{get:function(){return this._chart.get()},set:function(t){this._chart.set(t,null)},enumerable:!0,configurable:!0}),e.prototype.toggleVisibility=function(t,e,i,s){var n=this.axis,r=t.dataItem;r&&r instanceof fm&&(vl(r.minPosition)&&(i=r.minPosition),vl(r.maxPosition)&&(s=r.maxPosition));var a=n.start+(n.end-n.start)*(i-1e-4),o=n.start+(n.end-n.start)*(s+1e-4);t.disabled||(t.__disabled=e<a||e>o)},e.prototype.createBreakSprites=function(t){},Object.defineProperty(e.prototype,"axisFills",{get:function(){if(!this._axisFills){var t=this.createFill(this.axis);this._axisFills=new _u(t),t.applyOnClones=!0,t.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new yu(this._axisFills)),this._disposers.push(this._axisFills.template)}return this._axisFills},enumerable:!0,configurable:!0}),e.prototype.createFill=function(t){return new bm(t)},Object.defineProperty(e.prototype,"grid",{get:function(){if(!this._grid){var t=this.createGrid();this._grid=new _u(t),t.applyOnClones=!0,t.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new yu(this._grid)),this._disposers.push(this._grid.template)}return this._grid},enumerable:!0,configurable:!0}),e.prototype.createGrid=function(){return new vm},Object.defineProperty(e.prototype,"ticks",{get:function(){if(!this._ticks){var t=this.createTick();t.applyOnClones=!0,t.isMeasured=!1,t.events.on("enabled",this.invalidateAxisItems,this,!1),this._ticks=new _u(t),this._disposers.push(new yu(this._ticks)),this._disposers.push(this._ticks.template)}return this._ticks},enumerable:!0,configurable:!0}),e.prototype.createTick=function(){return new wm},Object.defineProperty(e.prototype,"labels",{get:function(){if(!this._labels){var t=this.createLabel();this._labels=new _u(t),t.applyOnClones=!0,t.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new yu(this._labels)),this._disposers.push(this._labels.template)}return this._labels},enumerable:!0,configurable:!0}),e.prototype.createLabel=function(){return new _m},Object.defineProperty(e.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(t){this.setPropertyValue("inside",t)&&this.axis&&this.axis.invalidate(),t?(this.width=0,this.height=0):(this.width=void 0,this.height=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opposite",{get:function(){return this.getPropertyValue("opposite")},set:function(t){this.setPropertyValue("opposite",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullWidthTooltip",{get:function(){return this.getPropertyValue("fullWidthTooltip")},set:function(t){this.setPropertyValue("fullWidthTooltip",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(t){this.setPropertyValue("tooltipLocation",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipLocation2",{get:function(){return this.getPropertyValue("tooltipLocation2")},set:function(t){this.setPropertyValue("tooltipLocation2",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cellStartLocation",{get:function(){return this.getPropertyValue("cellStartLocation")},set:function(t){this.setPropertyValue("cellStartLocation",t)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cellEndLocation",{get:function(){return this.getPropertyValue("cellEndLocation")},set:function(t){this.setPropertyValue("cellEndLocation",t)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inversed",{get:function(){return this.getPropertyValue("inversed")},set:function(t){this.setPropertyValue("inversed",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minLabelPosition",{get:function(){return this.getPropertyValue("minLabelPosition")},set:function(t){this.setPropertyValue("minLabelPosition",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxLabelPosition",{get:function(){return this.getPropertyValue("maxLabelPosition")},set:function(t){this.setPropertyValue("maxLabelPosition",t,!0)},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.grid.template.copyFrom(e.grid.template),this.ticks.template.copyFrom(e.ticks.template),this.labels.template.copyFrom(e.labels.template),this.axisFills.template.copyFrom(e.axisFills.template),this.line.copyFrom(e.line),this.baseGrid.copyFrom(e.baseGrid)},e.prototype.toAxisPosition=function(t){return t},e.prototype.setVisibility=function(e){t.prototype.setVisibility.call(this,e),this.bulletsContainer.visible=e},e}(Lg);gu.registeredClasses.AxisRenderer=Pm;var Om=function(t){function e(){var e=t.call(this)||this;return e.className="AxisBullet",e.location=.5,e.isMeasured=!1,e.applyTheme(),e}return Tt(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(t){this.setPropertyValue("location",t,!0)},enumerable:!0,configurable:!0}),e.prototype.setDisabled=function(e){var i=t.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},e}(Lg);gu.registeredClasses.AxisBullet=Om;var km=function(t){function e(){var e=t.call(this)||this;return e.className="AxisRendererY",e.minGridDistance=40,e.opposite=!1,e.height=rl(100),e.labels.template.verticalCenter="middle",e.applyTheme(),e}return Tt(e,t),e.prototype.setAxis=function(e){t.prototype.setAxis.call(this,e),e.layout="horizontal"},e.prototype.updateGridContainer=function(){var t=this.axis;if(t){var e=this.gridContainer;e.y=t.pixelY,e.height=t.axisLength}},e.prototype.toAxisPosition=function(t){var e=this.axis;if(e){var i=1-t,s=e.relativePositionSprite,n=e.pixelY;if(s?n=zp({x:0,y:this.pixelY},this.parent,s).y:s=e.parent,s){var r=n/s.innerHeight,a=e.axisLength/s.innerHeight;return 1-(i-r)/a}}return t},e.prototype.processRenderer=function(){t.prototype.processRenderer.call(this);var e=this.axis;if(e){var i=e.title;i.valign="middle",e.height instanceof nl||(e.height=rl(100)),this.opposite?(i.rotation=90,this.line.toBack(),i.toFront()):(i.rotation=-90,i.toBack(),this.line.toFront())}},e.prototype.updateTooltip=function(){var t=this.axis;if(t){var e=2e3,i=0,s=0,n=e,r=this.axisLength;this.opposite?this.inside&&(i=-e,n=e):this.inside||(i=-e,n=e),this.axis.updateTooltip("horizontal",{x:i,y:s,width:n,height:r})}},Object.defineProperty(e.prototype,"axisLength",{get:function(){var t=this.axis;return t.measuredHeight-t.pixelPaddingTop-t.pixelPaddingBottom||0},enumerable:!0,configurable:!0}),e.prototype.positionToPoint=function(t,e){return{x:0,y:this.positionToCoordinate(t)}},e.prototype.pointToPosition=function(t){return this.coordinateToPosition(t.y,t.x)},e.prototype.coordinateToPosition=function(t,e){var i,s=this.axis,n=s.axisFullLength;return i=s.renderer.inversed?1-s.start-t/n:t/n+(1-s.end),Tl(i,5)},e.prototype.getPositionRangePath=function(t,e){var i=Cl(this.positionToCoordinate(t),0,this.axisLength),s=Cl(this.positionToCoordinate(e),0,this.axisLength),n=Math.abs(s-i),r=this.getWidth(),a=Math.min(i,s),o=0;return df({x:o,y:a,width:r,height:n},!0)},e.prototype.updateGridElement=function(t,e,i){e+=(i-e)*t.location;var s=this.positionToPoint(e);t.path=af({x:0,y:0})+of({x:this.getWidth(),y:0}),this.positionItem(t,s),this.toggleVisibility(t,e,0,1)},e.prototype.updateTickElement=function(t,e,i){e+=(i-e)*t.location;var s=this.positionToPoint(e),n=t.length;try{op(this.axis.title.measuredWidth)}catch(r){}s.x=zp({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,this.opposite?n*=t.inside?-1:1:n*=t.inside?1:-1,t.path=af({x:0,y:0})+of({x:n,y:0}),this.positionItem(t,s),this.toggleVisibility(t,e,0,1)},e.prototype.updateAxisLine=function(){this.line.path=af({x:0,y:0})+of({x:0,y:this.axisLength})},e.prototype.updateBaseGridElement=function(){t.prototype.updateBaseGridElement.call(this);var e=this.axis,i=this.getWidth(),s=this.axisLength,n=e.basePoint.y,r=this.baseGrid;if(n<-.2||n>s+.2)r.hide(0);else{var a=zp({x:0,y:0},this.gridContainer,r.parent).x;r.path=af({x:0,y:0})+of({x:i,y:0}),r.moveTo({x:a,y:n}),r.show(0)}},e.prototype.updateLabelElement=function(t,e,i,s){gl(s)||(s=t.location),e+=(i-e)*s,t.isMeasured=!t.inside;var n,r=this.positionToPoint(e),a=0,o=this.gridContainer.maxWidth;this.opposite?(t.inside?(n="right","left"==t.align&&(a=-o,n="left"),"center"==t.align&&(a=-o/2,n="middle")):n="left",r.x=0+a):(t.inside?(n="left","right"==t.align&&(a=o,n="right"),"center"==t.align&&(a=o/2,n="middle")):n="right",r.x=this.measuredWidth+a),0==t.rotation&&(t.horizontalCenter=n),this.positionItem(t,r),this.toggleVisibility(t,e,this.minLabelPosition,this.maxLabelPosition)},e.prototype.updateBreakElement=function(e){t.prototype.updateBreakElement.call(this,e);var i=e.startLine,s=e.endLine,n=e.fillShape,r=e.startPoint,a=e.endPoint,o=e.pixelMarginLeft,l=this.getWidth()-e.pixelMarginLeft-e.pixelMarginRight;r.y=Cl(r.y,-1,this.axisLength+1),a.y=Cl(a.y,-1,this.axisLength+1),r.y==a.y&&(r.y<0||r.y>this.axisLength)?e.fillShape.__disabled=!0:e.fillShape.__disabled=!1;var h=Math.abs(l-o);i.x=o,i.height=0,i.width=h,s.x=o,s.height=0,s.width=h,n.width=h,n.height=Math.abs(a.y-r.y),n.x=o,n.y=a.y},e.prototype.createBreakSprites=function(t){t.startLine=new Bf,t.endLine=new Bf;var e=new Nf;e.setWavedSides(!0,!1,!0,!1),t.fillShape=e},e.prototype.positionToCoordinate=function(t){var e,i=this.axis,s=i.axisFullLength;return e=i.renderer.inversed?(t-i.start)*s:(i.end-t)*s,e},e.prototype.updateBullet=function(t,e,i){var s=.5;t instanceof Om&&(s=t.location),e+=(i-e)*s;var n=this.positionToPoint(e);n.x=zp({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,this.positionItem(t,n),this.toggleVisibility(t,e,0,1)},e}(Pm);gu.registeredClasses.AxisRendererY=km,Gg.push({relevant:Xg.widthS,state:function(t,e){if(t instanceof km){var i=t.states.create(e);return i.properties.inside=!0,i.properties.maxLabelPosition=.9,i.properties.minLabelPosition=.1,i}return null}}),Gg.push({relevant:Xg.widthXS,state:function(t,e){if(t instanceof km){var i=t.states.create(e);return i.properties.disabled=!0,i}return null}});var Dm=function(t){function e(){var e=t.call(this)||this;return e.className="ValueAxisBreak",e.applyTheme(),e}return Tt(e,t),Object.defineProperty(e.prototype,"startPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedStartValue)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedEndValue)},enumerable:!0,configurable:!0}),e}(dm);gu.registeredClasses.ValueAxisBreak=Dm;var Tm=function(t){function e(){var e=t.call(this)||this;return e.className="ValueAxisDataItem",e.values.value={},e.values.endValue={},e.applyTheme(),e}return Tt(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.values["value"].value},set:function(t){this.setValue("value",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endValue",{get:function(){return this.values["endValue"].value},set:function(t){this.setValue("endValue",t)},enumerable:!0,configurable:!0}),e}(fm),Sm=function(t){function e(){var e=t.call(this)||this;return e._stepDecimalPlaces=0,e._prevStepDecimalPlaces=0,e._adjustLabelPrecision=!0,e._baseValue=0,e._adjustedStart=0,e._adjustedEnd=1,e._extremesChanged=!1,e._deltaMinMax=1,e._dsc=!1,e.calculateTotals=!1,e.className="ValueAxis",e.axisFieldName="value",e.setPropertyValue("maxZoomFactor",1e3),e.setPropertyValue("extraMin",0),e.setPropertyValue("extraMax",0),e.setPropertyValue("strictMinMax",!1),e.setPropertyValue("maxPrecision",Number.MAX_VALUE),e.setPropertyValue("adjustLabelPrecision",!0),e.setPropertyValue("extraTooltipPrecision",0),e.keepSelection=!1,e.includeRangesInMinMax=!1,e.applyTheme(),e}return Tt(e,t),e.prototype.fillRule=function(t){var e=t.value,i=t.component;t.axisFill.disabled||(Tl(e/i.step/2,5)==Math.round(e/i.step/2)?t.axisFill.__disabled=!0:t.axisFill.__disabled=!1)},e.prototype.createDataItem=function(){return new Tm},e.prototype.createAxisBreak=function(){return new Dm},e.prototype.dataChangeUpdate=function(){this.clearCache(),this.keepSelection?(0!=this._start&&this.dispatchImmediately("startchanged"),1!=this._end&&this.dispatchImmediately("endchanged"),0==this._start&&1==this._end||this.dispatchImmediately("startendchanged")):0==this._start&&1==this._end||(this._start=0,this._end=1,this.dispatchImmediately("startendchanged")),this._maxZoomed=this._maxDefined,this._minZoomed=this._minDefined,this._maxAdjusted=this._maxDefined,this._minAdjusted=this._minDefined},e.prototype.processSeriesDataItems=function(){if(this.calculateTotals){var t=this.series.getIndex(0),e=t.startIndex;if(t.dataItems.length>0){e>0&&e--;var i=t.endIndex;i<t.dataItems.length&&i++;for(var s=function(t){var e={},i={};n.series.each((function(s){if(!s.excludeFromTotal){var n=s.dataItems.getIndex(t);n&&Hh(n.values,(function(t){var s=n.values[t].workingValue;vl(s)&&(vl(e[t])?e[t]+=Math.abs(s):e[t]=Math.abs(s),vl(i[t])?i[t]+=s:i[t]=s)}))}})),n.series.each((function(s){if(!s.excludeFromTotal){var n=s.dataItems.getIndex(t);n&&Hh(n.values,(function(t){var s=n.values[t].workingValue;vl(s)&&(n.setCalculatedValue(t,e[t],"total"),n.setCalculatedValue(t,100*s/e[t],"totalPercent"),n.setCalculatedValue(t,i[t],"sum"))}))}}))},n=this,r=e;r<i;++r)s(r)}}},e.prototype.validate=function(){this.axisLength<=0||(t.prototype.validate.call(this),this.getMinMax(),vl(this._minAdjusted)||this.dataItems.each((function(t){t.value=null})),this.fixAxisBreaks(),this.calculateZoom(),this.validateAxisElements(),this.validateAxisRanges(),this.validateBreaks(),this.hideUnusedDataItems(),this.renderer.invalidateLayout())},e.prototype.calculateZoom=function(){if(vl(this.min)&&vl(this.max)){var t=this.positionToValue(this.start),e=this.positionToValue(this.end),i=this.adjustDifference(t,e),s=this.adjustMinMax(t,e,i,this._gridCount,!0),n=qp(s.step);this._stepDecimalPlaces=n,t=Tl(t,n),e=Tl(e,n),s=this.adjustMinMax(t,e,i,this._gridCount,!0);var r=s.step;if(this.syncWithAxis){var a=this.getCache(t+"-"+e);vl(a)&&(r=a)}else t=s.min,e=s.max;(this._minZoomed!=t||this._maxZoomed!=e||this._step!=r||this._dsc)&&(this._dsc=!1,this._minZoomed=t,this._maxZoomed=e,this._step=r,this.dispatchImmediately("selectionextremeschanged"))}},e.prototype.fixSmallStep=function(t){return 1+t==1?(t*=2,this.fixSmallStep(t)):t},e.prototype.validateAxisElements=function(){var t=this;if(vl(this.max)&&vl(this.min)){var e=this.minZoomed-2*this._step;if(this.logarithmic){var i=Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E;i>1?e=Math.pow(10,Math.log(this.min)*Math.LOG10E):(e=Math.floor(this.minZoomed/this._step)*this._step,0==e&&(e=this.minZoomed))}else e=Math.floor(e/this._step)*this._step;var s=this._maxZoomed+this._step;this.resetIterators();var n=this._dataItemsIterator;if(0==this._step)return;this._step=this.fixSmallStep(this._step);var r=0,a=this._prevStepDecimalPlaces!=this._stepDecimalPlaces;this._prevStepDecimalPlaces=this._stepDecimalPlaces;while(e<=s){var o=this.isInBreak(e);if(!o){var l=n.find((function(t){return t.value===e}));l.__disabled&&(l.__disabled=!1),this.appendDataItem(l),l.axisBreak=void 0,(l.value!=e||a)&&(l.value=e,l.text=this.formatLabel(e),l.label&&l.label.invalid&&l.label.validate(),l.value>=this.min&&l.value<=this.max&&l.label&&("Y"==this.axisLetter&&l.label.measuredWidth>this.ghostLabel.measuredWidth||"X"==this.axisLetter&&l.label.measuredHeight>this.ghostLabel.measuredHeight)&&(this.ghostLabel.text=l.label.currentText,this.ghostLabel.validate())),this.validateDataElement(l)}r++;var h=e;if(this.logarithmic){i=Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E;i>1?e=Math.pow(10,Math.log(this.min)*Math.LOG10E+r):e+=this._step}else e+=this._step;var u=Math.pow(10,Math.floor(Math.log(Math.abs(this._step))*Math.LOG10E));if(u<1){var p=Math.round(Math.abs(Math.log(Math.abs(u))*Math.LOG10E))+2;if(p=Math.min(13,p),e=Tl(e,p),h==e){e=s;break}}}var c=this._axisBreaks;if(c){var d=this.renderer;qh(c.iterator(),(function(e){if(e.breakSize>0&&Fl(e.startPoint,e.endPoint)>d.minGridDistance){var i=e.adjustedMin;while(i<=e.adjustedMax){if(i>=e.adjustedStartValue&&i<=e.adjustedEndValue){var s=n.find((function(t){return t.value===i}));s.__disabled&&(s.__disabled=!1),t.appendDataItem(s),s.axisBreak=e,s.value!=i&&(s.value=i,s.text=t.formatLabel(i),s.label&&s.label.invalid&&s.label.validate()),t.validateDataElement(s)}i+=e.adjustedStep}}}))}}},e.prototype.validateDataElement=function(e){t.prototype.validateDataElement.call(this,e),e.itemIndex=this._axisItemCount,this._axisItemCount++;var i=this.renderer,s=e.value,n=e.endValue,r=this.valueToPosition(s);e.position=r;var a=r,o=this.valueToPosition(s+this._step);vl(n)&&(a=this.valueToPosition(n),o=a),e.point=i.positionToPoint(r);var l=e.tick;l&&!l.disabled&&i.updateTickElement(l,r,a);var h=e.grid;h&&!h.disabled&&i.updateGridElement(h,r,a);var u=e.label;u&&!u.disabled&&i.updateLabelElement(u,r,a);var p=e.axisFill;p&&!p.disabled&&(i.updateFillElement(p,r,o),e.isRange||this.fillRule(e)),e.bullet&&i.updateBullet(e.bullet,r,a);var c=e.mask;c&&i.updateFillElement(c,r,o)},e.prototype.formatLabel=function(t){return this.adjustLabelPrecision&&0!=t?this.numberFormatter.format(t,void 0,this._stepDecimalPlaces):this.numberFormatter.format(t)},Object.defineProperty(e.prototype,"basePoint",{get:function(){var t=this.baseValue,e=this.valueToPosition(t),i=this.renderer.positionToPoint(e);return i},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baseValue",{get:function(){var t=this._baseValue;return this.logarithmic&&(t=this.min),this._adapterO?this._adapterO.apply("baseValue",t):t},set:function(t){this._baseValue=t,this.invalidateLayout(),this.invalidateSeries()},enumerable:!0,configurable:!0}),e.prototype.anyToPosition=function(t){return this.valueToPosition(t)},e.prototype.valueToPoint=function(t){var e=this.valueToPosition(t),i=this.renderer.positionToPoint(e),s=this.renderer.positionToAngle(e);return{x:i.x,y:i.y,angle:s}},e.prototype.anyToPoint=function(t){return this.valueToPoint(t)},e.prototype.valueToPosition=function(t){if(vl(t)){var e=this.min,i=this.max;if(vl(e)&&vl(i)){var s=this._difference,n=this._axisBreaks;n&&n.length>0&&Zh(n.iterator(),(function(s){var n=s.adjustedStartValue,r=s.adjustedEndValue;if(vl(n)&&vl(r)){if(t<n)return!1;if(Ll({start:n,end:r},{start:e,end:i})){n=Math.max(n,e),r=Math.min(r,i);var a=s.breakSize;t>r?e+=(r-n)*(1-a):t<n||(t=n+(t-n)*a)}}return!0}));var r=void 0;if(this.logarithmic){var a=this.treatZeroAs;vl(a)&&t<=a&&(t=a),r=(Math.log(t)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)/(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)}else r=(t-e)/s;return r}}return 0},e.prototype.invalidateLabels=function(){t.prototype.invalidateLabels.call(this),this.dataItems&&(this.dataItems.each((function(t){t.value=void 0})),this.invalidate())},e.prototype.positionToValue=function(t){var e=this.min,i=this.max;if(vl(e)&&vl(i)){var s=i-e,n=null,r=this._axisBreaks;return r&&r.length>0&&Zh(r.iterator(),(function(r){var a=r.startPosition,o=r.endPosition,l=r.adjustedStartValue,h=r.adjustedEndValue;if(vl(l)&&vl(h)){if(l>i)return!1;if(Ll({start:l,end:h},{start:e,end:i})){l=jl(l,e),h=El(h,i);var u=r.breakSize;if(s-=(h-l)*(1-u),t>o)e+=(h-l)*(1-u);else if(!(t<a)){var p=(t-a)/(o-a);return n=l+p*(h-l),!1}}return!0}})),vl(n)||(n=this.logarithmic?Math.pow(Math.E,(t*(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)+Math.log(this.min)*Math.LOG10E)/Math.LOG10E):t*s+e),n}},e.prototype.xToValue=function(t){return this.positionToValue(this.pointToPosition({x:t,y:0}))},e.prototype.yToValue=function(t){return this.positionToValue(this.pointToPosition({x:0,y:t}))},e.prototype.pointToPosition=function(t){return this.renderer instanceof km?1-this.renderer.pointToPosition(t):this.renderer.pointToPosition(t)},e.prototype.animateMinMax=function(t,e){return this.animate([{property:"_minAdjusted",from:this._minAdjusted,to:t},{property:"_maxAdjusted",from:this._maxAdjusted,to:e}],this.rangeChangeDuration,this.rangeChangeEasing)},e.prototype.getMinMax=function(){var t=this;this.updateGridCount();var e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;if(vl(this._minDefined)&&vl(this._maxDefined)||(this.series.each((function(s){if(!s.ignoreMinMax){var n=s.min(t);vl(n)&&n<e&&(e=n);var r=s.max(t);vl(r)&&r>i&&(i=r)}})),this.includeRangesInMinMax&&this.axisRanges.each((function(t){if(!t.ignoreMinMax){var s=El(t.value,t.endValue),n=jl(t.value,t.endValue);(s<e||!vl(e))&&(e=s),(n>i||!vl(i))&&(i=n)}}))),this.logarithmic){var s=this.treatZeroAs;vl(s)&&e<=0&&(e=s),e<=0&&this.raiseCriticalError(new Error("Logarithmic value axis can not have values <= 0."),!0)}if(0==e&&0==i&&(i=.9,e=-.9),vl(this._minDefined)&&(e=this._minDefined),vl(this._maxDefined)&&(i=this._maxDefined),this._adapterO&&(e=this._adapterO.apply("min",e)),this._adapterO&&(i=this._adapterO.apply("max",i)),vl(e)&&vl(i)){this._minReal=e,this._maxReal=i,e==Number.POSITIVE_INFINITY&&(e=void 0),i==Number.NEGATIVE_INFINITY&&(i=void 0);var n=this.adjustDifference(e,i);if(e=this.fixMin(e),i=this.fixMax(i),i-e<=1/Math.pow(10,15)){if(i-e!=0)this._deltaMinMax=(i-e)/2;else{var r=Math.log(Math.abs(i))*Math.LOG10E,a=Math.pow(10,Math.floor(r));a/=10,this._deltaMinMax=a}e-=this._deltaMinMax,i+=this._deltaMinMax}e-=(i-e)*this.extraMin,i+=(i-e)*this.extraMax;var o=this.strictMinMax;vl(this._maxDefined)&&(o=!0);var l=this.adjustMinMax(e,i,n,this._gridCount,o);if(e=l.min,i=l.max,n=i-e,l=this.adjustMinMax(e,i,i-e,this._gridCount,!0),e=l.min,i=l.max,this.strictMinMax&&(e=vl(this._minDefined)?this._minDefined:this._minReal,i=vl(this._maxDefined)?this._maxDefined:this._maxReal,i-e<=1e-8&&(e-=this._deltaMinMax,i+=this._deltaMinMax),e-=(i-e)*this.extraMin,i+=(i-e)*this.extraMax),this._adapterO&&(e=this._adapterO.apply("min",e)),this._adapterO&&(i=this._adapterO.apply("max",i)),this._step=l.step,vl(e)||vl(i)||(this.start=0,this.end=1,this.renderer.labels.each((function(t){t.dataItem.text=""}))),(this._minAdjusted!=e||this._maxAdjusted!=i)&&vl(e)&&vl(i)){var h=this._minMaxAnimation;if(this._extremesChanged&&vl(this._minAdjusted)&&vl(this._maxAdjusted)&&this.inited){if(h&&!h.isFinished()&&this._finalMax==i&&this._finalMin==e)return;this._finalMin=e,this._finalMax=i,h=this.animateMinMax(e,i),h&&!h.isFinished()?(h.events.on("animationprogress",this.validateDataItems,this),h.events.on("animationended",(function(){t.series.each((function(t){t.validate()})),t.validateDataItems(),t.handleSelectionExtremesChange()})),this._minMaxAnimation=h):this.series.each((function(t){t.invalidate()})),this.validateDataItems(),this.dispatchImmediately("extremeschanged"),this.handleSelectionExtremesChange()}else{if(h&&!h.isFinished()&&this._finalMax==i&&this._finalMin==e)return;this._minAdjusted=e,this._maxAdjusted=i,this._finalMin=e,this._finalMax=i,this.invalidateDataItems(),this.dispatchImmediately("extremeschanged"),this._saveMinMax(e,i)}}this._extremesChanged=!1,this._difference=this.adjustDifference(e,i)}},e.prototype.fixMin=function(t){return t},e.prototype.fixMax=function(t){return t},e.prototype.adjustMinMax=function(t,e,i,s,n){s<=1&&(s=1),s=Math.round(s);var r=t,a=e;0===i&&(i=Math.abs(e));var o=Math.log(Math.abs(i))*Math.LOG10E,l=Math.pow(10,Math.floor(o));l/=10;var h=l;n&&(h=0),this.logarithmic?(t<=0&&(t=this.baseValue),t==1/0&&(t=1),e==-1/0&&(e=10),this.strictMinMax?(this._minDefined>0&&(t=this._minDefined),this._maxDefined):(t=Math.pow(10,Math.floor(Math.log(Math.abs(t))*Math.LOG10E)),e=Math.pow(10,Math.ceil(Math.log(Math.abs(e))*Math.LOG10E)))):(n?(t=Math.floor(t/l)*l,e=Math.ceil(e/l)*l):(t=Math.ceil(t/l)*l-h,e=Math.floor(e/l)*l+h),t<0&&r>=0&&(t=0),e>0&&a<=0&&(e=0)),o=Math.log(Math.abs(i))*Math.LOG10E,l=Math.pow(10,Math.floor(o)),l/=10;var u=Math.ceil(i/s/l)*l,p=Math.pow(10,Math.floor(Math.log(Math.abs(u))*Math.LOG10E)),c=Math.ceil(u/p);c>5?c=10:c<=5&&c>2&&(c=5),u=Math.ceil(u/(p*c))*p*c,this.maxPrecision<Number.MAX_VALUE&&u!=Sl(u,this.maxPrecision)&&(u=Sl(u,this.maxPrecision));var d=0;if(p<1&&(d=Math.round(Math.abs(Math.log(Math.abs(p))*Math.LOG10E))+1,u=Tl(u,d)),!this.logarithmic){var g=Math.floor(t/u);t=Tl(u*g,d);var f=void 0;f=n?Math.floor(e/u):Math.ceil(e/u),f==g&&f++,e=Tl(u*f,d),e<a&&(e+=u),t>r&&(t-=u)}return{min:t,max:e,step:u}},Object.defineProperty(e.prototype,"min",{get:function(){var t=this._minAdjusted;return vl(t)||(t=this._minDefined),t},set:function(t){this._minDefined!=t&&(this._minDefined=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minDefined",{get:function(){return this._minDefined},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxDefined",{get:function(){return this._maxDefined},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extraMin",{get:function(){return this.getPropertyValue("extraMin")},set:function(t){this.setPropertyValue("extraMin",t)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extraMax",{get:function(){return this.getPropertyValue("extraMax")},set:function(t){this.setPropertyValue("extraMax",t)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return this._step},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){var t=this._maxAdjusted;return vl(t)||(t=this._maxDefined),t},set:function(t){this._maxDefined!=t&&(this._maxDefined=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adjustLabelPrecision",{get:function(){return this.getPropertyValue("adjustLabelPrecision")},set:function(t){this.setPropertyValue("adjustLabelPrecision",t)&&this.invalidate()},enumerable:!0,configurable:!0}),e.prototype.registerSeries=function(e){return new bh([t.prototype.registerSeries.call(this,e),e.events.on("extremeschanged",this.handleExtremesChange,this,!1),e.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1),this.events.on("extremeschanged",e.invalidate,e,!1)])},e.prototype.handleSelectionExtremesChange=function(){var t,e,i=this,s=!0;if(qh(this.series.iterator(),(function(n){if(!n.ignoreMinMax&&!n.isHidden&&!n.outOfRange){n.visible&&!n.isHiding&&(s=!1);var r=n.selectionMin(i),a=n.selectionMax(i);vl(r)&&(!vl(t)||r<t)&&(t=r),vl(a)&&(!vl(e)||a>e)&&(e=a)}})),this.includeRangesInMinMax&&this.axisRanges.each((function(i){if(!i.ignoreMinMax){var s=El(i.value,i.endValue),n=jl(i.value,i.endValue);s<t&&(t=s),n>e&&(e=n)}})),vl(this._minDefined)?t=this.strictMinMax?this._minDefined:this.min:this.strictMinMax&&(t=this._minReal),vl(this._maxDefined)?e=this.strictMinMax?this._maxDefined:this.max:this.strictMinMax&&(e=this._maxReal),t==e){t-=this._deltaMinMax,e+=this._deltaMinMax;var n=this.adjustMinMax(t,e,0,this._gridCount,this.strictMinMax);t=n.min,e=n.max}var r=this.adjustDifference(t,e),a=this.adjustMinMax(t,e,r,this._gridCount);t=a.min,e=a.max,t-=(e-t)*this.extraMin,e+=(e-t)*this.extraMax,t=Cl(t,this.min,this.max),e=Cl(e,this.min,this.max),r=this.adjustDifference(t,e),a=this.adjustMinMax(t,e,r,this._gridCount,!0),t=a.min,e=a.max,this.strictMinMax&&(t=jl(t,this._minDefined),e=El(e,this._maxDefined));var o=a.step;this.syncWithAxis&&(a=this.syncAxes(t,e,o),t=a.min,e=a.max,this.invalidate()),o=a.step,this._difference=this.adjustDifference(this.min,this.max);var l=this.valueToPosition(t),h=this.valueToPosition(e);s&&!this.syncWithAxis&&(l=0,h=1);var u=0;this.syncWithAxis?(u=5,this.setCache(t+"-"+e,o)):(this._step==o&&this._minZoomed==t&&this._maxZoomed==e||(this._dsc=!0),this._step=o,this._minZoomed=t,this._maxZoomed=e),this.keepSelection||this.zoom({start:l,end:h},!1,!1,u)},Object.defineProperty(e.prototype,"strictMinMax",{get:function(){return this.getPropertyValue("strictMinMax")},set:function(t){this.setPropertyValue("strictMinMax",t)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logarithmic",{get:function(){return this.getPropertyValue("logarithmic")},set:function(t){this.setPropertyValue("logarithmic",t)&&(this.invalidate(),this.series.each((function(t){t.invalidateDataItems()})))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keepSelection",{get:function(){return this.getPropertyValue("keepSelection")},set:function(t){this.setPropertyValue("keepSelection",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"includeRangesInMinMax",{get:function(){return this.getPropertyValue("includeRangesInMinMax")},set:function(t){this.setPropertyValue("includeRangesInMinMax",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxPrecision",{get:function(){return this.getPropertyValue("maxPrecision")},set:function(t){this.setPropertyValue("maxPrecision",t)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extraTooltipPrecision",{get:function(){return this.getPropertyValue("extraTooltipPrecision")},set:function(t){this.setPropertyValue("extraTooltipPrecision",t)&&this.invalidate()},enumerable:!0,configurable:!0}),e.prototype.handleExtremesChange=function(){var t=this;if(this._extremesChanged=!0,this.getMinMax(),this.ghostLabel){var e=0;this.dataItems.each((function(i){i.label&&i.label.pixelWidth>e&&(t.ghostLabel.text=i.label.currentText)}))}},e.prototype.getX=function(t,e,i,s,n){return this.renderer.positionToPoint(this.getPositionX(t,e,i,s,n)).x},e.prototype.getPositionX=function(t,e,i,s,n){var r=t.getWorkingValue(e);gl(s)||(s="valueX");var a=t.getValue(s,"stack");vl(r)||(r=this.baseValue,this.logarithmic&&a>0&&(r=0));var o=this.valueToPosition(r+a);return n&&(o=Cl(o,n.start,n.end)),o},e.prototype.getY=function(t,e,i,s,n){return this.renderer.positionToPoint(this.getPositionY(t,e,i,s,n)).y},e.prototype.getPositionY=function(t,e,i,s,n){var r=t.getWorkingValue(e);gl(s)||(s="valueY");var a=t.getValue(s,"stack");vl(r)||(r=this.baseValue,this.logarithmic&&a>0&&(r=0));var o=this.valueToPosition(r+a);return n&&(o=Cl(o,n.start,n.end)),o},e.prototype.getAngle=function(t,e,i,s,n){var r=t.getWorkingValue(e),a=t.getValue(s,"stack");vl(r)||(r=this.baseValue);var o=this.valueToPosition(r+a);return n&&(o=Cl(o,n.start,n.end)),this.positionToAngle(o)},e.prototype.getAnyRangePath=function(t,e,i){var s=this.valueToPosition(t),n=this.valueToPosition(e);return this.getPositionRangePath(s,n)},e.prototype.getTooltipText=function(t){var e=Tl(this.positionToValue(t),this._stepDecimalPlaces+this.extraTooltipPrecision),i=this.tooltip.numberFormatter.format(e);return this._adapterO?this._adapterO.apply("getTooltipText",i):i},e.prototype.zoomToValues=function(t,e,i,s){var n=(t-this.min)/(this.max-this.min),r=(e-this.min)/(this.max-this.min);this.zoom({start:n,end:r},i,s)},Object.defineProperty(e.prototype,"minZoomed",{get:function(){return this.syncWithAxis?this._minZoomed:jl(this.min,this._minZoomed)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxZoomed",{get:function(){return this.syncWithAxis?this._maxZoomed:El(this.max,this._maxZoomed)},enumerable:!0,configurable:!0}),e.prototype.fixAxisBreaks=function(){var e=this;t.prototype.fixAxisBreaks.call(this);var i=this._axisBreaks;i&&i.length>0&&i.each((function(t){var i=t.adjustedStartValue,s=t.adjustedEndValue,n=s-i,r=Math.ceil(n*t.breakSize)*e._gridCount/(e.max-e.min),a=e.adjustMinMax(i,s,n,r,!0);t.adjustedStep=a.step,t.adjustedMin=a.min,t.adjustedMax=a.max})),this._difference=this.adjustDifference(this.min,this.max)},e.prototype.getPositionLabel=function(t){var e=this.positionToValue(t);return this.numberFormatter.format(e)},e.prototype.showTooltipAt=function(t){this.showTooltipAtPosition(this.valueToPosition(t))},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.min=e.min,this.max=e.max,this.calculateTotals=e.calculateTotals,this._baseValue=e.baseValue},Object.defineProperty(e.prototype,"syncWithAxis",{get:function(){return this.getPropertyValue("syncWithAxis")},set:function(t){var e=this;this.setPropertyValue("syncWithAxis",t,!0)&&t&&(this._disposers.push(t.events.on("extremeschanged",this.handleSelectionExtremesChange,this,!1)),this._disposers.push(t.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1)),this._disposers.push(t.events.on("startendchanged",this.handleSelectionExtremesChange,this,!1)),this.events.on("shown",this.handleSelectionExtremesChange,this,!1),this.events.on("maxsizechanged",(function(){e.clearCache(),e._disposers.push(gu.events.once("exitframe",(function(){e.handleSelectionExtremesChange()})))}),this,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"treatZeroAs",{get:function(){return this.getPropertyValue("treatZeroAs")},set:function(t){this.setPropertyValue("treatZeroAs",t,!0)},enumerable:!0,configurable:!0}),e.prototype.syncAxes=function(t,e,i){var s=this.syncWithAxis;if(s){vl(t)||(t=this.min),vl(e)||(e=this.max),vl(i)||(i=this._step);var n=Math.round((s.maxZoomed-s.minZoomed)/s.step),r=Math.round((e-t)/i);if(vl(n)&&vl(r)){var a=!1,o=0,l=.01*(e-t),h=t,u=e,p=i;while(1!=a)if(a=this.checkSync(h,u,p,n),o++,o>1e3&&(a=!0),a)t=h,e=u,i=p;else{o/3==Math.round(o/3)?(h=t-l*o,t>=0&&h<0&&(h=0)):(u=e+l*o,u<=0&&u>0&&(u=0));var c=this.adjustMinMax(h,u,u-h,this._gridCount,!0);h=c.min,u=c.max,p=c.step}}}return{min:t,max:e,step:i}},e.prototype.checkSync=function(t,e,i,s){for(var n=(e-t)/i,r=1;r<s;r++)if(Tl(n/r,1)==s||n*r==s)return!0;return!1},e.prototype.processConfig=function(e){e&&gl(e.syncWithAxis)&&bl(e.syncWithAxis)&&(this.map.hasKey(e.syncWithAxis)?e.syncWithAxis=this.map.getKey(e.syncWithAxis):(this.processingErrors.push('[ValueAxis] No axis with id "'+e.syncWithAxis+'" found for `syncWithAxis`'),delete e.xAxis)),t.prototype.processConfig.call(this,e)},e.prototype._saveMinMax=function(t,e){},e}(mm);gu.registeredClasses.ValueAxis=Sm,gu.registeredClasses.ValueAxisDataItem=Tm;var Cm=function(t){function e(){var e=t.call(this)||this;return e.className="AxisRendererX",e.minGridDistance=120,e.opposite=!1,e.rotation=0,e.width=rl(100),e.labels.template.horizontalCenter="middle",e.applyTheme(),e}return Tt(e,t),e.prototype.setAxis=function(e){t.prototype.setAxis.call(this,e),e.layout="vertical"},e.prototype.updateGridContainer=function(){var t=this.axis;if(t){var e=this.gridContainer;e.x=t.pixelX,e.width=t.axisLength}},e.prototype.processRenderer=function(){t.prototype.processRenderer.call(this);var e=this.axis;if(e){e.width instanceof nl||(e.width=rl(100)),op(this.line);var i=e.title;i.rotation=0,i.align="center",this.opposite?(this.line.toFront(),i.toBack()):(i.toFront(),this.toBack(),this.line.toBack())}},e.prototype.updateTooltip=function(){var t=this.axis;if(t){var e=1e3,i=this.line.pixelX,s=this.line.pixelY,n=this.axisLength,r=e;this.opposite?this.inside||(s=-e,r=e):this.inside&&(s=-e,r=e),this.axis.updateTooltip("vertical",{x:i,y:s,width:n,height:r})}},e.prototype.updateLabelElement=function(t,e,i,s){gl(s)||(s=t.location),e+=(i-e)*s;var n=this.positionToPoint(e);t.isMeasured=!t.inside;var r,a=0,o=this.gridContainer.maxHeight;this.opposite?(t.inside?(r="top","bottom"==t.valign&&(a=o,r="bottom"),"middle"==t.valign&&(a=o/2,r="middle")):r="bottom",n.y=a):(t.inside?(r="bottom","top"==t.valign&&(a=-o,r="top"),"middle"==t.valign&&(a=-o/2,r="middle")):r="top",n.y+=a),0==t.rotation&&(t.verticalCenter=r),this.positionItem(t,n),this.toggleVisibility(t,e,this.minLabelPosition,this.maxLabelPosition)},Object.defineProperty(e.prototype,"axisLength",{get:function(){var t=this.axis;return t.measuredWidth-t.pixelPaddingRight-t.pixelPaddingLeft||0},enumerable:!0,configurable:!0}),e.prototype.positionToPoint=function(t,e){return{x:this.positionToCoordinate(t),y:0}},e.prototype.pointToPosition=function(t){return this.coordinateToPosition(t.x,t.y)},e.prototype.getPositionRangePath=function(t,e){var i=Cl(this.positionToCoordinate(t),0,this.axisLength),s=Cl(this.positionToCoordinate(e),0,this.axisLength),n=Math.abs(s-i),r=this.getHeight(),a=Math.min(i,s),o=0;return df({x:a,y:o,width:n,height:r},!0)},e.prototype.updateBreakElement=function(e){t.prototype.updateBreakElement.call(this,e);var i=e.startLine,s=e.endLine,n=e.fillShape,r=e.startPoint,a=e.endPoint,o=e.pixelMarginLeft,l=this.getHeight()-e.pixelMarginTop-e.pixelMarginBottom;r.x=Cl(r.x,-1,this.axisLength+1),a.x=Cl(a.x,-1,this.axisLength+1),r.x==a.x&&(r.x<0||r.x>this.axisLength)?e.fillShape.__disabled=!0:e.fillShape.__disabled=!1,i.y=o,i.width=0,i.height=l,s.y=o,s.width=0,s.height=l,n.height=l,n.width=Math.abs(a.x-r.x),n.y=o,n.x=r.x},e.prototype.updateGridElement=function(t,e,i){e+=(i-e)*t.location;var s=this.positionToPoint(e);t.path=af({x:0,y:0})+of({x:0,y:this.getHeight()}),this.positionItem(t,s),this.toggleVisibility(t,e,0,1)},e.prototype.updateTickElement=function(t,e,i){e+=(i-e)*t.location;var s=this.positionToPoint(e),n=t.length;s.y=zp({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,this.opposite?n*=t.inside?1:-1:n*=t.inside?-1:1,t.path=af({x:0,y:0})+of({x:0,y:n}),this.positionItem(t,s),this.toggleVisibility(t,e,0,1)},e.prototype.updateAxisLine=function(){this.line.path=af({x:0,y:0})+of({x:this.axisLength,y:0})},e.prototype.updateBaseGridElement=function(){t.prototype.updateBaseGridElement.call(this);var e=this.axis,i=this.getHeight(),s=this.axisLength,n=this.baseGrid,r=e.basePoint.x;if(r<-.2||r>s+.2)n.hide(0);else{var a=zp({x:0,y:0},this.gridContainer,n.parent).y;n.path=af({x:0,y:0})+of({x:0,y:i}),n.moveTo({x:r,y:a}),n.show(0)}},e.prototype.createBreakSprites=function(t){t.startLine=new Bf,t.endLine=new Bf;var e=new Nf;e.setWavedSides(!1,!0,!1,!0),t.fillShape=e},e.prototype.toAxisPosition=function(t){var e=t,i=this.axis;if(i){var s=i.relativePositionSprite,n=i.pixelX;if(s?n=zp({x:this.pixelX,y:0},this.parent,s).x:s=i.parent,s){var r=n/s.innerWidth,a=i.axisLength/s.innerWidth;return(e-r)/a}}return t},e.prototype.updateBullet=function(t,e,i){var s=.5;t instanceof Om&&(s=t.location),e+=(i-e)*s;var n=this.positionToPoint(e);n.y=zp({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,this.positionItem(t,n),this.toggleVisibility(t,e,0,1)},e}(Pm);gu.registeredClasses.AxisRendererX=Cm,Gg.push({relevant:Xg.heightXS,state:function(t,e){if(t instanceof Cm){var i=t.states.create(e);return i.properties.inside=!0,i.properties.maxLabelPosition=.9,i.properties.minLabelPosition=.1,i}return null}}),Gg.push({relevant:Xg.heightXXS,state:function(t,e){if(t instanceof Cm){var i=t.states.create(e);return i.properties.disabled=!0,i}return null}});var Mm=function(t){function e(){var e=t.call(this)||this;e.className="HeatLegend",e.markerContainer=e.createChild(Lg),e.markerContainer.shouldClone=!1,e.markerCount=1;var i=new qg;return i.minHeight=20,i.minWidth=20,i.interactionsEnabled=!1,i.fillOpacity=1,i.cornerRadius(0,0,0,0),e.markerContainer.minHeight=20,e.markerContainer.minWidth=20,e.orientation="horizontal",e.markers=new _u(i),e._disposers.push(new yu(e.markers)),e._disposers.push(e.markers.template),e.applyTheme(),e}return Tt(e,t),e.prototype.getMinFromRules=function(t){var e,i=this.series;if(i)return Zh(i.heatRules.iterator(),(function(i){return i.property!=t||(e=i.min,!1)})),e},e.prototype.getMaxFromRules=function(t){var e,i=this.series;if(i)return qh(i.heatRules.iterator(),(function(i){return i.property!=t||(e=i.max,!1)})),e},e.prototype.validate=function(){t.prototype.validate.call(this),this.valueAxis.renderer.inversed=this.reverseOrder;var e=this.series,i=this.minColor,s=this.maxColor;if(gl(i)||(i=qu(this.getMinFromRules("fill"))),gl(s)||(s=qu(this.getMaxFromRules("fill"))),e){var n=e.fill;!gl(i)&&n instanceof Xu&&(i=n),!gl(s)&&n instanceof Xu&&(s=n)}gl(s)||(s=qu(this.getMaxFromRules("fill")));var r=pl(this.getMinFromRules("fillOpacity"));vl(r)||(r=1);var a=pl(this.getMaxFromRules("fillOpacity"));vl(a)||(a=1);var o=pl(this.getMinFromRules("strokeOpacity"));vl(o)||(o=1);var l=pl(this.getMaxFromRules("strokeOpacity"));vl(l)||(l=1);for(var h=qu(this.getMinFromRules("stroke")),u=qu(this.getMaxFromRules("stroke")),p=0;p<this.markerCount;p++){var c=this.markers.getIndex(p);if(c||(c=this.markers.create(),c.parent=this.markerContainer,c.height=rl(100),c.width=rl(100)),1==this.markerCount){var d=new ng;if(this.reverseOrder?(d.addColor(s,a),d.addColor(i,r)):(d.addColor(i,r),d.addColor(s,a)),"vertical"==this.orientation&&(d.rotation=-90),c.fill=d,gl(h)&&gl(u)){var g=new ng;this.reverseOrder?(g.addColor(u,l),g.addColor(h,o)):(g.addColor(h,o),g.addColor(u,l)),"vertical"==this.orientation&&(g.rotation=-90),c.stroke=g}}else{var f=p;this.reverseOrder&&(f=this.markerCount-p-1);var m=new Xu(Vu(i.rgb,s.rgb,f/this.markerCount));c.fill=m;var y=r+(a-r)*f/this.markerCount;if(c.fillOpacity=y,gl(h)&&gl(u)){var b=new Xu(Vu(h.rgb,u.rgb,f/this.markerCount));c.stroke=b;var v=o+(l-o)*f/this.markerCount;c.strokeOpacity=v}}}var _=this.valueAxis.renderer;this.markerCount>1&&("horizontal"==this.orientation?_.minGridDistance=this.measuredWidth/this.markerCount:_.minGridDistance=this.measuredHeight/this.markerCount),this.valueAxis.invalidate();p=this.markerCount;for(var x=this.markers.length;p<x;p++)this.markers.getIndex(p).parent=void 0},Object.defineProperty(e.prototype,"minColor",{get:function(){return this.getPropertyValue("minColor")},set:function(t){t instanceof Xu||(t=qu(t)),this.setColorProperty("minColor",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxColor",{get:function(){return this.getPropertyValue("maxColor")},set:function(t){t instanceof Xu||(t=qu(t)),this.setColorProperty("maxColor",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"markerCount",{get:function(){return this.getPropertyValue("markerCount")},set:function(t){this.setPropertyValue("markerCount",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minValue",{get:function(){return this.getPropertyValue("minValue")},set:function(t){this.setPropertyValue("minValue",t),this.valueAxis.min=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.getPropertyValue("maxValue")},set:function(t){this.setPropertyValue("maxValue",t),this.valueAxis.max=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(t){this.setPropertyValue("orientation",t,!0);var e=this.markerContainer,i=this.valueAxis;"horizontal"==t?(gl(this.width)||(this.width=200),this.height=void 0,i.width=rl(100),i.height=void 0,i.tooltip.pointerOrientation="vertical",this.layout="vertical",e.width=rl(100),e.height=void 0,i.renderer instanceof Cm||(i.renderer=new Cm)):(gl(this.height)||(this.height=200),this.width=void 0,this.layout="horizontal",e.width=void 0,e.height=rl(100),i.height=rl(100),i.width=void 0,i.tooltip.pointerOrientation="horizontal",i.renderer instanceof km||(i.renderer=new km),i.renderer.inside=!0,i.renderer.labels.template.inside=!0,this.markerContainer.reverseOrder=!0);var s=i.renderer;s.grid.template.disabled=!0,s.axisFills.template.disabled=!0,s.baseGrid.disabled=!0,s.labels.template.padding(2,3,2,3),s.minHeight=void 0,s.minWidth=void 0,this.markerContainer.layout=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueAxis",{get:function(){return this._valueAxis||(this.valueAxis=this.createChild(Sm),this.valueAxis.shouldClone=!1),this._valueAxis},set:function(t){this._valueAxis=t,t.parent=this,t.strictMinMax=!0,this.orientation=this.orientation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"series",{get:function(){return this._series},set:function(t){var e=this;this._series=t;var i="value";try{var s=t.heatRules.getIndex(0).dataField;s&&(i=s)}catch(n){}this.updateMinMax(t.dataItem.values[i].low,t.dataItem.values[i].high),t.dataItem.events.on("calculatedvaluechanged",(function(s){e.updateMinMax(t.dataItem.values[i].low,t.dataItem.values[i].high)}),void 0,!1),t.heatRules.events.on("inserted",this.invalidate,this,!1),t.heatRules.events.on("removed",this.invalidate,this,!1)},enumerable:!0,configurable:!0}),e.prototype.updateMinMax=function(t,e){var i=this.valueAxis;vl(this.minValue)||(i.min=t,i.invalidate()),vl(this.maxValue)||(i.max=e,i.invalidate())},e.prototype.processConfig=function(e){if(e&&gl(e.series)&&bl(e.series)&&bl(e.series))if(this.map.hasKey(e.series))e.series=this.map.getKey(e.series);else{var i=e.series,s=this.map.events.on("insertKey",(function(t){t.key==i&&(this.series=t.newValue,s.dispose())}),this);this._disposers.push(s),delete e.series}t.prototype.processConfig.call(this,e)},e}(Lg);gu.registeredClasses.HeatLegend=Mm;var Im=function(t){function e(){var e=t.call(this)||this;e.className="Grip";var i=new Td;e.layout="absolute",e.padding(10,10,10,10),e.margin(3,3,3,3),e.background.fillOpacity=.3,e.background.cornerRadius(10,10,10,10);var s=new jg;s.element=e.paper.add("path");var n=af({x:-6,y:0});return n+=of({x:6,y:0}),n+=af({x:-8,y:-6}),n+=of({x:0,y:-12}),n+=of({x:8,y:-6}),n+=af({x:-8,y:6}),n+=of({x:0,y:12}),n+=of({x:8,y:6}),s.path=n,s.strokeWidth=2,s.fillOpacity=0,s.pixelPerfect=!0,s.padding(0,4,0,4),s.stroke=i.getFor("text"),s.strokeOpacity=.7,s.align="center",s.valign="middle",e.icon=s,e.label.dispose(),e.label=void 0,e.position="right",e.autoHideDelay=3e3,e.events.on("shown",(function(t){e._autoHideTimeout&&e._autoHideTimeout.dispose(),e.autoHideDelay&&(e._autoHideTimeout=e.setTimeout((function(){e.hide()}),e.autoHideDelay))})),e.events.on("down",(function(t){e._autoHideTimeout&&e._autoHideTimeout.dispose()})),e.events.on("out",(function(t){e.autoHideDelay&&(e._autoHideTimeout=e.setTimeout((function(){e.hide()}),e.autoHideDelay))})),e.applyTheme(),e}return Tt(e,t),Object.defineProperty(e.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(t){if(this.setPropertyValue("position",t))switch(t){case"left":this.align="left",this.valign="middle",this.horizontalCenter="left",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=rl(30);break;case"right":this.align="right",this.valign="middle",this.horizontalCenter="right",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=rl(30);break;case"top":this.align="center",this.valign="top",this.horizontalCenter="middle",this.verticalCenter="top",this.icon.rotation=90,this.width=rl(30),this.height=void 0;break;case"bottom":this.align="center",this.valign="bottom",this.horizontalCenter="middle",this.verticalCenter="bottom",this.icon.rotation=90,this.width=rl(30),this.height=void 0;break;default:this.align="center",this.valign="middle",this.horizontalCenter="middle",this.verticalCenter="middle",this.icon.rotation=90,this.width=rl(30),this.height=void 0}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoHideDelay",{get:function(){return this.getPropertyValue("autoHideDelay")},set:function(t){this.setPropertyValue("autoHideDelay",t)},enumerable:!0,configurable:!0}),e}($g);gu.registeredClasses.Grip=Im;var jm=function(t){function e(){var e=t.call(this)||this;return e.className="ChartDataItem",e.applyTheme(),e}return Tt(e,t),e}(Ug),Em=function(t){function e(){var i=t.call(this)||this;if(i._legend=new vh,i.constructor===e)throw new Error("'Chart' cannot be instantiated directly. Please use a specific chart type.");i.className="Chart";var s=new Zg;i.titles=new _u(s),i._disposers.push(new yu(i.titles)),i._disposers.push(s),i.width=rl(100),i.height=rl(100),i.layout="vertical";var n=i.createChild(Lg);n.shouldClone=!1,n.layout="vertical",n.width=rl(100),n.height=rl(100),i.chartAndLegendContainer=n;var r=n.createChild(Lg);return r.shouldClone=!1,r.width=rl(100),r.height=rl(100),i.chartContainer=r,i.showOnInit=!0,i._disposers.push(i._legend),i.titles.events.on("inserted",(function(t){i.processTitle(t),i.updateReaderTitleReferences()}),i,!1),i.titles.events.on("removed",(function(t){i.updateReaderTitleReferences()}),i,!1),i.role="region",i.defaultState.transitionDuration=1,i.applyTheme(),i}return Tt(e,t),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),gl(this.readerTitle)||(this.readerTitle=this.language.translate("Chart"))},e.prototype.draw=function(){this.fixLayout(),t.prototype.draw.call(this)},e.prototype.fixLayout=function(){var t=this.legend;if(t){var e=this.chartAndLegendContainer,i=this.chartContainer;switch(i.x=void 0,i.y=void 0,"absolute"!=t.position&&(t.x=void 0,t.y=void 0),t.position){case"left":e.layout="horizontal",t.toBack();break;case"right":e.layout="horizontal",t.toFront();break;case"top":e.layout="vertical",t.toBack();break;case"bottom":e.layout="vertical",t.toFront();break;case"absolute":t.isMeasured=!1;break}}},e.prototype.feedLegend=function(){},e.prototype.processTitle=function(t){var e=t.newValue;return e.parent=this,e.toBack(),e.shouldClone=!1,e.align="center",e.uidAttr(),e},e.prototype.updateReaderTitleReferences=function(){if(this.titles.length){var t=[];qh(this.titles.iterator(),(function(e){t.push(e.uid)})),this.setSVGAttribute({"aria-labelledby":t.join(" ")})}else this.removeSVGAttribute("aria-labelledby")},Object.defineProperty(e.prototype,"legend",{get:function(){return this._legend.get()},set:function(t){this.setLegend(t)},enumerable:!0,configurable:!0}),e.prototype.setLegend=function(t){var e=this;this._legend.get()!==t&&(t?(t.parent=this.chartAndLegendContainer,this._legend.set(t,t.events.on("propertychanged",(function(t){"position"==t.property&&e.fixLayout()}),void 0,!1)),t.addDisposer(new yh((function(){e.legend=void 0})))):this._legend.reset(),this.feedLegend())},e.prototype.dispose=function(){this.legend&&this.legend.dispose(),t.prototype.dispose.call(this)},e.prototype.processConfig=function(e){e&&gl(e.legend)&&!gl(e.legend.type)&&(e.legend.type="Legend"),t.prototype.processConfig.call(this,e)},e.prototype.copyFrom=function(e){this.titles.copyFrom(e.titles),this.chartContainer.copyFrom(e.chartContainer),e.legend&&(this.legend=e.legend.clone(),this.legend.removeChildren()),t.prototype.copyFrom.call(this,e)},Object.defineProperty(e.prototype,"dragGrip",{get:function(){var t=this;if(!this._dragGrip){var e=this.tooltipContainer.createChild(Im);e.align="right",e.valign="middle",e.hide(0),e.events.on("down",(function(e){e.touch&&(t.interactionsEnabled=!1)})),e.events.on("up",(function(e){t.interactionsEnabled=!0})),this.events.on("down",(function(t){t.touch&&e.show()})),this._dragGrip=e}return this._dragGrip},set:function(t){this._dragGrip=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focusable",{get:function(){return this.parent.focusable},set:function(t){this.parent.focusable=t},enumerable:!0,configurable:!0}),e}(Kg);gu.registeredClasses.Chart=Em,Gg.push({relevant:Xg.widthXS,state:function(t,e){if(t instanceof Em){var i=t.states.create(e);return t.pixelPaddingLeft>10&&(i.properties.paddingLeft=10),t.pixelPaddingRight>10&&(i.properties.paddingRight=10),i}return null}}),Gg.push({relevant:Xg.heightXS,state:function(t,e){if(t instanceof Em){var i=t.states.create(e);return t.pixelPaddingTop>10&&(i.properties.paddingTop=10),t.pixelPaddingBottom>10&&(i.properties.paddingBottom=10),i}return null}}),Gg.push({relevant:Xg.widthXXS,state:function(t,e){if(t instanceof Em){var i=t.states.create(e);return i.properties.paddingLeft=0,i.properties.paddingRight=0,i}return null}}),Gg.push({relevant:Xg.heightXXS,state:function(t,e){if(t instanceof Em){var i=t.states.create(e);return i.properties.paddingTop=0,i.properties.paddingBottom=0,i}return null}});var Lm=function(t){function e(){var e=t.call(this)||this;return e.className="Bullet",e.isMeasured=!1,e.tooltipX=0,e.tooltipY=0,e.layout="none",e.applyOnClones=!0,e.copyToLegendMarker=!0,e.applyTheme(),e}return Tt(e,t),Object.defineProperty(e.prototype,"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(t){if(this.setPropertyValue("locationX",t)){var e=this.dataItem;e&&e.component&&e.component.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(t){if(this.setPropertyValue("locationY",t)){var e=this.dataItem;e&&e.component&&e.component.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"xField",{get:function(){return this.getPropertyValue("xField")},set:function(t){this.setPropertyValue("xField",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yField",{get:function(){return this.getPropertyValue("yField")},set:function(t){this.setPropertyValue("yField",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDynamic",{get:function(){return this.getPropertyValue("isDynamic")},set:function(t){this.setPropertyValue("isDynamic",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"copyToLegendMarker",{get:function(){return this.getPropertyValue("copyToLegendMarker")},set:function(t){this.setPropertyValue("copyToLegendMarker",t)},enumerable:!0,configurable:!0}),e}(Lg);gu.registeredClasses.Bullet=Lm,Gg.push({relevant:Xg.isXS,state:function(t,e){if(t instanceof Lm){var i=t.states.create(e);return i.properties.disabled=!0,i}return null}});var Am=function(t){function e(){var e=t.call(this)||this;return e.className="SeriesDataItem",e.values.value={},e.values.value={},e.applyTheme(),e}return Tt(e,t),Object.defineProperty(e.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new hu,this._disposers.push(new lu(this._bullets))),this._bullets},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.bullets.clear(),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"value",{get:function(){return this.values.value.value},set:function(t){this.setValue("value",t)},enumerable:!0,configurable:!0}),e}(Ug),Fm=function(t){function e(){var i=t.call(this)||this;if(i._ignoreMinMax=!1,i._showBullets=!0,i.legendSettings=new pm,i._tmin=new hu,i._tmax=new hu,i._smin=new hu,i._smax=new hu,i.dataItemsByAxis=new hu,i.skipFocusThreshold=20,i._itemReaderTextChanged=!1,i.calculatePercent=!1,i.usePercentHack=!0,i.autoDispose=!0,i.simplifiedProcessing=!1,i.constructor===e)throw new Error("'Series' cannot be instantiated directly. Please use a specific series type.");i.className="Series",i.isMeasured=!1,i.layout="none",i.shouldClone=!1,i.setPropertyValue("hidden",!1),i.axisRanges=new vu,i.axisRanges.events.on("inserted",i.processAxisRange,i,!1),i.minBulletDistance=0,i.mainContainer=i.createChild(Lg),i.mainContainer.shouldClone=!1,i.mainContainer.mask=i.createChild(jg),i._disposers.push(i.mainContainer);var s=i.mainContainer.createChild(Lg);return i._shouldBeReady.push(s),s.shouldClone=!1,s.layout="none",s.virtualParent=i,i._disposers.push(s),i.bulletsContainer=s,i.tooltip=new Cf,i.tooltip.virtualParent=i,i._disposers.push(i.tooltip),i.hiddenState.transitionEasing=vc,i.dataItem=i.createDataItem(),i._disposers.push(i.dataItem),i.dataItem.component=i,i.role="group",i.applyTheme(),i}return Tt(e,t),e.prototype.applyTheme=function(){t.prototype.applyTheme.call(this),Kc.autoSetClassName&&this.bulletsContainer&&(this.bulletsContainer.className=this.className+"-bullets",this.bulletsContainer.setClassName())},e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),gl(this.readerTitle)||(this.readerTitle=this.language.translate("Series"))},e.prototype.createDataItem=function(){return new Am},Object.defineProperty(e.prototype,"chart",{get:function(){return this._chart},set:function(t){this._chart=t},enumerable:!0,configurable:!0}),e.prototype.positionBullet=function(t){},e.prototype.processBullet=function(t){var e=this,i=t.newValue;i.isTemplate=!0,this.events.once("datavalidated",(function(t){e.itemsFocusable()&&(i.focusable=!0)})),this.invalidate()},e.prototype.removeBullet=function(t){var e=t.oldValue;this.dataItems.each((function(t){var i=t.bullets.getKey(e.uid);i&&i.dispose()})),this.invalidate()},e.prototype.validateDataItems=function(){t.prototype.validateDataItems.call(this),this.processValues(!1)},e.prototype.getFirstValue=function(t,e){for(var i=e;i>=0;i--){var s=this.dataItems.getIndex(i),n=s.getActualWorkingValue(t);if(vl(n))return n}return null},e.prototype.getAbsoluteFirstValue=function(t){for(var e=0;e<this.dataItems.length;e++){var i=this.dataItems.getIndex(e),s=i.values[t].value;if(vl(s))return s}return null},e.prototype.rangeChangeUpdate=function(){t.prototype.rangeChangeUpdate.call(this),this.processValues(!0)},e.prototype.processValues=function(t){var e=this;if(!this.simplifiedProcessing){var i=this.dataItems,s={},n={},r={},a={},o={},l={},h={},u={},p={},c={},d=jl(0,this.startIndex);d=El(d,this.dataItems.length);var g=El(this.endIndex,this.dataItems.length);if(vl(d)||(d=0),vl(g)||(g=this.dataItems.length),d>0){var f=i.getIndex(d-1);Hh(f.values,(function(t,e){var i=f.getActualWorkingValue(t);vl(i)&&(u[t]=i)}))}for(var m=function(t){var g=i.getIndex(t);Hh(g.values,(function(t,i){var f=g.getActualWorkingValue(t);if(vl(f)){vl(s[t])||(s[t]=0),s[t]++,vl(n[t])||(n[t]=0),n[t]+=f,vl(r[t])||(r[t]=0),r[t]+=Math.abs(f),vl(l[t])||(l[t]=f),h[t]=f,vl(a[t])?a[t]>f&&(a[t]=f):a[t]=f,vl(o[t])?o[t]<f&&(o[t]=f):o[t]=f,vl(p[t])||(p[t]=e.getFirstValue(t,d)),vl(c[t])||(c[t]=e.getAbsoluteFirstValue(t)),g.setCalculatedValue(t,f-p[t],"change"),g.setCalculatedValue(t,(f-p[t])/p[t]*100,"changePercent"),g.setCalculatedValue(t,f-c[t],"startChange"),g.setCalculatedValue(t,(f-c[t])/c[t]*100,"startChangePercent");var m=u[t];vl(m)||(m=f),g.setCalculatedValue(t,f-m,"previousChange"),g.setCalculatedValue(t,(f-m)/m*100,"previousChangePercent"),u[t]=f}}))},y=d;y<g;y++)m(y);if(this.calculatePercent){var b=function(t){var s=i.getIndex(t);Hh(s.values,(function(t){var i=r[t],n=s.getActualWorkingValue(t);if(vl(n))if(i>0){e.usePercentHack&&n==i&&(i=s.values[t].value);var a=n/i*100;s.setCalculatedValue(t,a,"percent")}else s.setCalculatedValue(t,0,"percent")}))};for(y=d;y<g;y++)b(y)}if(d>0){var v=i.getIndex(d-1);Hh(v.values,(function(t){var e=v.values[t].value;v.setCalculatedValue(t,e-l[t],"change"),v.setCalculatedValue(t,(e-l[t])/l[t]*100,"changePercent")}))}var _=this.dataItem;Hh(_.values,(function(t){_.setCalculatedValue(t,n[t],"sum"),_.setCalculatedValue(t,r[t],"absoluteSum"),_.setCalculatedValue(t,n[t]/s[t],"average"),_.setCalculatedValue(t,l[t],"open"),_.setCalculatedValue(t,h[t],"close"),_.setCalculatedValue(t,a[t],"low"),_.setCalculatedValue(t,o[t],"high"),_.setCalculatedValue(t,s[t],"count")}))}},e.prototype.validate=function(){ic()&&this.filters.clear(),qh(this.axisRanges.iterator(),(function(t){t.validate()})),t.prototype.validate.call(this);var e=this.bulletsContainer;if(e.fill=this.fill,e.stroke=this.stroke,e.x=this.pixelX,e.y=this.pixelY,this.bulletsContainer.children.length>0)if(this._showBullets){for(var i=0;i<this.startIndex;i++){var s=this.dataItems.getIndex(i);s&&s.bullets.each((function(t,e){e.__disabled=!0}))}for(i=this.dataItems.length-1;i>this.endIndex;i--){s=this.dataItems.getIndex(i);s&&s.bullets.each((function(t,e){e.__disabled=!0}))}}else this.bulletsContainer.children.each((function(t){t.__disabled=!0}));this.updateTooltipBounds()},e.prototype.updateTooltipBounds=function(){if(this.topParent){var t=0,e=0,i=this.topParent.maxWidth,s=this.topParent.maxHeight,n={x:t,y:e,width:i,height:s};this.tooltip.setBounds(n)}},e.prototype.shouldCreateBullet=function(t,e){return!0},e.prototype.validateDataElement=function(e){var i=this;t.prototype.validateDataElement.call(this,e),this._showBullets?(this.isHidden||(this.bulletsContainer.visible=!0),this.bullets.each((function(t){var s=e.bullets.getKey(t.uid);if(i.shouldCreateBullet(e,t)){if(!s){var n=t.propertyFields.disabled,r=e.dataContext;n&&r&&!1===r[n]?(t.applyOnClones=!1,t.disabled=!1,s=t.clone(),t.disabled=!0,t.applyOnClones=!0):s=t.clone(),s.shouldClone=!1,e.addSprite(s),i.visible&&!i.isHiding||s.hide(0)}var a=s.dataItem;if(a!=e){a&&a.bullets.setKey(t.uid,void 0);var o=i.itemReaderText;s instanceof Lm&&(o||(o="{"+s.xField+"}: {"+s.yField+"}"),s.isDynamic&&(e.events.on("workingvaluechanged",s.deepInvalidate,s,!1),i.dataItem.events.on("workingvaluechanged",s.deepInvalidate,s,!1)),s.deepInvalidate()),s.focusable&&(s.events.on("focus",(function(t){s.readerTitle=i.populateString(o,s.dataItem)}),void 0,!1),s.events.on("blur",(function(t){s.readerTitle=""}),void 0,!1)),s.hoverable&&(s.events.on("over",(function(t){s.readerTitle=i.populateString(o,s.dataItem)}),void 0,!1),s.events.on("out",(function(t){s.readerTitle=""}),void 0,!1))}s.parent=i.bulletsContainer,e.bullets.setKey(t.uid,s),s.maxWidth=e.itemWidth,s.maxHeight=e.itemHeight,s.__disabled=!1,i.positionBullet(s)}else s&&(s.__disabled=!0)}))):this.bulletsContainer.visible=!1},e.prototype.handleDataItemWorkingValueChange=function(t,e){this.dataRangeInvalid||this.invalidateProcessedData()},Object.defineProperty(e.prototype,"ignoreMinMax",{get:function(){return this._ignoreMinMax},set:function(t){this._ignoreMinMax=t,this.invalidateDataItems()},enumerable:!0,configurable:!0}),e.prototype.createMask=function(){},e.prototype.processAxisRange=function(t){this.rangesContainer||(this.rangesContainer=this.createChild(Lg),this.rangesContainer.shouldClone=!1,this.rangesContainer.isMeasured=!1);var e=t.newValue;e&&(e.contents.parent=this.rangesContainer,e.isRange=!0,e.events.on("valuechanged",this.invalidateDataItems,this,!1))},e.prototype.getAxisField=function(t){},e.prototype.showTooltipAtPosition=function(t,e){},Object.defineProperty(e.prototype,"minBulletDistance",{get:function(){return this.getPropertyValue("minBulletDistance")},set:function(t){this.setPropertyValue("minBulletDistance",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new _u(new Lm),this._bullets.template.virtualParent=this,this._bullets.events.on("inserted",this.processBullet,this,!1),this._bullets.events.on("removed",this.removeBullet,this,!1),this._disposers.push(new yu(this._bullets)),this._disposers.push(this._bullets.template)),this._bullets},enumerable:!0,configurable:!0}),e.prototype.createLegendMarker=function(t){},Object.defineProperty(e.prototype,"hiddenInLegend",{get:function(){return this.getPropertyValue("hiddenInLegend")},set:function(t){this.setPropertyValue("hiddenInLegend",t)&&this.chart&&this.chart.feedLegend()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(t){this.setPropertyValue("name",t);var e=this.legendDataItem;e&&(e.component.invalidate(),e.component.invalidateRawData()),this.readerTitle=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemReaderText",{get:function(){var t=this._itemReaderText;return t||(this.tooltipText?t=Sp(this.tooltipText):this.tooltipHTML&&(t=Sp(this.tooltipHTML))),this._adapterO?this._adapterO.apply("itemReaderText",t):t},set:function(t){this._itemReaderText=t,this._itemReaderTextChanged=!0},enumerable:!0,configurable:!0}),e.prototype.itemsFocusable=function(){return!(this.dataItems.length>=this.skipFocusThreshold)},Object.defineProperty(e.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(t){this._legendDataItem=t,this._legendDataItem.itemContainer.deepInvalidate()},enumerable:!0,configurable:!0}),e.prototype.updateLegendValue=function(t,e){if(this.legendDataItem){var i=this.legendSettings,s=this.legendDataItem,n=s.label,r=s.valueLabel;t&&!t.isDisposed()||e?(r&&(i.itemValueText&&(r.text=i.itemValueText),r.dataItem=t),n&&(i.itemLabelText&&(n.text=i.itemLabelText),n.dataItem=t)):(n&&((i.labelText||void 0!=i.itemLabelText)&&(n.text=i.labelText),n.dataItem=this.dataItem),r&&((i.valueText||void 0!=i.itemValueText)&&(r.text=i.valueText),r.dataItem=this.dataItem))}},e.prototype.copyFrom=function(e){this.bullets.copyFrom(e.bullets),this.bulletsContainer.copyFrom(e.bulletsContainer),this.calculatePercent=e.calculatePercent,this.usePercentHack=e.usePercentHack,this.simplifiedProcessing=e.simplifiedProcessing,t.prototype.copyFrom.call(this,e)},e.prototype.raiseCriticalError=function(t){this._chart&&this._chart.modal&&(this._chart.modal.content=this._chart.adapter.apply("criticalError",t).message,this._chart.modal.closable=!1,Kc.suppressErrors||this._chart.modal.open(),this._chart.disabled=!0),Kc.verbose&&console.log(t)},e.prototype.applyFilters=function(){var e=this;t.prototype.applyFilters.call(this),this.bulletsContainer.filters.clear(),qh(this.filters.iterator(),(function(t){e.bulletsContainer.filters.push(t.clone())}))},Object.defineProperty(e.prototype,"heatRules",{get:function(){var t=this;return this._heatRules||(this._heatRules=new vu,this._heatRules.events.on("inserted",(function(e){var i=e.newValue,s=i.target;if(s){var n=i.dataField;gl(n)||(n="value");var r=t.dataItem,a=i.property,o=pl(i.minValue),l=pl(i.maxValue);vl(o)||vl(l)||t.dataItem.events.on("calculatedvaluechanged",(function(e){e.property==n&&qh(t.dataItems.iterator(),(function(t){var e=!1;th(t.sprites,(function(t){if(t.clonedFrom==s){var i=t;i[a]=i[a],e=!0}})),e||th(t.sprites,(function(t){t instanceof Lg&&qh(t.children.iterator(),(function(t){if(t.className==s.className){var e=t;e[a]=e[a]}else t instanceof Lg&&t.deepInvalidate()}))}))}))})),t.dataItems.template.events.on("workingvaluechanged",(function(t){if(t.property==n){var e=t.target,i=!1;th(e.sprites,(function(t){if(t.clonedFrom==s){var e=t;e[a]=e[a],i=!0}})),i||th(e.sprites,(function(t){t instanceof Lg&&qh(t.children.iterator(),(function(t){if(t.className==s.className){var e=t;e[a]=e[a]}else t instanceof Lg&&t.deepInvalidate()}))}))}})),s.adapter.add(a,(function(t,e,s){var a=pl(i.minValue),o=pl(i.maxValue),l=i.min,h=i.max;if(e instanceof jg){var u=e,p=u.propertyFields[s];if(p&&e.dataItem){var c=e.dataItem.dataContext;if(c&&gl(c[p]))return t}}var d=e.dataItem;if(vl(a)||(a=r.values[n].low),vl(o)||(o=r.values[n].high),d){var g=d.values[n];if(g){var f=d.getActualWorkingValue(n);if(gl(l)&&gl(h)&&vl(a)&&vl(o)&&vl(f)){var m=void 0;if(m=i.logarithmic?(Math.log(f)*Math.LOG10E-Math.log(a)*Math.LOG10E)/(Math.log(o)*Math.LOG10E-Math.log(a)*Math.LOG10E):(f-a)/(o-a),!vl(f)||vl(m)&&Math.abs(m)!=1/0||(m=.5),vl(l))return l+(h-l)*m;if(l instanceof Xu)return new Xu(Vu(l.rgb,h.rgb,m))}}}return t}))}}))),this._heatRules},enumerable:!0,configurable:!0}),e.prototype.processConfig=function(e){var i;if(e){if(gl(e.bullets)&&xl(e.bullets))for(var s=0,n=e.bullets.length;s<n;s++){var r=e.bullets[s];gl(r.type)||(r.type="Bullet")}gl(e.heatRules)&&xl(e.heatRules)&&(i=e.heatRules,delete e.heatRules)}if(t.prototype.processConfig.call(this,e),i){for(s=0,n=i.length;s<n;s++){var a=i[s],o=this;if(gl(a.target)&&bl(a.target))if(this.map.hasKey(a.target))o=this.map.getKey(a.target);else for(var l=a.target.split("."),h=0;h<l.length;h++)if(o instanceof vu){var u=o.getIndex(pl(l[h]));o=u||o[l[h]]}else{var p=l[h].match(/^(.*)\[([0-9]+)\]/);o=p?o[p[1]]instanceof vu?o[p[1]].getIndex(pl(p[2])):o[p[1]][pl(p[2])]:o[l[h]]}a.target=o,gl(a.min)&&(a.min=this.maybeColorOrPercent(a.min)),gl(a.max)&&(a.max=this.maybeColorOrPercent(a.max))}t.prototype.processConfig.call(this,{heatRules:i})}},e.prototype.configOrder=function(e,i){return e==i?0:"heatRules"==e?1:"heatRules"==i?-1:t.prototype.configOrder.call(this,e,i)},e.prototype.setVisibility=function(e){t.prototype.setVisibility.call(this,e),this.bulletsContainer.visible=e},e}(Kg);gu.registeredClasses.Series=Fm,gu.registeredClasses.SeriesDataItem=Am;var Rm=function(t){function e(){var e=t.call(this)||this;return e.className="SerialChartDataItem",e.applyTheme(),e}return Tt(e,t),e}(jm),Vm=function(t){function e(){var e=t.call(this)||this;e._exitDP={},e.className="SerialChart",e.colors=new em,e._usesData=!1;var i=e.chartContainer.createChild(Lg);i.shouldClone=!1,i.width=rl(100),i.height=rl(100),i.isMeasured=!1,i.layout="none",i.zIndex=2,e.seriesContainer=i;var s=e.chartContainer.createChild(Lg);return s.shouldClone=!1,s.width=rl(100),s.height=rl(100),s.isMeasured=!1,s.zIndex=3,s.layout="none",e.bulletsContainer=s,e.applyTheme(),e}return Tt(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this),this.colors&&this.colors.dispose(),this.patterns&&this.patterns.dispose()},e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),gl(this.readerTitle)||(this.readerTitle=this.language.translate("Serial chart"))},Object.defineProperty(e.prototype,"series",{get:function(){return this._series||(this._series=new _u(this.createSeries()),this._series.events.on("inserted",this.handleSeriesAdded,this,!1),this._series.events.on("removed",this.handleSeriesRemoved,this,!1),this._disposers.push(new yu(this._series,!1)),this._disposers.push(this._series.template)),this._series},enumerable:!0,configurable:!0}),e.prototype.handleSeriesRemoved=function(t){var e=t.oldValue;this.dataUsers.removeValue(e),this.dataUsers.each((function(t){t.invalidateDataItems()})),this._exitDP[e.uid]&&(this._exitDP[e.uid].dispose(),delete this._exitDP[e.uid]),e.autoDispose?e.dispose():(e.parent=void 0,e.bulletsContainer.parent=void 0);var i=this.legend;if(i){for(var s=this.legend.dataItems,n=s.length-1;n>=0;n--){var r=s.getIndex(n);r&&r.dataContext==e&&i.dataItems.remove(r)}for(n=i.data.length-1;n>=0;n--){var a=i.data[n];a&&a==e&&rh(i.data,a)}}},e.prototype.handleSeriesAdded=function(t){var e=this,i=t.newValue;i.isDisposed()||(i.chart=this,i.parent=this.seriesContainer,i.bulletsContainer.parent=this.bulletsContainer,this._dataUsers.moveValue(i),i.addDisposer(new yh((function(){e.dataUsers.removeValue(i)}))),this.handleSeriesAdded2(i),this.handleLegendSeriesAdded(i))},e.prototype.handleLegendSeriesAdded=function(t){t.hiddenInLegend||this.legend&&this.legend.addData(t)},e.prototype.handleSeriesAdded2=function(t){var e=this;this.dataInvalid||(this._exitDP[t.uid]=gu.events.once("exitframe",(function(){t.data&&0!=t.data.length||(t.data=e.data,t.showOnInit&&(t.reinit(),t.setPropertyValue("showOnInit",!1),t.showOnInit=!0),t.isDisposed()||t.events.once("datavalidated",(function(){t.data==e.data&&(t._data=[])})))})),this._disposers.push(this._exitDP[t.uid]))},e.prototype.feedLegend=function(){var t=this.legend;if(t){var e=[];qh(this.series.iterator(),(function(t){t.hiddenInLegend||e.push(t)})),t.dataFields.name="name",t.data=e}},e.prototype.createSeries=function(){return new Fm},Object.defineProperty(e.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(t){this.setPropertyValue("colors",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"patterns",{get:function(){return this.getPropertyValue("patterns")},set:function(t){this.setPropertyValue("patterns",t,!0)},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.series.copyFrom(e.series)},e.prototype.appear=function(){t.prototype.appear.call(this),this.series.each((function(t){t.showOnInit&&t.inited&&t.appear()}))},e}(Em);gu.registeredClasses.SerialChart=Vm;class Bm{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let i=0;for(let s=0;s<this._n&&s<32;s++){const n=e[s],r=t+n,a=Math.abs(t)<Math.abs(n)?t-(r-n):n-(r-t);a&&(e[i++]=a),t=r}return e[i]=t,this._n=i+1,this}valueOf(){const t=this._partials;let e,i,s,n=this._n,r=0;if(n>0){r=t[--n];while(n>0)if(e=r,i=t[--n],r=e+i,s=i-(r-e),s)break;n>0&&(s<0&&t[n-1]<0||s>0&&t[n-1]>0)&&(i=2*s,e=r+i,i==e-r&&(r=e))}return r}}var Nm=1e-6,Hm=1e-12,zm=Math.PI,Wm=zm/2,Ym=zm/4,Gm=2*zm,Xm=180/zm,Um=zm/180,Km=Math.abs,Zm=Math.atan,qm=Math.atan2,$m=Math.cos,Jm=Math.ceil,Qm=Math.exp,ty=(Math.floor,Math.hypot,Math.log),ey=(Math.pow,Math.sin),iy=Math.sign||function(t){return t>0?1:t<0?-1:0},sy=Math.sqrt,ny=Math.tan;function ry(t){return t>1?0:t<-1?zm:Math.acos(t)}function ay(t){return t>1?Wm:t<-1?-Wm:Math.asin(t)}function oy(t){return(t=ey(t/2))*t}function ly(){}function hy(t,e){t&&py.hasOwnProperty(t.type)&&py[t.type](t,e)}var uy={Feature:function(t,e){hy(t.geometry,e)},FeatureCollection:function(t,e){var i=t.features,s=-1,n=i.length;while(++s<n)hy(i[s].geometry,e)}},py={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){var i=t.coordinates,s=-1,n=i.length;while(++s<n)t=i[s],e.point(t[0],t[1],t[2])},LineString:function(t,e){cy(t.coordinates,e,0)},MultiLineString:function(t,e){var i=t.coordinates,s=-1,n=i.length;while(++s<n)cy(i[s],e,0)},Polygon:function(t,e){dy(t.coordinates,e)},MultiPolygon:function(t,e){var i=t.coordinates,s=-1,n=i.length;while(++s<n)dy(i[s],e)},GeometryCollection:function(t,e){var i=t.geometries,s=-1,n=i.length;while(++s<n)hy(i[s],e)}};function cy(t,e,i){var s,n=-1,r=t.length-i;e.lineStart();while(++n<r)s=t[n],e.point(s[0],s[1],s[2]);e.lineEnd()}function dy(t,e){var i=-1,s=t.length;e.polygonStart();while(++i<s)cy(t[i],e,1);e.polygonEnd()}function gy(t,e){t&&uy.hasOwnProperty(t.type)?uy[t.type](t,e):hy(t,e)}var fy,my,yy,by,vy,_y,xy,wy,Py,Oy,ky,Dy,Ty,Sy,Cy,My,Iy=new Bm,jy=new Bm,Ey={point:ly,lineStart:ly,lineEnd:ly,polygonStart:function(){Iy=new Bm,Ey.lineStart=Ly,Ey.lineEnd=Ay},polygonEnd:function(){var t=+Iy;jy.add(t<0?Gm+t:t),this.lineStart=this.lineEnd=this.point=ly},sphere:function(){jy.add(Gm)}};function Ly(){Ey.point=Fy}function Ay(){Ry(fy,my)}function Fy(t,e){Ey.point=Ry,fy=t,my=e,t*=Um,e*=Um,yy=t,by=$m(e=e/2+Ym),vy=ey(e)}function Ry(t,e){t*=Um,e*=Um,e=e/2+Ym;var i=t-yy,s=i>=0?1:-1,n=s*i,r=$m(e),a=ey(e),o=vy*a,l=by*r+o*$m(n),h=o*s*ey(n);Iy.add(qm(h,l)),yy=t,by=r,vy=a}function Vy(t){return jy=new Bm,gy(t,Ey),2*jy}function By(t){return[qm(t[1],t[0]),ay(t[2])]}function Ny(t){var e=t[0],i=t[1],s=$m(i);return[s*$m(e),s*ey(e),ey(i)]}function Hy(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function zy(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Wy(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Yy(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Gy(t){var e=sy(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Xy={point:Uy,lineStart:Zy,lineEnd:qy,polygonStart:function(){Xy.point=$y,Xy.lineStart=Jy,Xy.lineEnd=Qy,Sy=new Bm,Ey.polygonStart()},polygonEnd:function(){Ey.polygonEnd(),Xy.point=Uy,Xy.lineStart=Zy,Xy.lineEnd=qy,Iy<0?(_y=-(wy=180),xy=-(Py=90)):Sy>Nm?Py=90:Sy<-Nm&&(xy=-90),My[0]=_y,My[1]=wy},sphere:function(){_y=-(wy=180),xy=-(Py=90)}};function Uy(t,e){Cy.push(My=[_y=t,wy=t]),e<xy&&(xy=e),e>Py&&(Py=e)}function Ky(t,e){var i=Ny([t*Um,e*Um]);if(Ty){var s=zy(Ty,i),n=[s[1],-s[0],0],r=zy(n,s);Gy(r),r=By(r);var a,o=t-Oy,l=o>0?1:-1,h=r[0]*Xm*l,u=Km(o)>180;u^(l*Oy<h&&h<l*t)?(a=r[1]*Xm,a>Py&&(Py=a)):(h=(h+360)%360-180,u^(l*Oy<h&&h<l*t)?(a=-r[1]*Xm,a<xy&&(xy=a)):(e<xy&&(xy=e),e>Py&&(Py=e))),u?t<Oy?tb(_y,t)>tb(_y,wy)&&(wy=t):tb(t,wy)>tb(_y,wy)&&(_y=t):wy>=_y?(t<_y&&(_y=t),t>wy&&(wy=t)):t>Oy?tb(_y,t)>tb(_y,wy)&&(wy=t):tb(t,wy)>tb(_y,wy)&&(_y=t)}else Cy.push(My=[_y=t,wy=t]);e<xy&&(xy=e),e>Py&&(Py=e),Ty=i,Oy=t}function Zy(){Xy.point=Ky}function qy(){My[0]=_y,My[1]=wy,Xy.point=Uy,Ty=null}function $y(t,e){if(Ty){var i=t-Oy;Sy.add(Km(i)>180?i+(i>0?360:-360):i)}else ky=t,Dy=e;Ey.point(t,e),Ky(t,e)}function Jy(){Ey.lineStart()}function Qy(){$y(ky,Dy),Ey.lineEnd(),Km(Sy)>Nm&&(_y=-(wy=180)),My[0]=_y,My[1]=wy,Ty=null}function tb(t,e){return(e-=t)<0?e+360:e}function eb(t,e){return t[0]-e[0]}function ib(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function sb(t){var e,i,s,n,r,a,o;if(Py=wy=-(_y=xy=1/0),Cy=[],gy(t,Xy),i=Cy.length){for(Cy.sort(eb),e=1,s=Cy[0],r=[s];e<i;++e)n=Cy[e],ib(s,n[0])||ib(s,n[1])?(tb(s[0],n[1])>tb(s[0],s[1])&&(s[1]=n[1]),tb(n[0],s[1])>tb(s[0],s[1])&&(s[0]=n[0])):r.push(s=n);for(a=-1/0,i=r.length-1,e=0,s=r[i];e<=i;s=n,++e)n=r[e],(o=tb(s[1],n[0]))>a&&(a=o,_y=n[0],wy=s[1])}return Cy=My=null,_y===1/0||xy===1/0?[[NaN,NaN],[NaN,NaN]]:[[_y,xy],[wy,Py]]}var nb=function(t){function e(){var e=t.call(this)||this;return e.className="MapSeriesDataItem",e.values.value={},e.applyTheme(),e}return Tt(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.values.value.value},set:function(t){this.setValue("value",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zoomLevel",{get:function(){return this.properties["zoomLevel"]},set:function(t){this.setProperty("zoomLevel",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zoomGeoPoint",{get:function(){return this.properties["zoomGeoPoint"]},set:function(t){this.setProperty("zoomGeoPoint",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"east",{get:function(){return this._east},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"west",{get:function(){return this._west},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"south",{get:function(){return this._south},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"north",{get:function(){return this._north},enumerable:!0,configurable:!0}),e.prototype.updateExtremes=function(){var t=this.getFeature().geometry;if(t){var e=sb(t),i=e[0][0],s=e[0][1],n=e[1][1],r=e[1][0],a=!1;n!=this.north&&(this._north=Tl(n,6),a=!0),s!=this.south&&(this._south=Tl(s,6),a=!0),r!=this.east&&(this._east=Tl(r,6),a=!0),i!=this.west&&(this._west=Tl(i,6),a=!0),this._east<this._west&&(this._east=180,this._west=-180),a&&this.component.invalidateDataItems()}},e.prototype.getFeature=function(){return{}},e}(Am),rb=function(t){function e(){var e=t.call(this)||this;return e.className="MapSeries",e.isMeasured=!1,e.nonScalingStroke=!0,e.dataFields.value="value",e.ignoreBounds=!1,e.tooltip&&(e.tooltip.showInViewport=!0),e.applyTheme(),e}return Tt(e,t),e.prototype.createDataItem=function(){return new nb},e.prototype.checkInclude=function(t,e,i){if(t){if(0==t.length)return!1;if(-1==t.indexOf(i))return!1}return!(e&&e.length>0&&-1!=e.indexOf(i))},Object.defineProperty(e.prototype,"useGeodata",{get:function(){return this.getPropertyValue("useGeodata")},set:function(t){this.setPropertyValue("useGeodata",t)&&this.invalidateData()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"include",{get:function(){return this.getPropertyValue("include")},set:function(t){this.setPropertyValue("include",t)&&this.processIncExc()},enumerable:!0,configurable:!0}),e.prototype.processIncExc=function(){this.invalidateData()},Object.defineProperty(e.prototype,"ignoreBounds",{get:function(){return this.getPropertyValue("ignoreBounds")},set:function(t){this.setPropertyValue("ignoreBounds",t)&&this.chart&&this.chart.updateExtremes()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exclude",{get:function(){return this.getPropertyValue("exclude")},set:function(t){this.setPropertyValue("exclude",t)&&this.processIncExc()},enumerable:!0,configurable:!0}),e.prototype.handleObjectAdded=function(t){var e=t.newValue;e.parent=this,e.series=this,e.strokeWidth=e.strokeWidth},Object.defineProperty(e.prototype,"geodata",{get:function(){return this._geodata},set:function(t){if(t!=this._geodata){this._geodata=t,this.reverseGeodata&&this.chart.processReverseGeodata(this._geodata);for(var e=this.data.length-1;e>=0;e--)1==this.data[e].madeFromGeoData&&this.data.splice(e,1);this.disposeData(),this.invalidateData()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reverseGeodata",{get:function(){return this.getPropertyValue("reverseGeodata")},set:function(t){this.setPropertyValue("reverseGeodata",t)&&this._geodata&&this.chart.processReverseGeodata(this._geodata)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"geodataSource",{get:function(){return this._dataSources["geodata"]||this.getDataSource("geodata"),this._dataSources["geodata"]},set:function(t){var e=this;this._dataSources["geodata"]&&this.removeDispose(this._dataSources["geodata"]),this._dataSources["geodata"]=t,this._dataSources["geodata"].component=this,this.events.on("inited",(function(){e.loadData("geodata")}),void 0,!1),this.setDataSourceEvents(t,"geodata")},enumerable:!0,configurable:!0}),e.prototype.getFeatures=function(){},e.prototype.validateDataItems=function(){t.prototype.validateDataItems.call(this),this.updateExtremes()},e.prototype.updateExtremes=function(){var t,e,i,s;this.dataItems.each((function(n){(n.north>t||!vl(t))&&(t=n.north),(n.south<e||!vl(e))&&(e=n.south),(n.west<s||!vl(s))&&(s=n.west),(n.east>i||!vl(i))&&(i=n.east)})),this._mapObjects&&this._mapObjects.each((function(n){(n.north>t||!vl(t))&&(t=n.north),(n.south<e||!vl(e))&&(e=n.south),(n.west<s||!vl(s))&&(s=n.west),(n.east>i||!vl(i))&&(i=n.east)})),this.north==t&&this.east==i&&this.south==e&&this.west==s||(this._north=t,this._east=i,this._west=s,this._south=e,this.dispatch("geoBoundsChanged"),this.ignoreBounds||this.chart.updateExtremes())},Object.defineProperty(e.prototype,"north",{get:function(){return vl(this._northDefined)?this._northDefined:this._north},set:function(t){this._northDefined=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"south",{get:function(){return vl(this._southDefined)?this._southDefined:this._south},set:function(t){this._southDefined=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"west",{get:function(){return vl(this._westDefined)?this._westDefined:this._west},set:function(t){this._westDefined=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"east",{get:function(){return vl(this._eastDefined)?this._eastDefined:this._east},set:function(t){this._eastDefined=t},enumerable:!0,configurable:!0}),e.prototype.processConfig=function(e){if(gl(e["geodata"])&&bl(e["geodata"])){var i=e["geodata"];if(gl(window["am4geodata_"+e["geodata"]]))e["geodata"]=window["am4geodata_"+e["geodata"]];else try{e["geodata"]=JSON.parse(e["geodata"])}catch(s){throw Error("MapChart error: Geodata `"+i+"` is not loaded or is incorrect.")}}t.prototype.processConfig.call(this,e)},e.prototype.asIs=function(e){return"geodata"==e||t.prototype.asIs.call(this,e)},e.prototype.updateTooltipBounds=function(){this.tooltip&&this.topParent&&this.tooltip.setBounds({x:10,y:10,width:this.topParent.maxWidth-20,height:this.topParent.maxHeight-20})},e}(Fm);gu.registeredClasses.MapSeries=rb,gu.registeredClasses.MapSeriesDataItem=nb;var ab=function(t){function e(){var e=t.call(this)||this;return e.className="MapObject",e.isMeasured=!1,e.layout="none",e.clickable=!0,e.applyTheme(),e}return Tt(e,t),e.prototype.validate=function(){this.series&&this.series.itemReaderText&&(this.readerTitle=this.series.itemReaderText),t.prototype.validate.call(this)},e.prototype.updateExtremes=function(){var t=this.getFeature();if(t){var e=t.geometry;if(e){var i=sb(e),s=i[0][0],n=i[0][1],r=i[1][1],a=i[1][0],o=!1;r!=this.north&&(this._north=Tl(r,8),o=!0),n!=this.south&&(this._south=Tl(n),o=!0),a!=this.east&&(this._east=Tl(a),o=!0),s!=this.west&&(this._west=Tl(s),o=!0),o&&(this.dispatch("geoBoundsChanged"),this.series&&this.series.invalidateDataItems())}}},e.prototype.getFeature=function(){return{}},Object.defineProperty(e.prototype,"east",{get:function(){return vl(this._east)?this._east:this.dataItem?this.dataItem.east:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"west",{get:function(){return vl(this._west)?this._west:this.dataItem?this.dataItem.west:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"south",{get:function(){return vl(this._south)?this._south:this.dataItem?this.dataItem.south:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"north",{get:function(){return vl(this._north)?this._north:this.dataItem?this.dataItem.north:void 0},enumerable:!0,configurable:!0}),e.prototype.showTooltip=function(e){var i=t.prototype.showTooltip.call(this,e);return i&&"always"==this.showTooltipOn&&!this.series.chart.events.has("mappositionchanged",this.handleTooltipMove,this)&&this.addDisposer(this.series.chart.events.on("mappositionchanged",this.handleTooltipMove,this)),i},e.prototype.handleTooltipMove=function(t){this.tooltip.isHidden||this.showTooltip()},e.prototype.setDataItem=function(e){t.prototype.setDataItem.call(this,e),this.applyAccessibility()},e}(Lg);gu.registeredClasses.MapObject=ab;var ob=function(t){function e(){var e=t.call(this)||this;return e.className="MapImage",e.applyTheme(),e}return Tt(e,t),Object.defineProperty(e.prototype,"latitude",{get:function(){var t=this.getPropertyValue("latitude");return!vl(t)&&this.dataItem&&this.dataItem.geoPoint&&(t=this.dataItem.geoPoint.latitude),t},set:function(t){this.setPropertyValue("latitude",t,!1,!0),this.updateExtremes()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){var t=this.getPropertyValue("longitude");return!vl(t)&&this.dataItem&&this.dataItem.geoPoint&&(t=this.dataItem.geoPoint.longitude),t},set:function(t){this.setPropertyValue("longitude",t,!1,!0),this.updateExtremes()},enumerable:!0,configurable:!0}),e.prototype.validatePosition=function(){if(vl(this.latitude)&&vl(this.longitude)){var e=this.series.chart.projection.d3Projection([this.longitude,this.latitude]),i=this.series.chart.projection.d3Path({type:"Point",coordinates:[this.longitude,this.latitude]});this.__disabled=!i,this.moveTo({x:e[0],y:e[1]})}t.prototype.validatePosition.call(this)},e.prototype.getFeature=function(){return{type:"Feature",geometry:{type:"Point",coordinates:[this.longitude,this.latitude]}}},e}(ab);gu.registeredClasses.MapImage=ob;var lb=i(2439),hb=i.n(lb);function ub(t){return Ql(t,(function(t){return pb(t)}))}function pb(t){return Ql(t,(function(t){return db(t)}))}function cb(t){return Ql(t,gb)}function db(t){return{longitude:t[0],latitude:t[1]}}function gb(t){return[t.longitude,t.latitude]}function fb(t){return Ql(t,(function(t){return Ql(t,gb)}))}function mb(t){return Ql(t,(function(t){var e=t[0],i=t[1],s=[];return e&&s.push(cb(e)),i&&s.push(cb(i)),s}))}function yb(t,e,i,s){var n=[];-180==s&&(s=-179.9999),-90==i&&(i=-89.9999),90==t&&(t=89.9999),180==e&&(e=179.9999);for(var r=Math.min(90,(e-s)/Math.ceil((e-s)/90)),a=(t-i)/Math.ceil((t-i)/90),o=s;o<e;o+=r){var l=[];n.push([l]),o+r>e&&(r=e-o);for(var h=o;h<=o+r;h+=5)l.push([h,t]);for(var u=t;u>=i;u-=a)l.push([o+r,u]);for(h=o+r;h>=o;h-=5)l.push([h,i]);for(u=i;u<=t;u+=a)l.push([o,u])}return n}var bb=function(t){function e(){var e=t.call(this)||this;e.className="MapPolygon",e.polygon=e.createChild(yf),e.polygon.shouldClone=!1,e.polygon.applyOnClones=!0,e.setPropertyValue("precision",.5);var i=new Td;return e.fill=i.getFor("secondaryButton"),e.stroke=i.getFor("secondaryButtonStroke"),e.strokeOpacity=1,e.tooltipPosition="pointer",e.nonScalingStroke=!0,e.applyTheme(),e}return Tt(e,t),e.prototype.getFeature=function(){if(this.multiPolygon&&this.multiPolygon.length>0)return{type:"Feature",geometry:{type:"MultiPolygon",coordinates:this.multiPolygon}}},Object.defineProperty(e.prototype,"multiGeoPolygon",{get:function(){var t=this.getPropertyValue("multiGeoPolygon");return!t&&this.dataItem&&(t=this.dataItem.multiGeoPolygon),t},set:function(t){this.setPropertyValue("multiGeoPolygon",t,!0),this.multiPolygon=mb(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiPolygon",{get:function(){var t=this.getPropertyValue("multiPolygon");return!t&&this.dataItem&&(t=this.dataItem.multiPolygon),t},set:function(t){this.setPropertyValue("multiPolygon",t)&&(this.updateExtremes(),this.invalidate())},enumerable:!0,configurable:!0}),e.prototype.validate=function(){if(this.series){var e=this.series.chart.projection,i=e.d3Path;if(this.multiPolygon){if(this.series){var s={type:"MultiPolygon",coordinates:this.multiPolygon};e.d3Projection.precision(this.precision),this.polygon.path=i(s)}if(this.series.calculateVisualCenter){var n=0,r=this.multiPolygon[0];if(this.multiPolygon.length>1)for(var a=0;a<this.multiPolygon.length;a++){var o=this.multiPolygon[a],l=Vy({type:"Polygon",coordinates:o});l>n&&(r=o,n=l)}var h=hb()(r);this._visualLongitude=h[0],this._visualLatitude=h[1]}else this._visualLongitude=this.longitude,this._visualLatitude=this.latitude}}t.prototype.validate.call(this)},e.prototype.measureElement=function(){},Object.defineProperty(e.prototype,"latitude",{get:function(){return this.north+(this.south-this.north)/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this.east+(this.west-this.east)/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visualLatitude",{get:function(){var t=this.getPropertyValue("visualLatitude");return vl(t)?t:this._adapterO?this._adapterO.apply("visualLatitude",this._visualLatitude):this._visualLatitude},set:function(t){this.setPropertyValue("visualLatitude",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visualLongitude",{get:function(){var t=this.getPropertyValue("visualLongitude");return vl(t)?t:this._adapterO?this._adapterO.apply("visualLongitude",this._visualLongitude):this._visualLongitude},set:function(t){this.setPropertyValue("visualLongitude",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelWidth",{get:function(){return this.polygon.pixelWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelHeight",{get:function(){return this.polygon.pixelHeight},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.polygon.copyFrom(e.polygon)},e.prototype.updateExtremes=function(){t.prototype.updateExtremes.call(this)},Object.defineProperty(e.prototype,"boxArea",{get:function(){return(this.north-this.south)*(this.east-this.west)},enumerable:!0,configurable:!0}),e.prototype.getTooltipX=function(){return this.series.chart.projection.convert({longitude:this.visualLongitude,latitude:this.visualLatitude}).x},e.prototype.getTooltipY=function(){return this.series.chart.projection.convert({longitude:this.visualLongitude,latitude:this.visualLatitude}).y},Object.defineProperty(e.prototype,"precision",{get:function(){return this.getPropertyValue("precision")},set:function(t){this.setPropertyValue("precision",t,!0)},enumerable:!0,configurable:!0}),e}(ab);gu.registeredClasses.MapPolygon=bb;var vb=function(t){function e(){var e=t.call(this)||this;return e.className="MapPolygonSeriesDataItem",e.applyTheme(),e}return Tt(e,t),e.prototype.getFeature=function(){if(this.multiPolygon&&this.multiPolygon.length>0)return{type:"Feature",geometry:{type:"MultiPolygon",coordinates:this.multiPolygon}}},Object.defineProperty(e.prototype,"mapPolygon",{get:function(){var t=this;if(!this._mapPolygon){var e=this.component.mapPolygons.create();this._mapPolygon=e,this.addSprite(e),this._disposers.push(new yh((function(){t.component&&t.component.mapPolygons.removeValue(e)}))),this.mapObject=e}return this._mapPolygon},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"polygon",{get:function(){return this._polygon},set:function(t){this._polygon=t,this.multiPolygon=[t]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiPolygon",{get:function(){return this._multiPolygon},set:function(t){this._multiPolygon=t,this.updateExtremes()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"geoPolygon",{get:function(){return this._geoPolygon},set:function(t){this._geoPolygon=t,this.multiGeoPolygon=[t]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiGeoPolygon",{get:function(){return this._multiGeoPolygon},set:function(t){this._multiGeoPolygon=t,this.multiPolygon=mb(t)},enumerable:!0,configurable:!0}),e}(nb),_b=function(t){function e(){var e=t.call(this)||this;return e.calculateVisualCenter=!1,e.className="MapPolygonSeries",e.dataFields.multiPolygon="multiPolygon",e.dataFields.polygon="polygon",e.dataFields.geoPolygon="geoPolygon",e.dataFields.multiGeoPolygon="multiGeoPolygon",e.setPropertyValue("sortPolygonsBy","area"),e.setPropertyValue("sortPolygonsReversed",!1),e.applyTheme(),e}return Tt(e,t),e.prototype.createDataItem=function(){return new vb},e.prototype.processIncExc=function(){this.mapPolygons.clear(),t.prototype.processIncExc.call(this)},e.prototype.validateData=function(){if(this.useGeodata||this.geodata){var e=this._dataSources["geodata"]?void 0:this.chart.geodata;if(this.geodata&&(e=this.geodata),e){var i=void 0;if("FeatureCollection"==e.type?i=e.features:"Feature"==e.type?i=[e]:-1!=["Point","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon"].indexOf(e.type)?i=[{geometry:e}]:console.log("nothing found in geoJSON"),i)for(var s=function(t,e){var s=i[t],r=s.geometry;if(r){var a=r.type,o=s.id;if(n.chart.geodataNames&&n.chart.geodataNames[o]&&(s.properties.name=n.chart.geodataNames[o]),"Polygon"==a||"MultiPolygon"==a){if(!n.checkInclude(n.include,n.exclude,o))return"continue";var l=r.coordinates;l&&"Polygon"==a&&(l=[l]);var h=fh(n.data,(function(t,e){return t.id==o}));h?h.multiPolygon||(h.multiPolygon=l):(h={multiPolygon:l,id:o,madeFromGeoData:!0},n.data.push(h)),pp(s.properties,h)}}},n=this,r=0,a=i.length;r<a;r++)s(r,a)}}t.prototype.validateData.call(this)},e.prototype.validate=function(){if(t.prototype.validate.call(this),this.dataItems.each((function(t){op(t.mapPolygon)})),"none"!=this.sortPolygonsBy){var e=this.sortPolygonsBy,i=this.sortPolygonsReversed;this.mapPolygons.sort((function(t,s){var n="",r="",a=-1,o=1;switch(e){case"area":n=t.boxArea,r=s.boxArea,a=-1,o=1;break;case"name":n=t.dataItem.dataContext.name||"",r=s.dataItem.dataContext.name||"",a=1,o=-1;break;case"id":n=t.dataItem.dataContext.id||"",r=s.dataItem.dataContext.id||"",a=1,o=-1;break;case"latitude":n=i?t.south:t.north,r=i?s.south:s.north,a=-1,o=1;break;case"longitude":n=i?t.east:t.west,r=i?s.east:s.west,a=1,o=-1;break}return n<r?i?o:a:n>r?i?a:o:0})),this.mapPolygons.each((function(t,e){t.validate(),t.zIndex||t.propertyFields.zIndex||(t.zIndex=1e6-e)}))}},Object.defineProperty(e.prototype,"mapPolygons",{get:function(){if(!this._mapPolygons){var t=new bb,e=new _u(t);this._disposers.push(new yu(e)),this._disposers.push(e.template),e.template.focusable=!0,e.events.on("inserted",this.handleObjectAdded,this,!1),this._mapPolygons=e,this._mapObjects=e}return this._mapPolygons},enumerable:!0,configurable:!0}),e.prototype.getPolygonById=function(t){return iu(this.mapPolygons.iterator(),(function(e){var i=e.dataItem.dataContext;return i.id==t}))},e.prototype.copyFrom=function(e){this.mapPolygons.template.copyFrom(e.mapPolygons.template),t.prototype.copyFrom.call(this,e)},e.prototype.getFeatures=function(){var t=this,e=[];return this.dataItems.each((function(t){var i=t.getFeature();i&&e.push(i)})),this.mapPolygons.each((function(i){if(-1==t.dataItems.indexOf(i._dataItem)){var s=i.getFeature();s&&e.push(s)}})),e},Object.defineProperty(e.prototype,"sortPolygonsBy",{get:function(){return this.getPropertyValue("sortPolygonsBy")},set:function(t){this.setPropertyValue("sortPolygonsBy",t)&&this.invalidateData()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortPolygonsReversed",{get:function(){return this.getPropertyValue("sortPolygonsReversed")},set:function(t){this.setPropertyValue("sortPolygonsReversed",t)&&this.invalidateData()},enumerable:!0,configurable:!0}),e}(rb);function xb(){var t,e=[];return{point:function(e,i,s){t.push([e,i,s])},lineStart:function(){e.push(t=[])},lineEnd:ly,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var i=e;return e=[],t=null,i}}}function wb(t,e){return Km(t[0]-e[0])<Nm&&Km(t[1]-e[1])<Nm}function Pb(t,e,i,s){this.x=t,this.z=e,this.o=i,this.e=s,this.v=!1,this.n=this.p=null}function Ob(t,e,i,s,n){var r,a,o=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,i,s=t[0],a=t[e];if(wb(s,a)){if(!s[2]&&!a[2]){for(n.lineStart(),r=0;r<e;++r)n.point((s=t[r])[0],s[1]);return void n.lineEnd()}a[0]+=2*Nm}o.push(i=new Pb(s,t,null,!0)),l.push(i.o=new Pb(s,null,i,!1)),o.push(i=new Pb(a,t,null,!1)),l.push(i.o=new Pb(a,null,i,!0))}})),o.length){for(l.sort(e),kb(o),kb(l),r=0,a=l.length;r<a;++r)l[r].e=i=!i;var h,u,p=o[0];while(1){var c=p,d=!0;while(c.v)if((c=c.n)===p)return;h=c.z,n.lineStart();do{if(c.v=c.o.v=!0,c.e){if(d)for(r=0,a=h.length;r<a;++r)n.point((u=h[r])[0],u[1]);else s(c.x,c.n.x,1,n);c=c.n}else{if(d)for(h=c.p.z,r=h.length-1;r>=0;--r)n.point((u=h[r])[0],u[1]);else s(c.x,c.p.x,-1,n);c=c.p}c=c.o,h=c.z,d=!d}while(!c.v);n.lineEnd()}}}function kb(t){if(e=t.length){var e,i,s=0,n=t[0];while(++s<e)n.n=i=t[s],i.p=n,n=i;n.n=i=t[0],i.p=n}}function Db(t){return Km(t[0])<=zm?t[0]:iy(t[0])*((Km(t[0])+zm)%Gm-zm)}function Tb(t,e){var i=Db(e),s=e[1],n=ey(s),r=[ey(i),-$m(i),0],a=0,o=0,l=new Bm;1===n?s=Wm+Nm:-1===n&&(s=-Wm-Nm);for(var h=0,u=t.length;h<u;++h)if(c=(p=t[h]).length)for(var p,c,d=p[c-1],g=Db(d),f=d[1]/2+Ym,m=ey(f),y=$m(f),b=0;b<c;++b,g=_,m=w,y=P,d=v){var v=p[b],_=Db(v),x=v[1]/2+Ym,w=ey(x),P=$m(x),O=_-g,k=O>=0?1:-1,D=k*O,T=D>zm,S=m*w;if(l.add(qm(S*k*ey(D),y*P+S*$m(D))),a+=T?O+k*Gm:O,T^g>=i^_>=i){var C=zy(Ny(d),Ny(v));Gy(C);var M=zy(r,C);Gy(M);var I=(T^O>=0?-1:1)*ay(M[2]);(s>I||s===I&&(C[0]||C[1]))&&(o+=T^O>=0?1:-1)}}return(a<-Nm||a<Nm&&l<-Hm)^1&o}function*Sb(t){for(const e of t)yield*e}function Cb(t){return Array.from(Sb(t))}function Mb(t,e,i,s){return function(n){var r,a,o,l=e(n),h=xb(),u=e(h),p=!1,c={point:d,lineStart:f,lineEnd:m,polygonStart:function(){c.point=y,c.lineStart=b,c.lineEnd=v,a=[],r=[]},polygonEnd:function(){c.point=d,c.lineStart=f,c.lineEnd=m,a=Cb(a);var t=Tb(r,s);a.length?(p||(n.polygonStart(),p=!0),Ob(a,jb,t,i,n)):t&&(p||(n.polygonStart(),p=!0),n.lineStart(),i(null,null,1,n),n.lineEnd()),p&&(n.polygonEnd(),p=!1),a=r=null},sphere:function(){n.polygonStart(),n.lineStart(),i(null,null,1,n),n.lineEnd(),n.polygonEnd()}};function d(e,i){t(e,i)&&n.point(e,i)}function g(t,e){l.point(t,e)}function f(){c.point=g,l.lineStart()}function m(){c.point=d,l.lineEnd()}function y(t,e){o.push([t,e]),u.point(t,e)}function b(){u.lineStart(),o=[]}function v(){y(o[0][0],o[0][1]),u.lineEnd();var t,e,i,s,l=u.clean(),c=h.result(),d=c.length;if(o.pop(),r.push(o),o=null,d)if(1&l){if(i=c[0],(e=i.length-1)>0){for(p||(n.polygonStart(),p=!0),n.lineStart(),t=0;t<e;++t)n.point((s=i[t])[0],s[1]);n.lineEnd()}}else d>1&&2&l&&c.push(c.pop().concat(c.shift())),a.push(c.filter(Ib))}return c}}function Ib(t){return t.length>1}function jb(t,e){return((t=t.x)[0]<0?t[1]-Wm-Nm:Wm-t[1])-((e=e.x)[0]<0?e[1]-Wm-Nm:Wm-e[1])}gu.registeredClasses.MapPolygonSeries=_b,gu.registeredClasses.MapPolygonSeriesDataItem=vb;var Eb=Mb((function(){return!0}),Lb,Fb,[-zm,-Wm]);function Lb(t){var e,i=NaN,s=NaN,n=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(r,a){var o=r>0?zm:-zm,l=Km(r-i);Km(l-zm)<Nm?(t.point(i,s=(s+a)/2>0?Wm:-Wm),t.point(n,s),t.lineEnd(),t.lineStart(),t.point(o,s),t.point(r,s),e=0):n!==o&&l>=zm&&(Km(i-n)<Nm&&(i-=n*Nm),Km(r-o)<Nm&&(r-=o*Nm),s=Ab(i,s,r,a),t.point(n,s),t.lineEnd(),t.lineStart(),t.point(o,s),e=0),t.point(i=r,s=a),n=o},lineEnd:function(){t.lineEnd(),i=s=NaN},clean:function(){return 2-e}}}function Ab(t,e,i,s){var n,r,a=ey(t-i);return Km(a)>Nm?Zm((ey(e)*(r=$m(s))*ey(i)-ey(s)*(n=$m(e))*ey(t))/(n*r*a)):(e+s)/2}function Fb(t,e,i,s){var n;if(null==t)n=i*Wm,s.point(-zm,n),s.point(0,n),s.point(zm,n),s.point(zm,0),s.point(zm,-n),s.point(0,-n),s.point(-zm,-n),s.point(-zm,0),s.point(-zm,n);else if(Km(t[0]-e[0])>Nm){var r=t[0]<e[0]?zm:-zm;n=i*r/2,s.point(-r,n),s.point(0,n),s.point(r,n)}else s.point(e[0],e[1])}function Rb(t,e,i,s,n,r){if(i){var a=$m(e),o=ey(e),l=s*i;null==n?(n=e+s*Gm,r=e-l/2):(n=Vb(a,n),r=Vb(a,r),(s>0?n<r:n>r)&&(n+=s*Gm));for(var h,u=n;s>0?u>r:u<r;u-=l)h=By([a,-o*$m(u),-o*ey(u)]),t.point(h[0],h[1])}}function Vb(t,e){e=Ny(e),e[0]-=t,Gy(e);var i=ry(-e[1]);return((-e[2]<0?-i:i)+Gm-Nm)%Gm}function Bb(t){var e=$m(t),i=6*Um,s=e>0,n=Km(e)>Nm;function r(e,s,n,r){Rb(r,t,i,n,e,s)}function a(t,i){return $m(t)*$m(i)>e}function o(t){var e,i,r,o,u;return{lineStart:function(){o=r=!1,u=1},point:function(p,c){var d,g=[p,c],f=a(p,c),m=s?f?0:h(p,c):f?h(p+(p<0?zm:-zm),c):0;if(!e&&(o=r=f)&&t.lineStart(),f!==r&&(d=l(e,g),(!d||wb(e,d)||wb(g,d))&&(g[2]=1)),f!==r)u=0,f?(t.lineStart(),d=l(g,e),t.point(d[0],d[1])):(d=l(e,g),t.point(d[0],d[1],2),t.lineEnd()),e=d;else if(n&&e&&s^f){var y;m&i||!(y=l(g,e,!0))||(u=0,s?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!f||e&&wb(e,g)||t.point(g[0],g[1]),e=g,r=f,i=m},lineEnd:function(){r&&t.lineEnd(),e=null},clean:function(){return u|(o&&r)<<1}}}function l(t,i,s){var n=Ny(t),r=Ny(i),a=[1,0,0],o=zy(n,r),l=Hy(o,o),h=o[0],u=l-h*h;if(!u)return!s&&t;var p=e*l/u,c=-e*h/u,d=zy(a,o),g=Yy(a,p),f=Yy(o,c);Wy(g,f);var m=d,y=Hy(g,m),b=Hy(m,m),v=y*y-b*(Hy(g,g)-1);if(!(v<0)){var _=sy(v),x=Yy(m,(-y-_)/b);if(Wy(x,g),x=By(x),!s)return x;var w,P=t[0],O=i[0],k=t[1],D=i[1];O<P&&(w=P,P=O,O=w);var T=O-P,S=Km(T-zm)<Nm,C=S||T<Nm;if(!S&&D<k&&(w=k,k=D,D=w),C?S?k+D>0^x[1]<(Km(x[0]-P)<Nm?k:D):k<=x[1]&&x[1]<=D:T>zm^(P<=x[0]&&x[0]<=O)){var M=Yy(m,(-y+_)/b);return Wy(M,g),[x,By(M)]}}}function h(e,i){var n=s?t:zm-t,r=0;return e<-n?r|=1:e>n&&(r|=2),i<-n?r|=4:i>n&&(r|=8),r}return Mb(a,o,r,s?[0,-t]:[-zm,t-zm])}function Nb(t,e,i,s,n,r){var a,o=t[0],l=t[1],h=e[0],u=e[1],p=0,c=1,d=h-o,g=u-l;if(a=i-o,d||!(a>0)){if(a/=d,d<0){if(a<p)return;a<c&&(c=a)}else if(d>0){if(a>c)return;a>p&&(p=a)}if(a=n-o,d||!(a<0)){if(a/=d,d<0){if(a>c)return;a>p&&(p=a)}else if(d>0){if(a<p)return;a<c&&(c=a)}if(a=s-l,g||!(a>0)){if(a/=g,g<0){if(a<p)return;a<c&&(c=a)}else if(g>0){if(a>c)return;a>p&&(p=a)}if(a=r-l,g||!(a<0)){if(a/=g,g<0){if(a>c)return;a>p&&(p=a)}else if(g>0){if(a<p)return;a<c&&(c=a)}return p>0&&(t[0]=o+p*d,t[1]=l+p*g),c<1&&(e[0]=o+c*d,e[1]=l+c*g),!0}}}}}var Hb=1e9,zb=-Hb;function Wb(t,e,i,s){function n(n,r){return t<=n&&n<=i&&e<=r&&r<=s}function r(n,r,o,h){var u=0,p=0;if(null==n||(u=a(n,o))!==(p=a(r,o))||l(n,r)<0^o>0)do{h.point(0===u||3===u?t:i,u>1?s:e)}while((u=(u+o+4)%4)!==p);else h.point(r[0],r[1])}function a(s,n){return Km(s[0]-t)<Nm?n>0?0:3:Km(s[0]-i)<Nm?n>0?2:1:Km(s[1]-e)<Nm?n>0?1:0:n>0?3:2}function o(t,e){return l(t.x,e.x)}function l(t,e){var i=a(t,1),s=a(e,1);return i!==s?i-s:0===i?e[1]-t[1]:1===i?t[0]-e[0]:2===i?t[1]-e[1]:e[0]-t[0]}return function(a){var l,h,u,p,c,d,g,f,m,y,b,v=a,_=xb(),x={point:w,lineStart:D,lineEnd:T,polygonStart:O,polygonEnd:k};function w(t,e){n(t,e)&&v.point(t,e)}function P(){for(var e=0,i=0,n=h.length;i<n;++i)for(var r,a,o=h[i],l=1,u=o.length,p=o[0],c=p[0],d=p[1];l<u;++l)r=c,a=d,p=o[l],c=p[0],d=p[1],a<=s?d>s&&(c-r)*(s-a)>(d-a)*(t-r)&&++e:d<=s&&(c-r)*(s-a)<(d-a)*(t-r)&&--e;return e}function O(){v=_,l=[],h=[],b=!0}function k(){var t=P(),e=b&&t,i=(l=Cb(l)).length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),r(null,null,1,a),a.lineEnd()),i&&Ob(l,o,t,r,a),a.polygonEnd()),v=a,l=h=u=null}function D(){x.point=S,h&&h.push(u=[]),y=!0,m=!1,g=f=NaN}function T(){l&&(S(p,c),d&&m&&_.rejoin(),l.push(_.result())),x.point=w,m&&v.lineEnd()}function S(r,a){var o=n(r,a);if(h&&u.push([r,a]),y)p=r,c=a,d=o,y=!1,o&&(v.lineStart(),v.point(r,a));else if(o&&m)v.point(r,a);else{var l=[g=Math.max(zb,Math.min(Hb,g)),f=Math.max(zb,Math.min(Hb,f))],_=[r=Math.max(zb,Math.min(Hb,r)),a=Math.max(zb,Math.min(Hb,a))];Nb(l,_,t,e,i,s)?(m||(v.lineStart(),v.point(l[0],l[1])),v.point(_[0],_[1]),o||v.lineEnd(),b=!1):o&&(v.lineStart(),v.point(r,a),b=!1)}g=r,f=a,m=o}return x}}function Yb(t,e){function i(i,s){return i=t(i,s),e(i[0],i[1])}return t.invert&&e.invert&&(i.invert=function(i,s){return i=e.invert(i,s),i&&t.invert(i[0],i[1])}),i}var Gb=t=>t;function Xb(t,e){return Km(t)>zm&&(t-=Math.round(t/Gm)*Gm),[t,e]}function Ub(t,e,i){return(t%=Gm)?e||i?Yb(Zb(t),qb(e,i)):Zb(t):e||i?qb(e,i):Xb}function Kb(t){return function(e,i){return e+=t,Km(e)>zm&&(e-=Math.round(e/Gm)*Gm),[e,i]}}function Zb(t){var e=Kb(t);return e.invert=Kb(-t),e}function qb(t,e){var i=$m(t),s=ey(t),n=$m(e),r=ey(e);function a(t,e){var a=$m(e),o=$m(t)*a,l=ey(t)*a,h=ey(e),u=h*i+o*s;return[qm(l*n-u*r,o*i-h*s),ay(u*n+l*r)]}return a.invert=function(t,e){var a=$m(e),o=$m(t)*a,l=ey(t)*a,h=ey(e),u=h*n-l*r;return[qm(l*n+h*r,o*i+u*s),ay(u*i-o*s)]},a}function $b(t){function e(e){return e=t(e[0]*Um,e[1]*Um),e[0]*=Xm,e[1]*=Xm,e}return t=Ub(t[0]*Um,t[1]*Um,t.length>2?t[2]*Um:0),e.invert=function(e){return e=t.invert(e[0]*Um,e[1]*Um),e[0]*=Xm,e[1]*=Xm,e},e}function Jb(t){return function(e){var i=new Qb;for(var s in t)i[s]=t[s];return i.stream=e,i}}function Qb(){}Xb.invert=Xb,Qb.prototype={constructor:Qb,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var tv=1/0,ev=tv,iv=-tv,sv=iv,nv={point:rv,lineStart:ly,lineEnd:ly,polygonStart:ly,polygonEnd:ly,result:function(){var t=[[tv,ev],[iv,sv]];return iv=sv=-(ev=tv=1/0),t}};function rv(t,e){t<tv&&(tv=t),t>iv&&(iv=t),e<ev&&(ev=e),e>sv&&(sv=e)}var av=nv;function ov(t,e,i){var s=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=s&&t.clipExtent(null),gy(i,t.stream(av)),e(av.result()),null!=s&&t.clipExtent(s),t}function lv(t,e,i){return ov(t,(function(i){var s=e[1][0]-e[0][0],n=e[1][1]-e[0][1],r=Math.min(s/(i[1][0]-i[0][0]),n/(i[1][1]-i[0][1])),a=+e[0][0]+(s-r*(i[1][0]+i[0][0]))/2,o=+e[0][1]+(n-r*(i[1][1]+i[0][1]))/2;t.scale(150*r).translate([a,o])}),i)}function hv(t,e,i){return lv(t,[[0,0],e],i)}function uv(t,e,i){return ov(t,(function(i){var s=+e,n=s/(i[1][0]-i[0][0]),r=(s-n*(i[1][0]+i[0][0]))/2,a=-n*i[0][1];t.scale(150*n).translate([r,a])}),i)}function pv(t,e,i){return ov(t,(function(i){var s=+e,n=s/(i[1][1]-i[0][1]),r=-n*i[0][0],a=(s-n*(i[1][1]+i[0][1]))/2;t.scale(150*n).translate([r,a])}),i)}var cv=16,dv=$m(30*Um);function gv(t,e){return+e?mv(t,e):fv(t)}function fv(t){return Jb({point:function(e,i){e=t(e,i),this.stream.point(e[0],e[1])}})}function mv(t,e){function i(s,n,r,a,o,l,h,u,p,c,d,g,f,m){var y=h-s,b=u-n,v=y*y+b*b;if(v>4*e&&f--){var _=a+c,x=o+d,w=l+g,P=sy(_*_+x*x+w*w),O=ay(w/=P),k=Km(Km(w)-1)<Nm||Km(r-p)<Nm?(r+p)/2:qm(x,_),D=t(k,O),T=D[0],S=D[1],C=T-s,M=S-n,I=b*C-y*M;(I*I/v>e||Km((y*C+b*M)/v-.5)>.3||a*c+o*d+l*g<dv)&&(i(s,n,r,a,o,l,T,S,k,_/=P,x/=P,w,f,m),m.point(T,S),i(T,S,k,_,x,w,h,u,p,c,d,g,f,m))}}return function(e){var s,n,r,a,o,l,h,u,p,c,d,g,f={point:m,lineStart:y,lineEnd:v,polygonStart:function(){e.polygonStart(),f.lineStart=_},polygonEnd:function(){e.polygonEnd(),f.lineStart=y}};function m(i,s){i=t(i,s),e.point(i[0],i[1])}function y(){u=NaN,f.point=b,e.lineStart()}function b(s,n){var r=Ny([s,n]),a=t(s,n);i(u,p,h,c,d,g,u=a[0],p=a[1],h=s,c=r[0],d=r[1],g=r[2],cv,e),e.point(u,p)}function v(){f.point=m,e.lineEnd()}function _(){y(),f.point=x,f.lineEnd=w}function x(t,e){b(s=t,e),n=u,r=p,a=c,o=d,l=g,f.point=b}function w(){i(u,p,h,c,d,g,n,r,s,a,o,l,cv,e),f.lineEnd=v,v()}return f}}var yv=Jb({point:function(t,e){this.stream.point(t*Um,e*Um)}});function bv(t){return Jb({point:function(e,i){var s=t(e,i);return this.stream.point(s[0],s[1])}})}function vv(t,e,i,s,n){function r(r,a){return r*=s,a*=n,[e+t*r,i-t*a]}return r.invert=function(r,a){return[(r-e)/t*s,(i-a)/t*n]},r}function _v(t,e,i,s,n,r){if(!r)return vv(t,e,i,s,n);var a=$m(r),o=ey(r),l=a*t,h=o*t,u=a/t,p=o/t,c=(o*i-a*e)/t,d=(o*e+a*i)/t;function g(t,r){return t*=s,r*=n,[l*t-h*r+e,i-h*t-l*r]}return g.invert=function(t,e){return[s*(u*t-p*e+c),n*(d-p*t-u*e)]},g}function xv(t){return wv((function(){return t}))()}function wv(t){var e,i,s,n,r,a,o,l,h,u,p=150,c=480,d=250,g=0,f=0,m=0,y=0,b=0,v=0,_=1,x=1,w=null,P=Eb,O=null,k=Gb,D=.5;function T(t){return l(t[0]*Um,t[1]*Um)}function S(t){return t=l.invert(t[0],t[1]),t&&[t[0]*Xm,t[1]*Xm]}function C(){var t=_v(p,0,0,_,x,v).apply(null,e(g,f)),s=_v(p,c-t[0],d-t[1],_,x,v);return i=Ub(m,y,b),o=Yb(e,s),l=Yb(i,o),a=gv(o,D),M()}function M(){return h=u=null,T}return T.stream=function(t){return h&&u===t?h:h=yv(bv(i)(P(a(k(u=t)))))},T.preclip=function(t){return arguments.length?(P=t,w=void 0,M()):P},T.postclip=function(t){return arguments.length?(k=t,O=s=n=r=null,M()):k},T.clipAngle=function(t){return arguments.length?(P=+t?Bb(w=t*Um):(w=null,Eb),M()):w*Xm},T.clipExtent=function(t){return arguments.length?(k=null==t?(O=s=n=r=null,Gb):Wb(O=+t[0][0],s=+t[0][1],n=+t[1][0],r=+t[1][1]),M()):null==O?null:[[O,s],[n,r]]},T.scale=function(t){return arguments.length?(p=+t,C()):p},T.translate=function(t){return arguments.length?(c=+t[0],d=+t[1],C()):[c,d]},T.center=function(t){return arguments.length?(g=t[0]%360*Um,f=t[1]%360*Um,C()):[g*Xm,f*Xm]},T.rotate=function(t){return arguments.length?(m=t[0]%360*Um,y=t[1]%360*Um,b=t.length>2?t[2]%360*Um:0,C()):[m*Xm,y*Xm,b*Xm]},T.angle=function(t){return arguments.length?(v=t%360*Um,C()):v*Xm},T.reflectX=function(t){return arguments.length?(_=t?-1:1,C()):_<0},T.reflectY=function(t){return arguments.length?(x=t?-1:1,C()):x<0},T.precision=function(t){return arguments.length?(a=gv(o,D=t*t),M()):sy(D)},T.fitExtent=function(t,e){return lv(T,t,e)},T.fitSize=function(t,e){return hv(T,t,e)},T.fitWidth=function(t,e){return uv(T,t,e)},T.fitHeight=function(t,e){return pv(T,t,e)},function(){return e=t.apply(this,arguments),T.invert=e.invert&&S,C()}}function Pv(t,e){return[t,e]}function Ov(){return xv(Pv).scale(152.63)}Pv.invert=Pv;var kv,Dv,Tv,Sv,Cv=new Bm,Mv=new Bm,Iv={point:ly,lineStart:ly,lineEnd:ly,polygonStart:function(){Iv.lineStart=jv,Iv.lineEnd=Av},polygonEnd:function(){Iv.lineStart=Iv.lineEnd=Iv.point=ly,Cv.add(Km(Mv)),Mv=new Bm},result:function(){var t=Cv/2;return Cv=new Bm,t}};function jv(){Iv.point=Ev}function Ev(t,e){Iv.point=Lv,kv=Tv=t,Dv=Sv=e}function Lv(t,e){Mv.add(Sv*t-Tv*e),Tv=t,Sv=e}function Av(){Lv(kv,Dv)}var Fv,Rv,Vv,Bv,Nv=Iv,Hv=0,zv=0,Wv=0,Yv=0,Gv=0,Xv=0,Uv=0,Kv=0,Zv=0,qv={point:$v,lineStart:Jv,lineEnd:e_,polygonStart:function(){qv.lineStart=i_,qv.lineEnd=s_},polygonEnd:function(){qv.point=$v,qv.lineStart=Jv,qv.lineEnd=e_},result:function(){var t=Zv?[Uv/Zv,Kv/Zv]:Xv?[Yv/Xv,Gv/Xv]:Wv?[Hv/Wv,zv/Wv]:[NaN,NaN];return Hv=zv=Wv=Yv=Gv=Xv=Uv=Kv=Zv=0,t}};function $v(t,e){Hv+=t,zv+=e,++Wv}function Jv(){qv.point=Qv}function Qv(t,e){qv.point=t_,$v(Vv=t,Bv=e)}function t_(t,e){var i=t-Vv,s=e-Bv,n=sy(i*i+s*s);Yv+=n*(Vv+t)/2,Gv+=n*(Bv+e)/2,Xv+=n,$v(Vv=t,Bv=e)}function e_(){qv.point=$v}function i_(){qv.point=n_}function s_(){r_(Fv,Rv)}function n_(t,e){qv.point=r_,$v(Fv=Vv=t,Rv=Bv=e)}function r_(t,e){var i=t-Vv,s=e-Bv,n=sy(i*i+s*s);Yv+=n*(Vv+t)/2,Gv+=n*(Bv+e)/2,Xv+=n,n=Bv*t-Vv*e,Uv+=n*(Vv+t),Kv+=n*(Bv+e),Zv+=3*n,$v(Vv=t,Bv=e)}var a_=qv;function o_(t){this._context=t}o_.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Gm);break}},result:ly};var l_,h_,u_,p_,c_,d_=new Bm,g_={point:ly,lineStart:function(){g_.point=f_},lineEnd:function(){l_&&m_(h_,u_),g_.point=ly},polygonStart:function(){l_=!0},polygonEnd:function(){l_=null},result:function(){var t=+d_;return d_=new Bm,t}};function f_(t,e){g_.point=m_,h_=p_=t,u_=c_=e}function m_(t,e){p_-=t,c_-=e,d_.add(sy(p_*p_+c_*c_)),p_=t,c_=e}var y_=g_;let b_,v_,__,x_;class w_{constructor(t){this._append=null==t?P_:O_(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,e){switch(this._point){case 0:this._append`M${t},${e}`,this._point=1;break;case 1:this._append`L${t},${e}`;break;default:if(this._append`M${t},${e}`,this._radius!==__||this._append!==v_){const t=this._radius,e=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,__=t,v_=this._append,x_=this._,this._=e}this._+=x_;break}}result(){const t=this._;return this._="",t.length?t:null}}function P_(t){let e=1;this._+=t[0];for(const i=t.length;e<i;++e)this._+=arguments[e]+t[e]}function O_(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return P_;if(e!==b_){const t=10**e;b_=e,v_=function(e){let i=1;this._+=e[0];for(const s=e.length;i<s;++i)this._+=Math.round(arguments[i]*t)/t+e[i]}}return v_}function k_(t,e){let i,s,n=3,r=4.5;function a(t){return t&&("function"===typeof r&&s.pointRadius(+r.apply(this,arguments)),gy(t,i(s))),s.result()}return a.area=function(t){return gy(t,i(Nv)),Nv.result()},a.measure=function(t){return gy(t,i(y_)),y_.result()},a.bounds=function(t){return gy(t,i(av)),av.result()},a.centroid=function(t){return gy(t,i(a_)),a_.result()},a.projection=function(e){return arguments.length?(i=null==e?(t=null,Gb):(t=e).stream,a):t},a.context=function(t){return arguments.length?(s=null==t?(e=null,new w_(n)):new o_(e=t),"function"!==typeof r&&s.pointRadius(r),a):e},a.pointRadius=function(t){return arguments.length?(r="function"===typeof t?t:(s.pointRadius(+t),+t),a):r},a.digits=function(t){if(!arguments.length)return n;if(null==t)n=null;else{const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);n=e}return null===e&&(s=new w_(n)),a},a.projection(t).digits(n).context(e)}function D_(t,e){var i=t[0]*Um,s=t[1]*Um,n=e[0]*Um,r=e[1]*Um,a=$m(s),o=ey(s),l=$m(r),h=ey(r),u=a*$m(i),p=a*ey(i),c=l*$m(n),d=l*ey(n),g=2*ay(sy(oy(r-s)+a*l*oy(n-i))),f=ey(g),m=g?function(t){var e=ey(t*=g)/f,i=ey(g-t)/f,s=i*u+e*c,n=i*p+e*d,r=i*o+e*h;return[qm(n,s)*Xm,qm(r,sy(s*s+n*n))*Xm]}:function(){return[i*Xm,s*Xm]};return m.distance=g,m}var T_,S_,C_,M_,I_={sphere:ly,point:ly,lineStart:j_,lineEnd:ly,polygonStart:ly,polygonEnd:ly};function j_(){I_.point=L_,I_.lineEnd=E_}function E_(){I_.point=I_.lineEnd=ly}function L_(t,e){t*=Um,e*=Um,S_=t,C_=ey(e),M_=$m(e),I_.point=A_}function A_(t,e){t*=Um,e*=Um;var i=ey(e),s=$m(e),n=Km(t-S_),r=$m(n),a=ey(n),o=s*a,l=M_*i-C_*s*r,h=C_*i+M_*s*r;T_.add(qm(sy(o*o+l*l),h)),S_=t,C_=i,M_=s}function F_(t){return T_=new Bm,gy(t,I_),+T_}var R_=[null,null],V_={type:"LineString",coordinates:R_};function B_(t,e){return R_[0]=t,R_[1]=e,F_(V_)}var N_=function(){function t(){this.d3Projection=Ov()}return Object.defineProperty(t.prototype,"d3Projection",{get:function(){return this._d3Projection},set:function(t){this._d3Projection=t,t.precision(.1),this._d3Path=k_().projection(t),this.chart&&this.chart.invalidateProjection()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"d3Path",{get:function(){return this._d3Path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.d3Projection.scale()/100},enumerable:!0,configurable:!0}),t.prototype.convert=function(t){var e=this.d3Projection([t.longitude,t.latitude]);if(e)return{x:e[0],y:e[1]}},t.prototype.invert=function(t){var e=this.d3Projection.invert([t.x,t.y]);if(e)return{longitude:e[0],latitude:e[1]}},t.prototype.project=function(t,e){return this.convert({longitude:t*kl,latitude:e*kl})},t.prototype.unproject=function(t,e){return this.invert({x:t,y:e})},t.prototype.rotate=function(t,e,i,s){var n=e*Ol,r=i*Ol;s*=Ol;var a=t.longitude*Ol+n,o=t.latitude*Ol,l=Math.cos(r),h=Math.sin(r),u=Math.cos(s),p=Math.sin(s),c=Math.cos(o),d=Math.cos(a)*c,g=Math.sin(a)*c,f=Math.sin(o),m=f*l+d*h;return{longitude:kl*Math.atan2(g*u-m*p,d*l-f*h),latitude:kl*Math.asin(m*u+g*p)}},t.prototype.unrotate=function(t,e,i,s){var n=e*Ol,r=i*Ol;s*=Ol;var a=t.longitude*Ol-n,o=t.latitude*Ol,l=Math.cos(r),h=Math.sin(r),u=Math.cos(s),p=Math.sin(s),c=Math.cos(o),d=Math.cos(a)*c,g=Math.sin(a)*c,f=Math.sin(o),m=f*u-g*p;return{longitude:kl*Math.atan2(g*u+f*p,d*l+m*h),latitude:kl*Math.asin(m*l-d*h)}},t.prototype.intermediatePoint=function(t,e,i){var s=D_([t.longitude,t.latitude],[e.longitude,e.latitude])(i);return{longitude:s[0],latitude:s[1]}},t.prototype.multiDistance=function(t){for(var e=0,i=0;i<t.length;i++){var s=t[i];if(s.length>1)for(var n=1;n<s.length;n++){var r=s[n-1],a=s[n];e+=this.distance(r,a)}}return e},t.prototype.distance=function(t,e){return B_([t.longitude,t.latitude],[e.longitude,e.latitude])},t.prototype.positionToPoint=function(t,e){if(t){var i=this.positionToGeoPoint(t,e),s=this.positionToGeoPoint(t,e-.01),n=this.positionToGeoPoint(t,e+.01);if(s&&n){var r=this.convert(i),a=this.convert(s),o=this.convert(n);return{x:r.x,y:r.y,angle:Nl(a,o)}}}return{x:0,y:0,angle:0}},t.prototype.positionToGeoPoint=function(t,e){if(t){for(var i=this.multiDistance(t),s=0,n=void 0,r=0,a=0,o=void 0,l=void 0,h=0;h<t.length;h++){var u=t[h];if(u.length>1){for(var p=1;p<u.length;p++)if(o=u[p-1],l=u[p],r=s/i,n=this.distance(o,l),s+=n,a=s/i,r<=e&&a>e){h=t.length;break}}else 1==u.length&&(o=u[0],l=u[0],r=0,a=1)}if(o&&l){var c=(e-r)/(a-r);return this.intermediatePoint(o,l,c)}}return{longitude:0,latitude:0}},t}();gu.registeredClasses.Projection=N_;var H_=function(t){function e(){var e=t.call(this)||this;e._chart=new vh,e.className="SmallMap",e.align="left",e.valign="bottom",e.percentHeight=20,e.percentWidth=20,e.margin(5,5,5,5);var i=new Td;e.background.fillOpacity=.9,e.background.fill=i.getFor("background"),e.events.on("hit",e.moveToPosition,e,!1),e.events.on("maxsizechanged",e.updateMapSize,e,!1),e.seriesContainer=e.createChild(Lg),e.seriesContainer.shouldClone=!1;var s=e.createChild(Eg);return s.shouldClone=!1,s.stroke=i.getFor("alternativeBackground"),s.strokeWidth=1,s.strokeOpacity=.5,s.fill=Uu(),s.verticalCenter="middle",s.horizontalCenter="middle",s.isMeasured=!1,s.visible=!1,e.rectangle=s,e._disposers.push(e._chart),e.applyTheme(),e}return Tt(e,t),Object.defineProperty(e.prototype,"series",{get:function(){return this._series||(this._series=new vu,this._series.events.on("inserted",this.handleSeriesAdded,this,!1),this._series.events.on("removed",this.handleSeriesRemoved,this,!1)),this._series},enumerable:!0,configurable:!0}),e.prototype.handleSeriesAdded=function(t){var e=t.newValue;if(this.chart.series.contains(e)){var i=e.clone();this._series.removeValue(e),this._series.push(i),e=i,this.chart.dataUsers.push(i)}e.chart=this.chart,e.parent=this.seriesContainer,e.interactionsEnabled=!1,e.events.on("inited",this.updateMapSize,this,!1),e.hidden=!1},e.prototype.handleSeriesRemoved=function(t){this.invalidate()},e.prototype.moveToPosition=function(t){var e=zp(t.spritePoint,this,this.seriesContainer),i=this.chart.seriesPointToGeo(e);this.chart.zoomToGeoPoint(i,this.chart.zoomLevel,!0)},Object.defineProperty(e.prototype,"chart",{get:function(){return this._chart.get()},set:function(t){this.chart!=t&&this._chart.set(t,new bh([t.events.on("mappositionchanged",this.updateRectangle,this,!1),t.events.on("scaleratiochanged",this.updateMapSize,this,!1)]))},enumerable:!0,configurable:!0}),e.prototype.updateRectangle=function(){var t=this.chart,e=t.zoomLevel,i=this.rectangle;i.width=this.pixelWidth/e,i.height=this.pixelHeight/e;var s=Math.min(this.percentWidth,this.percentHeight)/100,n=t.seriesContainer;i.x=Math.ceil(-n.pixelX*s/e)+this.seriesContainer.pixelX,i.y=Math.ceil(-n.pixelY*s/e)+this.seriesContainer.pixelY,i.validate()},e.prototype.updateMapSize=function(){if(this.chart){var t=this.chart.scaleRatio*Math.min(this.percentWidth,this.percentHeight)/100;this.seriesContainer.scale=t;var e={width:0,height:0,x:0,y:0};try{e=this.seriesContainer.group.node.getBBox()}catch(i){}e.width>0&&(this.rectangle.visible=!0),this.seriesContainer.x=this.pixelWidth/2-e.x*t-e.width/2*t,this.seriesContainer.y=this.pixelHeight/2-e.y*t-e.height/2*t,this.updateRectangle(),this.afterDraw()}},e.prototype.afterDraw=function(){t.prototype.afterDraw.call(this),this.rectangle.maskRectangle={x:-1,y:-1,width:Math.ceil(this.pixelWidth+2),height:Math.ceil(this.pixelHeight+2)}},e.prototype.processConfig=function(e){if(e&&gl(e.series)&&xl(e.series))for(var i=0,s=e.series.length;i<s;i++){var n=e.series[i];gl(n)&&bl(n)&&this.map.hasKey(n)&&(e.series[i]=this.map.getKey(n))}t.prototype.processConfig.call(this,e)},e}(Lg);function z_(t){var e=Y_(t.longitude),i=Math.asin(Math.sin(t.latitude*Ol))*kl,s=Y_(t.latitude);return Math.abs(s)>90&&(e=Y_(e+180)),t.longitude=e,t.latitude=i,t}function W_(t){return th(t,(function(t){th(t,(function(t){z_(t)}))})),t}function Y_(t){return t%=360,t>180&&(t-=360),t<-180&&(t+=360),t}gu.registeredClasses.SmallMap=H_;var G_=function(t){function e(){var e=t.call(this)||this;return e.adjustRotation=!0,e.className="MapLineObject",e.isMeasured=!1,e.layout="none",e.applyTheme(),e}return Tt(e,t),e.prototype.validatePosition=function(){var e=this.mapLine;if(e){var i=e.positionToPoint(this.position);this.x=i.x,this.y=i.y,this.adjustRotation&&(this.rotation=i.angle);var s=this.mapLine.dataItem;if(s){var n=this.mapLine.dataItem.component;this.scale=1/n.scale}if(e.shortestDistance){var r=this.mapLine.series.chart.projection,a=r.positionToGeoPoint(e.multiGeoLine,this.position),o=r.d3Path({type:"Point",coordinates:[a.longitude,a.latitude]});this.__disabled=!o}}t.prototype.validatePosition.call(this)},Object.defineProperty(e.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(t){this.setPropertyValue("position",t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adjustRotation",{get:function(){return this.getPropertyValue("adjustRotation")},set:function(t){this.setPropertyValue("adjustRotation",t,!1,!0)},enumerable:!0,configurable:!0}),e}(Lg);gu.registeredClasses.MapLineObject=G_;var X_=function(t){function e(){var e=t.call(this)||this;return e.className="MapImageSeriesDataItem",e.applyTheme(),e}return Tt(e,t),e.prototype.getFeature=function(){return{type:"Feature",geometry:{type:"Point",coordinates:this.point}}},Object.defineProperty(e.prototype,"mapImage",{get:function(){var t=this;if(!this._mapImage){var e=this.component.mapImages.create();this.addSprite(e),this._mapImage=e,this._disposers.push(e),this._disposers.push(new yh((function(){t.component&&t.component.mapImages.removeValue(e)}))),this.mapObject=e}return this._mapImage},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"point",{get:function(){return this._point},set:function(t){this._point=t,this._geoPoint=db(t),this.updateExtremes()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiPoint",{get:function(){return[this._point]},set:function(t){this._point=t[0],this._geoPoint=db(this._point),this.updateExtremes()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"geoPoint",{get:function(){return this._geoPoint},set:function(t){this._geoPoint=t,this.point=[t.longitude,t.latitude]},enumerable:!0,configurable:!0}),e}(nb),U_=function(t){function e(){var e=t.call(this)||this;return e.className="MapImageSeries",e.dataFields.multiPoint="multiPoint",e.dataFields.point="point",e.dataFields.geoPoint="geoPoint",e.dataFields.multiGeoPoint="multiGeoPoint",e.ignoreBounds=!0,e.applyTheme(),e}return Tt(e,t),e.prototype.createDataItem=function(){return new X_},e.prototype.validateData=function(){var e=this;if(this.data.length>0&&0==this._parseDataFrom&&this.mapImages.clear(),this.useGeodata&&(this.useGeodata||this.geodata)){var i=this.chart.geodata,s=void 0;if("FeatureCollection"==i.type?s=i.features:"Feature"==i.type?s=[i]:-1!=["Point","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon"].indexOf(i.type)?s=[{geometry:i}]:console.log("nothing found in geoJSON"),s)for(var n=function(t,e){var i=s[t],n=i.geometry;if(n){var a=n.type,o=i.id;if("Point"==a||"MultiPoint"==a){if(!r.checkInclude(r.include,r.exclude,o))return"continue";var l=n.coordinates;"Point"==a&&(l=[l]);var h=fh(r.data,(function(t,e){return t.id==o}));h?h.multiPoint||(h.multiPoint=l):(h={multiPoint:l,id:o,madeFromGeoData:!0},r.data.push(h)),pp(i.properties,h)}}},r=this,a=0,o=s.length;a<o;a++)n(a,o)}t.prototype.validateData.call(this),qh(this.dataItems.iterator(),(function(t){var i=t.mapImage;i.isDisposed()||(e.mapImages.moveValue(i),vl(i.latitude)&&vl(i.latitude)&&(t.geoPoint={latitude:i.latitude,longitude:i.longitude}))}))},Object.defineProperty(e.prototype,"mapImages",{get:function(){if(!this._mapImages){var t=new ob,e=new _u(t);this._disposers.push(new yu(e)),this._disposers.push(e.template),e.template.focusable=!0,e.events.on("inserted",this.handleObjectAdded,this,!1),this._mapImages=e,this._mapObjects=e}return this._mapImages},enumerable:!0,configurable:!0}),e.prototype.validateDataElement=function(e){t.prototype.validateDataElement.call(this,e),e.mapImage.invalidate()},e.prototype.validate=function(){t.prototype.validate.call(this),qh(this.mapImages.iterator(),(function(t){t.validatePosition()}))},e.prototype.copyFrom=function(e){this.mapImages.template.copyFrom(e.mapImages.template),t.prototype.copyFrom.call(this,e)},e.prototype.getFeatures=function(){var t=this,e=[];return this.dataItems.each((function(t){var i=t.getFeature();i&&e.push(i)})),this.mapImages.each((function(i){if(-1==t.dataItems.indexOf(i._dataItem)){var s=i.getFeature();s&&e.push(s)}})),e},e.prototype.getImageById=function(t){return iu(this.mapImages.iterator(),(function(e){var i=e.dataItem.dataContext;if(e.id==t||i&&i.id==t)return!0}))},e}(rb);gu.registeredClasses.MapImageSeries=U_,gu.registeredClasses.MapImageSeriesDataItem=X_;var K_=function(t){function e(){var e=t.call(this)||this;e._imageListeners={},e.className="MapLine",e.createLine(),e.line.stroke=Uu(),e.line.parent=e,e.strokeOpacity=1,e.setPropertyValue("precision",.1);var i=new Td;return e.stroke=i.getFor("grid"),e.shortestDistance=!0,e.applyTheme(),e}return Tt(e,t),e.prototype.createLine=function(){this.line=new gf},e.prototype.positionToPoint=function(t){return this.shortestDistance?this.series.chart.projection.positionToPoint(this.multiGeoLine,t):this.line?this.line.positionToPoint(t):{x:0,y:0,angle:0}},Object.defineProperty(e.prototype,"multiGeoLine",{get:function(){var t=this.getPropertyValue("multiGeoLine");return!t&&this.dataItem&&this.dataItem.multiGeoLine&&(t=this.dataItem.multiGeoLine),t},set:function(t){if(t&&t.length>0){this.setPropertyValue("multiGeoLine",W_(t),!0);var e=fb(t);this.setPropertyValue("multiLine",e),this.updateExtremes()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiLine",{get:function(){var t=this.getPropertyValue("multiLine");return!t&&this.dataItem&&this.dataItem.multiLine&&(t=this.dataItem.multiLine),t},set:function(t){this.setPropertyValue("multiLine",t),this.multiGeoLine=ub(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imagesToConnect",{get:function(){return this.getPropertyValue("imagesToConnect")},set:function(t){var e=this;if(this.setPropertyValue("imagesToConnect",t,!0),this.handleImagesToConnect(),this.series){var i=this.series.chart;i&&i.series.each((function(t){t instanceof U_&&(t.isReady()||e._disposers.push(t.events.on("ready",e.handleImagesToConnect,e,!1)))}))}},enumerable:!0,configurable:!0}),e.prototype.handleImagesToConnect=function(){var t,e,i=this;if(this.imagesToConnect){var s=[],n=[s],r=function(t){if(bl(t)){var e=a.series.chart;e&&e.series.each((function(e){if(e instanceof U_){var i=e.getImageById(t);i&&(t=i)}}))}if(t instanceof ob&&(s.push({longitude:t.longitude,latitude:t.latitude}),!a._imageListeners[t.uid])){var n=t.events.on("propertychanged",(function(t){"longitude"!=t.property&&"latitude"!=t.property||(i.handleImagesToConnect(),i.invalidate())}),a,!1);a._imageListeners[t.uid]=n,a._disposers.push(n)}},a=this;try{for(var o=Mt(this.imagesToConnect),l=o.next();!l.done;l=o.next()){var h=l.value;r(h)}}catch(u){t={error:u}}finally{try{l&&!l.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}this.multiGeoLine=n}},e.prototype.validate=function(){var e=this.series.chart;if(this.multiLine){if(this.shortestDistance)e.projection.d3Projection.precision(this.precision),this.line.path=e.projection.d3Path(this.getFeature());else{for(var i=[],s=0,n=this.multiLine.length;s<n;s++){for(var r=this.multiLine[s],a=[],o=0,l=r.length;o<l;o++){var h=r[o],u=this.series.chart.projection.convert({longitude:h[0],latitude:h[1]});a.push(u)}i.push(a)}this.line.segments=i}this._arrow&&this._arrow.validatePosition(),qh(this.lineObjects.iterator(),(function(t){t.validatePosition()})),this.handleGlobalScale()}else this.imagesToConnect&&this.handleImagesToConnect();t.prototype.validate.call(this)},e.prototype.getFeature=function(){if(this.multiLine&&this.multiLine.length>0&&this.multiLine[0]&&this.multiLine[0].length>0)return{type:"Feature",geometry:{type:"MultiLineString",coordinates:this.multiLine}}},e.prototype.measureElement=function(){},Object.defineProperty(e.prototype,"shortestDistance",{get:function(){return this.getPropertyValue("shortestDistance")},set:function(t){this.setPropertyValue("shortestDistance",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineObjects",{get:function(){return this._lineObjects||(this._lineObjects=new _u(new G_),this._lineObjects.events.on("inserted",this.handleLineObjectAdded,this,!1),this._disposers.push(new yu(this._lineObjects)),this._disposers.push(this._lineObjects.template)),this._lineObjects},enumerable:!0,configurable:!0}),e.prototype.handleLineObjectAdded=function(t){var e=t.newValue;e.mapLine=this,e.shouldClone=!1,e.parent=this},Object.defineProperty(e.prototype,"arrow",{get:function(){if(!this._arrow){var t=this.createChild(G_);t.shouldClone=!1,t.width=8,t.height=10,t.mapLine=this,t.position=.5;var e=t.createChild(If);e.fillOpacity=1,e.width=rl(100),e.height=rl(100),e.rotation=90,e.horizontalCenter="middle",e.verticalCenter="middle",this._arrow=t}return this._arrow},set:function(t){this._arrow=t,t.mapLine=this,t.parent=this},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.line.copyFrom(e.line),this.lineObjects.copyFrom(e.lineObjects),e._arrow&&(this.arrow=e.arrow.clone())},Object.defineProperty(e.prototype,"latitude",{get:function(){return this.north+(this.south-this.north)/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this.east+(this.west-this.east)/2},enumerable:!0,configurable:!0}),e.prototype.getTooltipX=function(){var t=this.getPropertyValue("tooltipX");return t instanceof nl||(t=rl(50)),t instanceof nl?this.positionToPoint(t.value).x:0},e.prototype.getTooltipY=function(){var t=this.getPropertyValue("tooltipY");return t instanceof nl||(t=rl(50)),t instanceof nl?this.positionToPoint(t.value).y:0},Object.defineProperty(e.prototype,"precision",{get:function(){return this.getPropertyValue("precision")},set:function(t){this.setPropertyValue("precision",t,!0)},enumerable:!0,configurable:!0}),e}(ab);gu.registeredClasses.MapLine=K_;var Z_=function(t){function e(){var e=t.call(this)||this;return e.className="MapLineSeriesDataItem",e.applyTheme(),e}return Tt(e,t),e.prototype.getFeature=function(){if(this.multiLine&&this.multiLine.length>0)return{type:"Feature",geometry:{type:"MultiLineString",coordinates:this.multiLine}}},Object.defineProperty(e.prototype,"mapLine",{get:function(){var t=this;if(!this._mapLine){var e=this.component.mapLines.create();this._mapLine=e,this.addSprite(e),this._disposers.push(e),this._disposers.push(new yh((function(){t.component&&t.component.mapLines.removeValue(e)}))),this.mapObject=e}return this._mapLine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._line},set:function(t){this._line=t,this.multiLine=[t]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiLine",{get:function(){return this._multiLine},set:function(t){this._multiLine=t,this._multiGeoLine=ub(t),this.updateExtremes()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"geoLine",{get:function(){return this._geoLine},set:function(t){this._geoLine=t,this.multiLine=fb([t])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiGeoLine",{get:function(){return this._multiGeoLine},set:function(t){this._multiGeoLine=t,this.multiLine=fb(t)},enumerable:!0,configurable:!0}),e}(nb),q_=function(t){function e(){var e=t.call(this)||this;return e.className="MapLineSeries",e.dataFields.multiLine="multiLine",e.dataFields.line="line",e.dataFields.geoLine="geoLine",e.dataFields.multiGeoLine="multiGeoLine",e.ignoreBounds=!0,e.applyTheme(),e}return Tt(e,t),e.prototype.createDataItem=function(){return new Z_},e.prototype.validateData=function(){if(this.useGeodata||this.geodata){var e=this.chart.geodata;if(e){var i=void 0;if("FeatureCollection"==e.type?i=e.features:"Feature"==e.type?i=[e]:-1!=["Point","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon"].indexOf(e.type)?i=[{geometry:e}]:console.log("nothing found in geoJSON"),i)for(var s=function(t,e){var s=i[t],r=s.geometry;if(r){var a=r.type,o=s.id;if("LineString"==a||"MultiLineString"==a){if(!n.checkInclude(n.include,n.exclude,o))return"continue";var l=r.coordinates,h=fh(n.data,(function(t,e){return t.id==o}));"LineString"==a&&(l=[l]),h?h.multiLine||(h.multiLine=l):(h={multiLine:l,id:o,madeFromGeoData:!0},n.data.push(h)),pp(s.properties,h)}}},n=this,r=0,a=i.length;r<a;r++)s(r,a)}}t.prototype.validateData.call(this)},Object.defineProperty(e.prototype,"mapLines",{get:function(){if(!this._mapLines){var t=this.createLine(),e=new _u(t);this._disposers.push(new yu(e)),this._disposers.push(e.template),e.events.on("inserted",this.handleObjectAdded,this,!1),this._mapLines=e,this._mapObjects=e}return this._mapLines},enumerable:!0,configurable:!0}),e.prototype.createLine=function(){return new K_},e.prototype.validate=function(){this.dataItems.each((function(t){op(t.mapLine)})),t.prototype.validate.call(this),this.mapLines.each((function(t){t.validate()}))},e.prototype.copyFrom=function(e){this.mapLines.template.copyFrom(e.mapLines.template),t.prototype.copyFrom.call(this,e)},e.prototype.getFeatures=function(){var t=this,e=[];return this.dataItems.each((function(t){var i=t.getFeature();i&&e.push(i)})),this.mapLines.each((function(i){if(-1==t.dataItems.indexOf(i._dataItem)){var s=i.getFeature();s&&e.push(s)}})),e},e.prototype.getLineById=function(t){return iu(this.mapLines.iterator(),(function(e){var i=e.dataItem.dataContext;return i.id==t}))},e}(rb);gu.registeredClasses.MapLineSeries=q_,gu.registeredClasses.MapLineSeriesDataItem=Z_;var $_=function(t){function e(){var e=t.call(this)||this;return e.className="Graticule",e.applyTheme(),e.shortestDistance=!0,e}return Tt(e,t),e}(K_);function J_(t,e,i){t=+t,e=+e,i=(n=arguments.length)<2?(e=t,t=0,1):n<3?1:+i;var s=-1,n=0|Math.max(0,Math.ceil((e-t)/i)),r=new Array(n);while(++s<n)r[s]=t+s*i;return r}function Q_(t,e,i){var s=J_(t,e-Nm,i).concat(e);return function(t){return s.map((function(e){return[t,e]}))}}function tx(t,e,i){var s=J_(t,e-Nm,i).concat(e);return function(t){return s.map((function(e){return[e,t]}))}}function ex(){var t,e,i,s,n,r,a,o,l,h,u,p,c=10,d=c,g=90,f=360,m=2.5;function y(){return{type:"MultiLineString",coordinates:b()}}function b(){return J_(Jm(s/g)*g,i,g).map(u).concat(J_(Jm(o/f)*f,a,f).map(p)).concat(J_(Jm(e/c)*c,t,c).filter((function(t){return Km(t%g)>Nm})).map(l)).concat(J_(Jm(r/d)*d,n,d).filter((function(t){return Km(t%f)>Nm})).map(h))}return y.lines=function(){return b().map((function(t){return{type:"LineString",coordinates:t}}))},y.outline=function(){return{type:"Polygon",coordinates:[u(s).concat(p(a).slice(1),u(i).reverse().slice(1),p(o).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.extentMajor(t).extentMinor(t):y.extentMinor()},y.extentMajor=function(t){return arguments.length?(s=+t[0][0],i=+t[1][0],o=+t[0][1],a=+t[1][1],s>i&&(t=s,s=i,i=t),o>a&&(t=o,o=a,a=t),y.precision(m)):[[s,o],[i,a]]},y.extentMinor=function(i){return arguments.length?(e=+i[0][0],t=+i[1][0],r=+i[0][1],n=+i[1][1],e>t&&(i=e,e=t,t=i),r>n&&(i=r,r=n,n=i),y.precision(m)):[[e,r],[t,n]]},y.step=function(t){return arguments.length?y.stepMajor(t).stepMinor(t):y.stepMinor()},y.stepMajor=function(t){return arguments.length?(g=+t[0],f=+t[1],y):[g,f]},y.stepMinor=function(t){return arguments.length?(c=+t[0],d=+t[1],y):[c,d]},y.precision=function(c){return arguments.length?(m=+c,l=Q_(r,n,90),h=tx(e,t,m),u=Q_(o,a,90),p=tx(s,i,m),y):m},y.extentMajor([[-180,-90+Nm],[180,90-Nm]]).extentMinor([[-180,-80-Nm],[180,80+Nm]])}gu.registeredClasses.Graticule=$_;var ix=function(t){function e(){var e=t.call(this)||this;return e.className="GraticuleSeriesDataItem",e.applyTheme(),e}return Tt(e,t),e}(Z_),sx=function(t){function e(){var e=t.call(this)||this;return e.className="GraticuleSeries",e.longitudeStep=10,e.latitudeStep=10,e.north=90,e.south=-90,e.east=-180,e.west=180,e.fitExtent=!0,e.singleSprite=!0,e.events.disableType("geoBoundsChanged"),e.mapLines.template.line.strokeOpacity=.08,e.ignoreBounds=!1,e.hiddenInLegend=!0,e.applyTheme(),e}return Tt(e,t),e.prototype.createDataItem=function(){return new ix},e.prototype.validateData=function(){var e=this;t.prototype.validateData.call(this),this.mapLines.clear();var i=ex();if(i){i.stepMinor([this.longitudeStep,this.latitudeStep]),i.stepMajor([360,360]);var s=this.chart;if(this.fitExtent?i.extent([[s.east,s.north],[s.west,s.south]]):i.extent([[this.east,this.north],[this.west,this.south]]),this.singleSprite){var n=this.mapLines.create();n.multiLine=i().coordinates}else{var r=i.lines();th(r,(function(t){var i=e.mapLines.create();i.multiLine=[t.coordinates]}))}}},e.prototype.createLine=function(){return new $_},Object.defineProperty(e.prototype,"latitudeStep",{get:function(){return this.getPropertyValue("latitudeStep")},set:function(t){this.setPropertyValue("latitudeStep",t)&&this.invalidateData()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitudeStep",{get:function(){return this.getPropertyValue("longitudeStep")},set:function(t){this.setPropertyValue("longitudeStep",t)&&this.invalidateData()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fitExtent",{get:function(){return this.getPropertyValue("fitExtent")},set:function(t){this.setPropertyValue("fitExtent",t)&&this.invalidateData()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"singleSprite",{get:function(){return this.getPropertyValue("singleSprite")},set:function(t){this.setPropertyValue("singleSprite",t)&&this.invalidateData()},enumerable:!0,configurable:!0}),e}(q_);gu.registeredClasses.GraticuleSeries=sx,gu.registeredClasses.GraticuleSeriesDataItem=ix;(function(t){function e(){var e=t.call(this)||this;return e.className="MapChartDataItem",e.applyTheme(),e}Tt(e,t)})(Rm);var nx=function(t){function e(){var e=t.call(this)||this;e.scaleRatio=1,e.zoomDuration=1e3,e.zoomEasing=_c,e.minZoomLevel=1,e.maxZoomLevel=32,e._prevZoomGeoPoint={latitude:0,longitude:0},e.className="MapChart",e.projection=new N_,e.setPropertyValue("deltaLatitude",0),e.setPropertyValue("deltaLongitude",0),e.setPropertyValue("deltaGamma",0),e.maxPanOut=.7,e.homeZoomLevel=1,e.zoomStep=2,e.layout="absolute",e.centerMapOnZoomOut=!0,e.padding(0,0,0,0),op(e.backgroundSeries),e.minWidth=10,e.minHeight=10,e.events.once("inited",e.handleAllInited,e,!1);var i=e.seriesContainer;i.visible=!1,i.inert=!0,i.resizable=!0,i.events.on("transformed",e.handleMapTransform,e,!1),i.events.on("doublehit",e.handleDoubleHit,e,!1),i.events.on("dragged",e.handleDrag,e,!1),i.zIndex=0,i.dragWhileResize=!0,i.adapter.add("scale",(function(t,i){return Cl(t,e.minZoomLevel,e.maxZoomLevel)})),e.events.on("maxsizechanged",(function(t){0!=t.previousWidth&&0!=t.previousHeight||(e.updateExtremes(),e.updateCenterGeoPoint())}),void 0,!1);var s=e.chartContainer;s.parent=e,s.zIndex=-1,e._disposers.push(e.events.on("maxsizechanged",(function(){if(e.inited){e._mapAnimation&&e._mapAnimation.stop();var t=!0;e.series.each((function(e){e.updateTooltipBounds(),e.inited&&!e.dataInvalid||(t=!1)})),t&&e.updateScaleRatio(),e.zoomToGeoPoint(e._zoomGeoPointReal,e.zoomLevel,!0,0)}}),void 0,!1));var n=s.background;n.fillOpacity=0,n.events.on("down",(function(t){e.seriesContainer.dragStart(t.target.interactions.downPointers.getIndex(0))}),e),n.events.on("up",(function(t){e.seriesContainer.dragStop()}),e),n.events.on("doublehit",e.handleDoubleHit,e),n.focusable=!0,s.events.on("down",e.handleMapDown,e,!1),e.addDisposer(i.events.on("down",(function(){var t=e.seriesContainer.interactions.inertias.getKey("move");t&&t.done()}))),e.background.fillOpacity=0,e._disposers.push(zd().body.events.on("keyup",(function(t){if(e.topParent.hasFocused){var i=Ad.getEventKey(t.event);if(!e._zoomControl||!e._zoomControl.thumb.isFocused)switch(i){case"up":e.pan({x:0,y:.1});break;case"down":e.pan({x:0,y:-.1});break;case"left":e.pan({x:.1,y:0});break;case"right":e.pan({x:-.1,y:0});break}}}),e)),e.mouseWheelBehavior="zoom";var r=zd();e._disposers.push(r.body.events.on("down",e.handlePanDown,e)),e._disposers.push(r.body.events.on("up",e.handlePanUp,e));var a=e.seriesContainer.createChild(Jg);return a.radius=10,a.inert=!0,a.isMeasured=!1,a.events.on("transformed",e.handlePanMove,e,!1),a.interactionsEnabled=!1,a.opacity=0,a.x=0,a.y=0,e.panSprite=a,e.panBehavior="move",e.applyTheme(),e}return Tt(e,t),e.prototype.handlePanDown=function(t){var e=Yp(t.pointer.point,this.htmlContainer);e.x>0&&e.y>0&&e.x<this.svgContainer.width&&e.y<this.svgContainer.height&&(this._downPointOrig=Xp(t.pointer.point,this.seriesContainer),this.panSprite.moveTo(this._downPointOrig),this.panSprite.dragStart(t.pointer),this._downDeltaLongitude=this.deltaLongitude,this._downDeltaLatitude=this.deltaLatitude)},e.prototype.handlePanUp=function(t){this._downPointOrig&&this.panSprite.dragStop(t.pointer,!0),this._downPointOrig=void 0},e.prototype.handlePanMove=function(){if(!this.seriesContainer.isResized){if(zd().areTransformed([this.panSprite.interactions,this.seriesContainer.interactions]))return;var t=this.projection.d3Projection,e=this.panBehavior;if("move"!=e&&"none"!=e&&this._downPointOrig&&t.rotate){var i=t.rotate(),s=i[0],n=i[1],r=i[2];t.rotate([0,0,0]);var a=this.projection.invert(this._downPointOrig),o={x:this.panSprite.pixelX,y:this.panSprite.pixelY},l=void 0;o&&(l=this.projection.invert(o)),t.rotate([s,n,r]),l&&("rotateLat"!=e&&"rotateLongLat"!=e||(this.deltaLatitude=this._downDeltaLatitude+l.latitude-a.latitude),"rotateLong"!=e&&"rotateLongLat"!=e||(this.deltaLongitude=this._downDeltaLongitude+l.longitude-a.longitude))}}},e.prototype.handleAllInited=function(){var t=this,e=!0;if(this.seriesContainer.visible=!0,this.series.each((function(t){t.inited&&!t.dataInvalid||(e=!1)})),e)this.updateCenterGeoPoint(),this.updateScaleRatio(),this.goHome(0);else{var i=gu.events.once("exitframe",(function(){t.removeDispose(i),t.handleAllInited()}),this,!1);this.addDisposer(i)}},e.prototype.updateZoomGeoPoint=function(){var t=Np({x:this.innerWidth/2+this.pixelPaddingLeft,y:this.innerHeight/2+this.pixelPaddingTop},this.series.getIndex(0)),e=this.projection.invert(t);this._zoomGeoPointReal=e},e.prototype.updateCenterGeoPoint=function(){var t,e,i,s;if(this.backgroundSeries){var n=this.backgroundSeries.getFeatures();if(n.length>0){var r=this.projection.d3Path.bounds(n[0].geometry);t=r[0][0],i=r[0][1],e=r[1][0],s=r[1][1]}}else this.series.each((function(n){var r=n.group.node.getBBox();(t>r.x||!vl(t))&&(t=r.x),(e<r.x+r.width||!vl(e))&&(e=r.x+r.width),(i>r.y||!vl(i))&&(i=r.y),(s<r.y+r.height||!vl(s))&&(s=r.y+r.height)}));this.seriesMaxLeft=t,this.seriesMaxRight=e,this.seriesMaxTop=i,this.seriesMaxBottom=s,this.seriesWidth=e-t,this.seriesHeight=s-i,this.seriesWidth>0&&this.seriesHeight>0?(this.chartContainer.visible=!0,this._centerGeoPoint=this.projection.invert({x:t+(e-t)/2,y:i+(s-i)/2}),this._zoomGeoPointReal&&vl(this._zoomGeoPointReal.latitude)||(this._zoomGeoPointReal=this._centerGeoPoint)):this.chartContainer.visible=!1},e.prototype.handleDrag=function(){var t=this.zoomLevel*this.scaleRatio,e=this.seriesWidth*t,i=this.seriesHeight*t,s=this.seriesContainer,n=this.seriesMaxLeft*t,r=this.seriesMaxRight*t,a=this.seriesMaxTop*t,o=this.seriesMaxBottom*t,l=s.pixelX,h=s.pixelY,u=this.maxPanOut,p=Math.min(this.maxWidth*(1-u)-e-n,-n);l<p&&(l=p);var c=Math.max(this.maxWidth*u-n,this.maxWidth-r);l>c&&(l=c);var d=Math.min(this.maxHeight*(1-u)-i-a,-a);h<d&&(h=d);var g=Math.max(this.maxHeight*u-a,this.maxHeight-o);h>g&&(h=g),s.moveTo({x:l,y:h},void 0,void 0,!0),this._zoomGeoPointReal=this.zoomGeoPoint},e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),gl(this.readerTitle)||(this.readerTitle=this.language.translate("Map")),gl(this.background.readerTitle)||(this.background.role="application",this.background.readerTitle=this.language.translate("Use plus and minus keys on your keyboard to zoom in and out"))},e.prototype.handleMapDown=function(){this._mapAnimation&&this._mapAnimation.stop()},e.prototype.handleDoubleHit=function(t){var e=Yp(t.point,this.htmlContainer,this.svgContainer.cssScale),i=this.svgPointToGeo(e);this.zoomIn(i)},e.prototype.handleWheel=function(t){var e=this.seriesContainer.interactions.inertias.getKey("move");e&&e.done();var i=Yp(t.point,this.htmlContainer,this.svgContainer.cssScale),s=this.svgPointToGeo(i);t.shift.y<0?this.zoomIn(s,void 0,this.interactions.mouseOptions.sensitivity):this.zoomOut(s,void 0,this.interactions.mouseOptions.sensitivity)},Object.defineProperty(e.prototype,"mouseWheelBehavior",{get:function(){return this.getPropertyValue("mouseWheelBehavior")},set:function(t){this.setPropertyValue("mouseWheelBehavior",t)&&("none"!=t?(this._mouseWheelDisposer=this.chartContainer.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer)):(this._mouseWheelDisposer&&this._mouseWheelDisposer.dispose(),this.chartContainer.wheelable=!1))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"panBehavior",{get:function(){return this.getPropertyValue("panBehavior")},set:function(t){if(this.setPropertyValue("panBehavior",t)){var e=this.seriesContainer;switch(this.panSprite.draggable=!1,e.draggable=!1,t){case"move":e.draggable=!0;break;default:this.panSprite.draggable=!0;break}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"centerMapOnZoomOut",{get:function(){return this.getPropertyValue("centerMapOnZoomOut")},set:function(t){this.setPropertyValue("centerMapOnZoomOut",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"projection",{get:function(){return this.getPropertyValue("projection")},set:function(t){var e=this;this.setPropertyValue("projection",t)&&(this.invalidateProjection(),t.chart=this,this._backgroundSeries&&this._backgroundSeries.invalidate(),this.inited&&this.updateExtremes(),this.series.each((function(t){t.events.once("validated",(function(){e.updateCenterGeoPoint(),e.updateScaleRatio(),e.goHome(0)}))})))},enumerable:!0,configurable:!0}),e.prototype.validateDataItems=function(){t.prototype.validateDataItems.call(this),this.updateExtremes()},e.prototype.updateExtremes=function(){var t,e,i,s;this.series.each((function(n){n.ignoreBounds||n instanceof sx&&n.fitExtent||((n.north>e||!vl(e))&&(e=n.north),(n.south<s||!vl(s))&&(s=n.south),(n.west<i||!vl(i))&&(i=n.west),(n.east>t||!vl(t))&&(t=n.east))}));var n=[],r=!1;this.series.each((function(t){t instanceof sx&&!t.fitExtent&&(n=t.getFeatures(),r=!0)})),r||this.series.each((function(t){t.ignoreBounds||t instanceof sx&&t.fitExtent||(n=n.concat(t.getFeatures()))}));var a=jl(50,this.innerWidth),o=jl(50,this.innerHeight),l=this.projection.d3Projection;if(n.length>0&&l&&(this.east!=t||this.west!=i||this.north!=e||this.south!=s)){if(this.east=t,this.west=i,this.north=e,this.south=s,l.rotate){var h=l.rotate(),u=h[0],p=h[1],c=h[2];this.deltaLongitude=u,this.deltaLatitude=p,this.deltaGamma=c}var d={type:"FeatureCollection",features:n},g=l.scale();if(l.fitSize([a,o],d),l.scale()!=g&&this.invalidateDataUsers(),this.series.each((function(t){t instanceof sx&&t.invalidateData()})),this._backgroundSeries){var f=this._backgroundSeries.mapPolygons.getIndex(0);f&&(f.multiPolygon=yb(this.north,this.east,this.south,this.west))}this._fitWidth=a,this._fitHeight=o}this._zoomGeoPointReal&&vl(this._zoomGeoPointReal.latitude)||this.goHome(0)},e.prototype.updateScaleRatio=function(){var t;this.updateCenterGeoPoint();var e=this.innerWidth/this.seriesWidth,i=this.innerHeight/this.seriesHeight;t=El(e,i),(ol(t)||t==1/0)&&(t=1),t!=this.scaleRatio&&(this.scaleRatio=t,qh(this.series.iterator(),(function(e){e.scale=t,e.updateTooltipBounds()})),this.backgroundSeries.scale=t,this.dispatch("scaleratiochanged"))},e.prototype.svgPointToGeo=function(t){var e=this.series.getIndex(0);if(e){var i=Np(t,e);return this.seriesPointToGeo(i)}},e.prototype.geoPointToSVG=function(t){var e=this.series.getIndex(0);if(e){var i=this.geoPointToSeries(t);return Hp(i,e)}},e.prototype.seriesPointToGeo=function(t){return this.projection.invert(t)},e.prototype.geoPointToSeries=function(t){return this.projection.convert(t)},Object.defineProperty(e.prototype,"geodata",{get:function(){return this._geodata},set:function(t){t!=this._geodata&&(this._geodata=t,this.reverseGeodata&&this.processReverseGeodata(this._geodata),this.invalidateData(),this.dataUsers.each((function(t){for(var e=t.data.length-1;e>=0;e--)1==t.data[e].madeFromGeoData&&t.data.splice(e,1);t.disposeData(),t.invalidateData()})))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reverseGeodata",{get:function(){return this.getPropertyValue("reverseGeodata")},set:function(t){this.setPropertyValue("reverseGeodata",t)&&this._geodata&&this.processReverseGeodata(this._geodata)},enumerable:!0,configurable:!0}),e.prototype.processReverseGeodata=function(t){for(var e=0;e<t.features.length;e++)for(var i=t.features[e],s=0;s<i.geometry.coordinates.length;s++)if("MultiPolygon"==i.geometry.type)for(var n=0;n<i.geometry.coordinates[s].length;n++)i.geometry.coordinates[s][n].reverse();else i.geometry.coordinates[s].reverse()},e.prototype.zoomToGeoPoint=function(t,e,i,s,n){var r=this;if(!t){var a=!1;if(this.series.each((function(t){t.dataItems.length>0&&(a=!0)})),!a)return;t=this.zoomGeoPoint}if(t&&vl(t.longitude)&&vl(t.latitude)){this._zoomGeoPointReal=t,e=Cl(e,this.minZoomLevel,this.maxZoomLevel);var o=this.projection.convert(t);if(o){var l=this.geoPointToSVG(t),h=Np(l,this);i&&(h={x:this.innerWidth/2,y:this.innerHeight/2}),vl(s)||(s=this.zoomDuration);var u=h.x-o.x*e*this.scaleRatio,p=h.y-o.y*e*this.scaleRatio;return!n&&e<this.zoomLevel&&this.centerMapOnZoomOut&&e<1.5&&(u=this.innerWidth/2-(this.seriesMaxLeft+(this.seriesMaxRight-this.seriesMaxLeft)/2)*e*this.scaleRatio,p=this.innerHeight/2-(this.seriesMaxTop+(this.seriesMaxBottom-this.seriesMaxTop)/2)*e*this.scaleRatio),this._mapAnimation=this.seriesContainer.animate([{property:"scale",to:e},{property:"x",from:this.seriesContainer.pixelX,to:u},{property:"y",from:this.seriesContainer.pixelY,to:p}],s,this.zoomEasing),this._disposers.push(this._mapAnimation.events.on("animationended",(function(){r._zoomGeoPointReal=r.zoomGeoPoint}))),this.seriesContainer.validatePosition(),this._mapAnimation}}},e.prototype.zoomToMapObject=function(t,e,i,s){void 0==i&&(i=!0);var n=this.seriesContainer.interactions.inertias.getKey("move");if(n&&n.done(),t instanceof ob)return ol(e)&&(e=5),this.zoomToGeoPoint({latitude:t.latitude,longitude:t.longitude},e,i,s,!0);var r=t.dataItem;if(r&&vl(r.zoomLevel)&&(e=r.zoomLevel),t instanceof bb){var a=t.dataItem,o=t.polygon.bbox;0!=o.width&&0!=o.height||(o=t.polygon.group.getBBox()),vl(e)||(e=Math.min(this.seriesWidth/o.width,this.seriesHeight/o.height));var l=void 0;if(a&&gl(a.zoomGeoPoint))l=a.zoomGeoPoint;else{var h={x:o.x+o.width/2,y:o.y+o.height/2},u=zp(h,t.polygon,t.series);l=this.seriesPointToGeo(u)}return this.zoomToGeoPoint(l,e,!0,s,!0)}},e.prototype.zoomToRectangle=function(t,e,i,s,n,r,a){ol(n)&&(n=1);var o=El(s,e),l=jl(s,e);s=o,e=l;var h=Ul(180-this.deltaLongitude);h>180&&(h-=360);var u=s+(e-s)/2,p=s-e;s<h&&e>h&&(u+=180,p=Ul(e-s-360));var c=n*Math.min((this.south-this.north)/(i-t),Math.abs((this.west-this.east)/p));return this.zoomToGeoPoint({latitude:t+(i-t)/2,longitude:u},c,r,a,!0)},e.prototype.zoomIn=function(t,e,i){void 0===i&&(i=1);var s=1+(this.zoomStep-1)*i;return s<1&&(s=1),this.zoomToGeoPoint(t,this.zoomLevel*s,!1,e)},e.prototype.zoomOut=function(t,e,i){void 0===i&&(i=1);var s=1+(this.zoomStep-1)*i;return s<1&&(s=1),this.zoomToGeoPoint(t,this.zoomLevel/s,!1,e)},e.prototype.pan=function(t,e){var i=this.geoPointToSVG(this.zoomGeoPoint);i.x+=this.pixelWidth*t.x,i.y+=this.pixelHeight*t.y,this.zoomToGeoPoint(this.svgPointToGeo(i),this.zoomLevel,!0,e,!0)},Object.defineProperty(e.prototype,"zoomGeoPoint",{get:function(){var t=Hp({x:this.pixelWidth/2,y:this.pixelHeight/2},this);return this.svgPointToGeo(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zoomLevel",{get:function(){return this.seriesContainer.scale},set:function(t){this.seriesContainer.scale=t},enumerable:!0,configurable:!0}),e.prototype.handleMapTransform=function(){this.zoomLevel!=this._prevZoomLevel&&(this.dispatch("zoomlevelchanged"),this._prevZoomLevel=this.zoomLevel,this.svgContainer.readerAlert(this.language.translate("Zoom level changed to %1",this.language.locale,hl(this.zoomLevel)))),!this.zoomGeoPoint||this._prevZoomGeoPoint.latitude==this.zoomGeoPoint.latitude&&this._prevZoomGeoPoint.longitude==this.zoomGeoPoint.longitude||this.dispatch("mappositionchanged")},Object.defineProperty(e.prototype,"smallMap",{get:function(){if(!this._smallMap){var t=new H_;this.smallMap=t}return this._smallMap},set:function(t){this._smallMap&&this.removeDispose(this._smallMap),this._smallMap=t,this._smallMap.chart=this,t.parent=this.chartContainer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zoomControl",{get:function(){return this._zoomControl},set:function(t){this._zoomControl&&this.removeDispose(this._zoomControl),this._zoomControl=t,t.chart=this,t.parent=this.chartContainer,t.plusButton.exportable=!1,t.minusButton.exportable=!1},enumerable:!0,configurable:!0}),e.prototype.createSeries=function(){return new rb},Object.defineProperty(e.prototype,"deltaLongitude",{get:function(){return this.getPropertyValue("deltaLongitude")},set:function(t){t=Tl(t,3),this.setPropertyValue("deltaLongitude",Y_(t))&&(this.rotateMap(),this.updateZoomGeoPoint())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deltaLatitude",{get:function(){return this.getPropertyValue("deltaLatitude")},set:function(t){t=Tl(t,3),this.setPropertyValue("deltaLatitude",t)&&(this.rotateMap(),this.updateZoomGeoPoint())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deltaGamma",{get:function(){return this.getPropertyValue("deltaGamma")},set:function(t){t=Tl(t,3),this.setPropertyValue("deltaGamma",t)&&(this.rotateMap(),this.updateZoomGeoPoint())},enumerable:!0,configurable:!0}),e.prototype.rotateMap=function(){this.projection.d3Projection&&this.projection.d3Projection.rotate&&(this.projection.d3Projection.rotate([this.deltaLongitude,this.deltaLatitude,this.deltaGamma]),this.invalidateProjection())},Object.defineProperty(e.prototype,"maxPanOut",{get:function(){return this.getPropertyValue("maxPanOut")},set:function(t){this.setPropertyValue("maxPanOut",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"homeGeoPoint",{get:function(){return this.getPropertyValue("homeGeoPoint")},set:function(t){this.setPropertyValue("homeGeoPoint",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"homeZoomLevel",{get:function(){return this.getPropertyValue("homeZoomLevel")},set:function(t){this.setPropertyValue("homeZoomLevel",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zoomStep",{get:function(){return this.getPropertyValue("zoomStep")},set:function(t){this.setPropertyValue("zoomStep",t)},enumerable:!0,configurable:!0}),e.prototype.invalidateProjection=function(){this.east=void 0,this.invalidateDataUsers(),this.updateCenterGeoPoint()},Object.defineProperty(e.prototype,"geodataSource",{get:function(){var t=this;if(!this._dataSources["geodata"]){var e=this.getDataSource("geodata");e.events.on("parseended",(function(){t.events.once("datavalidated",(function(){t.goHome(0)}))}))}return this._dataSources["geodata"]},set:function(t){var e=this;this._dataSources["geodata"]&&this.removeDispose(this._dataSources["geodata"]),this._dataSources["geodata"]=t,this._dataSources["geodata"].component=this,this.events.on("inited",(function(){e.loadData("geodata")}),this,!1),this.setDataSourceEvents(t,"geodata")},enumerable:!0,configurable:!0}),e.prototype.processConfig=function(e){if(gl(e["geodata"])&&bl(e["geodata"])){var i=e["geodata"];if(gl(window["am4geodata_"+e["geodata"]]))e["geodata"]=window["am4geodata_"+e["geodata"]];else try{e["geodata"]=JSON.parse(e["geodata"])}catch(s){this.raiseCriticalError(Error("MapChart error: Geodata `"+i+"` is not loaded or is incorrect."),!0)}}gl(e["projection"])&&bl(e["projection"])&&(e["projection"]=this.createClassInstance(e["projection"])),gl(e.smallMap)&&!gl(e.smallMap.type)&&(e.smallMap.type="SmallMap"),gl(e.zoomControl)&&!gl(e.zoomControl.type)&&(e.zoomControl.type="ZoomControl"),t.prototype.processConfig.call(this,e)},e.prototype.handleSeriesAdded=function(e){t.prototype.handleSeriesAdded.call(this,e);var i=e.newValue;i.scale=this.scaleRatio,i.events.on("validated",this.updateCenterGeoPoint,this,!1)},e.prototype.configOrder=function(e,i){return e==i?0:"smallMap"==e?1:"smallMap"==i?-1:"series"==e?1:"series"==i?-1:t.prototype.configOrder.call(this,e,i)},e.prototype.asIs=function(e){return"projection"==e||"geodata"==e||t.prototype.asIs.call(this,e)},Object.defineProperty(e.prototype,"centerGeoPoint",{get:function(){return this._centerGeoPoint},enumerable:!0,configurable:!0}),e.prototype.goHome=function(t){var e=this.homeGeoPoint;e||(e=this.centerGeoPoint),e&&this.zoomToGeoPoint(e,this.homeZoomLevel,!0,t,!0)},e.prototype.setPaper=function(e){return this.svgContainer&&(this.svgContainer.hideOverflow=!0),t.prototype.setPaper.call(this,e)},Object.defineProperty(e.prototype,"backgroundSeries",{get:function(){var t=this;if(!this._backgroundSeries){var e=new _b;e.parent=this.seriesContainer,e.chart=this,e.hiddenInLegend=!0,e.mapPolygons.template.focusable=!1,e.addDisposer(new yh((function(){t._backgroundSeries=void 0}))),this._disposers.push(e);var i=new Td,s=i.getFor("background"),n=e.mapPolygons.template.polygon;n.stroke=s,n.fill=s,n.fillOpacity=0,n.strokeOpacity=0,e.mapPolygons.create(),this._backgroundSeries=e}return this._backgroundSeries},enumerable:!0,configurable:!0}),e.prototype.setLegend=function(e){t.prototype.setLegend.call(this,e),e&&(e.parent=this)},e.prototype.setTapToActivate=function(e){t.prototype.setTapToActivate.call(this,e),this.seriesContainer.interactions.isTouchProtected=!0,this.panSprite.interactions.isTouchProtected=!0},e.prototype.handleTapToActivate=function(){t.prototype.handleTapToActivate.call(this),this.seriesContainer.interactions.isTouchProtected=!1,this.panSprite.interactions.isTouchProtected=!1},e.prototype.handleTapToActivateDeactivation=function(){t.prototype.handleTapToActivateDeactivation.call(this),this.seriesContainer.interactions.isTouchProtected=!0,this.panSprite.interactions.isTouchProtected=!0},e.prototype.asFunction=function(e){return"zoomEasing"==e||t.prototype.asIs.call(this,e)},e.prototype.hasLicense=function(){if(Kc.commercialLicense)return!0;if(!t.prototype.hasLicense.call(this))return!1;for(var e=0;e<Kc.licenses.length;e++)if(Kc.licenses[e].match(/^MP.{5,}/i))return!0;return!1},e}(Vm);gu.registeredClasses.MapChart=nx;var rx=function(t){function e(){var e=t.call(this)||this;return e.className="MapSpline",e.applyTheme(),e}return Tt(e,t),e.prototype.createLine=function(){this.line=new bf,this.line.tensionX=.8,this.line.tensionY=.8},Object.defineProperty(e.prototype,"shortestDistance",{get:function(){return!1},set:function(t){},enumerable:!0,configurable:!0}),e}(K_);gu.registeredClasses.MapSpline=rx;var ax=function(t){function e(){var e=t.call(this)||this;return e.className="MapArc",e.applyTheme(),e}return Tt(e,t),e.prototype.createLine=function(){this.line=new ff},Object.defineProperty(e.prototype,"shortestDistance",{get:function(){return!1},set:function(t){},enumerable:!0,configurable:!0}),e}(K_);gu.registeredClasses.MapArc=ax;var ox=function(t){function e(){var e=t.call(this)||this;return e.className="MapSplineSeriesDataItem",e.applyTheme(),e}return Tt(e,t),e}(Z_),lx=function(t){function e(){var e=t.call(this)||this;return e.className="MapSplineSeries",e.applyTheme(),e}return Tt(e,t),e.prototype.createDataItem=function(){return new ox},e.prototype.createLine=function(){return new rx},e}(q_);gu.registeredClasses.MapSplineSeries=lx,gu.registeredClasses.MapSplineSeriesDataItem=ox;var hx=function(t){function e(){var e=t.call(this)||this;return e.className="MapArcSeriesDataItem",e.applyTheme(),e}return Tt(e,t),e}(Z_),ux=function(t){function e(){var e=t.call(this)||this;return e.className="MapArcSeries",e.applyTheme(),e}return Tt(e,t),e.prototype.createDataItem=function(){return new hx},e.prototype.createLine=function(){return new ax},e}(q_);gu.registeredClasses.MapArcSeries=ux,gu.registeredClasses.MapArcSeriesDataItem=hx;var px=function(t){function e(){var e=t.call(this)||this;e._chart=new vh,e.className="ZoomControl",e.align="right",e.valign="bottom",e.layout="vertical",e.padding(5,5,5,5);var i=new Td,s=e.createChild($g);s.shouldClone=!1,s.label.text="+",e.plusButton=s;var n=e.createChild(Lg);n.shouldClone=!1,n.background.fill=i.getFor("alternativeBackground"),n.background.fillOpacity=.05,n.background.events.on("hit",e.handleBackgroundClick,e,!1),n.events.on("sizechanged",e.updateThumbSize,e,!1),e.slider=n;var r=n.createChild($g);r.shouldClone=!1,r.padding(0,0,0,0),r.draggable=!0,r.events.on("drag",e.handleThumbDrag,e,!1),e.thumb=r;var a=e.createChild($g);return a.shouldClone=!1,a.label.text="-",e.minusButton=a,e.thumb.role="slider",e.thumb.readerLive="polite",e.thumb.readerTitle=e.language.translate("Use arrow keys to zoom in and out"),e.minusButton.readerTitle=e.language.translate("Press ENTER to zoom in"),e.plusButton.readerTitle=e.language.translate("Press ENTER to zoom out"),e.applyTheme(),e.events.on("propertychanged",(function(t){"layout"==t.property&&e.fixLayout()}),void 0,!1),e._disposers.push(e._chart),e.fixLayout(),e}return Tt(e,t),e.prototype.fixLayout=function(){var t=this.plusButton,e=this.minusButton,i=this.thumb,s=this.slider;t.x=void 0,t.y=void 0,e.x=void 0,e.y=void 0,i.x=void 0,i.y=void 0,s.x=void 0,s.y=void 0,t.padding(6,10,6,10),e.padding(6,10,6,10),e.label.align="center",e.label.valign="middle",t.label.align="center",t.label.valign="middle","vertical"==this.layout?(this.width=40,this.height=void 0,e.width=rl(100),e.height=void 0,i.width=rl(100),i.height=void 0,t.width=rl(100),t.height=void 0,s.width=rl(100),e.marginTop=1,t.marginBottom=2,s.height=0,e.toFront(),t.toBack(),i.minX=0,i.maxX=0,i.minY=0):"horizontal"==this.layout&&(this.height=40,this.width=void 0,e.height=rl(100),e.width=void 0,t.height=rl(100),t.width=void 0,i.height=rl(100),i.width=void 0,i.minX=0,i.minY=0,i.maxY=0,s.height=rl(100),s.width=0,e.toBack(),t.toFront())},e.prototype.handleBackgroundClick=function(t){var e=t.target,i=t.spritePoint.y,s=this.chart,n=Math.log(s.maxZoomLevel)/Math.LN2,r=Math.log(s.minZoomLevel)/Math.LN2,a=(e.pixelHeight-i)/e.pixelHeight*(r+(n-r)),o=Math.pow(2,a);s.zoomToGeoPoint(s.zoomGeoPoint,o)},Object.defineProperty(e.prototype,"chart",{get:function(){return this._chart.get()},set:function(t){var e=this;this._chart.set(t,new bh([t.events.on("maxsizechanged",this.updateThumbSize,this,!1),t.events.on("zoomlevelchanged",this.updateThumb,this,!1),this.minusButton.events.on("hit",(function(){t.zoomOut(t.zoomGeoPoint)}),t,!1),zd().body.events.on("keyup",(function(i){e.topParent.hasFocused&&(Ad.isKey(i.event,"plus")?t.zoomIn():Ad.isKey(i.event,"minus")&&t.zoomOut())}),t),this.plusButton.events.on("hit",(function(){t.zoomIn(t.zoomGeoPoint)}),t,!1)]))},enumerable:!0,configurable:!0}),e.prototype.updateThumbSize=function(){var t=this.chart;if(t){var e=this.slider,i=this.thumb;"vertical"==this.layout?(i.minHeight=Math.min(this.slider.pixelHeight,20),i.height=e.pixelHeight/this.stepCount,i.maxY=e.pixelHeight-i.pixelHeight,i.pixelHeight<=1?i.visible=!1:i.visible=!0):(i.minWidth=Math.min(this.slider.pixelWidth,20),i.width=e.pixelWidth/this.stepCount,i.maxX=e.pixelWidth-i.pixelWidth,i.pixelWidth<=1?i.visible=!1:i.visible=!0)}},e.prototype.updateThumb=function(){var t=this.slider,e=this.chart,i=this.thumb;if(!i.isDown){var s=(Math.log(e.zoomLevel)-Math.log(this.chart.minZoomLevel))/Math.LN2;"vertical"==this.layout?i.y=t.pixelHeight-(t.pixelHeight-i.pixelHeight)*s/this.stepCount-i.pixelHeight:i.x=t.pixelWidth*s/this.stepCount}},e.prototype.handleThumbDrag=function(){var t,e=this.slider,i=this.chart,s=this.thumb,n=Math.log(this.chart.minZoomLevel)/Math.LN2;t="vertical"==this.layout?this.stepCount*(e.pixelHeight-s.pixelY-s.pixelHeight)/(e.pixelHeight-s.pixelHeight):this.stepCount*s.pixelX/e.pixelWidth,t=n+t;var r=Math.pow(2,t);i.zoomToGeoPoint(void 0,r,!1,0)},Object.defineProperty(e.prototype,"stepCount",{get:function(){return Math.log(this.chart.maxZoomLevel)/Math.LN2-Math.log(this.chart.minZoomLevel)/Math.LN2},enumerable:!0,configurable:!0}),e.prototype.createBackground=function(){return new qg},e}(Lg);function cx(t,e){return[t,ty(ny((Wm+e)/2))]}function dx(){return gx(cx).scale(961/Gm)}function gx(t){var e,i,s,n=xv(t),r=n.center,a=n.scale,o=n.translate,l=n.clipExtent,h=null;function u(){var r=zm*a(),o=n($b(n.rotate()).invert([0,0]));return l(null==h?[[o[0]-r,o[1]-r],[o[0]+r,o[1]+r]]:t===cx?[[Math.max(o[0]-r,h),e],[Math.min(o[0]+r,i),s]]:[[h,Math.max(o[1]-r,e)],[i,Math.min(o[1]+r,s)]])}return n.scale=function(t){return arguments.length?(a(t),u()):a()},n.translate=function(t){return arguments.length?(o(t),u()):o()},n.center=function(t){return arguments.length?(r(t),u()):r()},n.clipExtent=function(t){return arguments.length?(null==t?h=e=i=s=null:(h=+t[0][0],e=+t[0][1],i=+t[1][0],s=+t[1][1]),u()):null==h?null:[[h,e],[i,s]]},u()}gu.registeredClasses.ZoomControl=px,cx.invert=function(t,e){return[t,2*Zm(Qm(e))-Wm]};var fx=function(t){function e(){var e=t.call(this)||this;return e.d3Projection=dx(),e}return Tt(e,t),e}(N_);gu.registeredClasses.Mercator=fx;var mx=Math.abs,yx=Math.atan,bx=(Math.atan2,Math.ceil,Math.cos),vx=Math.exp,_x=(Math.floor,Math.log),xx=(Math.max,Math.min,Math.pow,Math.round,Math.sign,Math.sin),wx=Math.tan,Px=1e-6,Ox=Math.PI,kx=Ox/2,Dx=Ox/4;Math.SQRT1_2,Sx(2),Sx(Ox);function Tx(t){return t>1?kx:t<-1?-kx:Math.asin(t)}function Sx(t){return t>0?Math.sqrt(t):0}function Cx(t,e){return[t,1.25*_x(wx(Dx+.4*e))]}function Mx(){return xv(Cx).scale(108.318)}Cx.invert=function(t,e){return[t,2.5*yx(vx(.8*e))-.625*Ox]};var Ix=function(t){function e(){var e=t.call(this)||this;return e.d3Projection=Mx(),e}return Tt(e,t),e}(N_);function jx(t,e){for(var i=(1+kx)*xx(e),s=0,n=1/0;s<10&&mx(n)>Px;s++)e-=n=(e+xx(e)-i)/(1+bx(e));return i=Sx(2+Ox),[t*(1+bx(e))/i,2*e/i]}function Ex(){return xv(jx).scale(173.044)}gu.registeredClasses.Miller=Ix,jx.invert=function(t,e){var i=1+kx,s=Sx(i/2);return[2*t*s/(1+bx(e*=s)),Tx((e+xx(e))/i)]};var Lx=function(t){function e(){var e=t.call(this)||this;return e.d3Projection=Ex(),e}return Tt(e,t),e}(N_);function Ax(t){return function(e,i){var s=$m(e),n=$m(i),r=t(s*n);return r===1/0?[2,0]:[r*n*ey(e),r*ey(i)]}}function Fx(t){return function(e,i){var s=sy(e*e+i*i),n=t(s),r=ey(n),a=$m(n);return[qm(e*r,s*a),ay(s&&i*r/s)]}}function Rx(t,e){return[$m(e)*ey(t),ey(e)]}function Vx(){return xv(Rx).scale(249.5).clipAngle(90+Nm)}gu.registeredClasses.Eckert6=Lx,Rx.invert=Fx(ay);var Bx=function(t){function e(){var e=t.call(this)||this;return e.d3Projection=Vx(),e}return Tt(e,t),e}(N_);function Nx(t,e){var i=$m(e),s=1+$m(t)*i;return[i*ey(t)/s,ey(e)/s]}function Hx(){return xv(Nx).scale(250).clipAngle(142)}gu.registeredClasses.Orthographic=Bx,Nx.invert=Fx((function(t){return 2*Zm(t)}));var zx=function(t){function e(){var e=t.call(this)||this;return e.d3Projection=Hx(),e}return Tt(e,t),e}(N_);function Wx(t){var e=0,i=zm/3,s=wv(t),n=s(e,i);return n.parallels=function(t){return arguments.length?s(e=t[0]*Um,i=t[1]*Um):[e*Xm,i*Xm]},n}function Yx(t){var e=$m(t);function i(t,i){return[t*e,ey(i)/e]}return i.invert=function(t,i){return[t/e,ay(i*e)]},i}function Gx(t,e){var i=ey(t),s=(i+ey(e))/2;if(Km(s)<Nm)return Yx(t);var n=1+i*(2*s-i),r=sy(n)/s;function a(t,e){var i=sy(n-2*s*ey(e))/s;return[i*ey(t*=s),r-i*$m(t)]}return a.invert=function(t,e){var i=r-e,a=qm(t,Km(i))*iy(i);return i*s<0&&(a-=zm*iy(t)*iy(i)),[a/s,ay((n-(t*t+i*i)*s*s)/(2*s))]},a}function Xx(){return Wx(Gx).scale(155.424).center([0,33.6442])}function Ux(){return Xx().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}gu.registeredClasses.Stereographic=zx;var Kx=function(t){function e(){var e=t.call(this)||this;return e.d3Projection=Ux(),e}return Tt(e,t),e}(N_);function Zx(t){var e=t.length;return{point:function(i,s){var n=-1;while(++n<e)t[n].point(i,s)},sphere:function(){var i=-1;while(++i<e)t[i].sphere()},lineStart:function(){var i=-1;while(++i<e)t[i].lineStart()},lineEnd:function(){var i=-1;while(++i<e)t[i].lineEnd()},polygonStart:function(){var i=-1;while(++i<e)t[i].polygonStart()},polygonEnd:function(){var i=-1;while(++i<e)t[i].polygonEnd()}}}function qx(){var t,e,i,s,n,r,a=Ux(),o=Xx().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=Xx().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h={point:function(t,e){r=[t,e]}};function u(t){var e=t[0],a=t[1];return r=null,i.point(e,a),r||(s.point(e,a),r)||(n.point(e,a),r)}function p(){return t=e=null,u}return u.invert=function(t){var e=a.scale(),i=a.translate(),s=(t[0]-i[0])/e,n=(t[1]-i[1])/e;return(n>=.12&&n<.234&&s>=-.425&&s<-.214?o:n>=.166&&n<.234&&s>=-.214&&s<-.115?l:a).invert(t)},u.stream=function(i){return t&&e===i?t:t=Zx([a.stream(e=i),o.stream(i),l.stream(i)])},u.precision=function(t){return arguments.length?(a.precision(t),o.precision(t),l.precision(t),p()):a.precision()},u.scale=function(t){return arguments.length?(a.scale(t),o.scale(.35*t),l.scale(t),u.translate(a.translate())):a.scale()},u.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),r=+t[0],u=+t[1];return i=a.translate(t).clipExtent([[r-.455*e,u-.238*e],[r+.455*e,u+.238*e]]).stream(h),s=o.translate([r-.307*e,u+.201*e]).clipExtent([[r-.425*e+Nm,u+.12*e+Nm],[r-.214*e-Nm,u+.234*e-Nm]]).stream(h),n=l.translate([r-.205*e,u+.212*e]).clipExtent([[r-.214*e+Nm,u+.166*e+Nm],[r-.115*e-Nm,u+.234*e-Nm]]).stream(h),p()},u.fitExtent=function(t,e){return lv(u,t,e)},u.fitSize=function(t,e){return hv(u,t,e)},u.fitWidth=function(t,e){return uv(u,t,e)},u.fitHeight=function(t,e){return pv(u,t,e)},u.scale(1070)}gu.registeredClasses.Albers=Kx;var $x=function(t){function e(){var e=t.call(this)||this;return e.d3Projection=qx(),e}return Tt(e,t),e}(N_);function Jx(t,e){var i=e*e,s=i*i;return[t*(.8707-.131979*i+s*(s*(.003971*i-.001529*s)-.013791)),e*(1.007226+i*(.015085+s*(.028874*i-.044475-.005916*s)))]}function Qx(){return xv(Jx).scale(175.295)}gu.registeredClasses.AlbersUsa=$x,Jx.invert=function(t,e){var i,s=e,n=25;do{var r=s*s,a=r*r;s-=i=(s*(1.007226+r*(.015085+a*(.028874*r-.044475-.005916*a)))-e)/(1.007226+r*(.045255+a*(.259866*r-.311325-.005916*11*a)))}while(Km(i)>Nm&&--n>0);return[t/(.8707+(r=s*s)*(r*(r*r*r*(.003971-.001529*r)-.013791)-.131979)),s]};var tw=function(t){function e(){var e=t.call(this)||this;return e.d3Projection=Qx(),e}return Tt(e,t),e}(N_);gu.registeredClasses.NaturalEarth1=tw;var ew=Ax((function(t){return sy(2/(1+t))}));function iw(){return xv(ew).scale(124.75).clipAngle(179.999)}ew.invert=Fx((function(t){return 2*ay(t/2)}));var sw=function(t){function e(){var e=t.call(this)||this;return e.d3Projection=iw(),e}return Tt(e,t),e}(N_);gu.registeredClasses.AzimuthalEqualArea=sw;var nw=1.340264,rw=-.081106,aw=893e-6,ow=.003796,lw=sy(3)/2,hw=12;function uw(t,e){var i=ay(lw*ey(e)),s=i*i,n=s*s*s;return[t*$m(i)/(lw*(nw+3*rw*s+n*(7*aw+9*ow*s))),i*(nw+rw*s+n*(aw+ow*s))]}function pw(){return xv(uw).scale(177.158)}uw.invert=function(t,e){for(var i,s,n,r=e,a=r*r,o=a*a*a,l=0;l<hw;++l)if(s=r*(nw+rw*a+o*(aw+ow*a))-e,n=nw+3*rw*a+o*(7*aw+9*ow*a),r-=i=s/n,a=r*r,o=a*a*a,Km(i)<Hm)break;return[lw*t*(nw+3*rw*a+o*(7*aw+9*ow*a))/$m(r),ay(ey(r)/lw)]};var cw=function(t){function e(){var e=t.call(this)||this;return e.d3Projection=pw(),e}return Tt(e,t),e}(N_);gu.registeredClasses.EqualEarth=cw;var dw={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[106.8581,48.1756],[106.9179,48.1739],[107.0005,48.1915],[107.0994,48.2188],[107.1469,48.1572],[107.1976,48.1158],[107.2596,48.0488],[107.3518,47.9776],[107.3998,47.963],[107.5287,47.9385],[107.5722,47.9136],[107.577,47.883],[107.553,47.8174],[107.5108,47.6519],[107.4776,47.5999],[107.3659,47.5855],[107.2565,47.5999],[107.2018,47.6369],[107.146,47.7007],[107.1109,47.7182],[107.0328,47.7324],[106.9306,47.7349],[106.8135,47.7209],[106.6641,47.7109],[106.5462,47.7352],[106.5221,47.7455],[106.4995,47.7866],[106.4995,47.8651],[106.469,47.9296],[106.4306,47.967],[106.4224,48.0979],[106.3564,48.2572],[106.5913,48.2266],[106.8012,48.193],[106.8581,48.1756]]],[[[107.5085,47.2936],[107.4443,47.2758],[107.3849,47.2903],[107.3445,47.3857],[107.3896,47.4099],[107.4538,47.4115],[107.4966,47.3889],[107.5322,47.3582],[107.537,47.3292],[107.5085,47.2936]]],[[[108.3767,47.5272],[108.2643,47.5597],[108.2287,47.6223],[108.1986,47.7235],[108.1965,47.8188],[108.2429,47.8956],[108.2964,47.9363],[108.3605,47.9531],[108.4497,47.9436],[108.506,47.9141],[108.5032,47.7083],[108.4532,47.595],[108.3767,47.5272]]]]},properties:{name:"Ulaanbaatar",id:"MN-1",CNTRY:"Mongolia",TYPE:"Capital City"},id:"MN-1"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[104.5195,49.1056],[104.5612,49.0413],[104.5631,48.997],[104.4715,48.9389],[104.3781,48.8992],[104.2416,48.9462],[104.1851,48.9523],[104.0007,48.9868],[104.0013,49.0407],[104.0616,49.0958],[104.1031,49.1213],[104.2835,49.0807],[104.3424,49.1199],[104.3774,49.1298],[104.4439,49.1283],[104.5195,49.1056]]]},properties:{name:"Orhon",id:"MN-035",CNTRY:"Mongolia",TYPE:"Province"},id:"MN-035"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[106.14,49.7877],[106.0051,49.6875],[106.0051,49.6551],[106.0403,49.6172],[106.12,49.6001],[106.2832,49.5387],[106.3658,49.5242],[106.4101,49.5302],[106.4708,49.5684],[106.5067,49.6059],[106.6229,49.579],[106.7229,49.5455],[106.7793,49.5091],[106.7997,49.4705],[106.7997,49.3703],[106.7809,49.2643],[106.7955,49.2085],[106.7989,49.1317],[106.7146,49.1093],[106.6014,49.0873],[106.471,49.1201],[106.3897,49.1548],[106.3569,49.1861],[106.2797,49.1805],[106.2195,49.1668],[106.1572,49.1411],[106.119,49.1153],[106.0648,49.0966],[105.834,49.0823],[105.7877,49.0964],[105.777,49.1829],[105.8019,49.267],[105.8376,49.3626],[105.834,49.4626],[105.8675,49.5375],[105.8587,49.577],[105.8389,49.6039],[105.8399,49.6847],[106.0016,49.8007],[106.0622,49.8744],[106.0979,49.9021],[106.1585,49.9251],[106.2083,49.8975],[106.2012,49.8445],[106.14,49.7877]]]},properties:{name:"Darhan-Uul",id:"MN-037",CNTRY:"Mongolia",TYPE:"Province"},id:"MN-037"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[108.3767,47.5272],[108.4532,47.595],[108.5032,47.7083],[108.506,47.9141],[108.6237,47.9405],[108.6843,47.965],[108.7869,48.0321],[108.8746,48.0714],[108.9108,48.1092],[108.9478,48.1972],[109.0007,48.2407],[109.0339,48.2963],[109.0361,48.3467],[109.0175,48.4051],[108.9901,48.4535],[108.9517,48.5525],[108.9176,48.6693],[108.8743,48.7501],[108.8549,48.8165],[108.8175,48.8633],[108.7753,48.9319],[108.7381,48.9739],[108.5523,49.0984],[108.5215,49.1239],[108.5357,49.2261],[108.5739,49.3359],[108.6248,49.3414],[108.7133,49.3381],[108.7863,49.3515],[108.8789,49.3424],[108.9655,49.3595],[109.0425,49.3361],[109.1069,49.3421],[109.1844,49.3603],[109.3291,49.3415],[109.4521,49.2949],[109.4895,49.2851],[109.501,49.2548],[109.5397,49.2261],[109.5711,49.2226],[109.7015,49.2316],[109.7565,49.2273],[109.8061,49.2136],[109.8434,49.1913],[109.887,49.21],[110.0575,49.1943],[110.1849,49.1675],[110.2341,49.1651],[110.3024,49.1816],[110.3515,49.2075],[110.3995,49.2585],[110.4827,49.2032],[110.5405,49.1959],[110.5963,49.1621],[110.6568,49.15],[110.7663,49.1451],[110.8591,49.1671],[110.9247,49.1745],[110.9922,49.1999],[111.106,49.2735],[111.1698,49.3003],[111.3333,49.3387],[111.3616,49.3682],[111.3923,49.3731],[111.5019,49.3437],[111.5221,49.3461],[111.6625,49.3963],[111.7285,49.4059],[111.8189,49.3911],[111.8977,49.3917],[111.9657,49.4025],[112.0691,49.3637],[112.1493,49.3241],[112.1667,49.3047],[112.1869,49.2229],[112.1981,49.1273],[112.2185,49.0871],[112.2781,49.0243],[112.2927,48.9819],[112.2751,48.9415],[112.2405,48.8937],[112.2371,48.8575],[112.2493,48.8251],[112.2935,48.7498],[112.3513,48.6861],[112.4596,48.5414],[112.5119,48.484],[112.5376,48.4233],[112.5358,48.3586],[112.5181,48.3196],[112.5115,48.2463],[112.5334,48.1702],[112.5436,48.0863],[112.5588,48.0305],[112.6083,47.9297],[112.6686,47.8431],[112.6941,47.7939],[112.5309,47.7891],[112.4089,47.7636],[112.2922,47.715],[112.1729,47.6725],[112.1163,47.6446],[112.0759,47.5935],[112.0515,47.4909],[112.0488,47.39],[112.0679,47.316],[111.9634,47.3386],[111.8551,47.3681],[111.793,47.3796],[111.6775,47.3287],[111.5673,47.2655],[111.5337,47.2349],[111.4675,47.1367],[111.4461,47.0687],[111.4335,46.9941],[111.4018,46.9487],[111.3797,46.8645],[111.3935,46.7919],[111.3005,46.73],[111.2619,46.6878],[111.2332,46.6106],[111.2386,46.5261],[111.2614,46.4595],[111.2478,46.3769],[111.2037,46.2876],[111.1671,46.2316],[111.1181,46.1858],[110.9766,46.0896],[110.9577,46.0599],[110.8682,46.0631],[110.5649,46.1042],[110.5166,46.2182],[110.4601,46.2818],[110.39,46.3728],[110.288,46.4491],[110.2172,46.5109],[110.1591,46.5797],[110.1218,46.6037],[110.027,46.624],[109.9864,46.5971],[110.0059,46.5031],[110.0099,46.4573],[109.9963,46.4235],[109.938,46.3447],[109.915,46.3019],[109.8729,46.2663],[109.7894,46.2139],[109.6709,46.169],[109.6228,46.1419],[109.5698,46.1572],[109.4962,46.1656],[109.3447,46.1682],[109.3023,46.1753],[109.2511,46.2015],[109.169,46.2702],[109.1166,46.3742],[109.0882,46.3972],[108.9589,46.4639],[108.9734,46.4988],[108.9765,46.5771],[108.9656,46.6329],[108.9706,46.691],[109.0011,46.7808],[109.0039,46.8098],[108.9864,46.8314],[108.9179,46.8622],[108.8808,46.9224],[108.8205,46.9803],[108.7299,47.0257],[108.6937,47.0504],[108.6614,47.0863],[108.6306,47.1387],[108.597,47.2176],[108.533,47.2948],[108.507,47.3527],[108.4599,47.401],[108.435,47.4385],[108.4132,47.4608],[108.3767,47.5272]]]},properties:{name:"Hentiy",id:"MN-039",CNTRY:"Mongolia",TYPE:"Province"},id:"MN-039"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[102.6753,50.4163],[102.5001,50.3547],[102.4177,50.3005],[102.3915,50.2581],[102.3595,50.1855],[102.2491,50.1099],[102.2175,50.0723],[102.1325,50.0051],[102.1043,49.9623],[102.1073,49.9302],[102.1377,49.9047],[102.2751,49.8595],[102.3571,49.8431],[102.4862,49.8035],[102.5581,49.7897],[102.7205,49.7345],[102.7847,49.6915],[102.6693,49.6378],[102.5396,49.6405],[102.5007,49.6152],[102.4689,49.557],[102.4284,49.5082],[102.3448,49.4532],[102.2808,49.4317],[102.037,49.3888],[101.9779,49.3731],[101.8986,49.3218],[101.852,49.299],[101.8056,49.2508],[101.7258,49.2338],[101.6773,49.1929],[101.6423,49.1305],[101.6345,49.0719],[101.6658,48.9627],[101.5376,48.951],[101.4475,48.9532],[101.3578,48.9715],[101.2925,49.009],[101.149,49.0498],[100.9501,49.1153],[100.8866,49.1305],[100.771,49.1806],[100.7027,49.2049],[100.6498,49.107],[100.6131,49.0774],[100.4763,48.9984],[100.5989,48.9594],[100.6404,48.9235],[100.5854,48.8965],[100.493,48.8715],[100.4355,48.8252],[100.3776,48.73],[100.3594,48.6715],[100.3625,48.6302],[100.3844,48.5944],[100.4763,48.5087],[100.4021,48.4989],[100.2899,48.4907],[100.2445,48.4796],[100.2158,48.4598],[100.2117,48.4165],[100.1828,48.3933],[100.1124,48.3889],[100.0651,48.3995],[99.9583,48.4448],[99.9058,48.4612],[99.7873,48.4855],[99.7836,48.421],[99.7494,48.3416],[99.7221,48.3065],[99.6744,48.2852],[99.3496,48.2403],[99.266,48.2353],[99.2236,48.2429],[99.0743,48.2962],[99.0967,48.3422],[99.098,48.412],[99.0721,48.5046],[99.0709,48.53],[99.102,48.6212],[99.178,48.7212],[99.2154,48.759],[99.178,48.8596],[99.1599,48.9275],[99.1466,49.0632],[99.1139,49.1137],[99.0335,49.1139],[98.9719,49.1056],[98.837,49.1099],[98.795,49.0962],[98.7727,49.0637],[98.7709,49.0333],[98.7425,49.012],[98.6631,48.9833],[98.5525,48.9345],[98.4781,48.9623],[98.4236,49.0023],[98.3544,49.0181],[98.2341,49.0173],[98.1799,49.0107],[98.1153,48.9899],[98.068,48.9865],[97.8965,48.9987],[97.8597,49.0073],[97.7747,49.0638],[97.7056,49.0994],[97.5626,49.1505],[97.4897,49.1663],[97.3221,49.1817],[97.2285,49.1775],[97.1757,49.1669],[97.1183,49.2257],[97.0261,49.2877],[96.9353,49.3248],[96.8775,49.3685],[96.8833,49.4503],[96.8755,49.5087],[96.9349,49.5441],[97.0777,49.6489],[97.1029,49.6841],[97.1287,49.7485],[97.1379,49.8279],[97.17,49.7863],[97.1937,49.7747],[97.3162,49.7574],[97.43,49.788],[97.5439,49.8469],[97.6114,49.8956],[97.5835,49.9482],[97.6744,49.9493],[97.7655,49.9843],[97.8098,49.9821],[97.8213,49.9567],[97.8627,49.9479],[97.9145,49.9955],[97.9515,50.0073],[97.9729,50.0302],[98.0189,50.0365],[98.0578,50.0535],[98.1162,50.1039],[98.1508,50.1777],[98.1837,50.2145],[98.2487,50.2499],[98.278,50.3121],[98.2567,50.4111],[98.2892,50.4567],[98.3245,50.539],[98.3069,50.5617],[98.2648,50.5746],[98.1598,50.5871],[98.1327,50.5964],[98.0488,50.6528],[98.0181,50.7011],[97.9816,50.7254],[97.955,50.7819],[97.9723,50.8165],[98.0195,50.8515],[98.0129,50.8741],[97.8673,50.9498],[97.8621,50.9749],[97.8284,51.0036],[97.8676,51.0455],[97.9101,51.1637],[97.9535,51.2319],[97.9573,51.2778],[97.9449,51.3229],[97.9717,51.3439],[97.9947,51.3869],[98.0482,51.4379],[98.1,51.4584],[98.1924,51.4524],[98.2343,51.4623],[98.2629,51.5208],[98.2405,51.5666],[98.2992,51.6572],[98.3153,51.7179],[98.3677,51.7451],[98.495,51.7656],[98.5479,51.7887],[98.6213,51.7961],[98.6963,51.8204],[98.7294,51.8497],[98.7983,51.9629],[98.8189,52.0135],[98.8526,52.041],[98.8715,52.1292],[98.8936,52.1495],[98.9537,52.1479],[99.0485,52.0721],[99.1841,52.0368],[99.2732,52.0201],[99.2948,51.9752],[99.3617,51.9548],[99.4595,51.9479],[99.5595,51.9199],[99.6673,51.9139],[99.7277,51.9015],[99.7706,51.8817],[99.8331,51.8239],[99.8971,51.7874],[99.9935,51.7533],[100.1247,51.7605],[100.3127,51.7445],[100.3723,51.7494],[100.4479,51.7405],[100.5156,51.7504],[100.6135,51.7156],[100.6764,51.7145],[100.7363,51.6811],[100.8225,51.6609],[100.8657,51.6401],[100.9434,51.6263],[101.0332,51.5804],[101.0865,51.5743],[101.1609,51.5423],[101.2289,51.5477],[101.2586,51.5394],[101.3479,51.4705],[101.3921,51.4554],[101.4467,51.4887],[101.5413,51.5032],[101.5995,51.4937],[101.642,51.4566],[101.6745,51.4513],[101.7446,51.4611],[101.8555,51.4216],[101.947,51.421],[101.9958,51.3958],[102.0689,51.3971],[102.1481,51.3521],[102.2087,51.3294],[102.2105,51.3049],[102.1623,51.2815],[102.1513,51.2641],[102.1785,51.2199],[102.1711,51.1483],[102.1942,51.0718],[102.2499,51.0013],[102.2669,50.9655],[102.2601,50.9343],[102.2219,50.8651],[102.2407,50.8185],[102.3355,50.7665],[102.354,50.7267],[102.2933,50.6503],[102.2942,50.6104],[102.3206,50.5841],[102.4038,50.551],[102.5052,50.5409],[102.5451,50.5207],[102.5679,50.4829],[102.6421,50.4294],[102.6753,50.4163]]]},properties:{name:"Hövsgöl",id:"MN-041",CNTRY:"Mongolia",TYPE:"Province"},id:"MN-041"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[93.4295,48.4243],[93.483,48.3653],[93.485,48.3009],[93.4389,48.2022],[93.4219,48.1537],[93.3979,48.1183],[93.3523,48.0789],[93.3014,48.0479],[93.2416,47.9991],[93.1824,47.9656],[93.2683,47.8634],[93.3033,47.8337],[93.3893,47.777],[93.5035,47.7177],[93.6145,47.6516],[93.5396,47.5574],[93.6405,47.5148],[93.6863,47.4875],[93.7499,47.4288],[93.7736,47.3915],[93.8128,47.3627],[93.886,47.3361],[93.9674,47.3208],[94.0122,47.3038],[94.0559,47.2591],[94.0726,47.2047],[94.1279,47.1008],[94.1862,47.0265],[94.247,46.9276],[94.288,46.8787],[94.3464,46.8341],[94.4125,46.8003],[94.2856,46.7468],[94.2256,46.7309],[94.1694,46.7244],[94.0505,46.7238],[93.9794,46.7184],[93.9185,46.6951],[93.8611,46.6389],[93.8009,46.5932],[93.7659,46.5507],[93.7015,46.5935],[93.6599,46.6131],[93.6025,46.6277],[93.5195,46.636],[93.5545,46.5589],[93.6165,46.4744],[93.6355,46.4275],[93.6145,46.3545],[93.5579,46.2771],[93.5381,46.2409],[93.4735,46.1698],[93.4291,46.0903],[93.4083,46.0407],[93.376,45.8878],[93.3193,45.8531],[93.1199,45.7661],[93.0847,45.7257],[93.0821,45.6761],[93.1061,45.6103],[93.1357,45.5625],[93.1521,45.5187],[93.1557,45.4691],[93.1525,45.2975],[93.1553,45.2377],[93.1757,45.1339],[93.2121,45.0047],[93.1054,45.0022],[93.0699,45.0184],[92.8975,45.0105],[92.7919,45.0103],[92.61,45.0154],[92.5146,45.01],[92.4358,45.0212],[92.413,45.0394],[92.3411,45.0507],[92.2629,45.0493],[92.1722,45.0305],[92.0773,45.0629],[92.0165,45.0693],[91.7669,45.0687],[91.652,45.0567],[91.5446,45.0735],[91.482,45.1357],[91.4608,45.1443],[91.4129,45.1337],[91.3743,45.1047],[91.2907,45.118],[91.2327,45.1405],[91.1581,45.1942],[91.1115,45.2047],[91.0222,45.2052],[90.9382,45.1825],[90.8725,45.1982],[90.8963,45.2477],[90.8756,45.2842],[90.8132,45.2863],[90.8077,45.3509],[90.7679,45.4216],[90.7335,45.4539],[90.6853,45.4837],[90.6637,45.5169],[90.6739,45.5805],[90.7031,45.6375],[90.6998,45.6907],[90.7257,45.7369],[90.7692,45.7709],[90.8033,45.8117],[90.8481,45.8833],[90.8943,45.9251],[91.0115,46.0005],[91.0221,46.0228],[91.0041,46.0745],[91.0215,46.1131],[90.9348,46.2056],[90.9512,46.2297],[90.9131,46.3097],[90.9559,46.3365],[91.0436,46.4883],[91.0776,46.564],[91.0276,46.5925],[91.0395,46.6623],[91.0607,46.7105],[91.1057,46.7117],[91.1605,46.6913],[91.2475,46.6707],[91.2927,46.6459],[91.3275,46.5867],[91.3585,46.5555],[91.4361,46.5425],[91.4793,46.5533],[91.5377,46.5867],[91.5691,46.6139],[91.7767,46.6167],[91.8511,46.6273],[91.8725,46.6387],[91.9271,46.7027],[91.8733,46.7279],[91.7597,46.7701],[91.6355,46.8271],[91.4839,46.9141],[91.4539,46.9445],[91.4422,47.0188],[91.4687,47.1305],[91.4484,47.207],[91.4004,47.2277],[91.3563,47.2594],[91.2896,47.3357],[91.2373,47.3689],[91.2619,47.4957],[91.2621,47.5289],[91.2411,47.5677],[91.1799,47.6297],[91.1711,47.6651],[91.1708,47.7229],[91.0969,47.7527],[91.0745,47.7833],[91.0589,47.8407],[90.9849,47.9769],[90.9431,48.0289],[90.8873,48.0683],[90.8551,48.1195],[90.8207,48.273],[90.8203,48.3489],[90.8342,48.4137],[90.8334,48.4524],[90.8164,48.5267],[90.7996,48.5623],[90.7193,48.6388],[90.7396,48.6523],[90.8125,48.6483],[90.8837,48.6327],[90.9452,48.6303],[91.0478,48.6598],[91.1418,48.7027],[91.197,48.7137],[91.2548,48.7043],[91.3383,48.6718],[91.4548,48.7395],[91.55,48.8082],[91.5985,48.8598],[91.6685,48.9169],[91.7322,48.9426],[91.821,48.9596],[91.9425,48.9689],[91.9342,48.9038],[91.9472,48.8272],[91.9848,48.7853],[92.0303,48.7785],[92.1104,48.7831],[92.152,48.7732],[92.1695,48.7547],[92.2329,48.6217],[92.3662,48.6237],[92.4736,48.6202],[92.6502,48.5962],[92.7539,48.5624],[92.8246,48.5573],[92.8657,48.5644],[92.9613,48.6262],[93.0564,48.6353],[93.1295,48.6177],[93.1695,48.5938],[93.2208,48.5176],[93.2731,48.4645],[93.3366,48.4395],[93.4295,48.4243]]]},properties:{name:"Hovd",id:"MN-043",CNTRY:"Mongolia",TYPE:"Province"},id:"MN-043"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[95.5059,49.9217],[95.4941,49.8907],[95.4973,49.8481],[95.4515,49.7667],[95.4117,49.7179],[95.4264,49.6314],[95.4611,49.5319],[95.4825,49.4954],[95.529,49.4623],[95.5755,49.4486],[95.6649,49.3916],[95.726,49.3587],[95.6628,49.2349],[95.6087,49.2035],[95.5749,49.1619],[95.5368,49.0529],[95.5318,48.9252],[95.5257,48.8876],[95.5012,48.85],[95.449,48.8218],[95.3283,48.8219],[95.2396,48.7746],[95.1345,48.7082],[95.042,48.6883],[94.8878,48.6857],[94.7951,48.6779],[94.7269,48.6776],[94.7082,48.7181],[94.6027,48.7153],[94.4973,48.7181],[94.3334,48.7396],[94.2068,48.7791],[94.097,48.7891],[93.9984,48.7347],[93.9167,48.7076],[93.801,48.686],[93.7579,48.6735],[93.7061,48.6415],[93.685,48.6115],[93.6678,48.5296],[93.5781,48.5089],[93.5134,48.4852],[93.4567,48.451],[93.4295,48.4243],[93.3366,48.4395],[93.2731,48.4645],[93.2208,48.5176],[93.1695,48.5938],[93.1295,48.6177],[93.0564,48.6353],[92.9613,48.6262],[92.8657,48.5644],[92.8246,48.5573],[92.7539,48.5624],[92.6502,48.5962],[92.4736,48.6202],[92.3662,48.6237],[92.2329,48.6217],[92.1695,48.7547],[92.152,48.7732],[92.1104,48.7831],[92.0303,48.7785],[91.9848,48.7853],[91.9472,48.8272],[91.9342,48.9038],[91.9425,48.9689],[91.821,48.9596],[91.7322,48.9426],[91.6685,48.9169],[91.5985,48.8598],[91.55,48.8082],[91.4548,48.7395],[91.3383,48.6718],[91.3142,48.7928],[91.2834,48.8577],[91.2295,48.9252],[91.1812,48.9543],[91.124,48.9755],[91.0212,49.0395],[90.9959,49.1068],[90.9377,49.1937],[90.9066,49.2643],[90.8698,49.2956],[90.8245,49.3064],[90.7475,49.2984],[90.6675,49.3389],[90.6083,49.4197],[90.5883,49.4333],[90.5887,49.4737],[90.5033,49.5843],[90.4383,49.6299],[90.3657,49.6697],[90.2391,49.7213],[90.1803,49.7867],[90.1453,49.9029],[90.1231,49.9427],[90.0791,49.9761],[89.9895,50.0051],[90.0867,50.0377],[90.1905,50.0355],[90.2377,50.0181],[90.2875,50.0323],[90.2969,50.0757],[90.3275,50.1145],[90.3683,50.1444],[90.5422,50.1775],[90.5829,50.1783],[90.6625,50.1636],[90.6952,50.2202],[90.7525,50.2395],[90.775,50.2885],[90.7442,50.3223],[90.6933,50.3167],[90.668,50.3368],[90.6705,50.3765],[90.7006,50.423],[90.6983,50.4452],[90.7377,50.4879],[90.7628,50.4743],[90.8225,50.4642],[90.8713,50.4753],[90.9497,50.4767],[91.0451,50.4682],[91.0881,50.4564],[91.1393,50.4579],[91.2571,50.4845],[91.3821,50.468],[91.4443,50.4654],[91.4489,50.5039],[91.4308,50.5264],[91.4464,50.5497],[91.5079,50.5637],[91.5937,50.5605],[91.6579,50.5838],[91.6495,50.6155],[91.6629,50.6669],[91.7566,50.7204],[91.8839,50.7304],[91.9176,50.7146],[92.0228,50.6835],[92.1439,50.681],[92.1958,50.6848],[92.2239,50.7033],[92.2879,50.7241],[92.3051,50.7441],[92.2869,50.8086],[92.3205,50.8623],[92.3253,50.8864],[92.3718,50.8947],[92.4007,50.8829],[92.4119,50.8156],[92.4711,50.7768],[92.5088,50.7694],[92.6026,50.7669],[92.6175,50.749],[92.6071,50.716],[92.6588,50.7008],[92.748,50.7094],[92.7504,50.7555],[92.8187,50.7896],[92.8439,50.7941],[92.9951,50.7883],[93.033,50.7629],[93.0062,50.7315],[93.0094,50.7025],[92.9824,50.6582],[92.9831,50.6305],[93.0035,50.6018],[93.0399,50.5833],[93.0721,50.5857],[93.1041,50.5669],[93.1613,50.5625],[93.1969,50.5697],[93.4029,50.5855],[93.4583,50.6007],[93.5105,50.5824],[93.6381,50.5859],[93.6697,50.5778],[93.8387,50.5898],[93.9568,50.5912],[94.2237,50.5827],[94.2763,50.5753],[94.3035,50.5521],[94.3119,50.4991],[94.3487,50.4648],[94.3666,50.3555],[94.3989,50.2341],[94.424,50.1981],[94.5109,50.1695],[94.5314,50.1211],[94.5987,50.0641],[94.6088,50.0387],[94.6873,50.0322],[94.7333,50.0476],[94.8399,50.0622],[94.9642,50.0617],[95.0049,50.0393],[95.0309,49.9909],[95.0944,49.9564],[95.1295,49.9489],[95.3341,49.9515],[95.4778,49.9224],[95.5059,49.9217]]]},properties:{name:"Uvs",id:"MN-046",CNTRY:"Mongolia",TYPE:"Province"},id:"MN-046"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[108.506,47.9141],[108.4497,47.9436],[108.3605,47.9531],[108.2964,47.9363],[108.2429,47.8956],[108.1965,47.8188],[108.1986,47.7235],[108.2287,47.6223],[108.2643,47.5597],[108.3767,47.5272],[108.4132,47.4608],[108.435,47.4385],[108.4599,47.401],[108.507,47.3527],[108.533,47.2948],[108.597,47.2176],[108.6306,47.1387],[108.6614,47.0863],[108.6937,47.0504],[108.7299,47.0257],[108.8205,46.9803],[108.7588,46.8951],[108.7107,46.8606],[108.639,46.8321],[108.4799,46.7804],[108.3573,46.7907],[108.2034,46.8115],[108.1153,46.8108],[108.0023,46.7928],[107.9568,46.7745],[107.8561,46.7611],[107.8316,46.6062],[107.8157,46.5831],[107.7621,46.5613],[107.6769,46.5534],[107.6021,46.5265],[107.5509,46.4736],[107.5176,46.4548],[107.4158,46.4265],[107.341,46.4138],[107.1814,46.41],[107.1016,46.4036],[107.0394,46.4315],[106.8968,46.5269],[106.8339,46.5515],[106.6994,46.5725],[106.1639,46.5746],[106.1512,46.5959],[106.1052,46.6233],[105.9992,46.6455],[105.9167,46.6768],[105.8554,46.7188],[105.8021,46.7336],[105.7654,46.7323],[105.66,46.7097],[105.571,46.6237],[105.476,46.5403],[105.3967,46.4389],[105.2866,46.502],[105.226,46.5262],[104.9668,46.5905],[104.8787,46.5122],[104.6533,46.3805],[104.5607,46.4485],[104.4312,46.5103],[104.4063,46.5285],[104.3939,46.5603],[104.3923,46.6567],[104.3707,46.7115],[104.3238,46.7708],[104.2344,46.8525],[104.3006,46.897],[104.3466,46.906],[104.3539,46.998],[104.3286,47.0408],[104.1899,47.1364],[104.1629,47.1793],[104.1479,47.2381],[104.1475,47.298],[104.1723,47.3304],[104.1629,47.3686],[104.1102,47.4055],[104.0686,47.4683],[104.1562,47.5248],[104.2853,47.5832],[104.3297,47.5947],[104.4866,47.5997],[104.5276,47.6535],[104.6585,47.6553],[104.7605,47.6617],[104.7389,47.7069],[104.6993,47.8174],[104.6914,47.8956],[104.7117,47.9091],[104.7039,47.945],[104.5521,47.9494],[104.4948,47.9556],[104.3934,47.9885],[104.3785,48.0624],[104.3311,48.112],[104.2884,48.1439],[104.329,48.1898],[104.365,48.2564],[104.4002,48.2984],[104.4974,48.352],[104.534,48.4192],[104.5381,48.5377],[104.5282,48.6258],[104.7755,48.5582],[104.8957,48.5338],[105.014,48.5053],[105.0596,48.5073],[105.167,48.5469],[105.2496,48.5585],[105.3583,48.5992],[105.4948,48.6445],[105.4752,48.6766],[105.4448,48.7566],[105.5602,48.8125],[105.6505,48.8351],[105.8345,48.8652],[105.9652,48.8441],[106.0201,48.8062],[106.0263,48.7648],[105.9886,48.6883],[106.0686,48.6479],[106.1155,48.6604],[106.1715,48.6872],[106.2939,48.64],[106.4488,48.5898],[106.4784,48.5613],[106.5724,48.5305],[106.6966,48.517],[106.7607,48.533],[106.828,48.5775],[106.8744,48.6],[106.9784,48.6006],[107.0764,48.6154],[107.1508,48.615],[107.1945,48.6023],[107.2532,48.5581],[107.3732,48.5832],[107.5438,48.6305],[107.5953,48.6258],[107.6375,48.6343],[107.6571,48.6534],[107.7321,48.7952],[107.7196,48.8493],[107.6281,48.8826],[107.5842,48.9128],[107.5317,48.9758],[107.6029,49.0213],[107.6751,49.0554],[107.7947,49.0763],[107.9085,49.0743],[107.9937,49.0531],[108.0885,49.0087],[108.1661,49.0597],[108.229,49.0854],[108.3357,49.1143],[108.4509,49.1244],[108.5215,49.1239],[108.5523,49.0984],[108.7381,48.9739],[108.7753,48.9319],[108.8175,48.8633],[108.8549,48.8165],[108.8743,48.7501],[108.9176,48.6693],[108.9517,48.5525],[108.9901,48.4535],[109.0175,48.4051],[109.0361,48.3467],[109.0339,48.2963],[109.0007,48.2407],[108.9478,48.1972],[108.9108,48.1092],[108.8746,48.0714],[108.7869,48.0321],[108.6843,47.965],[108.6237,47.9405],[108.506,47.9141]],[[107.5085,47.2936],[107.537,47.3292],[107.5322,47.3582],[107.4966,47.3889],[107.4538,47.4115],[107.3896,47.4099],[107.3445,47.3857],[107.3849,47.2903],[107.4443,47.2758],[107.5085,47.2936]],[[106.8581,48.1756],[106.8012,48.193],[106.5913,48.2266],[106.3564,48.2572],[106.4224,48.0979],[106.4306,47.967],[106.469,47.9296],[106.4995,47.8651],[106.4995,47.7866],[106.5221,47.7455],[106.5462,47.7352],[106.6641,47.7109],[106.8135,47.7209],[106.9306,47.7349],[107.0328,47.7324],[107.1109,47.7182],[107.146,47.7007],[107.2018,47.6369],[107.2565,47.5999],[107.3659,47.5855],[107.4776,47.5999],[107.5108,47.6519],[107.553,47.8174],[107.577,47.883],[107.5722,47.9136],[107.5287,47.9385],[107.3998,47.963],[107.3518,47.9776],[107.2596,48.0488],[107.1976,48.1158],[107.1469,48.1572],[107.0994,48.2188],[107.0005,48.1915],[106.9179,48.1739],[106.8581,48.1756]]]},properties:{name:"Töv",id:"MN-047",CNTRY:"Mongolia",TYPE:"Province"},id:"MN-047"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[108.5739,49.3359],[108.5357,49.2261],[108.5215,49.1239],[108.4509,49.1244],[108.3357,49.1143],[108.229,49.0854],[108.1661,49.0597],[108.0885,49.0087],[107.9937,49.0531],[107.9085,49.0743],[107.7947,49.0763],[107.6751,49.0554],[107.6029,49.0213],[107.5317,48.9758],[107.5842,48.9128],[107.6281,48.8826],[107.7196,48.8493],[107.7321,48.7952],[107.6571,48.6534],[107.6375,48.6343],[107.5953,48.6258],[107.5438,48.6305],[107.3732,48.5832],[107.2532,48.5581],[107.1945,48.6023],[107.1508,48.615],[107.0764,48.6154],[106.9784,48.6006],[106.8744,48.6],[106.828,48.5775],[106.7607,48.533],[106.6966,48.517],[106.5724,48.5305],[106.4784,48.5613],[106.4488,48.5898],[106.2939,48.64],[106.1715,48.6872],[106.1155,48.6604],[106.0686,48.6479],[105.9886,48.6883],[106.0263,48.7648],[106.0201,48.8062],[105.9652,48.8441],[105.8345,48.8652],[105.6505,48.8351],[105.5602,48.8125],[105.4448,48.7566],[105.4752,48.6766],[105.4948,48.6445],[105.3583,48.5992],[105.2496,48.5585],[105.167,48.5469],[105.0596,48.5073],[105.014,48.5053],[104.8957,48.5338],[104.7755,48.5582],[104.5282,48.6258],[104.5149,48.7326],[104.5438,48.7888],[104.4699,48.8434],[104.3781,48.8992],[104.4715,48.9389],[104.5631,48.997],[104.5612,49.0413],[104.5195,49.1056],[104.5374,49.1547],[104.553,49.2308],[104.5787,49.2987],[104.5949,49.3641],[104.6417,49.433],[104.6633,49.4865],[104.6716,49.5415],[104.6727,49.6457],[104.7335,49.6861],[104.6855,49.7409],[104.5736,49.8208],[104.5353,49.8553],[104.517,49.8959],[104.5159,49.9825],[104.6005,49.9937],[104.6167,50.0093],[104.5569,50.0497],[104.5495,50.1013],[104.5225,50.1499],[104.4473,50.2167],[104.351,50.2751],[104.3761,50.2975],[104.5068,50.319],[104.5885,50.3137],[104.6375,50.325],[104.6718,50.3451],[104.7174,50.3548],[104.8171,50.3549],[104.9118,50.3884],[104.9972,50.3991],[105.0982,50.3908],[105.1519,50.4],[105.2868,50.468],[105.3195,50.4783],[105.3877,50.4793],[105.458,50.4587],[105.5377,50.4531],[105.6118,50.4323],[105.7117,50.4291],[105.8171,50.4349],[105.9028,50.413],[106,50.4056],[106.0316,50.4133],[106.0801,50.3938],[106.0921,50.351],[106.1675,50.3347],[106.2792,50.2957],[106.5079,50.3425],[106.5673,50.3471],[106.7579,50.3215],[106.8014,50.3076],[106.9245,50.2475],[106.9665,50.2222],[106.9995,50.1885],[107.0369,50.1105],[107.0705,50.0707],[107.1307,50.0269],[107.2049,50.0135],[107.2547,49.9926],[107.3265,50.0215],[107.3814,49.981],[107.4295,49.9737],[107.4751,49.9822],[107.58,49.9587],[107.7045,49.9561],[107.7532,49.9806],[107.821,49.934],[107.8551,49.9216],[107.9381,49.9257],[107.9771,49.9025],[107.947,49.8556],[107.9774,49.7302],[107.939,49.7012],[107.9589,49.667],[108.0198,49.6659],[108.0253,49.6153],[108.1515,49.5548],[108.2107,49.5473],[108.2843,49.5287],[108.3073,49.4959],[108.3483,49.4749],[108.3683,49.4428],[108.4567,49.4009],[108.5031,49.3597],[108.5435,49.3367],[108.5739,49.3359]],[[106.14,49.7877],[106.2012,49.8445],[106.2083,49.8975],[106.1585,49.9251],[106.0979,49.9021],[106.0622,49.8744],[106.0016,49.8007],[105.8399,49.6847],[105.8389,49.6039],[105.8587,49.577],[105.8675,49.5375],[105.834,49.4626],[105.8376,49.3626],[105.8019,49.267],[105.777,49.1829],[105.7877,49.0964],[105.834,49.0823],[106.0648,49.0966],[106.119,49.1153],[106.1572,49.1411],[106.2195,49.1668],[106.2797,49.1805],[106.3569,49.1861],[106.3897,49.1548],[106.471,49.1201],[106.6014,49.0873],[106.7146,49.1093],[106.7989,49.1317],[106.7955,49.2085],[106.7809,49.2643],[106.7997,49.3703],[106.7997,49.4705],[106.7793,49.5091],[106.7229,49.5455],[106.6229,49.579],[106.5067,49.6059],[106.4708,49.5684],[106.4101,49.5302],[106.3658,49.5242],[106.2832,49.5387],[106.12,49.6001],[106.0403,49.6172],[106.0051,49.6551],[106.0051,49.6875],[106.14,49.7877]]]},properties:{name:"Selenge",id:"MN-049",CNTRY:"Mongolia",TYPE:"Province"},id:"MN-049"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[116.5485,46.2303],[116.4943,46.1896],[116.4277,46.1242],[116.3759,46.0978],[116.3644,46.0677],[116.3079,46.0087],[116.2621,45.9503],[116.2551,45.8821],[116.2847,45.8279],[116.2735,45.7611],[116.2382,45.7385],[116.2234,45.7038],[116.1983,45.6863],[116.1467,45.6773],[116.0894,45.6828],[115.9342,45.6118],[115.8894,45.5841],[115.842,45.5429],[115.7653,45.5029],[115.7509,45.4681],[115.7212,45.4384],[115.6209,45.4365],[115.5325,45.4235],[115.3393,45.3831],[115.2171,45.3897],[115.1443,45.3863],[115.0001,45.3652],[115,45.4017],[114.9139,45.4077],[114.8257,45.4291],[114.7519,45.4531],[114.6434,45.4309],[114.5487,45.3985],[114.5066,45.3637],[114.4977,45.3019],[114.4389,45.2261],[114.3793,45.1653],[114.1683,45.0375],[114.0922,44.9802],[114.0075,44.9327],[113.9699,44.9247],[113.9381,44.9003],[113.8546,44.8618],[113.7915,44.8478],[113.7047,44.7864],[113.6238,44.744],[113.5331,44.7579],[113.4617,44.7918],[113.3627,44.7895],[113.1983,44.7911],[113.1209,44.7997],[113.0143,44.8347],[112.9669,44.8377],[112.9003,44.8651],[112.8377,44.8609],[112.812,44.8713],[112.7581,44.8705],[112.6465,44.9133],[112.5549,44.9661],[112.5125,45.0147],[112.4613,45.0481],[112.4155,45.0615],[112.1987,45.0683],[111.9761,45.0901],[111.9405,45.0881],[111.9247,45.1287],[111.9111,45.1963],[111.9255,45.2755],[111.8987,45.3295],[111.8095,45.4097],[111.7563,45.4921],[111.6853,45.5345],[111.7165,45.7299],[111.7073,45.8827],[111.681,45.9608],[111.6248,46.0543],[111.5756,46.0945],[111.471,46.1277],[111.3662,46.173],[111.2857,46.1994],[111.1671,46.2316],[111.2037,46.2876],[111.2478,46.3769],[111.2614,46.4595],[111.2386,46.5261],[111.2332,46.6106],[111.2619,46.6878],[111.3005,46.73],[111.3935,46.7919],[111.3797,46.8645],[111.4018,46.9487],[111.4335,46.9941],[111.4461,47.0687],[111.4675,47.1367],[111.5337,47.2349],[111.5673,47.2655],[111.6775,47.3287],[111.793,47.3796],[111.8551,47.3681],[111.9634,47.3386],[112.0679,47.316],[112.0488,47.39],[112.0515,47.4909],[112.0759,47.5935],[112.1163,47.6446],[112.1729,47.6725],[112.2922,47.715],[112.4089,47.7636],[112.5309,47.7891],[112.6941,47.7939],[112.7015,47.7354],[112.7434,47.5747],[112.8243,47.5969],[112.9107,47.6129],[112.9486,47.6137],[113.0348,47.6005],[113.1658,47.5638],[113.2397,47.5589],[113.395,47.539],[113.6217,47.5153],[113.6755,47.5133],[113.7563,47.4901],[113.8222,47.4641],[113.9707,47.3666],[114.0671,47.3259],[114.1701,47.2587],[114.341,47.1943],[114.4782,47.1306],[114.4421,47.0529],[114.4231,46.9939],[114.414,46.9233],[114.4217,46.863],[114.4587,46.8075],[114.4951,46.7817],[114.5651,46.7461],[114.6573,46.7095],[114.7101,46.6737],[114.7645,46.6135],[114.8237,46.5701],[114.9011,46.5015],[115.0985,46.5327],[115.2659,46.5485],[115.5867,46.5465],[115.6717,46.5735],[115.7697,46.5887],[115.8419,46.5909],[116.1573,46.5917],[116.2573,46.5821],[116.3157,46.5467],[116.3567,46.4941],[116.4929,46.3019],[116.5485,46.2303]]]},properties:{name:"Sühbaatar",id:"MN-051",CNTRY:"Mongolia",TYPE:"Province"},id:"MN-051"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[107.6873,44.5541],[107.6721,44.4943],[107.6613,44.4119],[107.6483,44.3599],[107.655,44.3004],[107.691,44.2456],[107.7565,44.161],[107.7996,44.0921],[107.8343,43.9991],[107.8451,43.9396],[107.8665,43.8818],[107.9349,43.7443],[107.9547,43.6947],[107.9589,43.6319],[107.9393,43.5031],[107.9337,43.3557],[107.9361,43.3039],[107.9477,43.2645],[107.9877,43.2101],[108.0071,43.1675],[108.0167,43.0411],[108.0293,42.9837],[108.0309,42.9219],[108.0127,42.8511],[108.0049,42.7015],[107.9815,42.5877],[107.9839,42.4289],[107.9697,42.4252],[107.9124,42.412],[107.5542,42.4269],[107.5199,42.466],[107.4528,42.4619],[107.2949,42.4073],[107.2665,42.3567],[106.9769,42.3113],[106.6836,42.2594],[106.3155,42.1293],[106.0092,42.0183],[105.8019,41.9576],[105.7351,41.9321],[105.5637,41.8581],[105.4301,41.7966],[105.3059,41.7346],[105.2654,41.7387],[105.0345,41.5677],[104.9449,41.6453],[104.7077,41.6451],[104.534,41.6626],[104.5411,41.775],[104.5438,41.8838],[104.4788,41.8775],[103.9841,41.8071],[103.8624,41.808],[103.6405,41.85],[103.3221,41.9075],[102.976,42.026],[102.739,42.1342],[102.5375,42.1463],[102.4146,42.1405],[102.0633,42.2187],[101.8227,42.4703],[101.8168,42.4736],[101.4191,42.5502],[101.131,42.6031],[100.9116,42.6452],[100.8255,42.657],[100.6775,42.6639],[100.3265,42.6834],[100.2827,42.6308],[100.0412,42.6432],[99.995,42.6476],[99.6945,42.6031],[99.5969,42.5859],[99.5957,42.7379],[99.5752,42.869],[99.5274,43.0399],[99.4897,43.2283],[99.4697,43.3599],[99.4629,43.451],[99.4511,43.5085],[99.4483,43.5713],[99.4505,43.8473],[99.417,44.0342],[99.4356,44.0885],[99.5047,44.1183],[99.5791,44.1257],[99.6643,44.1443],[99.7371,44.1501],[99.8139,44.1345],[99.8663,44.1123],[99.9379,44.0673],[100.0065,44.0421],[100.1265,43.9381],[100.2467,43.8437],[100.2921,43.8257],[100.3905,43.8131],[100.5551,43.8311],[100.6141,43.8345],[101.1309,43.8339],[101.2197,43.8383],[101.3305,43.8576],[101.4766,43.9187],[101.6613,43.9789],[101.7469,43.9951],[101.8079,44.0488],[101.9444,44.0867],[102.053,44.1108],[102.3705,44.1526],[102.4657,44.156],[102.8547,44.1554],[102.9982,44.1575],[102.9447,44.2509],[102.9324,44.29],[102.9397,44.3217],[102.9676,44.3681],[103.022,44.4195],[103.0523,44.467],[103.0689,44.5164],[103.1055,44.5894],[103.2159,44.7361],[103.2454,44.801],[103.3262,44.8279],[103.3338,44.8516],[103.3683,44.8919],[103.4214,44.9145],[103.5456,44.9546],[103.6164,44.9971],[103.7081,45.0701],[103.7762,45.145],[103.7825,45.1692],[104.007,45.1806],[104.1082,45.2023],[104.1456,45.1442],[104.1674,45.0941],[104.1977,44.9851],[104.2372,44.8775],[104.2808,44.8206],[104.3235,44.7938],[104.4128,44.7641],[104.5549,44.7374],[104.7155,44.7156],[104.7655,44.6977],[104.8606,44.6783],[104.9484,44.6679],[105.0116,44.6695],[105.1254,44.6865],[105.2446,44.6911],[105.3748,44.6906],[105.5064,44.6772],[105.5688,44.5654],[105.7092,44.4205],[105.7421,44.3436],[105.7758,44.3042],[105.8057,44.2894],[105.9327,44.2061],[106.0056,44.1808],[106.0618,44.1774],[106.1321,44.1816],[106.2326,44.1982],[106.2932,44.2172],[106.3776,44.2699],[106.5048,44.308],[106.58,44.3499],[106.7936,44.4308],[106.9251,44.4554],[107.0889,44.4762],[107.2003,44.4945],[107.2475,44.5083],[107.3137,44.5156],[107.4456,44.4903],[107.4928,44.4955],[107.6873,44.5541]]]},properties:{name:"Omnögovĭ",id:"MN-053",CNTRY:"Mongolia",TYPE:"Province"},id:"MN-053"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[103.6777,47.2506],[103.8087,47.2632],[103.866,47.2577],[103.9517,47.2647],[104.0741,47.2826],[104.1475,47.298],[104.1479,47.2381],[104.1629,47.1793],[104.1899,47.1364],[104.3286,47.0408],[104.3539,46.998],[104.3466,46.906],[104.3006,46.897],[104.2344,46.8525],[104.3238,46.7708],[104.3707,46.7115],[104.3923,46.6567],[104.3939,46.5603],[104.4063,46.5285],[104.4312,46.5103],[104.5607,46.4485],[104.6533,46.3805],[104.6473,46.3309],[104.6245,46.255],[104.5673,46.1549],[104.5367,46.133],[104.4912,46.1209],[104.3965,46.1184],[104.3088,46.125],[104.2612,46.04],[104.2255,45.9928],[104.1935,45.9679],[104.1545,45.8739],[104.1365,45.7999],[104.1083,45.7654],[104.0564,45.7463],[103.996,45.7407],[103.8995,45.7422],[103.8073,45.7504],[103.7405,45.7289],[103.6868,45.6974],[103.6421,45.6622],[103.6188,45.6164],[103.6211,45.5296],[103.6417,45.4711],[103.6631,45.4428],[103.7333,45.3767],[103.7759,45.3679],[103.7945,45.3447],[103.7796,45.2433],[103.7825,45.1692],[103.7762,45.145],[103.7081,45.0701],[103.6164,44.9971],[103.5456,44.9546],[103.4214,44.9145],[103.3683,44.8919],[103.3338,44.8516],[103.3262,44.8279],[103.2454,44.801],[103.2159,44.7361],[103.1055,44.5894],[103.0689,44.5164],[103.0523,44.467],[103.022,44.4195],[102.9676,44.3681],[102.9397,44.3217],[102.9324,44.29],[102.9447,44.2509],[102.9982,44.1575],[102.8547,44.1554],[102.4657,44.156],[102.3705,44.1526],[102.053,44.1108],[101.9444,44.0867],[101.8079,44.0488],[101.7719,44.1078],[101.7411,44.2084],[101.7186,44.2667],[101.7024,44.3428],[101.6601,44.4418],[101.6451,44.4914],[101.604,44.5716],[101.547,44.6363],[101.5368,44.6904],[101.5553,44.7761],[101.596,44.8164],[101.5572,44.8656],[101.454,44.9082],[101.4031,44.9411],[101.2794,44.9681],[101.2168,44.995],[101.1862,45.0273],[101.1456,45.0883],[101.1363,45.1476],[101.1391,45.3933],[101.1505,45.4608],[101.1867,45.5057],[101.2429,45.5573],[101.2438,45.6246],[101.2985,45.6893],[101.3238,45.7665],[101.3214,45.8148],[101.2878,45.9213],[101.2861,45.9913],[101.2961,46.0389],[101.3413,46.0834],[101.4174,46.1163],[101.4531,46.1397],[101.4921,46.1897],[101.4973,46.3815],[101.5169,46.4224],[101.524,46.4704],[101.4806,46.5391],[101.4969,46.5801],[101.41,46.6701],[101.3413,46.7682],[101.2885,46.8262],[101.3825,46.8431],[101.4738,46.8491],[101.6289,46.851],[101.7758,46.8621],[101.8478,46.8851],[101.8833,46.9323],[101.9299,46.962],[101.9882,46.978],[102.0989,46.9936],[102.1459,47.0101],[102.2803,47.0258],[102.3206,47.0173],[102.4187,46.9495],[102.4668,46.9289],[102.5117,46.9515],[102.5451,47.0038],[102.5581,47.0779],[102.5882,47.1287],[102.6721,47.1749],[102.7166,47.227],[102.7234,47.2782],[102.6626,47.3262],[102.6456,47.3495],[102.6465,47.3831],[102.6649,47.3992],[102.7141,47.4133],[102.7404,47.389],[102.779,47.3756],[102.8492,47.369],[102.9644,47.3226],[103.0417,47.3098],[103.0857,47.2855],[103.1789,47.2124],[103.2353,47.1978],[103.3499,47.1864],[103.4472,47.1839],[103.5194,47.187],[103.5929,47.2007],[103.6434,47.2206],[103.6777,47.2506]]]},properties:{name:"Ovörhangay",id:"MN-055",CNTRY:"Mongolia",TYPE:"Province"},id:"MN-055"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[97.1379,49.8279],[97.1287,49.7485],[97.1029,49.6841],[97.0777,49.6489],[96.9349,49.5441],[96.8755,49.5087],[96.8833,49.4503],[96.8775,49.3685],[96.9353,49.3248],[97.0261,49.2877],[97.1183,49.2257],[97.1757,49.1669],[97.2285,49.1775],[97.3221,49.1817],[97.4897,49.1663],[97.5626,49.1505],[97.7056,49.0994],[97.7747,49.0638],[97.8597,49.0073],[97.8965,48.9987],[98.068,48.9865],[98.1153,48.9899],[98.1799,49.0107],[98.2341,49.0173],[98.3544,49.0181],[98.4236,49.0023],[98.4781,48.9623],[98.5525,48.9345],[98.6631,48.9833],[98.7425,49.012],[98.7709,49.0333],[98.7727,49.0637],[98.795,49.0962],[98.837,49.1099],[98.9719,49.1056],[99.0335,49.1139],[99.1139,49.1137],[99.1466,49.0632],[99.1599,48.9275],[99.178,48.8596],[99.2154,48.759],[99.178,48.7212],[99.102,48.6212],[99.0709,48.53],[99.0721,48.5046],[99.098,48.412],[99.0967,48.3422],[99.0743,48.2962],[98.959,48.2744],[98.8658,48.243],[98.746,48.2169],[98.7053,48.2027],[98.6596,48.1616],[98.5764,48.1183],[98.5041,48.0989],[98.3327,48.1029],[98.2844,48.0932],[98.2377,48.0668],[98.2013,47.9961],[98.2122,47.9213],[98.2004,47.8596],[98.1785,47.8106],[98.1776,47.7438],[98.1935,47.711],[98.2576,47.6572],[98.3092,47.6371],[98.4166,47.6148],[98.4063,47.5627],[98.385,47.5261],[98.3121,47.4751],[98.2782,47.4443],[98.2784,47.3663],[98.2664,47.2982],[98.2509,47.266],[98.1948,47.225],[98.1208,47.1898],[98.0634,47.1738],[97.9704,47.1877],[97.9144,47.1824],[97.874,47.1547],[97.8649,47.0922],[97.8433,47.0585],[97.7846,47.0155],[97.7459,46.9643],[97.7335,46.8506],[97.7137,46.7829],[97.6939,46.7424],[97.6426,46.6747],[97.5677,46.5975],[97.4884,46.6093],[97.4262,46.6477],[97.3921,46.693],[97.3486,46.6749],[97.2447,46.6043],[97.1689,46.5745],[97.0055,46.5879],[96.9382,46.6003],[96.9179,46.6836],[96.8595,46.7464],[96.8213,46.7966],[96.7808,46.8255],[96.7312,46.9004],[96.6777,46.9295],[96.592,46.9202],[96.497,46.878],[96.3427,46.8267],[96.2974,46.9245],[96.281,46.9995],[96.2902,47.0901],[96.2675,47.1675],[96.2335,47.206],[96.1585,47.2659],[96.1097,47.2967],[96.0259,47.3082],[95.9167,47.3774],[95.801,47.4259],[95.7523,47.4326],[95.594,47.5135],[95.5291,47.536],[95.2905,47.5649],[95.2016,47.5624],[95.0727,47.5412],[95.0289,47.6257],[95.0046,47.6446],[94.9239,47.6645],[94.7965,47.6746],[94.6575,47.6684],[94.5056,47.6796],[94.3204,47.7335],[94.2374,47.7776],[94.1707,47.7824],[94.1107,47.7708],[93.9914,47.7375],[93.8823,47.7131],[93.6985,47.678],[93.6145,47.6516],[93.5035,47.7177],[93.3893,47.777],[93.3033,47.8337],[93.2683,47.8634],[93.1824,47.9656],[93.2416,47.9991],[93.3014,48.0479],[93.3523,48.0789],[93.3979,48.1183],[93.4219,48.1537],[93.4389,48.2022],[93.485,48.3009],[93.483,48.3653],[93.4295,48.4243],[93.4567,48.451],[93.5134,48.4852],[93.5781,48.5089],[93.6678,48.5296],[93.685,48.6115],[93.7061,48.6415],[93.7579,48.6735],[93.801,48.686],[93.9167,48.7076],[93.9984,48.7347],[94.097,48.7891],[94.2068,48.7791],[94.3334,48.7396],[94.4973,48.7181],[94.6027,48.7153],[94.7082,48.7181],[94.7269,48.6776],[94.7951,48.6779],[94.8878,48.6857],[95.042,48.6883],[95.1345,48.7082],[95.2396,48.7746],[95.3283,48.8219],[95.449,48.8218],[95.5012,48.85],[95.5257,48.8876],[95.5318,48.9252],[95.5368,49.0529],[95.5749,49.1619],[95.6087,49.2035],[95.6628,49.2349],[95.726,49.3587],[95.6649,49.3916],[95.5755,49.4486],[95.529,49.4623],[95.4825,49.4954],[95.4611,49.5319],[95.4264,49.6314],[95.4117,49.7179],[95.4515,49.7667],[95.4973,49.8481],[95.4941,49.8907],[95.5059,49.9217],[95.6533,49.9583],[95.7456,49.9702],[95.7593,50.0122],[95.8185,50.0385],[95.8628,50.0413],[95.8987,50.0291],[95.9085,50.0015],[95.9738,49.9797],[96.0555,50.0161],[96.0959,50.0195],[96.2123,49.9898],[96.3021,49.9871],[96.317,49.9567],[96.3519,49.9481],[96.4083,49.9023],[96.4537,49.9013],[96.5237,49.9512],[96.6117,49.982],[96.6759,49.9663],[96.663,49.9179],[96.6977,49.9035],[96.7747,49.9405],[96.8394,49.9436],[97.003,49.9145],[97.0563,49.8631],[97.0987,49.8365],[97.1379,49.8279]]]},properties:{name:"Dzavhan",id:"MN-057",CNTRY:"Mongolia",TYPE:"Province"},id:"MN-057"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[108.5593,45.9413],[108.5368,45.8892],[108.492,45.7519],[108.4775,45.6851],[108.4779,45.631],[108.4673,45.59],[108.4891,45.5055],[108.5175,45.4292],[108.5347,45.354],[108.6302,45.1482],[108.653,45.1075],[108.5861,45.1014],[108.4901,45.0782],[108.4645,45.0632],[108.4401,45.0268],[108.4187,44.9404],[108.418,44.8848],[108.2493,44.877],[108.0201,44.8752],[107.8419,44.8669],[107.7993,44.7666],[107.7662,44.6577],[107.7478,44.6169],[107.7162,44.573],[107.6873,44.5541],[107.4928,44.4955],[107.4456,44.4903],[107.3137,44.5156],[107.2475,44.5083],[107.2003,44.4945],[107.0889,44.4762],[106.9251,44.4554],[106.7936,44.4308],[106.58,44.3499],[106.5048,44.308],[106.3776,44.2699],[106.2932,44.2172],[106.2326,44.1982],[106.1321,44.1816],[106.0618,44.1774],[106.0056,44.1808],[105.9327,44.2061],[105.8057,44.2894],[105.7758,44.3042],[105.7421,44.3436],[105.7092,44.4205],[105.5688,44.5654],[105.5064,44.6772],[105.3748,44.6906],[105.2446,44.6911],[105.1254,44.6865],[105.0116,44.6695],[104.9484,44.6679],[104.8606,44.6783],[104.7655,44.6977],[104.7155,44.7156],[104.5549,44.7374],[104.4128,44.7641],[104.3235,44.7938],[104.2808,44.8206],[104.2372,44.8775],[104.1977,44.9851],[104.1674,45.0941],[104.1456,45.1442],[104.1082,45.2023],[104.007,45.1806],[103.7825,45.1692],[103.7796,45.2433],[103.7945,45.3447],[103.7759,45.3679],[103.7333,45.3767],[103.6631,45.4428],[103.6417,45.4711],[103.6211,45.5296],[103.6188,45.6164],[103.6421,45.6622],[103.6868,45.6974],[103.7405,45.7289],[103.8073,45.7504],[103.8995,45.7422],[103.996,45.7407],[104.0564,45.7463],[104.1083,45.7654],[104.1365,45.7999],[104.1545,45.8739],[104.1935,45.9679],[104.2255,45.9928],[104.2612,46.04],[104.3088,46.125],[104.3965,46.1184],[104.4912,46.1209],[104.5367,46.133],[104.5673,46.1549],[104.6245,46.255],[104.6473,46.3309],[104.6533,46.3805],[104.8787,46.5122],[104.9668,46.5905],[105.226,46.5262],[105.2866,46.502],[105.3967,46.4389],[105.476,46.5403],[105.571,46.6237],[105.66,46.7097],[105.7654,46.7323],[105.8021,46.7336],[105.8554,46.7188],[105.9167,46.6768],[105.9992,46.6455],[106.1052,46.6233],[106.1512,46.5959],[106.1639,46.5746],[106.6994,46.5725],[106.8339,46.5515],[106.8968,46.5269],[107.0394,46.4315],[107.1016,46.4036],[107.1814,46.41],[107.341,46.4138],[107.4158,46.4265],[107.5176,46.4548],[107.5509,46.4736],[107.6021,46.5265],[107.6769,46.5534],[107.7621,46.5613],[107.8157,46.5831],[107.8316,46.6062],[107.8561,46.7611],[107.9568,46.7745],[108.0058,46.7294],[108.0493,46.7003],[108.1441,46.6596],[108.2489,46.6034],[108.209,46.5396],[108.1575,46.4757],[108.165,46.4316],[108.2484,46.3367],[108.2476,46.2779],[108.2253,46.2108],[108.1718,46.1272],[108.1743,46.0759],[108.2071,46.0134],[108.2769,45.947],[108.3275,45.9163],[108.3816,45.9087],[108.4288,45.9144],[108.5593,45.9413]]]},properties:{name:"Dundgovĭ",id:"MN-059",CNTRY:"Mongolia",TYPE:"Province"},id:"MN-059"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[116.5485,46.2303],[116.4929,46.3019],[116.3567,46.4941],[116.3157,46.5467],[116.2573,46.5821],[116.1573,46.5917],[115.8419,46.5909],[115.7697,46.5887],[115.6717,46.5735],[115.5867,46.5465],[115.2659,46.5485],[115.0985,46.5327],[114.9011,46.5015],[114.8237,46.5701],[114.7645,46.6135],[114.7101,46.6737],[114.6573,46.7095],[114.5651,46.7461],[114.4951,46.7817],[114.4587,46.8075],[114.4217,46.863],[114.414,46.9233],[114.4231,46.9939],[114.4421,47.0529],[114.4782,47.1306],[114.341,47.1943],[114.1701,47.2587],[114.0671,47.3259],[113.9707,47.3666],[113.8222,47.4641],[113.7563,47.4901],[113.6755,47.5133],[113.6217,47.5153],[113.395,47.539],[113.2397,47.5589],[113.1658,47.5638],[113.0348,47.6005],[112.9486,47.6137],[112.9107,47.6129],[112.8243,47.5969],[112.7434,47.5747],[112.7015,47.7354],[112.6941,47.7939],[112.6686,47.8431],[112.6083,47.9297],[112.5588,48.0305],[112.5436,48.0863],[112.5334,48.1702],[112.5115,48.2463],[112.5181,48.3196],[112.5358,48.3586],[112.5376,48.4233],[112.5119,48.484],[112.4596,48.5414],[112.3513,48.6861],[112.2935,48.7498],[112.2493,48.8251],[112.2371,48.8575],[112.2405,48.8937],[112.2751,48.9415],[112.2927,48.9819],[112.2781,49.0243],[112.2185,49.0871],[112.1981,49.1273],[112.1869,49.2229],[112.1667,49.3047],[112.1493,49.3241],[112.0691,49.3637],[111.9657,49.4025],[112.0195,49.4251],[112.1109,49.4313],[112.2861,49.4901],[112.3373,49.494],[112.5133,49.5464],[112.593,49.5254],[112.6469,49.5283],[112.7163,49.4919],[112.7549,49.4924],[112.8409,49.5223],[112.9661,49.5865],[113.0875,49.6083],[113.1035,49.625],[113.0959,49.6556],[113.1459,49.7451],[113.1863,49.8009],[113.2303,49.8349],[113.3589,49.8925],[113.3965,49.9175],[113.4667,49.9497],[113.4933,49.9749],[113.5364,49.9792],[113.6005,50.0227],[113.6659,50.0425],[113.7956,50.0941],[113.8688,50.0846],[114.0345,50.1857],[114.0757,50.1846],[114.1121,50.2103],[114.1957,50.2471],[114.2871,50.2719],[114.3491,50.2829],[114.4545,50.2445],[114.5073,50.2371],[114.5838,50.2423],[114.6723,50.2563],[114.7488,50.2462],[114.8554,50.222],[115.0041,50.1774],[115.0678,50.1121],[115.1527,50.0497],[115.2379,49.9794],[115.346,49.9296],[115.3746,49.9078],[115.4205,49.901],[115.4676,49.9081],[115.5091,49.8961],[115.5529,49.9073],[115.7209,49.8846],[115.7667,49.8891],[115.8553,49.9328],[116.0261,49.9985],[116.0987,50.0169],[116.2051,50.0317],[116.2641,50.0251],[116.4477,49.9631],[116.6067,49.9403],[116.7003,49.8399],[116.4599,49.4795],[116.4183,49.4331],[116.1834,49.0759],[116.0707,48.9089],[116.0531,48.8771],[116.1183,48.8107],[116.111,48.7928],[115.8215,48.5317],[115.8109,48.4985],[115.8341,48.3369],[115.8315,48.2807],[115.8125,48.2615],[115.5149,48.1839],[115.5076,48.1472],[115.5277,48.1029],[115.5302,48.0581],[115.5498,48.0001],[115.4627,48.0001],[115.4767,47.9687],[115.5538,47.9483],[115.6215,47.9053],[115.6617,47.8675],[115.817,47.7657],[115.8365,47.7419],[115.9157,47.6855],[115.9494,47.6791],[116.0039,47.7197],[116.0511,47.7695],[116.1377,47.8355],[116.2123,47.8659],[116.2563,47.8767],[116.3873,47.8505],[116.4499,47.8428],[116.5377,47.8489],[116.6422,47.8903],[116.773,47.8998],[116.8268,47.8984],[116.9496,47.8686],[117.1083,47.8099],[117.1927,47.7501],[117.2927,47.6967],[117.3745,47.638],[117.4087,47.6646],[117.4144,47.6897],[117.4699,47.7504],[117.5566,47.7889],[117.6255,47.8626],[117.6755,47.9009],[117.7597,47.9902],[117.8352,48.0131],[117.8419,48.0254],[117.9151,48.0345],[118.0263,48.0283],[118.0672,48.0394],[118.2146,48.0257],[118.2529,48.0019],[118.4787,48.0001],[118.6695,47.8817],[118.7759,47.8066],[118.8604,47.7748],[119.0533,47.7189],[119.1241,47.7033],[119.1274,47.6549],[119.1576,47.5728],[119.1517,47.5395],[119.1879,47.5185],[119.2525,47.5287],[119.2964,47.5467],[119.3363,47.5313],[119.3301,47.4993],[119.3403,47.4679],[119.3219,47.4368],[119.3713,47.3995],[119.46,47.3509],[119.5425,47.2953],[119.7326,47.1374],[119.7683,47.0806],[119.7905,47.0197],[119.8624,46.918],[119.9011,46.8956],[119.9278,46.8202],[119.9136,46.7743],[119.9367,46.7181],[119.9337,46.6772],[119.8862,46.6486],[119.8446,46.6384],[119.7822,46.5933],[119.6376,46.5892],[119.5276,46.6179],[119.4272,46.6122],[119.3939,46.5831],[119.3315,46.5831],[119.2454,46.6015],[119.186,46.624],[119.1206,46.624],[119.0612,46.6465],[119.0047,46.6834],[118.874,46.7303],[118.8057,46.7263],[118.7611,46.6915],[118.7403,46.6609],[118.6898,46.6609],[118.6244,46.6711],[118.5472,46.6568],[118.4729,46.6711],[118.4372,46.6874],[118.3719,46.6976],[118.3066,46.6874],[118.2679,46.667],[118.1966,46.6506],[118.1105,46.6445],[118.054,46.5974],[117.9975,46.5851],[117.8799,46.5773],[117.8521,46.5321],[117.8171,46.5188],[117.7011,46.5079],[117.6348,46.5329],[117.6155,46.5804],[117.515,46.5846],[117.4329,46.575],[117.4317,46.5001],[117.3833,46.4508],[117.3745,46.4303],[117.3715,46.3548],[117.3532,46.3466],[117.2333,46.3585],[117.1131,46.3497],[116.9817,46.3475],[116.9389,46.3513],[116.8615,46.3811],[116.7644,46.3157],[116.6363,46.3047],[116.5735,46.2777],[116.5485,46.2303]]]},properties:{name:"Dornod",id:"MN-061",CNTRY:"Mongolia",TYPE:"Province"},id:"MN-061"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[111.1671,46.2316],[111.2857,46.1994],[111.3662,46.173],[111.471,46.1277],[111.5756,46.0945],[111.6248,46.0543],[111.681,45.9608],[111.7073,45.8827],[111.7165,45.7299],[111.6853,45.5345],[111.7563,45.4921],[111.8095,45.4097],[111.8987,45.3295],[111.9255,45.2755],[111.9111,45.1963],[111.9247,45.1287],[111.9405,45.0881],[111.8883,45.0749],[111.8331,45.0485],[111.7923,45.0163],[111.7405,44.9621],[111.6667,44.8541],[111.5599,44.7231],[111.5169,44.5889],[111.4655,44.4987],[111.4141,44.4474],[111.3878,44.3929],[111.3939,44.3216],[111.4183,44.2955],[111.4513,44.2839],[111.4813,44.2455],[111.5065,44.1887],[111.5833,44.1031],[111.6704,44.0345],[111.8055,44.0157],[111.8522,43.9928],[111.9108,43.9305],[111.9955,43.8293],[112.0157,43.7913],[111.9703,43.7389],[111.9157,43.7201],[111.7539,43.6907],[111.7116,43.6184],[111.6649,43.5797],[111.6248,43.5247],[111.5745,43.4895],[111.5281,43.478],[111.4384,43.4734],[111.3713,43.4409],[111.3105,43.4205],[111.2019,43.3981],[111.0807,43.3583],[111.0471,43.3434],[110.9771,43.2889],[110.8868,43.1962],[110.8143,43.1301],[110.7035,43.057],[110.6979,43.0231],[110.622,42.93],[110.4524,42.8586],[110.4491,42.7975],[110.4165,42.7689],[110.3339,42.7261],[110.1436,42.6368],[109.9695,42.6395],[109.8347,42.6249],[109.7643,42.5909],[109.5475,42.4717],[109.3488,42.4382],[109.2386,42.4295],[109.1065,42.4397],[109.0108,42.4426],[108.9683,42.4565],[108.8115,42.3873],[108.7823,42.4097],[108.5254,42.4553],[108.2922,42.4394],[108.2385,42.462],[108.0335,42.4413],[107.9697,42.4252],[107.9839,42.4289],[107.9815,42.5877],[108.0049,42.7015],[108.0127,42.8511],[108.0309,42.9219],[108.0293,42.9837],[108.0167,43.0411],[108.0071,43.1675],[107.9877,43.2101],[107.9477,43.2645],[107.9361,43.3039],[107.9337,43.3557],[107.9393,43.5031],[107.9589,43.6319],[107.9547,43.6947],[107.9349,43.7443],[107.8665,43.8818],[107.8451,43.9396],[107.8343,43.9991],[107.7996,44.0921],[107.7565,44.161],[107.691,44.2456],[107.655,44.3004],[107.6483,44.3599],[107.6613,44.4119],[107.6721,44.4943],[107.6873,44.5541],[107.7162,44.573],[107.7478,44.6169],[107.7662,44.6577],[107.7993,44.7666],[107.8419,44.8669],[108.0201,44.8752],[108.2493,44.877],[108.418,44.8848],[108.4187,44.9404],[108.4401,45.0268],[108.4645,45.0632],[108.4901,45.0782],[108.5861,45.1014],[108.653,45.1075],[108.6302,45.1482],[108.5347,45.354],[108.5175,45.4292],[108.4891,45.5055],[108.4673,45.59],[108.4779,45.631],[108.4775,45.6851],[108.492,45.7519],[108.5368,45.8892],[108.5593,45.9413],[108.6074,46.0105],[108.6216,46.0841],[108.6723,46.1829],[108.7588,46.2382],[108.8314,46.3008],[108.9091,46.3829],[108.9589,46.4639],[109.0882,46.3972],[109.1166,46.3742],[109.169,46.2702],[109.2511,46.2015],[109.3023,46.1753],[109.3447,46.1682],[109.4962,46.1656],[109.5698,46.1572],[109.6228,46.1419],[109.6709,46.169],[109.7894,46.2139],[109.8729,46.2663],[109.915,46.3019],[109.938,46.3447],[109.9963,46.4235],[110.0099,46.4573],[110.0059,46.5031],[109.9864,46.5971],[110.027,46.624],[110.1218,46.6037],[110.1591,46.5797],[110.2172,46.5109],[110.288,46.4491],[110.39,46.3728],[110.4601,46.2818],[110.5166,46.2182],[110.5649,46.1042],[110.8682,46.0631],[110.9577,46.0599],[110.9766,46.0896],[111.1181,46.1858],[111.1671,46.2316]]]},properties:{name:"Dornogovĭ",id:"MN-063",CNTRY:"Mongolia",TYPE:"Province"},id:"MN-063"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[108.9589,46.4639],[108.9091,46.3829],[108.8314,46.3008],[108.7588,46.2382],[108.6723,46.1829],[108.6216,46.0841],[108.6074,46.0105],[108.5593,45.9413],[108.4288,45.9144],[108.3816,45.9087],[108.3275,45.9163],[108.2769,45.947],[108.2071,46.0134],[108.1743,46.0759],[108.1718,46.1272],[108.2253,46.2108],[108.2476,46.2779],[108.2484,46.3367],[108.165,46.4316],[108.1575,46.4757],[108.209,46.5396],[108.2489,46.6034],[108.1441,46.6596],[108.0493,46.7003],[108.0058,46.7294],[107.9568,46.7745],[108.0023,46.7928],[108.1153,46.8108],[108.2034,46.8115],[108.3573,46.7907],[108.4799,46.7804],[108.639,46.8321],[108.7107,46.8606],[108.7588,46.8951],[108.8205,46.9803],[108.8808,46.9224],[108.9179,46.8622],[108.9864,46.8314],[109.0039,46.8098],[109.0011,46.7808],[108.9706,46.691],[108.9656,46.6329],[108.9765,46.5771],[108.9734,46.4988],[108.9589,46.4639]]]},properties:{name:"Govĭ-Sümber",id:"MN-064",CNTRY:"Mongolia",TYPE:"Province"},id:"MN-064"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[97.5677,46.5975],[97.6539,46.5307],[97.6419,46.5006],[97.6604,46.4384],[97.7006,46.372],[97.7213,46.3124],[97.742,46.2826],[97.7834,46.254],[97.87,46.218],[97.9213,46.1855],[97.9692,46.1441],[98.0387,46.1061],[98.2061,45.9901],[98.2042,45.9611],[98.2205,45.9317],[98.2583,45.903],[98.3423,45.8569],[98.4014,45.8028],[98.4435,45.6716],[98.4653,45.5834],[98.4665,45.4528],[98.46,45.3834],[98.4366,45.3066],[98.3917,45.2001],[98.3325,45.1047],[98.2702,45.0243],[98.2125,44.9337],[98.1977,44.8599],[98.2143,44.7661],[98.2145,44.6861],[98.19,44.5879],[98.1393,44.4913],[98.1014,44.4517],[98.0556,44.4267],[97.9667,44.4059],[97.9299,44.3549],[97.9259,44.3055],[97.9277,44.1215],[97.9553,43.9821],[97.9247,43.8511],[97.9189,43.7613],[97.9079,43.6979],[97.9139,43.6392],[97.9091,43.5987],[97.8691,43.5327],[97.8689,43.4709],[97.8551,43.4237],[97.7797,43.3303],[97.7599,43.2883],[97.7535,43.2491],[97.7563,43.1595],[97.7847,43.0553],[97.7909,43.0151],[97.7883,42.7061],[97.5191,42.7284],[97.2876,42.7597],[97.1515,42.7739],[97.0069,42.7413],[96.9328,42.7121],[96.8599,42.7289],[96.7465,42.7339],[96.6919,42.7423],[96.5527,42.7237],[96.478,42.7239],[96.4332,42.716],[96.3614,42.7213],[96.3421,42.8337],[96.3244,42.8824],[96.2223,42.9562],[96.1544,43.0105],[96.1223,43.0453],[96.074,43.1254],[96.0057,43.1827],[95.9588,43.2022],[95.9165,43.2335],[95.8885,43.2877],[95.8811,43.4021],[95.7575,43.5791],[95.6896,43.6798],[95.6765,43.7064],[95.6622,43.784],[95.623,43.8682],[95.5875,43.9113],[95.5508,43.9886],[95.5354,43.9993],[95.4683,44.0023],[95.3749,44.0211],[95.3437,44.0615],[95.3638,44.1458],[95.3706,44.2097],[95.4276,44.2613],[95.4237,44.2893],[95.3564,44.2866],[95.1895,44.2652],[95.0355,44.2647],[94.9905,44.2545],[94.9309,44.2889],[94.7628,44.3382],[94.6955,44.3477],[94.6721,44.3835],[94.5992,44.4258],[94.576,44.4483],[94.534,44.4567],[94.4463,44.5031],[94.334,44.5231],[94.3162,44.5432],[94.3057,44.5898],[94.2411,44.6228],[94.1974,44.6625],[94.1162,44.6855],[94.061,44.7238],[93.9366,44.7799],[93.8158,44.8222],[93.7607,44.8469],[93.7255,44.8866],[93.6484,44.9204],[93.56,44.9391],[93.5083,44.9654],[93.461,44.9595],[93.3577,44.9899],[93.2511,44.9919],[93.2121,45.0047],[93.1757,45.1339],[93.1553,45.2377],[93.1525,45.2975],[93.1557,45.4691],[93.1521,45.5187],[93.1357,45.5625],[93.1061,45.6103],[93.0821,45.6761],[93.0847,45.7257],[93.1199,45.7661],[93.3193,45.8531],[93.376,45.8878],[93.4083,46.0407],[93.4291,46.0903],[93.4735,46.1698],[93.5381,46.2409],[93.5579,46.2771],[93.6145,46.3545],[93.6355,46.4275],[93.6165,46.4744],[93.5545,46.5589],[93.5195,46.636],[93.6025,46.6277],[93.6599,46.6131],[93.7015,46.5935],[93.7659,46.5507],[93.8009,46.5932],[93.8611,46.6389],[93.9185,46.6951],[93.9794,46.7184],[94.0505,46.7238],[94.1694,46.7244],[94.2256,46.7309],[94.2856,46.7468],[94.4125,46.8003],[94.3464,46.8341],[94.288,46.8787],[94.247,46.9276],[94.1862,47.0265],[94.1279,47.1008],[94.0726,47.2047],[94.0559,47.2591],[94.0122,47.3038],[93.9674,47.3208],[93.886,47.3361],[93.8128,47.3627],[93.7736,47.3915],[93.7499,47.4288],[93.6863,47.4875],[93.6405,47.5148],[93.5396,47.5574],[93.6145,47.6516],[93.6985,47.678],[93.8823,47.7131],[93.9914,47.7375],[94.1107,47.7708],[94.1707,47.7824],[94.2374,47.7776],[94.3204,47.7335],[94.5056,47.6796],[94.6575,47.6684],[94.7965,47.6746],[94.9239,47.6645],[95.0046,47.6446],[95.0289,47.6257],[95.0727,47.5412],[95.2016,47.5624],[95.2905,47.5649],[95.5291,47.536],[95.594,47.5135],[95.7523,47.4326],[95.801,47.4259],[95.9167,47.3774],[96.0259,47.3082],[96.1097,47.2967],[96.1585,47.2659],[96.2335,47.206],[96.2675,47.1675],[96.2902,47.0901],[96.281,46.9995],[96.2974,46.9245],[96.3427,46.8267],[96.497,46.878],[96.592,46.9202],[96.6777,46.9295],[96.7312,46.9004],[96.7808,46.8255],[96.8213,46.7966],[96.8595,46.7464],[96.9179,46.6836],[96.9382,46.6003],[97.0055,46.5879],[97.1689,46.5745],[97.2447,46.6043],[97.3486,46.6749],[97.3921,46.693],[97.4262,46.6477],[97.4884,46.6093],[97.5677,46.5975]]]},properties:{name:"Govĭ-Altay",id:"MN-065",CNTRY:"Mongolia",TYPE:"Province"},id:"MN-065"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[104.351,50.2751],[104.4473,50.2167],[104.5225,50.1499],[104.5495,50.1013],[104.5569,50.0497],[104.6167,50.0093],[104.6005,49.9937],[104.5159,49.9825],[104.517,49.8959],[104.5353,49.8553],[104.5736,49.8208],[104.6855,49.7409],[104.7335,49.6861],[104.6727,49.6457],[104.6716,49.5415],[104.6633,49.4865],[104.6417,49.433],[104.5949,49.3641],[104.5787,49.2987],[104.553,49.2308],[104.5374,49.1547],[104.5195,49.1056],[104.4439,49.1283],[104.3774,49.1298],[104.3424,49.1199],[104.2835,49.0807],[104.1031,49.1213],[104.0616,49.0958],[104.0013,49.0407],[104.0007,48.9868],[104.1851,48.9523],[104.2416,48.9462],[104.3781,48.8992],[104.4699,48.8434],[104.5438,48.7888],[104.5149,48.7326],[104.5282,48.6258],[104.5381,48.5377],[104.534,48.4192],[104.4974,48.352],[104.4002,48.2984],[104.365,48.2564],[104.329,48.1898],[104.2884,48.1439],[104.3311,48.112],[104.3785,48.0624],[104.3934,47.9885],[104.4948,47.9556],[104.5521,47.9494],[104.7039,47.945],[104.7117,47.9091],[104.6914,47.8956],[104.6993,47.8174],[104.7389,47.7069],[104.7605,47.6617],[104.6585,47.6553],[104.5276,47.6535],[104.4866,47.5997],[104.3297,47.5947],[104.2853,47.5832],[104.1562,47.5248],[104.0686,47.4683],[104.1102,47.4055],[104.1629,47.3686],[104.1723,47.3304],[104.1475,47.298],[104.0741,47.2826],[103.9517,47.2647],[103.866,47.2577],[103.8087,47.2632],[103.6777,47.2506],[103.6605,47.3382],[103.5936,47.384],[103.4006,47.4949],[103.3429,47.5471],[103.2576,47.6553],[103.2074,47.6989],[103.1383,47.7209],[103.0901,47.7228],[103.0342,47.7995],[103.014,47.8432],[102.8899,47.8826],[102.8543,47.9044],[102.8424,47.9296],[102.8337,48.0033],[102.8075,48.0781],[102.7315,48.1726],[102.68,48.2197],[102.6322,48.2514],[102.5245,48.2569],[102.4801,48.2661],[102.4141,48.2991],[102.3691,48.3322],[102.358,48.3883],[102.3184,48.4334],[102.2383,48.4814],[102.2224,48.5172],[102.2233,48.561],[102.1987,48.6766],[102.1601,48.7661],[102.1312,48.8105],[102.0489,48.777],[101.9966,48.7716],[101.9604,48.7847],[101.9288,48.8306],[101.8807,48.8592],[101.8065,48.8682],[101.7578,48.8883],[101.6782,48.9439],[101.6658,48.9627],[101.6345,49.0719],[101.6423,49.1305],[101.6773,49.1929],[101.7258,49.2338],[101.8056,49.2508],[101.852,49.299],[101.8986,49.3218],[101.9779,49.3731],[102.037,49.3888],[102.2808,49.4317],[102.3448,49.4532],[102.4284,49.5082],[102.4689,49.557],[102.5007,49.6152],[102.5396,49.6405],[102.6693,49.6378],[102.7847,49.6915],[102.7205,49.7345],[102.5581,49.7897],[102.4862,49.8035],[102.3571,49.8431],[102.2751,49.8595],[102.1377,49.9047],[102.1073,49.9302],[102.1043,49.9623],[102.1325,50.0051],[102.2175,50.0723],[102.2491,50.1099],[102.3595,50.1855],[102.3915,50.2581],[102.4177,50.3005],[102.5001,50.3547],[102.6753,50.4163],[102.8246,50.3786],[102.8908,50.3245],[102.9807,50.3043],[103.2046,50.3127],[103.2491,50.2905],[103.2587,50.255],[103.2872,50.2192],[103.3379,50.2015],[103.3967,50.2153],[103.4751,50.2053],[103.5872,50.1603],[103.6905,50.1373],[103.7201,50.1504],[103.7577,50.1941],[103.8035,50.2085],[103.8549,50.2029],[103.9544,50.1784],[104.0187,50.1559],[104.0611,50.1545],[104.1897,50.1837],[104.2509,50.2019],[104.2847,50.2528],[104.3408,50.2591],[104.351,50.2751]]]},properties:{name:"Bulgan",id:"MN-067",CNTRY:"Mongolia",TYPE:"Province"},id:"MN-067"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[101.2885,46.8262],[101.3413,46.7682],[101.41,46.6701],[101.4969,46.5801],[101.4806,46.5391],[101.524,46.4704],[101.5169,46.4224],[101.4973,46.3815],[101.4921,46.1897],[101.4531,46.1397],[101.4174,46.1163],[101.3413,46.0834],[101.2961,46.0389],[101.2861,45.9913],[101.2878,45.9213],[101.3214,45.8148],[101.3238,45.7665],[101.2985,45.6893],[101.2438,45.6246],[101.2429,45.5573],[101.1867,45.5057],[101.1505,45.4608],[101.1391,45.3933],[101.1363,45.1476],[101.1456,45.0883],[101.1862,45.0273],[101.2168,44.995],[101.2794,44.9681],[101.4031,44.9411],[101.454,44.9082],[101.5572,44.8656],[101.596,44.8164],[101.5553,44.7761],[101.5368,44.6904],[101.547,44.6363],[101.604,44.5716],[101.6451,44.4914],[101.6601,44.4418],[101.7024,44.3428],[101.7186,44.2667],[101.7411,44.2084],[101.7719,44.1078],[101.8079,44.0488],[101.7469,43.9951],[101.6613,43.9789],[101.4766,43.9187],[101.3305,43.8576],[101.2197,43.8383],[101.1309,43.8339],[100.6141,43.8345],[100.5551,43.8311],[100.3905,43.8131],[100.2921,43.8257],[100.2467,43.8437],[100.1265,43.9381],[100.0065,44.0421],[99.9379,44.0673],[99.8663,44.1123],[99.8139,44.1345],[99.7371,44.1501],[99.6643,44.1443],[99.5791,44.1257],[99.5047,44.1183],[99.4356,44.0885],[99.417,44.0342],[99.4505,43.8473],[99.4483,43.5713],[99.4511,43.5085],[99.4629,43.451],[99.4697,43.3599],[99.4897,43.2283],[99.5274,43.0399],[99.5752,42.869],[99.5957,42.7379],[99.5969,42.5859],[99.4963,42.5701],[99.0164,42.6041],[98.3399,42.6399],[98.2479,42.6378],[98.1209,42.6581],[98.0198,42.6834],[97.7883,42.7061],[97.7909,43.0151],[97.7847,43.0553],[97.7563,43.1595],[97.7535,43.2491],[97.7599,43.2883],[97.7797,43.3303],[97.8551,43.4237],[97.8689,43.4709],[97.8691,43.5327],[97.9091,43.5987],[97.9139,43.6392],[97.9079,43.6979],[97.9189,43.7613],[97.9247,43.8511],[97.9553,43.9821],[97.9277,44.1215],[97.9259,44.3055],[97.9299,44.3549],[97.9667,44.4059],[98.0556,44.4267],[98.1014,44.4517],[98.1393,44.4913],[98.19,44.5879],[98.2145,44.6861],[98.2143,44.7661],[98.1977,44.8599],[98.2125,44.9337],[98.2702,45.0243],[98.3325,45.1047],[98.3917,45.2001],[98.4366,45.3066],[98.46,45.3834],[98.4665,45.4528],[98.4653,45.5834],[98.4435,45.6716],[98.4014,45.8028],[98.3423,45.8569],[98.2583,45.903],[98.2205,45.9317],[98.2042,45.9611],[98.2061,45.9901],[98.0387,46.1061],[97.9692,46.1441],[97.9213,46.1855],[97.87,46.218],[97.7834,46.254],[97.742,46.2826],[97.7213,46.3124],[97.7006,46.372],[97.6604,46.4384],[97.6419,46.5006],[97.6539,46.5307],[97.5677,46.5975],[97.6426,46.6747],[97.6939,46.7424],[97.7137,46.7829],[97.7335,46.8506],[97.7459,46.9643],[97.7846,47.0155],[97.8433,47.0585],[97.8649,47.0922],[97.874,47.1547],[97.9144,47.1824],[97.9704,47.1877],[98.0634,47.1738],[98.1208,47.1898],[98.1948,47.225],[98.2509,47.266],[98.2664,47.2982],[98.2784,47.3663],[98.2782,47.4443],[98.3121,47.4751],[98.385,47.5261],[98.4063,47.5627],[98.4166,47.6148],[98.4841,47.6659],[98.5813,47.6996],[98.6679,47.7117],[98.7925,47.7217],[98.7977,47.6565],[98.8166,47.5899],[98.8555,47.5423],[98.9389,47.5022],[98.973,47.4715],[99.054,47.4546],[99.214,47.4535],[99.2614,47.46],[99.3442,47.4909],[99.383,47.52],[99.4112,47.5554],[99.4845,47.5783],[99.6663,47.6016],[99.7093,47.6172],[99.7594,47.619],[99.7596,47.5186],[99.7698,47.4922],[99.8688,47.4046],[99.8959,47.346],[99.9022,47.2514],[99.9217,47.1908],[99.9199,47.1386],[99.942,47.0579],[100.0878,47.112],[100.2214,47.1351],[100.448,47.1831],[100.4245,47.1323],[100.4212,47.0772],[100.4379,47.0089],[100.4621,46.9773],[100.5903,46.9397],[100.6266,46.9143],[100.6953,46.8368],[100.7595,46.83],[100.8444,46.838],[100.9936,46.8262],[101.0801,46.8266],[101.1783,46.8496],[101.2305,46.8269],[101.2885,46.8262]]]},properties:{name:"Bayanhongor",id:"MN-069",CNTRY:"Mongolia",TYPE:"Province"},id:"MN-069"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[91.3383,48.6718],[91.2548,48.7043],[91.197,48.7137],[91.1418,48.7027],[91.0478,48.6598],[90.9452,48.6303],[90.8837,48.6327],[90.8125,48.6483],[90.7396,48.6523],[90.7193,48.6388],[90.7996,48.5623],[90.8164,48.5267],[90.8334,48.4524],[90.8342,48.4137],[90.8203,48.3489],[90.8207,48.273],[90.8551,48.1195],[90.8873,48.0683],[90.9431,48.0289],[90.9849,47.9769],[91.0589,47.8407],[91.0745,47.7833],[91.0969,47.7527],[91.1708,47.7229],[91.1711,47.6651],[91.1799,47.6297],[91.2411,47.5677],[91.2621,47.5289],[91.2619,47.4957],[91.2373,47.3689],[91.2896,47.3357],[91.3563,47.2594],[91.4004,47.2277],[91.4484,47.207],[91.4687,47.1305],[91.4422,47.0188],[91.4539,46.9445],[91.4839,46.9141],[91.6355,46.8271],[91.7597,46.7701],[91.8733,46.7279],[91.9271,46.7027],[91.8725,46.6387],[91.8511,46.6273],[91.7767,46.6167],[91.5691,46.6139],[91.5377,46.5867],[91.4793,46.5533],[91.4361,46.5425],[91.3585,46.5555],[91.3275,46.5867],[91.2927,46.6459],[91.2475,46.6707],[91.1605,46.6913],[91.1057,46.7117],[91.0607,46.7105],[91.0517,46.726],[90.9742,46.7982],[90.9535,46.827],[90.9661,46.8619],[90.9334,46.9014],[90.9136,46.9533],[90.8812,46.9764],[90.8211,46.9879],[90.7707,46.9869],[90.7343,47.0015],[90.695,47.0691],[90.6491,47.0948],[90.6146,47.1388],[90.5521,47.1999],[90.5179,47.2441],[90.5119,47.2691],[90.4758,47.3242],[90.4912,47.3805],[90.4583,47.4209],[90.4569,47.4871],[90.4239,47.5078],[90.383,47.5493],[90.362,47.586],[90.3268,47.6223],[90.3396,47.6463],[90.3234,47.667],[90.1435,47.7226],[90.0795,47.7662],[90.0651,47.8173],[90.0753,47.8531],[89.9991,47.8873],[89.9639,47.8843],[89.9427,47.8525],[89.9585,47.8305],[89.9303,47.8165],[89.8921,47.8299],[89.7964,47.8181],[89.7667,47.8297],[89.7252,47.8918],[89.6731,47.9047],[89.6173,47.9459],[89.5782,48],[89.6002,48.0253],[89.5659,48.0487],[89.4401,48.0378],[89.3939,48.0476],[89.3662,48.0249],[89.3184,48.0284],[89.2832,48.0001],[89.2469,47.9861],[89.2326,47.9645],[89.193,47.9502],[89.1257,47.9525],[89.0411,47.9473],[89.0221,47.9629],[89.0427,48.0001],[89.0285,48.0398],[88.9857,48.0803],[88.9176,48.1008],[88.8991,48.1199],[88.8313,48.1155],[88.8064,48.1315],[88.7537,48.1417],[88.739,48.166],[88.6743,48.1745],[88.6196,48.2282],[88.5843,48.2345],[88.5753,48.2759],[88.6056,48.3222],[88.6011,48.3441],[88.5173,48.3883],[88.4938,48.416],[88.4174,48.3905],[88.3528,48.441],[88.3496,48.4707],[88.2891,48.4842],[88.2408,48.5088],[88.1653,48.5194],[88.0798,48.5505],[88.0377,48.5493],[88.0043,48.566],[87.9687,48.5484],[88.0143,48.655],[88.0733,48.6917],[88.0523,48.7212],[88,48.762],[87.9574,48.7711],[87.9247,48.7623],[87.8655,48.7983],[87.8034,48.813],[87.8253,48.844],[87.7951,48.8755],[87.75,48.8906],[87.7751,48.9373],[87.8747,48.9547],[87.9145,48.9859],[87.9034,49.0075],[87.8332,49.0599],[87.8661,49.1183],[87.8347,49.1459],[87.8323,49.175],[87.8999,49.1669],[87.9485,49.1845],[87.9943,49.1863],[88.0087,49.2358],[88.0553,49.2664],[88.0997,49.2659],[88.1212,49.2446],[88.1669,49.2781],[88.1968,49.2873],[88.1466,49.3448],[88.1031,49.3655],[88.1385,49.4117],[88.1882,49.4299],[88.1772,49.4531],[88.2233,49.4899],[88.3398,49.5081],[88.4113,49.5009],[88.4453,49.4801],[88.509,49.4925],[88.5554,49.4844],[88.5755,49.5123],[88.6209,49.5263],[88.65,49.5201],[88.6791,49.4751],[88.7121,49.4661],[88.8152,49.4662],[88.8527,49.4501],[88.8606,49.4932],[88.855,49.5291],[88.8911,49.5558],[88.9302,49.5563],[88.9269,49.5303],[88.9639,49.4847],[88.9917,49.4771],[89.0278,49.4925],[89.0995,49.4999],[89.1731,49.5267],[89.2267,49.5592],[89.1899,49.5985],[89.2235,49.6463],[89.2498,49.654],[89.3127,49.6345],[89.3697,49.5959],[89.3878,49.6037],[89.4449,49.6589],[89.4915,49.6634],[89.5409,49.6841],[89.6818,49.7097],[89.6999,49.7222],[89.7385,49.7945],[89.7001,49.8116],[89.6533,49.8154],[89.6367,49.8317],[89.6386,49.9047],[89.603,49.9339],[89.6207,49.974],[89.7193,49.9775],[89.7444,49.9947],[89.8365,49.9981],[89.9305,49.9855],[89.9895,50.0051],[90.0791,49.9761],[90.1231,49.9427],[90.1453,49.9029],[90.1803,49.7867],[90.2391,49.7213],[90.3657,49.6697],[90.4383,49.6299],[90.5033,49.5843],[90.5887,49.4737],[90.5883,49.4333],[90.6083,49.4197],[90.6675,49.3389],[90.7475,49.2984],[90.8245,49.3064],[90.8698,49.2956],[90.9066,49.2643],[90.9377,49.1937],[90.9959,49.1068],[91.0212,49.0395],[91.124,48.9755],[91.1812,48.9543],[91.2295,48.9252],[91.2834,48.8577],[91.3142,48.7928],[91.3383,48.6718]]]},properties:{name:"Bayan-Ölgiy",id:"MN-071",CNTRY:"Mongolia",TYPE:"Province"},id:"MN-071"},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[101.6658,48.9627],[101.6782,48.9439],[101.7578,48.8883],[101.8065,48.8682],[101.8807,48.8592],[101.9288,48.8306],[101.9604,48.7847],[101.9966,48.7716],[102.0489,48.777],[102.1312,48.8105],[102.1601,48.7661],[102.1987,48.6766],[102.2233,48.561],[102.2224,48.5172],[102.2383,48.4814],[102.3184,48.4334],[102.358,48.3883],[102.3691,48.3322],[102.4141,48.2991],[102.4801,48.2661],[102.5245,48.2569],[102.6322,48.2514],[102.68,48.2197],[102.7315,48.1726],[102.8075,48.0781],[102.8337,48.0033],[102.8424,47.9296],[102.8543,47.9044],[102.8899,47.8826],[103.014,47.8432],[103.0342,47.7995],[103.0901,47.7228],[103.1383,47.7209],[103.2074,47.6989],[103.2576,47.6553],[103.3429,47.5471],[103.4006,47.4949],[103.5936,47.384],[103.6605,47.3382],[103.6777,47.2506],[103.6434,47.2206],[103.5929,47.2007],[103.5194,47.187],[103.4472,47.1839],[103.3499,47.1864],[103.2353,47.1978],[103.1789,47.2124],[103.0857,47.2855],[103.0417,47.3098],[102.9644,47.3226],[102.8492,47.369],[102.779,47.3756],[102.7404,47.389],[102.7141,47.4133],[102.6649,47.3992],[102.6465,47.3831],[102.6456,47.3495],[102.6626,47.3262],[102.7234,47.2782],[102.7166,47.227],[102.6721,47.1749],[102.5882,47.1287],[102.5581,47.0779],[102.5451,47.0038],[102.5117,46.9515],[102.4668,46.9289],[102.4187,46.9495],[102.3206,47.0173],[102.2803,47.0258],[102.1459,47.0101],[102.0989,46.9936],[101.9882,46.978],[101.9299,46.962],[101.8833,46.9323],[101.8478,46.8851],[101.7758,46.8621],[101.6289,46.851],[101.4738,46.8491],[101.3825,46.8431],[101.2885,46.8262],[101.2305,46.8269],[101.1783,46.8496],[101.0801,46.8266],[100.9936,46.8262],[100.8444,46.838],[100.7595,46.83],[100.6953,46.8368],[100.6266,46.9143],[100.5903,46.9397],[100.4621,46.9773],[100.4379,47.0089],[100.4212,47.0772],[100.4245,47.1323],[100.448,47.1831],[100.2214,47.1351],[100.0878,47.112],[99.942,47.0579],[99.9199,47.1386],[99.9217,47.1908],[99.9022,47.2514],[99.8959,47.346],[99.8688,47.4046],[99.7698,47.4922],[99.7596,47.5186],[99.7594,47.619],[99.7093,47.6172],[99.6663,47.6016],[99.4845,47.5783],[99.4112,47.5554],[99.383,47.52],[99.3442,47.4909],[99.2614,47.46],[99.214,47.4535],[99.054,47.4546],[98.973,47.4715],[98.9389,47.5022],[98.8555,47.5423],[98.8166,47.5899],[98.7977,47.6565],[98.7925,47.7217],[98.6679,47.7117],[98.5813,47.6996],[98.4841,47.6659],[98.4166,47.6148],[98.3092,47.6371],[98.2576,47.6572],[98.1935,47.711],[98.1776,47.7438],[98.1785,47.8106],[98.2004,47.8596],[98.2122,47.9213],[98.2013,47.9961],[98.2377,48.0668],[98.2844,48.0932],[98.3327,48.1029],[98.5041,48.0989],[98.5764,48.1183],[98.6596,48.1616],[98.7053,48.2027],[98.746,48.2169],[98.8658,48.243],[98.959,48.2744],[99.0743,48.2962],[99.2236,48.2429],[99.266,48.2353],[99.3496,48.2403],[99.6744,48.2852],[99.7221,48.3065],[99.7494,48.3416],[99.7836,48.421],[99.7873,48.4855],[99.9058,48.4612],[99.9583,48.4448],[100.0651,48.3995],[100.1124,48.3889],[100.1828,48.3933],[100.2117,48.4165],[100.2158,48.4598],[100.2445,48.4796],[100.2899,48.4907],[100.4021,48.4989],[100.4763,48.5087],[100.3844,48.5944],[100.3625,48.6302],[100.3594,48.6715],[100.3776,48.73],[100.4355,48.8252],[100.493,48.8715],[100.5854,48.8965],[100.6404,48.9235],[100.5989,48.9594],[100.4763,48.9984],[100.6131,49.0774],[100.6498,49.107],[100.7027,49.2049],[100.771,49.1806],[100.8866,49.1305],[100.9501,49.1153],[101.149,49.0498],[101.2925,49.009],[101.3578,48.9715],[101.4475,48.9532],[101.5376,48.951],[101.6658,48.9627]]]},properties:{name:"Arhangay",id:"MN-073",CNTRY:"Mongolia",TYPE:"Province"},id:"MN-073"}]},gw=dw,fw={name:"countryMap",data(){return{chosenProvince:null,provinces:[{id:"MN-1",name:"Улаанбаатар",value:1552,color:"#009ad7"},{id:"MN-035",name:"Орхон",value:102},{id:"MN-037",name:"Дархан-Уул",value:133},{id:"MN-039",name:"Хэнтий",value:64},{id:"MN-041",name:"Хөвсгөл",value:133},{id:"MN-043",name:"Ховд",value:106},{id:"MN-046",name:"Увс",value:118},{id:"MN-047",name:"Төв",value:59},{id:"MN-049",name:"Сэлэнгэ",value:78},{id:"MN-051",name:"Сүхбаатар",value:48},{id:"MN-053",name:"Өмнөговь",value:41},{id:"MN-055",name:"Өвөрхангай",value:119},{id:"MN-057",name:"Завхан",value:69},{id:"MN-059",name:"Дундговь",value:29},{id:"MN-061",name:"Дорнод",value:72},{id:"MN-063",name:"Дорноговь",value:71},{id:"MN-064",name:"Говьсүмбэр",value:17},{id:"MN-065",name:"Говь-Алтай",value:51},{id:"MN-067",name:"Булган",value:32},{id:"MN-069",name:"Баянхонгор",value:71},{id:"MN-071",name:"Баян-Өлгий",value:58},{id:"MN-073",name:"Архангай",value:98}]}},mounted(){const t=hm("chart-container",nx);t.geodata=gw,t.projection=new fx;const e=t.series.push(new _b);e.useGeodata=!0;const i=e.mapPolygons.template;i.tooltipText="{name}: {value}",i.propertyFields.customName="name",i.fill=Uu("#66c2e7"),i.stroke=Uu("#FFFFFF"),i.strokeWidth=.5,i.nonScalingStroke=!0,e.data=this.provinces,e.data=this.provinces,i.propertyFields.fill="color";const s=i.states.create("hover");s.properties.fill=Uu("#99d7ef"),t.zoomControl=new px}};const mw=(0,Xn.Z)(fw,[["render",sl],["__scopeId","data-v-2a634c0a"]]);var yw=mw,bw={name:"infograph",components:{majorbubble:Jo,schools:Vr,examinee:Kn,avarage:Wr,eec:Jr,CountryMap:yw},data(){return{iscontainer:!1}},mounted(){let t=this.$route.name;this.iscontainer="infograph"==t}};const vw=(0,Xn.Z)(bw,[["render",M],["__scopeId","data-v-67526792"]]);var _w=vw}}]);