"use strict";(self["webpackChunkfront_vue"]=self["webpackChunkfront_vue"]||[]).push([[450],{1450:function(e,s,t){t.r(s),t.d(s,{default:function(){return re}});var a=t(3396),l=t(7139),n=t(9242),o=t(6096);const c=e=>((0,a.dD)("data-v-72a6131c"),e=e(),(0,a.Cn)(),e),r={class:"fullheigth centered-content bg-white-section p-4"},i=(0,a.uE)('<div class="content-tittle mb-4" data-v-72a6131c><h2 data-v-72a6131c><span class="title" data-v-72a6131c>Онооны тооцоолуур</span></h2></div><div class="alert alert-primary mb-4" data-v-72a6131c><div class="alert-icon" data-v-72a6131c><img src="'+o+'" alt="" class="icon" data-v-72a6131c></div><div class="alert-content ms-5" data-v-72a6131c><p data-v-72a6131c><strong data-v-72a6131c> Санамж </strong></p><p data-v-72a6131c>Энэхүү тооцоолуур нь таамаглан оруулсан оноо бүхий хичээлүүдийн хослолоор журмын дагуу хөтөлбөрийн шаардлагыг хэрхэн хангаж буйг үзүүлэх зорилготой. </p><ol class="ms-0 m-0" data-v-72a6131c><li data-v-72a6131c> Хичээлд харгалзах ЭЕШ-ын оноог таамаглан оруулах. </li><li data-v-72a6131c> Журмын дагуу Бүртгүүлэх боломжтой хөтөлбөрийн суурь болон дагалдах шалгалтын харьцаагаар оноог хийсвэрлэн тооцоолно. </li></ol></div></div>',2),d={class:"row scorebtns"},u={class:"col mx-auto d-grid gap-2"},h={class:"col mx-auto d-grid gap-2"},b={key:0,class:"row justify-content-center pt-4"},p={class:"col-md-8"},m={class:"scoretable table table-bordered"},_=c((()=>(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{class:"text-center",width:"40"},"№"),(0,a._)("th",null,"Шалгалтын нэр"),(0,a._)("th",null,"Оноо")])],-1))),g={class:"text-center"},w=["onKeyup","onUpdate:modelValue"],v={class:"pt-3 d-grid gap-2 d-md-flex justify-content-end"},y={class:""},f={key:1,class:"row justify-content-center py-5"},k={class:"col-md-12"},D={class:"DatatableFilter row mb-4"},x={class:"col-md-3"},S=c((()=>(0,a._)("label",{for:"inputState",class:"form-label"},"Суурь шалгалт",-1))),C=c((()=>(0,a._)("option",{selected:"",value:999},"-Бүгд-",-1))),z=["value"],N={class:"col-md-3"},I=c((()=>(0,a._)("label",{for:"inputState",class:"form-label"},"Дагалдах шалгалт",-1))),j=c((()=>(0,a._)("option",{selected:"",value:999},"-Бүгд-",-1))),U=["value"],T={class:"col-md-3"},G=c((()=>(0,a._)("label",{for:"inputState",class:"form-label"},"Хайх",-1))),K={class:"overflow-auto row"},$={id:"datatable",class:"table table-bordered table-hover w-100",cellspacing:"0"},L=c((()=>(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"№"),(0,a._)("th",{class:"tableprogramname"},"Хөтөлбөр"),(0,a._)("th",null,"Суурь шалгалт (70%)"),(0,a._)("th",null,"Дагалдах шалгалт (30%)"),(0,a._)("th",{class:"primary-color"},"Хийсвэрээр тооцоолсон оноо")])],-1))),M={key:0},E={class:"text-center"},H={key:0},V=c((()=>(0,a._)("br",null,null,-1))),Y={style:{display:"none"}},Z={class:"text-center"},q={key:0},A=c((()=>(0,a._)("br",null,null,-1))),F={style:{display:"none"}},O={key:1},P={class:"text-center primary-color"},R={key:1},B={colspan:"3"},J={class:"text-danger"},Q=c((()=>(0,a._)("td",{style:{display:"none"}},null,-1))),W=c((()=>(0,a._)("td",{style:{display:"none"}},null,-1)));function X(e,s,t,o,c,X){return(0,a.wg)(),(0,a.iD)("div",{class:(0,l.C_)(e.iscontainer?"container my-5":"")},[(0,a._)("div",r,[i,(0,a._)("div",d,[(0,a._)("div",u,[(0,a._)("button",{onClick:s[0]||(s[0]=(...e)=>X.insertScore&&X.insertScore(...e)),class:(0,l.C_)(e.isCalc?"btn":"btn btn-primary"),type:"button"},"Шалгалтын оноо ",2)]),(0,a._)("div",h,[(0,a._)("button",{class:(0,l.C_)(e.isCalc?"btn btn-primary":"btn"),type:"button"},"Тооцоолсон оноо ",2)])]),e.isCalc?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",b,[(0,a._)("div",p,[(0,a._)("table",m,[_,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.lessons,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:e},[(0,a._)("td",g,(0,l.zw)(Number(t)+1),1),(0,a._)("td",null,(0,l.zw)(e.lessonName),1),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{class:"form-control",onKeyup:s=>X.checkmax(e.scaledScore,t),type:"text","onUpdate:modelValue":s=>e.scaledScore=s,number:"",onKeypress:s[1]||(s[1]=e=>X.isNumber(e)),maxlength:3,placeholder:""},null,40,w),[[n.nr,e.scaledScore]])])])))),128))])])]),(0,a._)("div",v,[(0,a._)("div",y,[(0,a._)("button",{onClick:s[2]||(s[2]=(...e)=>X.submitscore&&X.submitscore(...e)),class:"btn btn-primary"},"Тооцоолсон оноог бодох")])])])),e.isCalc?((0,a.wg)(),(0,a.iD)("div",f,[(0,a._)("div",k,[(0,a._)("div",D,[(0,a._)("div",x,[S,(0,a.wy)((0,a._)("select",{id:"inputState",onChange:s[3]||(s[3]=(...e)=>X.searchbylesson1&&X.searchbylesson1(...e)),class:"form-select","onUpdate:modelValue":s[4]||(s[4]=s=>e.selectedlesson1=s)},[C,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.lessons.filter((e=>""!=e.scaledScore)),(e=>((0,a.wg)(),(0,a.iD)("option",{key:e,value:e.lessonId},(0,l.zw)(e.lessonName),9,z)))),128))],544),[[n.bM,e.selectedlesson1]])]),(0,a._)("div",N,[I,(0,a.wy)((0,a._)("select",{id:"inputState",onChange:s[5]||(s[5]=(...e)=>X.searchbylesson2&&X.searchbylesson2(...e)),class:"form-select","onUpdate:modelValue":s[6]||(s[6]=s=>e.selectedlesson2=s)},[j,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.lessons.filter((e=>""!=e.scaledScore)),(e=>((0,a.wg)(),(0,a.iD)("option",{key:e,value:e.lessonId},(0,l.zw)(e.lessonName),9,U)))),128))],544),[[n.bM,e.selectedlesson2]])]),(0,a._)("div",T,[G,(0,a.wy)((0,a._)("input",{type:"text",onKeyup:s[7]||(s[7]=(...e)=>X.searchtable&&X.searchtable(...e)),"onUpdate:modelValue":s[8]||(s[8]=s=>e.searchtxt=s),class:"form-control",placeholder:"Хөтөлбөр хайх"},null,544),[[n.nr,e.searchtxt]])])]),(0,a._)("div",K,[(0,a._)("table",$,[L,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.tableData,((e,s)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:e},[1==e.status?((0,a.wg)(),(0,a.iD)("tr",M,[(0,a._)("td",null,(0,l.zw)(Number(s)+1),1),(0,a._)("td",null,[(0,a._)("p",null,(0,l.zw)(e.programName),1),(0,a._)("small",null,(0,l.zw)(e.abbrevm),1)]),(0,a._)("td",E,[e.examGroup?.lessons.length>0?((0,a.wg)(),(0,a.iD)("span",H,[(0,a.Uk)((0,l.zw)(e.examGroup?.lessons[0]?.lessonName),1),V,(0,a.Uk)(" "+(0,l.zw)(X.getlessonscore(e.examGroup?.lessons[0].lessonId))+" ",1),(0,a._)("span",Y," lessonID1_"+(0,l.zw)(e.examGroup?.lessons[0]?.lessonId),1)])):(0,a.kq)("",!0)]),(0,a._)("td",Z,[e.examGroup?.lessons.length>1?((0,a.wg)(),(0,a.iD)("span",q,[(0,a.Uk)((0,l.zw)(e.examGroup?.lessons[1]?.lessonName),1),A,(0,a.Uk)(" "+(0,l.zw)(X.getlessonscore(e.examGroup?.lessons[1].lessonId))+" ",1),(0,a._)("span",F," lessonID2_"+(0,l.zw)(e.examGroup?.lessons[1]?.lessonId),1)])):((0,a.wg)(),(0,a.iD)("span",O," - "))]),(0,a._)("td",P,[(0,a._)("strong",null,(0,l.zw)(e.scaledScore),1)])])):((0,a.wg)(),(0,a.iD)("tr",R,[(0,a._)("td",null,(0,l.zw)(Number(s)+1),1),(0,a._)("td",null,[(0,a._)("p",null,(0,l.zw)(e.programName),1),(0,a._)("small",null,(0,l.zw)(e.abbrevm),1)]),(0,a._)("td",B,[(0,a._)("span",J,(0,l.zw)(e.statusDescription),1)]),Q,W]))],64)))),128))])])])])])):(0,a.kq)("",!0)])],2)}t(7658);var ee=t(4161),se=t(7387),te=t.n(se),ae=t(5929),le=t(2377);ae.Z.use(le.Z);var ne={data:function(){return{table:"#datatable",tableData:Object,datatableobj:null,lessons:[],selectedlesson1:999,selectedlesson2:999,isCalc:!1,BalanceModal:!0,iscontainer:!1,searchtxt:""}},mounted(){let e=this.$route.name;this.iscontainer="scorecalculator"==e,this.getLessons(),this.makeTable()},methods:{getlessonscore(e){return this.lessons.filter((s=>""!=s.scaledScore&&s.lessonId==e))[0].scaledScore},isNumber:function(e){e=e||window.event;var s=e.which?e.which:e.keyCode;if(!(s>31&&(s<48||s>57)&&46!==s))return!0;e.preventDefault()},checkmax(e,s){(e>800||e<0)&&(this.lessons[s].scaledScore=e.slice(0,-1))},searchtable(){this.datatableobj.search(this.searchtxt).draw()},searchbylesson1(){999!=this.selectedlesson1?this.datatableobj.column(2).search("lessonID1_"+this.selectedlesson1).draw():this.datatableobj.column(2).search("").draw()},searchbylesson2(){999!=this.selectedlesson2?this.datatableobj.column(3).search("lessonID2_"+this.selectedlesson2).draw():this.datatableobj.column(3).search("").draw()},changepagelength(){this.datatableobj.page.len(this.tblpage).draw(),te()(".dropdown-menu").removeClass("show")},insertScore(){this.isCalc=!1},CalcScore(){this.isCalc=!0},submitscore(){this.lessons.filter((e=>""!=e.scaledScore)).length>1?ee.Z.post("calculateScore",this.lessons.filter((e=>""!=e.scaledScore))).then((e=>{1==e.data.status?(this.isCalc=!0,this.datatableobj.clear(),this.tableData=e.data.result,this.datatableobj.destroy(),this.makeTable()):this.$toast.open({message:e.data.message,type:"warning"})})).catch((e=>{this.$toast.open({message:"Холболт амжилтгүй!",type:"error"})})):this.$toast.open({message:"Хамгийн багадаа <strong> 2 </strong> хичээлийн оноо оруулна уу!",type:"warning"})},makeTable(){this.$nextTick((function(){this.datatableobj=te()(this.table).DataTable({lengthMenu:[[5,10,25,50],[5,10,25,50]],pageLength:10,responsive:!0,authwidth:!0,aaSorting:[],dom:'<"top">rt<"bottom"<"row"<"col"l><"col-md-auto"i><"col-md-auto"p> >><"clear">',language:{url:"//cdn.datatables.net/plug-ins/1.13.4/i18n/mn.json",search:"_INPUT_",searchPlaceholder:"Хөтөлбөр хайх",zeroRecords:"Тохирох бичлэг олдсонгүй",infoEmpty:"",lengthMenu:"Харуулах мөрийн тоо  _MENU_",sInfo:"Нийт _TOTAL_ өгөгдлийн _START_ - _END_",paginate:{first:"First",last:"Last",next:"<i class='bi bi-chevron-right'></i>",previous:"<i class='bi bi-chevron-left'></i>"}},columnDefs:[{orderable:!1,targets:[0]}]})}))},getLessons(){ee.Z.get("getLessons").then((e=>{1==e.data.status?e.data.result.forEach((e=>{this.lessons.push({lessonName:e.lessonName,lessonId:e.lessonId,scaledScore:""})})):this.$toast.open({message:e.data.message,type:"warning"})})).catch((e=>{this.$toast.open({message:"Холболт амжилтгүй!",type:"error"})}))}}},oe=t(89);const ce=(0,oe.Z)(ne,[["render",X],["__scopeId","data-v-72a6131c"]]);var re=ce}}]);