"use strict";(self["webpackChunkfront_vue"]=self["webpackChunkfront_vue"]||[]).push([[872],{2872:function(t,e,l){l.r(e),l.d(e,{default:function(){return ft}});var a=l(3396),s=l(7139),n=l(9242);const o={class:"fullheigth centered-content bg-white-section p-4"},r=(0,a._)("div",{class:"content-tittle mb-4"},[(0,a._)("h2",null,[(0,a._)("span",{class:"title"},"Элсэлтийн бүлэг")])],-1),i={class:"DatatableFilter row mb-4"},d={class:"col-md-4"},u=(0,a._)("label",{for:"inputCity",class:"form-label"},"Бүрэлдэхүүн/салбар сургууль",-1),c={class:"dropdown"},h={type:"button",class:"form-select","data-bs-toggle":"dropdown","aria-expanded":"false","data-bs-auto-close":"outside"},m={key:0},g={key:1},p={class:"dropdown-menu p-2 overflow-auto"},_={class:"form-check"},b=(0,a._)("label",{class:"form-check-label",for:"flexCheck0"}," -Бүгд- ",-1),w=(0,a._)("hr",{class:"dropdown-divider"},null,-1),k=["id","value"],f=["for"],y={key:0},v=(0,a._)("br",null,null,-1),M={class:"col-md-4"},x=(0,a._)("label",{for:"inputState",class:"form-label"},"Хайх",-1),D={class:"row overflow-auto"},S={id:"datatable",class:"table table-hover w-100",cellspacing:"0"},z=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{width:"10px"},"№"),(0,a._)("th",{class:"tableprogramname",width:"40%"},"Элсэх хөтөлбөр"),(0,a._)("th",{width:"90px"},"Хяналтын тоо"),(0,a._)("th",{width:"40%"},"Үйлдэл")])],-1),P={key:0,class:"table-striped"},C={class:"text-center"},N=(0,a._)("br",null,null,-1),U={style:{display:"none"}},I={class:"text-center"},T=["onClick"],V={class:"text-center"},G=["onClick"],H=["onClick"],$={class:"table table-bordeless table-responsive"},j=(0,a._)("td",{width:"40%"},[(0,a._)("p",null,[(0,a._)("strong",null,"Бүрэлдэхүүн/Салбар сургууль")])],-1),q={width:"60%"},Z=(0,a._)("td",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Хөтөлбөр")])],-1),A={class:"table table-responsive table-stripedmy table-borderless"},K=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"Бүсчлэл"),(0,a._)("th",null,"Хяналтын тоо")])],-1),L={class:"text-center"},Y={class:"table table-bordeless table-responsive"},O=(0,a._)("td",{width:"40%"},[(0,a._)("p",null,[(0,a._)("strong",null,"Бүрэлдэхүүн/Салбар сургууль: ")])],-1),E={width:"60%"},W=(0,a._)("td",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Хөтөлбөрийн нэр: ")])],-1),B=(0,a._)("td",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Хөтөлбөрийн индекс: ")])],-1),F=(0,a._)("p",null,"Хөтөлбөрийн тодорхойлолт: ",-1),R=["innerHTML"],J={class:"table table-bordeless"},Q=(0,a._)("td",{width:"40%"},[(0,a._)("p",null,[(0,a._)("strong",null,"Бүрэлдэхүүн/Салбар сургууль: ")])],-1),X={width:"60%"},tt=(0,a._)("td",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Хөтөлбөрийн нэр: ")])],-1),et={class:"table table-responsive table-stripedmy table-borderless"},lt=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"Суурь шалгалт"),(0,a._)("th",null,"Дагалдах шалгалт"),(0,a._)("th",null,"Онооны харьцаа (%)"),(0,a._)("th",null,"Босго оноо")])],-1),at={key:0},st={key:0},nt={class:"text-center"},ot={key:0},rt={key:1},it={class:"text-center"},dt={key:0};function ut(t,e,l,ut,ct,ht){const mt=(0,a.up)("BModal");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",{class:(0,s.C_)(t.iscontainer?"container my-5":"")},[(0,a._)("div",o,[r,(0,a._)("div",i,[(0,a._)("div",d,[u,(0,a._)("div",c,[(0,a._)("button",h,[t.selectedunits.length>0&&t.selectedunits.length!=t.units.length?((0,a.wg)(),(0,a.iD)("span",m," Cонгосон ("+(0,s.zw)(t.selectedunits.length)+") ",1)):((0,a.wg)(),(0,a.iD)("span",g," -Бүгд- "))]),(0,a._)("div",p,[(0,a._)("div",_,[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"checkbox",id:"flexCheck0","onUpdate:modelValue":e[0]||(e[0]=t=>ht.selectAllunits=t),value:999},null,512),[[n.e8,ht.selectAllunits]]),b]),w,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.units,(l=>((0,a.wg)(),(0,a.iD)("div",{key:l,class:"form-check"},[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"checkbox",id:"flexCheck"+l.unitName,onChange:e[1]||(e[1]=(...t)=>ht.searchbyschool&&ht.searchbyschool(...t)),"onUpdate:modelValue":e[2]||(e[2]=e=>t.selectedunits=e),value:l.unitId},null,40,k),[[n.e8,t.selectedunits]]),(0,a._)("label",{class:"form-check-label",for:"flexCheck"+l.unitName},[""!=l.parentUnitName?((0,a.wg)(),(0,a.iD)("small",y,[(0,a.Uk)((0,s.zw)(l.parentUnitName)+" ",1),v])):(0,a.kq)("",!0),(0,a.Uk)(" "+(0,s.zw)(l.unitName),1)],8,f)])))),128))])])]),(0,a._)("div",M,[x,(0,a.wy)((0,a._)("input",{type:"text",onKeyup:e[3]||(e[3]=(...t)=>ht.searchtable&&ht.searchtable(...t)),"onUpdate:modelValue":e[4]||(e[4]=e=>t.searchtxt=e),class:"form-control",placeholder:"Хөтөлбөр хайх"},null,544),[[n.nr,t.searchtxt]])])]),(0,a._)("div",D,[(0,a._)("table",S,[z,t.tableData?((0,a.wg)(),(0,a.iD)("tbody",P,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.tableData,((t,e)=>((0,a.wg)(),(0,a.iD)("tr",{key:"row"+t.name+t.season},[(0,a._)("td",C,(0,s.zw)(Number(e)+1),1),(0,a._)("td",null,[(0,a.Uk)((0,s.zw)(t.programName)+" ",1),N,(0,a._)("small",null,(0,s.zw)(t.abbrevm),1),(0,a._)("span",U,"unitId_"+(0,s.zw)(t.unitId),1)]),(0,a._)("td",I,[(0,a._)("span",null,(0,s.zw)(t.totalSeats),1),(0,a._)("button",{onClick:e=>ht.showSeatsModal(t.programId),class:"btn-seats btn btn-light btn-sm float-end"},"?",8,T)]),(0,a._)("td",V,[(0,a._)("button",{onClick:e=>ht.showProgramintroModal(t.sisiProgramId),class:"btn btn-light btn-sm"}," Дэлгэрэнгүй ",8,G),(0,a._)("button",{onClick:e=>ht.showexamGroupsModal(t.programId),class:"btn btn-primary btn-sm"}," Шалгалтын бүлэг ",8,H)])])))),128))])):(0,a.kq)("",!0)])])])],2),(0,a.Wm)(mt,{id:"SeatsModal",centered:"",size:"lg",title:"Хяналтын тоон задаргаа",onHidden:e[5]||(e[5]=e=>t.SeatsModal=!1),"ok-only":"true","ok-title":"Хаах","ok-variant":"light",modelValue:t.SeatsModal,"onUpdate:modelValue":e[6]||(e[6]=e=>t.SeatsModal=e)},{default:(0,a.w5)((()=>[(0,a._)("table",$,[(0,a._)("tr",null,[j,(0,a._)("td",q,(0,s.zw)(t.Selectedprogram.abbrevm),1)]),(0,a._)("tr",null,[Z,(0,a._)("td",null,(0,s.zw)(t.Selectedprogram.programName),1)])]),(0,a._)("table",A,[K,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.Selectedprogram.seats,(t=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",null,(0,s.zw)(t.region),1),(0,a._)("td",L,(0,s.zw)(t.cnt),1)])))),128))])])])),_:1},8,["modelValue"]),(0,a.Wm)(mt,{id:"ProgramintroModal",size:"xl",title:"Хөтөлбөрийн дэлгэрэнгүй",onHidden:e[7]||(e[7]=e=>t.ProgramintroModal=!1),"ok-only":"true","ok-title":"Хаах","ok-variant":"light",modelValue:t.ProgramintroModal,"onUpdate:modelValue":e[8]||(e[8]=e=>t.ProgramintroModal=e)},{default:(0,a.w5)((()=>[(0,a._)("table",Y,[(0,a._)("tr",null,[O,(0,a._)("td",E,[(0,a._)("p",null,(0,s.zw)(t.Selectedprogram.abbrevm),1)])]),(0,a._)("tr",null,[W,(0,a._)("td",null,[(0,a._)("p",null,(0,s.zw)(t.Selectedprogram.programName),1)])]),(0,a._)("tr",null,[B,(0,a._)("td",null,[(0,a._)("p",null,(0,s.zw)(t.Programintro.mecsnr),1)])])]),F,(0,a._)("div",{class:"rawhtml col-md-12",innerHTML:t.Programintro.introduction},null,8,R)])),_:1},8,["modelValue"]),(0,a.Wm)(mt,{id:"examGroupsModal",size:"lg",title:"Шалгалтын бүлэг",onHidden:e[9]||(e[9]=e=>t.examGroupsModal=!1),"ok-only":"true","ok-title":"Хаах","ok-variant":"light",modelValue:t.examGroupsModal,"onUpdate:modelValue":e[10]||(e[10]=e=>t.examGroupsModal=e)},{default:(0,a.w5)((()=>[(0,a._)("table",J,[(0,a._)("tr",null,[Q,(0,a._)("td",X,[(0,a._)("p",null,(0,s.zw)(t.Selectedprogram.abbrevm),1)])]),(0,a._)("tr",null,[tt,(0,a._)("td",null,[(0,a._)("p",null,(0,s.zw)(t.Selectedprogram.programName),1)])])]),(0,a._)("table",et,[lt,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.Selectedprogram.examGroups,(t=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",null,[t.lessons.length>0?((0,a.wg)(),(0,a.iD)("span",at,(0,s.zw)(t.lessons[0].lessonName),1)):(0,a.kq)("",!0)]),(0,a._)("td",null,[t.lessons.length>1?((0,a.wg)(),(0,a.iD)("span",st,(0,s.zw)(t.lessons[1].lessonName),1)):(0,a.kq)("",!0)]),(0,a._)("td",nt,[t.lessons.length>0?((0,a.wg)(),(0,a.iD)("span",ot,(0,s.zw)(t.lessons[0].percentOfTotal),1)):(0,a.kq)("",!0),t.lessons.length>1?((0,a.wg)(),(0,a.iD)("span",rt,":"+(0,s.zw)(t.lessons[1].percentOfTotal),1)):(0,a.kq)("",!0)]),(0,a._)("td",it,[t.lessons.length>0?((0,a.wg)(),(0,a.iD)("span",dt,(0,s.zw)(t.lessons[0].minScaledScore),1)):(0,a.kq)("",!0)])])))),128))])])])),_:1},8,["modelValue"])],64)}l(7658);var ct=l(7387),ht=l.n(ct),mt=l(5929),gt=l(2377),pt=l(4161),_t=l(2026);mt.Z.use(gt.Z);var bt={components:{BModal:_t.Nk},data:function(){return{table:"#datatable",tableData:null,selectedunits:[],units:[],datatableobj:null,searchtxt:"",SeatsModal:!1,Selectedprogram:[],ProgramintroModal:!1,Programintro:[],examGroupsModal:!1,iscontainer:!0}},computed:{selectAllunits:{get:function(){return!!this.units&&this.selectedunits.length==this.units.length},set:function(t){var e=[];t&&this.units.forEach((function(t){e.push(t.unitId)})),this.selectedunits=e,this.searchbyschool()}}},mounted(){this.getcontaner(),this.getunits(),this.datatabledraw()},methods:{getcontaner(){let t=this.$route.name;this.iscontainer="elseltbuleg"==t},showSeatsModal(t){this.Selectedprogram=this.tableData.filter((e=>e.programId===t))[0],this.SeatsModal=!this.SeatsModal},showProgramintroModal(t){this.Selectedprogram=this.tableData.filter((e=>e.sisiProgramId===t))[0],pt.Z.get("getProgramIntro?pid="+t).then((t=>{1==t.data.status?(this.Programintro=t.data.result,this.ProgramintroModal=!this.ProgramintroModal):this.$toast.open({message:t.data.message,type:"warning"})})).catch((t=>{this.$toast.open({message:"Холболт амжилтгүй!",type:"error"})}))},showexamGroupsModal(t){this.Selectedprogram=this.tableData.filter((e=>e.programId===t))[0],this.examGroupsModal=!this.examGroupsModal},searchtable(){this.datatableobj.search(this.searchtxt).draw()},searchbyschool(){let t=this.selectedunits.join("|");this.datatableobj.column(1).search(t,!0,!1).draw()},datatabledraw(){pt.Z.get("getPrograms").then((t=>{1==t.data.status?(this.tableData=Object(t.data.result),this.makeTable()):this.$toast.open({message:t.data.message,type:"warning"})})).catch((t=>{this.$toast.open({message:"Холболт амжилтгүй!",type:"error"})}))},getunits(){pt.Z.get("getUnits").then((t=>{1==t.data.status?this.units=t.data.result:this.$toast.open({message:t.data.message,type:"warning"})})).catch((t=>{this.$toast.open({message:"Холболт амжилтгүй!",type:"error"})}))},makeTable(){this.$nextTick((function(){this.datatableobj=ht()(this.table).DataTable({lengthMenu:[[5,10,25,50],[5,10,25,50]],pageLength:10,responsive:!0,authwidth:!0,aaSorting:[],dom:'<"top">rt<"bottom"<"row"<"col"l><"col-md-auto"i><"col-md-auto"p> >><"clear">',language:{url:"//cdn.datatables.net/plug-ins/1.13.4/i18n/mn.json",search:"_INPUT_",searchPlaceholder:"Хөтөлбөр хайх",zeroRecords:"Хөтөлбөр байхгүй байна!",lengthMenu:"Харуулах мөрийн тоо  _MENU_",sInfo:"Нийт _TOTAL_ өгөгдлийн _START_ - _END_",paginate:{first:"First",last:"Last",next:"<i class='bi bi-chevron-right'></i>",previous:"<i class='bi bi-chevron-left'></i>"}},columnDefs:[{orderable:!1,targets:[0]}]})}))}}},wt=l(89);const kt=(0,wt.Z)(bt,[["render",ut]]);var ft=kt}}]);